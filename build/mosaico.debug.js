(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Mosaico = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
function log(){}function info(){console.log.apply(console,arguments)}function warn(){console.log.apply(console,arguments)}function error(){console.warn.apply(console,arguments)}function time(o){times[o]=Date.now()}function timeEnd(o){var e=times[o];if(!e)throw new Error("No such label: "+o);var n=Date.now()-e;console.log(o+": "+n+"ms")}function trace(){var o=new Error;o.name="Trace",o.message=util.format.apply(null,arguments),console.error(o.stack)}function dir(o){console.log(util.inspect(o)+"\n")}function assert(o){if(!o){var e=slice.call(arguments,1);assert.ok(!1,util.format.apply(null,e))}}var util=require("util"),assert=require("assert"),slice=Array.prototype.slice,console,times={};console="undefined"!=typeof global&&global.console?global.console:"undefined"!=typeof window&&window.console?window.console:{};for(var functions=[[log,"log"],[info,"info"],[warn,"warn"],[error,"error"],[time,"time"],[timeEnd,"timeEnd"],[trace,"trace"],[dir,"dir"],[assert,"assert"]],i=0;i<functions.length;i++){var tuple=functions[i],f=tuple[0],name=tuple[1];console[name]||(console[name]=f)}module.exports=console;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"assert":21,"util":26}],2:[function(require,module,exports){
!function(t,e){var i=0,o=window.navigator.userAgent,s=o.indexOf("MSIE ")>0,f=s?"-ie":"",n=!s&&(/mozilla/.test(o.toLowerCase())&&!/webkit/.test(o.toLowerCase())),c=[],a=["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],r=["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"],l=["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],h=[["003366","336699","3366cc","003399","000099","0000cc","000066"],["006666","006699","0099cc","0066cc","0033cc","0000ff","3333ff","333399"],["669999","009999","33cccc","00ccff","0099ff","0066ff","3366ff","3333cc","666699"],["339966","00cc99","00ffcc","00ffff","33ccff","3399ff","6699ff","6666ff","6600ff","6600cc"],["339933","00cc66","00ff99","66ffcc","66ffff","66ccff","99ccff","9999ff","9966ff","9933ff","9900ff"],["006600","00cc00","00ff00","66ff99","99ffcc","ccffff","ccccff","cc99ff","cc66ff","cc33ff","cc00ff","9900cc"],["003300","009933","33cc33","66ff66","99ff99","ccffcc","ffffff","ffccff","ff99ff","ff66ff","ff00ff","cc00cc","660066"],["333300","009900","66ff33","99ff66","ccff99","ffffcc","ffcccc","ff99cc","ff66cc","ff33cc","cc0099","993399"],["336600","669900","99ff33","ccff66","ffff99","ffcc99","ff9999","ff6699","ff3399","cc3399","990099"],["666633","99cc00","ccff33","ffff66","ffcc66","ff9966","ff6666","ff0066","d60094","993366"],["a58800","cccc00","ffff00","ffcc00","ff9933","ff6600","ff0033","cc0066","660033"],["996633","cc9900","ff9900","cc6600","ff3300","ff0000","cc0000","990033"],["663300","996600","cc3300","993300","990000","800000","993333"]],d="#0000ffff",p=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},v=function(t){return p(Number(t))},u=function(t){var e=p(t);return e+e+e},_=function(t){if(t.length>10){var e=1+t.indexOf("("),i=t.indexOf(")"),o=t.substring(e,i).split(",");return["#",v(o[0]),v(o[1]),v(o[2])].join("")}return t};t.widget("evol.colorpicker",{version:"3.2.1",options:{color:null,showOn:"both",hideButton:!1,displayIndicator:!0,transparentColor:!1,history:!0,defaultPalette:"theme",strings:"Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet."},_active:!1,_create:function(){var e=this;switch(this._paletteIdx="theme"==this.options.defaultPalette?1:2,this._id="evo-cp"+i++,this._enabled=!0,this.options.showOn=this.options.hideButton?"focus":this.options.showOn,this.element.get(0).tagName){case"INPUT":var o=this.options.color,c=this.element,a=("focus"===this.options.showOn?"":"evo-pointer ")+"evo-colorind"+(n?"-ff":f)+(this.options.hideButton?" evo-hidden-button":""),r="";if(this._isPopup=!0,this._palette=null,null!==o)c.val(o);else{var l=c.val();""!==l&&(o=this.options.color=l)}o===d?a+=" evo-transparent":r=null!==o?"background-color:"+o:"",c.addClass("colorPicker "+this._id).wrap('<div style="width:'+(this.options.hideButton?this.element.width():this.element.width()+32)+"px;"+(s?"margin-bottom:-21px;":"")+(n?"padding:1px 0;":"")+'"></div>').after('<div class="'+a+'" style="'+r+'"></div>').on("keyup onpaste",function(i){var o=t(this).val();o!=e.options.color&&e._setValue(o,!0)});var h=this.options.showOn;("both"===h||"focus"===h)&&c.on("focus",function(){e.showPalette()}),("both"===h||"button"===h)&&c.next().on("click",function(t){return t.stopPropagation(),e.showPalette(),!1});break;default:this._isPopup=!1,this._palette=this.element.html(this._paletteHTML()).attr("aria-haspopup","true"),this._bindColors()}if(this.options.history&&(o&&this._add2History(o),this.options.initialHistory)){var p=this.options.initialHistory;for(var v in p)this._add2History(p[v])}},_paletteHTML:function(){var t=this._paletteIdx=Math.abs(this._paletteIdx),e=this.options,i=e.strings.split(","),o='<div class="evo-pop'+f+' ui-widget ui-widget-content ui-corner-all"'+(this._isPopup?' style="position:absolute"':"")+"><span>"+this["_paletteHTML"+t]()+'</span><div class="evo-more"><a href="javascript:void(0)">'+i[1+t]+"</a>";return e.history&&(o+='<a href="javascript:void(0)" class="evo-hist">'+i[5]+"</a>"),o+="</div>",e.displayIndicator&&(o+=this._colorIndHTML(this.options.color)+this._colorIndHTML("")),o+="</div>"},_colorIndHTML:function(t){var e=s?"evo-colorbox-ie ":"",i="";return t?t===d?e+="evo-transparent":i="background-color:"+t:i="display:none",'<div class="evo-color" style="float:left"><div style="'+i+'" class="'+e+'"></div><span>'+(t?t:"")+"</span></div>"},_paletteHTML1:function(){for(var t=this.options,e=t.strings.split(","),i='<td style="background-color:#',o=s?'"><div style="width:2px;"></div></td>':'"><span/></td>',n='<tr><th colspan="10" class="ui-widget-content">',c='<table class="evo-palette'+f+'">'+n+e[0]+"</th></tr><tr>",h=0;10>h;h++)c+=i+a[h]+o;for(c+="</tr>",s||(c+='<tr><th colspan="10"></th></tr>'),c+='<tr class="top">',h=0;10>h;h++)c+=i+r[h]+o;for(var d=1;4>d;d++)for(c+='</tr><tr class="in">',h=0;10>h;h++)c+=i+r[10*d+h]+o;for(c+='</tr><tr class="bottom">',h=40;50>h;h++)c+=i+r[h]+o;for(c+="</tr>"+n,t.transparentColor&&(c+='<div class="evo-transparent evo-tr-box"></div>'),c+=e[1]+"</th></tr><tr>",h=0;10>h;h++)c+=i+l[h]+o;return c+="</tr></table>"},_paletteHTML2:function(){for(var t,e,i='<td style="background-color:#',o=s?'"><div style="width:5px;"></div></td>':'"><span/></td>',n='<table class="evo-palette2'+f+'"><tr>',c="</tr></table>",a='<div class="evo-palcenter">',r=0,l=h.length;l>r;r++){a+=n;var d=h[r];for(t=0,e=d.length;e>t;t++)a+=i+d[t]+o;a+=c}a+='<div class="evo-sep"/>';var p="";for(a+=n,t=255;t>10;t-=10)a+=i+u(t)+o,t-=10,p+=i+u(t)+o;return a+=c+n+p+c+"</div>"},_switchPalette:function(e){if(this._enabled){var i,o,s,f=this.options.strings.split(",");if(t(e).hasClass("evo-hist")){var n=['<table class="evo-palette"><tr><th class="ui-widget-content">',f[5],"</th></tr></tr></table>",'<div class="evo-cHist">'];if(0===c.length)n.push("<p>&nbsp;",f[6],"</p>");else for(var a=c.length-1;a>-1;a--)9===c[a].length?n.push('<div class="evo-transparent"></div>'):n.push('<div style="background-color:',c[a],'"></div>');n.push("</div>"),i=-this._paletteIdx,o=n.join(""),s=f[4]}else this._paletteIdx<0?(i=-this._paletteIdx,this._palette.find(".evo-hist").show()):i=2==this._paletteIdx?1:2,o=this["_paletteHTML"+i](),s=f[i+1],this._paletteIdx=i;this._paletteIdx=i;var r=this._palette.find(".evo-more").prev().html(o).end().children().eq(0).html(s);0>i&&r.next().hide()}},_downOrUpPositioning:function(){for(var t=this.element,e=0;null!==t&&100>e;){if("visible"!=t.css("overflow")){var i=this._palette.offset().top+this._palette.height(),o=t.offset().top+t.height(),s=this._palette.offset().top-this._palette.height()-this.element.outerHeight(),f=t.offset().top,n=i>o&&s>f;n?this._palette.css({bottom:this.element.outerHeight()+"px"}):this._palette.css({bottom:"auto"});break}if("HTML"==t[0].tagName)break;t=t.offsetParent(),e++}},showPalette:function(){if(this._enabled&&(this._active=!0,t(".colorPicker").not("."+this._id).colorpicker("hidePalette"),null===this._palette)){this._palette=this.element.next().after(this._paletteHTML()).next().on("click",function(t){return t.stopPropagation(),!1}),this._bindColors();var e=this;this._isPopup&&(this._downOrUpPositioning(),t(document.body).on("click."+e._id,function(t){t.target!=e.element.get(0)&&e.hidePalette()}).on("keyup."+e._id,function(t){27===t.keyCode&&e.hidePalette()}))}return this},hidePalette:function(){if(this._isPopup&&this._palette){t(document.body).off("click."+this._id);var e=this;this._palette.off("mouseover click","td,.evo-transparent").fadeOut(function(){e._palette.remove(),e._palette=e._cTxt=null}).find(".evo-more a").off("click")}return this},_bindColors:function(){var e=this,i=this.options,o=this._palette.find("div.evo-color"),s=i.history?"td,.evo-cHist>div":"td";i.transparentColor&&(s+=",.evo-transparent"),this._cTxt1=o.eq(0).children().eq(0),this._cTxt2=o.eq(1).children().eq(0),this._palette.on("click",s,function(i){if(e._enabled){var o=t(this);e._setValue(o.hasClass("evo-transparent")?d:_(o.attr("style").substring(17))),e._active=!1}}).on("mouseover",s,function(i){if(e._enabled){var o=t(this),s=o.hasClass("evo-transparent")?d:_(o.attr("style").substring(17));e.options.displayIndicator&&e._setColorInd(s,2),e._active&&e.element.trigger("mouseover.color",s)}}).find(".evo-more a").on("click",function(){e._switchPalette(this)})},val:function(t){return"undefined"==typeof t?this.options.color:(this._setValue(t),this)},_setValue:function(t,e){t=t.replace(/ /g,""),this.options.color=t,this._isPopup?(e||this.hidePalette(),this._setBoxColor(this.element.val(t).next(),t)):this._setColorInd(t,1),this.options.history&&this._paletteIdx>0&&this._add2History(t),this.element.trigger("change.color",t)},_setColorInd:function(t,e){var i=this["_cTxt"+e];this._setBoxColor(i,t),i.next().html(t)},_setBoxColor:function(t,e){e===d?t.addClass("evo-transparent").removeAttr("style"):t.removeClass("evo-transparent").attr("style","background-color:"+e)},_setOption:function(t,e){"color"==t?this._setValue(e,!0):this.options[t]=e},_add2History:function(t){for(var e=c.length,i=0;e>i;i++)if(t==c[i])return;e>27&&c.shift(),c.push(t)},clear:function(){this.hidePalette().val("")},enable:function(){var t=this.element;return this._isPopup?t.removeAttr("disabled"):t.css({opacity:"1","pointer-events":"auto"}),"focus"!==this.options.showOn&&this.element.next().addClass("evo-pointer"),t.removeAttr("aria-disabled"),this._enabled=!0,this},disable:function(){var t=this.element;return this._isPopup?t.attr("disabled","disabled"):(this.hidePalette(),t.css({opacity:"0.3","pointer-events":"none"})),"focus"!==this.options.showOn&&this.element.next().removeClass("evo-pointer"),t.attr("aria-disabled","true"),this._enabled=!1,this},isDisabled:function(){return!this._enabled},destroy:function(){t(document.body).off("click."+this._id),this._palette&&(this._palette.off("mouseover click","td,.evo-cHist>div,.evo-transparent").find(".evo-more a").off("click"),this._isPopup&&this._palette.remove(),this._palette=this._cTxt=null),this._isPopup&&this.element.next().off("click").remove().end().off("focus").unwrap(),this.element.removeClass("colorPicker "+this.id).empty(),t.Widget.prototype.destroy.call(this)}})}(jQuery);

},{}],3:[function(require,module,exports){
!function(e){"use strict";var r="Compound",t="Identifier",n="MemberExpression",o="Literal",a="ThisExpression",i="CallExpression",u="UnaryExpression",s="BinaryExpression",p="LogicalExpression",f="ConditionalExpression",c="ArrayExpression",l=46,d=44,h=39,v=34,x=40,y=41,m=91,b=93,g=63,E=59,w=58,C=function(e,r){var t=new Error(e+" at character "+r);throw t.index=r,t.description=e,t},U=!0,k={"-":U,"!":U,"~":U,"+":U},O={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},j=function(e){var r,t=0;for(var n in e)(r=n.length)>t&&e.hasOwnProperty(n)&&(t=r);return t},P=j(k),S=j(O),L={true:!0,false:!1,null:null},A="this",B=function(e){return O[e]||0},M=function(e,r,t){var n="||"===e||"&&"===e?p:s;return{type:n,operator:e,left:r,right:t}},q=function(e){return e>=48&&e<=57},J=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!O[String.fromCharCode(e)]},F=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!O[String.fromCharCode(e)]},I=function(e){for(var s,p,U=0,j=e.charAt,I=e.charCodeAt,T=function(r){return j.call(e,r)},V=function(r){return I.call(e,r)},z=e.length,D=function(){for(var e=V(U);32===e||9===e;)e=V(++U)},G=function(){var e,r,t=K();return D(),V(U)!==g?t:(U++,e=G(),e||C("Expected expression",U),D(),V(U)===w?(U++,r=G(),r||C("Expected expression",U),{type:f,test:t,consequent:e,alternate:r}):void C("Expected :",U))},H=function(){D();for(var r=e.substr(U,S),t=r.length;t>0;){if(O.hasOwnProperty(r))return U+=t,r;r=r.substr(0,--t)}return!1},K=function(){var e,r,t,n,o,a,i,u;if(a=N(),r=H(),!r)return a;for(o={value:r,prec:B(r)},i=N(),i||C("Expected expression after "+r,U),n=[a,o,i];(r=H())&&(t=B(r),0!==t);){for(o={value:r,prec:t};n.length>2&&t<=n[n.length-2].prec;)i=n.pop(),r=n.pop().value,a=n.pop(),e=M(r,a,i),n.push(e);e=N(),e||C("Expected expression after "+r,U),n.push(o,e)}for(u=n.length-1,e=n[u];u>1;)e=M(n[u-1].value,n[u-2],e),u-=2;return e},N=function(){var r,t,n;if(D(),r=V(U),q(r)||r===l)return Q();if(r===h||r===v)return R();if(J(r)||r===x)return Y();if(r===m)return $();for(t=e.substr(U,P),n=t.length;n>0;){if(k.hasOwnProperty(t))return U+=n,{type:u,operator:t,argument:N(),prefix:!0};t=t.substr(0,--n)}return!1},Q=function(){for(var e,r,t="";q(V(U));)t+=T(U++);if(V(U)===l)for(t+=T(U++);q(V(U));)t+=T(U++);if(e=T(U),"e"===e||"E"===e){for(t+=T(U++),e=T(U),"+"!==e&&"-"!==e||(t+=T(U++));q(V(U));)t+=T(U++);q(V(U-1))||C("Expected exponent ("+t+T(U)+")",U)}return r=V(U),J(r)?C("Variable names cannot start with a number ("+t+T(U)+")",U):r===l&&C("Unexpected period",U),{type:o,value:parseFloat(t),raw:t}},R=function(){for(var e,r="",t=T(U++),n=!1;U<z;){if(e=T(U++),e===t){n=!0;break}if("\\"===e)switch(e=T(U++)){case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:r+="\\"+e}else r+=e}return n||C('Unclosed quote after "'+r+'"',U),{type:o,value:r,raw:t+r+t}},W=function(){var r,n=V(U),i=U;for(J(n)?U++:C("Unexpected "+T(U),U);U<z&&(n=V(U),F(n));)U++;return r=e.slice(i,U),L.hasOwnProperty(r)?{type:o,value:L[r],raw:r}:r===A?{type:a}:{type:t,name:r}},X=function(e){for(var t,n,o=[],a=!1;U<z;){if(D(),t=V(U),t===e){a=!0,U++;break}t===d?U++:(n=G(),n&&n.type!==r||C("Expected comma",U),o.push(n))}return a||C("Expected "+String.fromCharCode(e),U),o},Y=function(){var e,r;for(e=V(U),r=e===x?Z():W(),D(),e=V(U);e===l||e===m||e===x;)U++,e===l?(D(),r={type:n,computed:!1,object:r,property:W()}):e===m?(r={type:n,computed:!0,object:r,property:G()},D(),e=V(U),e!==b&&C("Unclosed [",U),U++):e===x&&(r={type:i,arguments:X(y),callee:r}),D(),e=V(U);return r},Z=function(){U++;var e=G();return D(),V(U)===y?(U++,e):void C("Unclosed (",U)},$=function(){return U++,{type:c,elements:X(b)}},_=[];U<z;)s=V(U),s===E||s===d?U++:(p=G())?_.push(p):U<z&&C('Unexpected "'+T(U)+'"',U);return 1===_.length?_[0]:{type:r,body:_}};if(I.version="<%= version %>",I.toString=function(){return"JavaScript Expression Parser (JSEP) v"+I.version},I.addUnaryOp=function(e){return P=Math.max(e.length,P),k[e]=U,this},I.addBinaryOp=function(e,r){return S=Math.max(e.length,S),O[e]=r,this},I.addLiteral=function(e,r){return L[e]=r,this},I.removeUnaryOp=function(e){return delete k[e],e.length===P&&(P=j(k)),this},I.removeBinaryOp=function(e){return delete O[e],e.length===S&&(S=j(O)),this},I.removeLiteral=function(e){return delete L[e],this},"undefined"==typeof exports){var T=e.jsep;e.jsep=I,I.noConflict=function(){return e.jsep===I&&(e.jsep=T),I}}else"undefined"!=typeof module&&module.exports?exports=module.exports=I:exports.parse=I}(this);

},{}],4:[function(require,module,exports){
"use strict";var utils=require("./utils");module.exports=function(e){function t(t,s,o){function i(r){for(var s=r[0],i=r[1],l=new utils.Selector(s),u=l.parsed(),p=n(u),f=0;f<u.length;++f){var c=u[f];if(c.pseudos)for(var m=0;m<c.pseudos.length;++m){var y=c.pseudos[m];if(e.ignoredPseudos.indexOf(y.name)>=0)return}}if(p){var h=u[u.length-1],g=h.pseudos;h.pseudos=a(h.pseudos),s=u.toString(),h.pseudos=g}var P;try{P=t(s)}catch(e){return}P.each(function(){function r(t,r){for(var s=0,a=t.length;s<a;s++)if("property"==t[s].type){var i=t[s].name,l=t[s].value,u=null!==t[s].value.match(/!important$/);u&&!o.preserveImportant&&(l=l.replace(/\s*!important$/,""));var p=[t[s].position.start.line,t[s].position.start.col],f=new utils.Property(i,l,r,u?2:0,p),c=n.styleProps[i];e.excludedProperties.indexOf(i)<0&&(c&&c.compare(f)===f||!c)&&(c&&c.selector!==r?delete n.styleProps[i]:c&&(f.nextProp=c),n.styleProps[i]=f)}}var n=this;if(!(n.name&&e.nonVisualElements.indexOf(n.name.toUpperCase())>=0)){if(p){var s="pseudo"+p,a=n[s];a||(a=n[s]=t("<span />").get(0),a.pseudoElementType=p,a.pseudoElementParent=n,n[s]=a),n=a}if(!n.styleProps){if(n.styleProps={},t(n).attr(v)){var u="* { "+t(n).attr(v)+" } ";r(utils.parseCSS(u)[0][1],new utils.Selector("<style>",!0))}d.push(n)}r(i,l)}})}function l(e){var r=(Object.keys(e.styleProps).length,[]);Object.keys(e.styleProps).forEach(function(t){for(var n=e.styleProps[t];"undefined"!=typeof n;)r.push(n),n=n.nextProp}),r.sort(function(e,t){return e.compareFunc(t)});var n=r.filter(function(e){return"content"!==e.prop}).map(function(e){return e.prop+": "+e.value.replace(/["]/g,"'")+";"}).join(" ");n&&t(e).attr(v,n)}function u(e){if(e.pseudoElementType&&e.styleProps.content){var n=r(e.styleProps.content.value);n.img?(e.name="img",t(e).attr("src",n.img)):t(e).text(n);var s=e.pseudoElementParent;"before"===e.pseudoElementType?t(s).prepend(e):t(s).append(e)}}function p(r,n){if(r.name){var s=r.name.toUpperCase();if(e[n+"Elements"].indexOf(s)>-1)for(var a in r.styleProps)if(r.styleProps[a].prop===n){if(r.styleProps[a].value.match(/px/)){var o=r.styleProps[a].value.replace("px","");return void t(r).attr(n,o)}if(e.tableElements.indexOf(s)>-1&&r.styleProps[a].value.match(/\%/))return void t(r).attr(n,r.styleProps[a].value)}}}function f(r){if(r.name){var n=r.name.toUpperCase(),s=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(n)>-1)for(var a in r.styleProps)s.indexOf(r.styleProps[a].prop)>-1&&t(r).attr(e.styleToAttribute[r.styleProps[a].prop],r.styleProps[a].value)}}o=o||{};var c=utils.parseCSS(s),d=[],v="style";if(o.styleAttributeName&&(v=o.styleAttributeName),c.forEach(i),d.forEach(l),o.inlinePseudoElements&&d.forEach(u),o.applyWidthAttributes&&d.forEach(function(e){p(e,"width")}),o.applyHeightAttributes&&d.forEach(function(e){p(e,"height")}),o.applyAttributesTableElements&&d.forEach(f),o.insertPreservedExtraCss&&o.extraCss){var m=utils.getPreservedText(o.extraCss,{mediaQueries:o.preserveMediaQueries,fontFaces:o.preserveFontFaces});if(m){var y=null;o.insertPreservedExtraCss!==!0?y=t(o.insertPreservedExtraCss):(y=t("head"),y.length||(y=t("body")),y.length||(y=t.root())),y.first().append("<style>"+m+"</style>")}}}function r(e){if("none"===e||"normal"===e)return"";var t=e.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(t){var r=t[1].replace(/^['"]|['"]$/g,"");return{img:r}}return e=e.slice(1,e.length-1),e=e.replace(/\\/g,"")}function n(e){if(0!==e.length){var t=e[e.length-1].pseudos;if(t)for(var r=0;r<t.length;r++)if(s(t[r]))return t[r].name}}function s(e){return"before"===e.name||"after"===e.name}function a(e){return e.filter(function(e){return!s(e)})}function o(e,r){r=utils.getDefaultOptions(r);var n=l(e,r);return n+="\n"+r.extraCss,t(e,n,r),e}function i(e,t){var r,n,s,a=[],o=e("style");return o.each(function(){if(s=this,r=s.childNodes,1===r.length){if(n=r[0].data,t.applyStyleTags&&void 0===e(s).attr("data-embed")&&a.push(n),t.removeStyleTags&&void 0===e(s).attr("data-embed")){var o=utils.getPreservedText(s.childNodes[0].nodeValue,{mediaQueries:t.preserveMediaQueries,fontFaces:t.preserveFontFaces});o?s.childNodes[0].nodeValue=o:e(s).remove()}e(s).removeAttr("data-embed")}}),a}function l(e,t){var r=i(e,t),n=r.join("\n");return n}return e.ignoredPseudos=["hover","active","focus","visited","link"],e.widthElements=["TABLE","TD","IMG"],e.heightElements=["TABLE","TD","IMG"],e.tableElements=["TABLE","TD","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],e.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],e.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},e.excludedProperties=[],e.juiceDocument=o,e.inlineDocument=t,e};

},{"./utils":7}],5:[function(require,module,exports){
"use strict";function Property(t,r,i,p,o){this.prop=t,this.value=r,this.selector=i,this.priority=p||0,this.additionalPriority=o||[]}module.exports=exports=Property;var utils=require("./utils");Property.prototype.compareFunc=function(t){var r=[];r.push.apply(r,this.selector.specificity()),r.push.apply(r,this.additionalPriority),r[0]+=this.priority;var i=[];return i.push.apply(i,t.selector.specificity()),i.push.apply(i,t.additionalPriority),i[0]+=t.priority,utils.compareFunc(r,i)},Property.prototype.compare=function(t){var r=this.compareFunc(t);return 1===r?this:t},Property.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"};

},{"./utils":7}],6:[function(require,module,exports){
"use strict";function Selector(t,e){this.text=t,this.spec=void 0,this.styleAttribute=e||!1}function parse(t){try{return parser(t)[0]}catch(t){return[]}}var parser=require("./..\\..\\slick\\parser");module.exports=exports=Selector,Selector.prototype.parsed=function(){return this.tokens||(this.tokens=parse(this.text)),this.tokens},Selector.prototype.specificity=function(){function t(r,s){for(var i=s||parse(r),n=[e?1:0,0,0,0],o=[],a=0;a<i.length;a++){var c=i[a],h=c.pseudos;if(c.id&&n[1]++,c.attributes&&(n[2]+=c.attributes.length),c.classList&&(n[2]+=c.classList.length),c.tag&&"*"!==c.tag&&n[3]++,h){n[3]+=h.length;for(var p=0;p<h.length;p++)"not"===h[p].name&&(o.push(h[p].value),n[3]--)}}for(var u=o.length;u--;)for(var l=t(o[u]),f=4;f--;)n[f]+=l[f];return n}var e=this.styleAttribute;return this.spec||(this.spec=t(this.text,this.parsed())),this.spec};

},{"./..\\..\\slick\\parser":17}],7:[function(require,module,exports){
"use strict";var mensch=require("./..\\..\\mensch\\index.js"),own={}.hasOwnProperty,os=require("os"),Selector=require("./selector"),Property=require("./property");exports.Selector=Selector,exports.Property=Property,exports.extract=function(e){for(var t=0,r=[],s="",n=0,o=e.length;n<o;n++){var p=e.charAt(n);t?("]"!==p&&")"!==p||t--,s+=p):","===p?(r.push(s),s=""):("["!==p&&"("!==p||t++,(s.length||","!==p&&"\n"!==p&&" "!==p)&&(s+=p))}return s.length&&r.push(s),r},exports.parseCSS=function(e){for(var t=mensch.parse(e,{position:!0,comments:!0}),r="undefined"!=typeof t.stylesheet&&t.stylesheet.rules?t.stylesheet.rules:[],s=[],n=0,o=r.length;n<o;n++)if("rule"==r[n].type)for(var p=r[n],l=p.selectors,i=0,u=l.length;i<u;i++)s.push([l[i],p.declarations]);return s},exports.getPreservedText=function(e,t){for(var r=mensch.parse(e,{position:!0,comments:!0}),s="undefined"!=typeof r.stylesheet&&r.stylesheet.rules?r.stylesheet.rules:[],n=[],o=null,p=s.length-1;p>=0;p--)(t.fontFaces&&"font-face"===s[p].type||t.mediaQueries&&"media"===s[p].type)&&n.push(mensch.stringify({stylesheet:{rules:[s[p]]}},{comments:!1,indentation:"  "})),o=s[p].position.start;return 0!==n.length&&os.EOL+n.join(os.EOL)+os.EOL},exports.normalizeLineEndings=function(e){return e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")},exports.compareFunc=function(e,t){for(var r=Math.min(e.length,t.length),s=0;s<r;s++)if(e[s]!==t[s])return e[s]>t[s]?1:-1;return e.length-t.length},exports.compare=function(e,t){return 1==exports.compareFunc(e,t)?e:t},exports.extend=function(e,t){for(var r in t)own.call(t,r)&&(e[r]=t[r]);return e},exports.getDefaultOptions=function(e){var t=exports.extend({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},e);return t.webResources=t.webResources||{},t};

},{"./..\\..\\mensch\\index.js":12,"./property":5,"./selector":6,"os":22}],8:[function(require,module,exports){
(function (global){
!function(e){if("function"==typeof define&&define.amd)define(["knockout","jquery","jquery-ui/sortable","jquery-ui/draggable"],e);else if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){var t=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),n=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null);(typeof window !== "undefined" ? window['jQuery']['ui']['sortable'] : typeof global !== "undefined" ? global['jQuery']['ui']['sortable'] : null),(typeof window !== "undefined" ? window['jQuery']['ui']['draggable'] : typeof global !== "undefined" ? global['jQuery']['ui']['draggable'] : null),e(t,n)}else e(window.ko,window.jQuery)}(function(e,t){var n="ko_sortItem",o="ko_sourceIndex",a="ko_sortList",i="ko_parentList",r="ko_dragItem",s=e.utils.unwrapObservable,l=e.utils.domData.get,d=e.utils.domData.set,c=t.ui&&t.ui.version,u=c&&c.indexOf("1.6.")&&c.indexOf("1.7.")&&(c.indexOf("1.8.")||"1.8.24"===c),p=function(t,o){e.utils.arrayForEach(t,function(e){1===e.nodeType&&(d(e,n,o),d(e,i,l(e.parentNode,a)))})},f=function(t,n){var o,a={},i=s(t())||{};return i.data?(a[n]=i.data,a.name=i.template):a[n]=t(),e.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],function(t){i.hasOwnProperty(t)?a[t]=i[t]:e.bindingHandlers.sortable.hasOwnProperty(t)&&(a[t]=e.bindingHandlers.sortable[t])}),"foreach"===n&&(a.afterRender?(o=a.afterRender,a.afterRender=function(e,t){p.call(t,e,t),o.call(t,e,t)}):a.afterRender=p),a},b=function(e,t){var n=s(t);if(n)for(var o=0;e>o;o++)n[o]&&s(n[o]._destroy)&&e++;return e},g=function(n,o){var a,i;o?(i=document.getElementById(o),i&&(a=new e.templateSources.domElement(i),a.text(t.trim(a.text())))):t(n).contents().each(function(){this&&1!==this.nodeType&&n.removeChild(this)})};e.bindingHandlers.sortable={init:function(c,p,m,v,h){var y,D,C=t(c),x=s(p())||{},w=f(p,"foreach"),H={};g(c,w.name),t.extend(!0,H,e.bindingHandlers.sortable),x.options&&H.options&&(e.utils.extend(H.options,x.options),delete x.options),e.utils.extend(H,x),H.connectClass&&(e.isObservable(H.allowDrop)||"function"==typeof H.allowDrop)?e.computed({read:function(){var t=s(H.allowDrop),n="function"==typeof t?t.call(this,w.foreach):t;e.utils.toggleDomNodeCssClass(c,H.connectClass,n)},disposeWhenNodeIsRemoved:c},this):e.utils.toggleDomNodeCssClass(c,H.connectClass,H.allowDrop),e.bindingHandlers.template.init(c,function(){return w},m,v,h),y=H.options.start,D=H.options.update,H.options.helper||(H.options.helper=function(e,n){return n.is("tr")&&n.children().each(function(){t(this).width(t(this).width())}),n});var k=setTimeout(function(){var p,f=H.options.receive;C.sortable(e.utils.extend(H.options,{start:function(t,n){var a=n.item[0];d(a,o,e.utils.arrayIndexOf(n.item.parent().children(),a)),n.item.find("input:focus").change(),y&&y.apply(this,arguments)},receive:function(e,t){"function"==typeof f&&f.call(this,e,t),p=l(t.item[0],r),p&&(p.clone&&(p=p.clone()),H.dragged&&(p=H.dragged.call(this,p,e,t)||p))},update:function(r,c){var f,g,m,v,h,y=c.item[0],C=c.item.parent()[0],x=l(y,n)||p;if(x||t(y).remove(),p=null,x&&this===C||!u&&t.contains(this,C)){if(f=l(y,i),m=l(y,o),g=l(y.parentNode,a),v=e.utils.arrayIndexOf(c.item.parent().children(),y),w.includeDestroyed||(m=b(m,f),v=b(v,g)),(H.beforeMove||H.afterMove)&&(h={item:x,sourceParent:f,sourceParentNode:f&&c.sender||y.parentNode,sourceIndex:m,targetParent:g,targetIndex:v,cancelDrop:!1},H.beforeMove&&H.beforeMove.call(this,h,r,c)),f?t(f===g?this:c.sender||this).sortable("cancel"):t(y).remove(),h&&h.cancelDrop)return;if(H.hasOwnProperty("strategyMove")&&H.strategyMove!==!1){if(v>=0)if(f)if(f!==g)f.splice(m,1),g.splice(v,0,x),d(y,n,null),c.item.remove();else{var k=s(f);f.valueWillMutate&&f.valueWillMutate(),k.splice(m,1),k.splice(v,0,x),f.valueHasMutated&&f.valueHasMutated()}else g.splice(v,0,x),d(y,n,null),c.item.remove()}else v>=0&&(f&&(f.splice(m,1),e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),e.options&&e.options.deferUpdates&&e.tasks.runEarly()),g.splice(v,0,x)),d(y,n,null);e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),H.afterMove&&H.afterMove.call(this,h,r,c)}D&&D.apply(this,arguments)},connectWith:!!H.connectClass&&"."+H.connectClass})),void 0!==H.isEnabled&&e.computed({read:function(){C.sortable(s(H.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:c})},0);return e.utils.domNodeDisposal.addDisposeCallback(c,function(){(C.data("ui-sortable")||C.data("sortable"))&&C.sortable("destroy"),e.utils.toggleDomNodeCssClass(c,H.connectClass,!1),clearTimeout(k)}),{controlsDescendantBindings:!0}},update:function(t,n,o,i,r){var s=f(n,"foreach");d(t,a,s.foreach),e.bindingHandlers.template.update(t,function(){return s},o,i,r)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},e.bindingHandlers.draggable={init:function(n,o,a,i,l){var c=s(o())||{},u=c.options||{},p=e.utils.extend({},e.bindingHandlers.draggable.options),b=f(o,"data"),g=c.connectClass||e.bindingHandlers.draggable.connectClass,m=void 0!==c.isEnabled?c.isEnabled:e.bindingHandlers.draggable.isEnabled;return c="data"in c?c.data:c,d(n,r,c),e.utils.extend(p,u),p.connectToSortable=!!g&&"."+g,t(n).draggable(p),void 0!==m&&e.computed({read:function(){t(n).draggable(s(m)?"enable":"disable")},disposeWhenNodeIsRemoved:n}),e.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).draggable("destroy")}),e.bindingHandlers.template.init(n,function(){return b},a,i,l)},update:function(t,n,o,a,i){var r=f(n,"data");return e.bindingHandlers.template.update(t,function(){return r},o,a,i)},connectClass:e.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
(function (global){
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e((typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),require("./..\\knockoutjs-reactor\\src\\knockout.reactor.js")):"function"==typeof define&&define.amd?define(["knockout","knockoutjs-reactor","exports"],e):e(ko,ko.watch)}(function(e,n){var t=function(t,o){var i,d=e.observableArray(),r=e.observableArray(),u=0,l=1,c=2,f=u,a=0,s=1,m=2,p=3,g=a,b={levels:100,undoLabel:"undo (#COUNT#)",redoLabel:"redo (#COUNT#)"};o="object"==typeof o?e.utils.extend(b,o):b;var v=function(e){f==l?y(e,r):f==c?y(e,d):f==u&&(y(e,d),r.removeAll())},h=function(e,n){return"undefined"!=typeof e.mergedAction?e.mergedAction(n):null},y=function(e,n){if(n().length>0){var t=h(n()[n().length-1],e);if(null!==t)return void(n()[n().length-1]=t)}n().length>=o.levels&&n.shift(),i=n,n.push(e)},A=function(n,t,o){return{name:e.computed(function(){return e.utils.unwrapObservable(n).replace(/#COUNT#/,o().length)}),enabled:e.computed(function(){return 0!==o().length}),execute:function(){var e=o.pop();if(e){var n=f;f=t;var d=g;g=p,e(),k(i),g=d,f=n}return!0}}},k=function(e){if("undefined"==typeof e)throw"Unexpected operation: stack cleaner called with undefined stack";e().length>0&&"undefined"!=typeof e()[e().length-1].mergedAction&&delete e()[e().length-1].mergedAction},M=function(e,n){var t=function(e,n){e(),n()}.bind(void 0,e,n);return"undefined"!=typeof e.mergedAction&&(t.mergedAction=e.mergedAction),t},x=function(e,n,t){if("undefined"!=typeof n)e(n);else{if(!t)throw"Unexpected condition: no item and no child.oldValues!";if("deleted"==t.status)e.splice(t.index,0,t.value);else{if("added"!=t.status)throw"Unsupproted item.status: "+t.status;e.splice(t.index,1)}}},U=function(e,n,t,o,i){return e.bind(void 0,t,o,i)},j=U,w=function(e,n,t){var o="undefined"!=typeof n.oldValues?n.oldValues[0]:void 0,i=j(x,e,n,o,t);g!=s&&(g==p?"undefined"!=typeof i&&(i.mergedAction=function(e){return"undefined"!=typeof e.mergeMe&&e.mergeMe?M(e,this):null},i.mergeMe=!0):"undefined"!=typeof i&&(n.oldValues&&g==m&&(i.mergedAction=function(e,n,t){return"object"==typeof t.mergeableAction&&e==t.mergeableAction.child?this:null}.bind(i,n,t),i.mergeableAction={child:n,item:t}),t&&"deleted"==t.status&&(i.mergedAction=function(e,n,t){return"object"==typeof t.mergeableMove&&n.value==t.mergeableMove.item.value?M(t,this):(console.log("UR","not mergeable",typeof t.mergeableMove),null)}.bind(i,n,t)),t&&"added"==t.status&&(i.mergeableMove={child:n,item:t})),"undefined"!=typeof i&&v(i))},C={depth:-1,oldValues:1,mutable:!0,tagFields:!0},O={},V="function"==typeof n?n:e.watch,L=V(t,C,w,O);return{push:v,undoCommand:A(o.undoLabel,l,d),redoCommand:A(o.redoLabel,c,r),reset:function(){d.removeAll(),r.removeAll()},setModeOnce:function(){g=m,k(d)},setModeMerge:function(){g=p,k(d)},setModeNormal:function(){g=a,k(d)},setModeIgnore:function(){g=s,k(d)},setUndoActionMaker:function(e){j=e},dispose:function(){L.dispose()}}};return t});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\knockoutjs-reactor\\src\\knockout.reactor.js":11}],10:[function(require,module,exports){
(function (global){
!function(r){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?r((typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.wrap={})}(function(r,t){function n(r){var t=typeof r;return"object"===t&&(r?r.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(r)&&(t="array"):t="null"),t}function e(t){var n={};for(var e in t){var o=t[e];r.isComputed(o)||(n[e]=u(o))}return n}function o(r){var t=[];if(!r||0==r.length)return t;for(var n=0,e=r.length;n<e;++n)t.push(u(r[n]));return t}function u(t){var a=r.isObservable(t);if(a){var f=t();return u(f)}return"array"==n(t)?o(t):"object"==n(t)?e(t):t}function a(){v=[{obj:null,wrapped:null,lvl:""}]}function f(t,n,e){for(var o=0;o<v.length;++o)if(v[o].obj===t)return v[o].wrapped;var u={};for(var a in t){var f=t[a];v.push({obj:t,wrapped:u,lvl:c()+"/"+a}),u[a]=l(f,n,e),v.pop()}return n&&n[c()]&&(u=n[c()](u)),p()&&r.track(u),e?r.observable(u):u}function i(t,n,e){var o=r.observableArray();if(!t||0==t.length)return o;for(var u=0,a=t.length;u<a;++u)o.push(l(t[u],n,e));return o}function c(){return v[v.length-1].lvl}function l(t,e,o){if("array"==n(t))return i(t,e,o);if("object"==n(t))return f(t,e,o);if(p()||"function"==typeof t)return t;var u=r.observable();return u(t),u}function p(){return null!=r.track}t.fromJS=function(r,t,n){return a(),l(r,t,n)},t.updateFromJS=function(t,n,e,o){return a(),t(r.utils.unwrapObservable(l(n,e,o)))},t.fromJSON=function(n,e,o){var u=r.utils.parseJson(n);return arguments[0]=u,t.fromJS.apply(this,e,o)},t.toJS=function(r){return u(r)},t.toJSON=function(n){var e=t.toJS(n);return r.utils.stringifyJson(e)};var v});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],11:[function(require,module,exports){
(function (global){
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e((typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null)):"function"==typeof define&&define.amd?define(["knockout"],e):e(window.ko)}(function(e){e.subscribable.fn.watch=function(t,a,n,o){var r=typeof t;return"boolean"===r||"undefined"===r?e.watch(this,{enabled:t!==!1}):"function"!==r||e.isSubscribable(t)?e.watch(t,a,n,o||this):e.watch(this,a||{},t,o||this),this},e.watch=function(t,a,n,o){function r(l,f,u,s,b,h){if(l&&0!==a.depth&&(a.depth===-1||u.length<(a.depth||1))){if(a.watchedOnly&&!l.watchable&&l!=t)return;if(a.enabled!==!1&&a.enabled!==!0||(l.watchable=a.enabled),l.watchable===!1)return;a.seal===!0&&(l.watchable=!1);var d=typeof l;if("object"===d||"function"===d){if(l._watcher===o)return;if(a.hide&&e.utils.arrayIndexOf(a.hide,l)>-1)return;var p=[].concat(u,f&&f!==t?f:[]);if("function"!==d){if("[object Object]"===Object.prototype.toString.call(l))e.utils.objectForEach(l,function(t,n){if(n=a.getter?a.getter.call(o,p,l,t):n){if(a.wrap){var i=Object.prototype.toString.call(n);"[object Function]"!==i&&"[object Object]"!==i&&(a.beforeWrap&&a.beforeWrap.call(o,p,l,n)===!1||(n=l[t]="[object Array]"===i?e.observableArray(n):e.observable(n)))}a.unloop&&(n._watcher=s?void 0:o);var c=r(n,b?null:l,p,s,null,t);a.tagFields&&void 0===n._fieldName&&(c||"parentsOnly"!==a.tagFields&&"function"==typeof n||"object"==typeof n)&&(n._fieldName=t)}});else if(a.hideArrays!==!0)for(var v=0;v<l.length;v++)r(l[v],b?null:l,p,s);return!0}if("function"==typeof l.notifySubscribers&&n){if(a.enabled===!0&&l.watchable===!1)return;if(s||!a.beforeWatch||a.beforeWatch.call(o,p,l,h)!==!1){var y="function"==typeof l.pop;if(s?i(l):c(l,y,p,b),y)return r(l(),b?null:l,p,s,!0),!0;if(a.hideWrappedValues!==!0)return r(l(),b?null:l,p,s,!0)}}}}}function i(e){var t=e[l];if(!t)throw"Subscriptions field (."+l+") not defined for observable child "+(e._fieldName||"");if(t.change)for(var n=t.change.length-1;n>=0;n--)t.change[n]._watcher===o&&t.change[n].dispose();if(t.beforeChange&&(a.mutable||a.oldValues>0))for(var n=t.beforeChange.length-1;n>=0;n--)t.beforeChange[n]._watcher===o&&t.beforeChange[n].dispose();if(t.arrayChange)for(var n=t.arrayChange.length-1;n>=0;n--)t.arrayChange[n]._watcher===o&&t.arrayChange[n].dispose()}function c(t,i,c,l){i?t.subscribe(function(a){e.utils.arrayForEach(a,function(e){var a=n.call(o,c,t,e);void 0!==a&&o(a),e.moved||setTimeout(function(){r(e.value,l?null:t,c,"deleted"===e.status)},0)})},void 0,"arrayChange")._watcher=o:(t.subscribe(function(){if(t.watchable!==!1){var e=n.call(o,c,t);void 0!==e&&o(e),a.mutable&&"object"==typeof t()&&r(t(),l?null:t,c)}},null,"change")._watcher=o,(a.oldValues>0||a.mutable)&&(t.subscribe(function(e){if(a.oldValues>0){var n=t.oldValues?t.oldValues:t.oldValues=[];for(n.unshift(e);n.length>a.oldValues;)n.pop()}a.mutable&&"object"==typeof e&&r(e,l?null:t,c,!1,!0)},null,"beforeChange")._watcher=o))}"function"==typeof a&&(o=o||n,n=a,a={}),o=o||this;var l;switch("function"==typeof e.subscription||e.version){case!0:l="_subscriptions";break;case"3.0.0":l="F";break;case"3.1.0":l="H";break;case"3.2.0":l="M";break;case"3.3.0":l="G";break;case"3.4.0":l="K";break;case"3.4.1":l="K";break;default:throw"Unsupported Knockout version. Only v3.0.0 to v3.4.1 are supported when minified. Current version is "+e.version}return"function"!=typeof t||e.isSubscribable(t)?(r(t,null,[]),{dispose:function(){r(t,null,[],!0)}}):e.computed(t,n,a)}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],12:[function(require,module,exports){
module.exports={lex:require("./lib/lexer"),parse:require("./lib/parser"),stringify:require("./lib/stringify")};

},{"./lib/lexer":14,"./lib/parser":15,"./lib/stringify":16}],13:[function(require,module,exports){
(function (process){
function debug(e){return _debug.bind(null,e)}function _debug(e){var n=[].slice.call(arguments,1);n.unshift("["+e+"]"),process.stderr.write(n.join(" ")+"\n")}exports=module.exports=debug;

}).call(this,require('_process'))

},{"_process":23}],14:[function(require,module,exports){
function lex(e){function a(){return i(),e[p]}function r(e){return e?y[y.length-1-e]:w}function s(a){var r=p+1;return a===e.slice(r,r+a.length)}function t(a){var r=e.slice(p).indexOf(a);return r>0&&r}function c(e){return e===n(1)}function n(a){return e[p+(a||1)]}function l(){var e=y.pop();return w=y[y.length-1],e}function o(e){return w=e,y.push(w),y.length}function u(e){var a=w;return y[y.length-1]=w=e,a}function i(a){if(1==(a||1))"\n"==e[p]?(h++,k=1):k++,p++;else{var r=e.slice(p,p+a).split("\n");r.length>1&&(h+=r.length-1,k=1),k+=r[r.length-1].length,p+=a}}function b(){x.end={line:h,col:k},DEBUG&&debug("addToken:",JSON.stringify(x,null,2)),E.push(x),v="",x={}}function f(e){x={type:e,start:{line:h,col:k}}}var m,g,v="",k=0,p=-1,d=0,h=1,w="before-selector",y=[w],x={},E=[],D=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];for(TIMER&&(m=Date.now());g=a();)switch(DEBUG&&debug(g,r()),g){case" ":switch(r()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":v+=g}break;case"\n":case"\t":case"\r":case"\f":switch(r()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":v+=g;break;case"at-value":"\n"===g&&(x.value=v.trim(),b(),l())}break;case":":switch(r()){case"name":x.name=v.trim(),v="",u("before-value");break;case"before-selector":v+=g,f("selector"),o("selector");break;case"before-value":u("value"),v+=g;break;default:v+=g}break;case";":switch(r()){case"name":case"before-value":case"value":v.trim().length>0&&(x.value=v.trim(),b()),u("before-name");break;case"value-paren":v+=g;break;case"at-value":x.value=v.trim(),b(),l();break;case"before-name":break;default:v+=g}break;case"{":switch(r()){case"selector":if("\\"===n(-1)){v+=g;break}x.text=v.trim(),b(),u("before-name"),d+=1;break;case"at-group":switch(x.name=v.trim(),x.type){case"font-face":case"viewport":case"page":o("before-name");break;default:o("before-selector")}b(),d+=1;break;case"name":case"at-rule":x.name=v.trim(),b(),o("before-name"),d+=1;break;case"comment":case"double-string":case"single-string":v+=g;break;case"before-value":u("value"),v+=g}break;case"}":switch(r()){case"before-name":case"name":case"before-value":case"value":v&&(x.value=v.trim()),x.name&&x.value&&b(),f("end"),b(),l(),"at-group"===r()&&(f("at-group-end"),b(),l()),d>0&&(d-=1);break;case"at-group":case"before-selector":case"selector":if("\\"===n(-1)){v+=g;break}d>0&&"at-group"===r(1)&&(f("at-group-end"),b()),d>1&&l(),d>0&&(d-=1);break;case"double-string":case"single-string":case"comment":v+=g}break;case'"':case"'":switch(r()){case"double-string":'"'===g&&"\\"!==n(-1)&&l();break;case"single-string":"'"===g&&"\\"!==n(-1)&&l();break;case"before-at-value":u("at-value"),o('"'===g?"double-string":"single-string");break;case"before-value":u("value"),o('"'===g?"double-string":"single-string");break;case"comment":break;default:"\\"!==n(-1)&&o('"'===g?"double-string":"single-string")}v+=g;break;case"/":switch(r()){case"comment":case"double-string":case"single-string":v+=g;break;case"before-value":case"selector":case"name":case"value":if(c("*")){var z=t("*/");z&&i(z+1)}else"before-value"==r()&&u("value"),v+=g;break;default:c("*")?(f("comment"),o("comment"),i()):v+=g}break;case"*":switch(r()){case"comment":c("/")?(x.text=v,i(),b(),l()):v+=g;break;case"before-selector":v+=g,f("selector"),o("selector");break;case"before-value":u("value"),v+=g;break;default:v+=g}break;case"@":switch(r()){case"comment":case"double-string":case"single-string":v+=g;break;case"before-value":u("value"),v+=g;break;default:for(var T,B,G=!1,I=0,M=D.length;!G&&I<M;++I)B=D[I],T=B.name||B,s(T)&&(G=!0,f(T),o(B.state||"at-group"),i(T.length),B.prefix&&(x.prefix=B.prefix),B.type&&(x.type=B.type));G||(v+=g)}break;case"(":switch(r()){case"value":o("value-paren");break;case"before-value":u("value")}v+=g;break;case")":switch(r()){case"value-paren":l();break;case"before-value":u("value")}v+=g;break;default:switch(r()){case"before-selector":f("selector"),o("selector");break;case"before-name":f("property"),u("name");break;case"before-value":u("value");break;case"before-at-value":u("at-value")}v+=g}return TIMER&&debug("ran in",Date.now()-m+"ms"),E}var DEBUG=!1,TIMER=!1,debug=require("./debug")("lex");exports=module.exports=lex;

},{"./debug":13}],15:[function(require,module,exports){
function parse(e,r){var t;r||(r={}),_comments=!!r.comments,_position=!!r.position,_depth=0,_tokens=Array.isArray(e)?e.slice():lex(e);var s,n,a=[];for(TIMER&&(t=Date.now());n=next();)s=parseToken(n),s&&a.push(s);return TIMER&&debug("ran in",Date.now()-t+"ms"),{type:"stylesheet",stylesheet:{rules:a}}}function astNode(e,r){r||(r={});for(var t,s=["type","name","value"],n={},a=0;a<s.length;++a)t=s[a],e[t]&&(n[t]=r[t]||e[t]);for(s=Object.keys(r),a=0;a<s.length;++a)t=s[a],n[t]||(n[t]=r[t]);return _position&&(n.position={start:e.start,end:e.end}),DEBUG&&debug("astNode:",JSON.stringify(n,null,2)),n}function next(){var e=_tokens.shift();return DEBUG&&debug("next:",JSON.stringify(e,null,2)),e}function parseAtGroup(e){_depth+=1;var r={};switch(e.type){case"font-face":case"viewport":r.declarations=parseDeclarations();break;case"page":r.prefix=e.prefix,r.declarations=parseDeclarations();break;default:r.prefix=e.prefix,r.rules=parseRules()}return astNode(e,r)}function parseAtImport(e){return astNode(e)}function parseCharset(e){return astNode(e)}function parseComment(e){return astNode(e,{text:e.text})}function parseNamespace(e){return astNode(e)}function parseProperty(e){return astNode(e)}function parseSelector(e){function r(e){return e.trim()}return astNode(e,{type:"rule",selectors:e.text.split(",").map(r),declarations:parseDeclarations(e)})}function parseToken(e){switch(e.type){case"property":return parseProperty(e);case"selector":return parseSelector(e);case"at-group-end":return void(_depth-=1);case"media":case"keyframes":return parseAtGroup(e);case"comment":if(_comments)return parseComment(e);break;case"charset":return parseCharset(e);case"import":return parseAtImport(e);case"namespace":return parseNamespace(e);case"font-face":case"supports":case"viewport":case"document":case"page":return parseAtGroup(e)}DEBUG&&debug("parseToken: unexpected token:",JSON.stringify(e))}function parseTokensWhile(e){for(var r,t,s=[];(t=next())&&e&&e(t);)r=parseToken(t),r&&s.push(r);return t&&"end"!==t.type&&_tokens.unshift(t),s}function parseDeclarations(){return parseTokensWhile(function(e){return"property"===e.type||"comment"===e.type})}function parseRules(){return parseTokensWhile(function(){return _depth})}var DEBUG=!1,TIMER=!1,debug=require("./debug")("parse"),lex=require("./lexer");exports=module.exports=parse;var _comments,_depth,_position,_tokens;

},{"./debug":13,"./lexer":14}],16:[function(require,module,exports){
function stringify(e,n){var t;n||(n={}),_indentation=n.indentation||"",_compress=!!n.compress,_comments=!!n.comments,_compress?_n=_s="":(_n="\n",_s=" "),TIMER&&(t=Date.now());var r=reduce(e.stylesheet.rules,stringifyNode).join("\n").trim();return TIMER&&debug("ran in",Date.now()-t+"ms"),r}function indent(e){return this.level||(this.level=1),e?void(this.level+=e):_compress?"":Array(this.level).join(_indentation||"")}function stringifyAtRule(e){return"@"+e.type+" "+e.value+";"+_n}function stringifyAtGroup(e){var n="",t=e.prefix||"";e.name&&(n=" "+e.name);var r="page"!==e.type;return"@"+t+e.type+n+_s+stringifyBlock(e,r)+_n}function stringifyComment(e){return _comments?"/*"+(e.text||"")+"*/"+_n:""}function stringifyRule(e){var n;return e.selectors?n=e.selectors.join(","+_n):(n="@"+e.type,n+=e.name?" "+e.name:""),indent()+n+_s+stringifyBlock(e)+_n}function reduce(e,n){return e.reduce(function(e,t){var r="comment"===t.type?stringifyComment(t):n(t);return r&&e.push(r),e},[])}function stringifyBlock(e,n){var t=e.declarations,r=stringifyDeclaration;return e.rules&&(t=e.rules,r=stringifyRule),t=stringifyChildren(t,r),t&&(t=_n+t+(n?"":_n)),"{"+t+indent()+"}"}function stringifyChildren(e,n){if(!e)return"";indent(1);var t=reduce(e,n);return indent(-1),t.length?t.join(_n):""}function stringifyDeclaration(e){return"property"===e.type?stringifyProperty(e):void(DEBUG&&debug("stringifyDeclaration: unexpected node:",JSON.stringify(e)))}function stringifyNode(e){switch(e.type){case"rule":return stringifyRule(e);case"media":case"keyframes":return stringifyAtGroup(e);case"comment":return stringifyComment(e);case"import":case"charset":case"namespace":return stringifyAtRule(e);case"font-face":case"supports":case"viewport":case"document":case"page":return stringifyAtGroup(e)}DEBUG&&debug("stringifyNode: unexpected node: "+JSON.stringify(e))}function stringifyProperty(e){var n=e.name?e.name+":"+_s:"";return indent()+n+e.value+";"}var DEBUG=!1,TIMER=!1,debug=require("./debug")("stringify"),_comments,_compress,_indentation,_n,_s;exports=module.exports=stringify;

},{"./debug":13}],17:[function(require,module,exports){
"use strict";var escapeRe=/([-.*+?^${}()|[\]\/\\])/g,unescapeRe=/\\/g,escape=function(e){return(e+"").replace(escapeRe,"\\$1")},unescape=function(e){return(e+"").replace(unescapeRe,"")},slickRe=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+escape(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),Part=function(e){this.combinator=e||" ",this.tag="*"};Part.prototype.toString=function(){if(!this.raw){var e,s,t="";if(t+=this.tag||"*",this.id&&(t+="#"+this.id),this.classes&&(t+="."+this.classList.join(".")),this.attributes)for(e=0;s=this.attributes[e++];)t+="["+s.name+(s.operator?s.operator+'"'+s.value+'"':"")+"]";if(this.pseudos)for(e=0;s=this.pseudos[e++];)t+=":"+s.name,s.value&&(t+="("+s.value+")");this.raw=t}return this.raw};var Expression=function(){this.length=0};Expression.prototype.toString=function(){if(!this.raw){for(var e,s="",t=0;e=this[t++];)1!==t&&(s+=" ")," "!==e.combinator&&(s+=e.combinator+" "),s+=e;this.raw=s}return this.raw};var replacer=function(e,s,t,a,r,i,n,c,u,o,p,l,h,f,g,d){var v,w;if((s||!this.length)&&(v=this[this.length++]=new Expression,s))return"";if(v||(v=this[this.length-1]),(t||a||!v.length)&&(w=v[v.length++]=new Part(t)),w||(w=v[v.length-1]),r)w.tag=unescape(r);else if(i)w.id=unescape(i);else if(n){var m=unescape(n),b=w.classes||(w.classes={});if(!b[m]){b[m]=escape(n);var x=w.classList||(w.classList=[]);x.push(m),x.sort()}}else h?(d=d||g,(w.pseudos||(w.pseudos=[])).push({type:1==l.length?"class":"element",name:unescape(h),escapedName:escape(h),value:d?unescape(d):null,escapedValue:d?escape(d):null})):c&&(p=p?escape(p):null,(w.attributes||(w.attributes=[])).push({operator:u,name:unescape(c),escapedName:escape(c),value:p?unescape(p):null,escapedValue:p?escape(p):null}));return""},Expressions=function(e){this.length=0;for(var s,t=this,a=e;e;){if(s=e.replace(slickRe,function(){return replacer.apply(t,arguments)}),s===e)throw new Error(a+" is an invalid expression");e=s}};Expressions.prototype.toString=function(){if(!this.raw){for(var e,s=[],t=0;e=this[t++];)s.push(e);this.raw=s.join(", ")}return this.raw};var cache={},parse=function(e){return null==e?null:(e=(""+e).replace(/^\s+|\s+$/g,""),cache[e]||(cache[e]=new Expressions(e)))};module.exports=parse;

},{}],18:[function(require,module,exports){
!function(t){function e(t,n){if(t=t?t:"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var a=r(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=$(100*this._a)/100,this._format=n.format||a.format,this._gradientType=n.gradientType,this._r<1&&(this._r=$(this._r)),this._g<1&&(this._g=$(this._g)),this._b<1&&(this._b=$(this._b)),this._ok=a.ok,this._tc_id=P++}function r(t){var e={r:0,g:0,b:0},r=1,a=null,s=null,f=null,h=!1,l=!1;return"string"==typeof t&&(t=E(t)),"object"==typeof t&&(z(t.r)&&z(t.g)&&z(t.b)?(e=n(t.r,t.g,t.b),h=!0,l="%"===String(t.r).substr(-1)?"prgb":"rgb"):z(t.h)&&z(t.s)&&z(t.v)?(a=I(t.s),s=I(t.v),e=o(t.h,a,s),h=!0,l="hsv"):z(t.h)&&z(t.s)&&z(t.l)&&(a=I(t.s),f=I(t.l),e=i(t.h,a,f),h=!0,l="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=S(r),{ok:h,format:t.format||l,r:D(255,U(e.r,0)),g:D(255,U(e.g,0)),b:D(255,U(e.b,0)),a:r}}function n(t,e,r){return{r:255*H(t,255),g:255*H(e,255),b:255*H(r,255)}}function a(t,e,r){t=H(t,255),e=H(e,255),r=H(r,255);var n,a,i=U(t,e,r),s=D(t,e,r),o=(i+s)/2;if(i==s)n=a=0;else{var f=i-s;switch(a=o>.5?f/(2-i-s):f/(i+s),i){case t:n=(e-r)/f+(e<r?6:0);break;case e:n=(r-t)/f+2;break;case r:n=(t-e)/f+4}n/=6}return{h:n,s:a,l:o}}function i(t,e,r){function n(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var a,i,s;if(t=H(t,360),e=H(e,100),r=H(r,100),0===e)a=i=s=r;else{var o=r<.5?r*(1+e):r+e-r*e,f=2*r-o;a=n(f,o,t+1/3),i=n(f,o,t),s=n(f,o,t-1/3)}return{r:255*a,g:255*i,b:255*s}}function s(t,e,r){t=H(t,255),e=H(e,255),r=H(r,255);var n,a,i=U(t,e,r),s=D(t,e,r),o=i,f=i-s;if(a=0===i?0:f/i,i==s)n=0;else{switch(i){case t:n=(e-r)/f+(e<r?6:0);break;case e:n=(r-t)/f+2;break;case r:n=(t-e)/f+4}n/=6}return{h:n,s:a,v:o}}function o(e,r,n){e=6*H(e,360),r=H(r,100),n=H(n,100);var a=t.floor(e),i=e-a,s=n*(1-r),o=n*(1-i*r),f=n*(1-(1-i)*r),h=a%6,l=[n,o,s,s,f,n][h],u=[f,n,n,o,s,s][h],c=[s,s,f,n,n,o][h];return{r:255*l,g:255*u,b:255*c}}function f(t,e,r,n){var a=[M($(t).toString(16)),M($(e).toString(16)),M($(r).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(t,e,r,n,a){var i=[M($(t).toString(16)),M($(e).toString(16)),M($(r).toString(16)),M(L(n))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function l(t,e,r,n){var a=[M(L(n)),M($(t).toString(16)),M($(e).toString(16)),M($(r).toString(16))];return a.join("")}function u(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s-=r/100,n.s=R(n.s),e(n)}function c(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.s+=r/100,n.s=R(n.s),e(n)}function g(t){return e(t).desaturate(100)}function b(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l+=r/100,n.l=R(n.l),e(n)}function d(t,r){r=0===r?0:r||10;var n=e(t).toRgb();return n.r=U(0,D(255,n.r-$(255*-(r/100)))),n.g=U(0,D(255,n.g-$(255*-(r/100)))),n.b=U(0,D(255,n.b-$(255*-(r/100)))),e(n)}function _(t,r){r=0===r?0:r||10;var n=e(t).toHsl();return n.l-=r/100,n.l=R(n.l),e(n)}function p(t,r){var n=e(t).toHsl(),a=(n.h+r)%360;return n.h=a<0?360+a:a,e(n)}function m(t){var r=e(t).toHsl();return r.h=(r.h+180)%360,e(r)}function v(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+120)%360,s:r.s,l:r.l}),e({h:(n+240)%360,s:r.s,l:r.l})]}function y(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+90)%360,s:r.s,l:r.l}),e({h:(n+180)%360,s:r.s,l:r.l}),e({h:(n+270)%360,s:r.s,l:r.l})]}function A(t){var r=e(t).toHsl(),n=r.h;return[e(t),e({h:(n+72)%360,s:r.s,l:r.l}),e({h:(n+216)%360,s:r.s,l:r.l})]}function x(t,r,n){r=r||6,n=n||30;var a=e(t).toHsl(),i=360/n,s=[e(t)];for(a.h=(a.h-(i*r>>1)+720)%360;--r;)a.h=(a.h+i)%360,s.push(e(a));return s}function k(t,r){r=r||6;for(var n=e(t).toHsv(),a=n.h,i=n.s,s=n.v,o=[],f=1/r;r--;)o.push(e({h:a,s:i,v:s})),s=(s+f)%1;return o}function w(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function H(e,r){C(e)&&(e="100%");var n=q(e);return e=D(r,U(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),t.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function R(t){return D(1,U(0,t))}function F(t){return parseInt(t,16)}function C(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function q(t){return"string"==typeof t&&t.indexOf("%")!=-1}function M(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function L(e){return t.round(255*parseFloat(e)).toString(16)}function N(t){return F(t)/255}function z(t){return!!X.CSS_UNIT.exec(t)}function E(t){t=t.replace(j,"").replace(O,"").toLowerCase();var e=!1;if(G[t])t=G[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=X.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=X.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=X.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=X.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=X.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=X.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=X.hex8.exec(t))?{r:F(r[1]),g:F(r[2]),b:F(r[3]),a:N(r[4]),format:e?"name":"hex8"}:(r=X.hex6.exec(t))?{r:F(r[1]),g:F(r[2]),b:F(r[3]),format:e?"name":"hex"}:(r=X.hex4.exec(t))?{r:F(r[1]+""+r[1]),g:F(r[2]+""+r[2]),b:F(r[3]+""+r[3]),a:N(r[4]+""+r[4]),format:e?"name":"hex8"}:!!(r=X.hex3.exec(t))&&{r:F(r[1]+""+r[1]),g:F(r[2]+""+r[2]),b:F(r[3]+""+r[3]),format:e?"name":"hex"}}function T(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:e,size:r}}var j=/^\s+/,O=/\s+$/,P=0,$=t.round,D=t.min,U=t.max,B=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,r,n,a,i,s,o=this.toRgb();return e=o.r/255,r=o.g/255,n=o.b/255,a=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),i=r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4),s=n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4),.2126*a+.7152*i+.0722*s},setAlpha:function(t){return this._a=S(t),this._roundA=$(100*this._a)/100,this},toHsv:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=s(this._r,this._g,this._b),e=$(360*t.h),r=$(100*t.s),n=$(100*t.v);return 1==this._a?"hsv("+e+", "+r+"%, "+n+"%)":"hsva("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=$(360*t.h),r=$(100*t.s),n=$(100*t.l);return 1==this._a?"hsl("+e+", "+r+"%, "+n+"%)":"hsla("+e+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return h(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:$(this._r),g:$(this._g),b:$(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+$(this._r)+", "+$(this._g)+", "+$(this._b)+")":"rgba("+$(this._r)+", "+$(this._g)+", "+$(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:$(100*H(this._r,255))+"%",g:$(100*H(this._g,255))+"%",b:$(100*H(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+$(100*H(this._r,255))+"%, "+$(100*H(this._g,255))+"%, "+$(100*H(this._b,255))+"%)":"rgba("+$(100*H(this._r,255))+"%, "+$(100*H(this._g,255))+"%, "+$(100*H(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var r="#"+l(this._r,this._g,this._b,this._a),n=r,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=e(t);n="#"+l(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var r=!1,n=this._a<1&&this._a>=0,a=!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return a?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(r=this.toRgbString()),"prgb"===t&&(r=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(r=this.toHexString()),"hex3"===t&&(r=this.toHexString(!0)),"hex4"===t&&(r=this.toHex8String(!0)),"hex8"===t&&(r=this.toHex8String()),"name"===t&&(r=this.toName()),"hsl"===t&&(r=this.toHslString()),"hsv"===t&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(v,arguments)},tetrad:function(){return this._applyCombination(y,arguments)}},e.fromRatio=function(t,r){if("object"==typeof t){var n={};for(var a in t)t.hasOwnProperty(a)&&("a"===a?n[a]=t[a]:n[a]=I(t[a]));t=n}return e(t,r)},e.equals=function(t,r){return!(!t||!r)&&e(t).toRgbString()==e(r).toRgbString()},e.random=function(){return e.fromRatio({r:B(),g:B(),b:B()})},e.mix=function(t,r,n){n=0===n?0:n||50;var a=e(t).toRgb(),i=e(r).toRgb(),s=n/100,o={r:(i.r-a.r)*s+a.r,g:(i.g-a.g)*s+a.g,b:(i.b-a.b)*s+a.b,a:(i.a-a.a)*s+a.a};return e(o)},e.readability=function(r,n){var a=e(r),i=e(n);return(t.max(a.getLuminance(),i.getLuminance())+.05)/(t.min(a.getLuminance(),i.getLuminance())+.05)},e.isReadable=function(t,r,n){var a,i,s=e.readability(t,r);switch(i=!1,a=T(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},e.mostReadable=function(t,r,n){var a,i,s,o,f=null,h=0;n=n||{},i=n.includeFallbackColors,s=n.level,o=n.size;for(var l=0;l<r.length;l++)a=e.readability(t,r[l]),a>h&&(h=a,f=e(r[l]));return e.isReadable(t,f,{level:s,size:o})||!i?f:(n.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],n))};var G=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=e.hexNames=w(G),X=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}(Math);

},{}],19:[function(require,module,exports){
(function (global){
!function(e){e(["jquery"],function(e){return function(){function t(e,t,n){return g({type:O.error,iconClass:m().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(t,n){return t||(t=m()),v=e("#"+t.containerId),v.length?v:(n&&(v=d(t)),v)}function o(e,t,n){return g({type:O.info,iconClass:m().iconClasses.info,message:e,optionsOverride:n,title:t})}function s(e){C=e}function i(e,t,n){return g({type:O.success,iconClass:m().iconClasses.success,message:e,optionsOverride:n,title:t})}function a(e,t,n){return g({type:O.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var o=m();v||n(o),u(e,o,t)||l(o)}function c(t){var o=m();return v||n(o),t&&0===e(":focus",t).length?void h(t):void(v.children().length&&v.remove())}function l(t){for(var n=v.children(),o=n.length-1;o>=0;o--)u(e(n[o]),t)}function u(t,n,o){var s=!(!o||!o.force)&&o.force;return!(!t||!s&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){h(t)}}),!0)}function d(t){return v=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),v.appendTo(e(t.target)),v}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(e){C&&C(e)}function g(t){function o(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function s(){c(),u(),d(),p(),g(),C(),l(),i()}function i(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}I.attr("aria-live",e)}function a(){E.closeOnHover&&I.hover(H,D),!E.onclick&&E.tapToDismiss&&I.click(b),E.closeButton&&j&&j.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),E.onCloseClick&&E.onCloseClick(e),b(!0)}),E.onclick&&I.click(function(e){E.onclick(e),b()})}function r(){I.hide(),I[E.showMethod]({duration:E.showDuration,easing:E.showEasing,complete:E.onShown}),E.timeOut>0&&(k=setTimeout(b,E.timeOut),F.maxHideTime=parseFloat(E.timeOut),F.hideEta=(new Date).getTime()+F.maxHideTime,E.progressBar&&(F.intervalId=setInterval(x,10)))}function c(){t.iconClass&&I.addClass(E.toastClass).addClass(y)}function l(){E.newestOnTop?v.prepend(I):v.append(I)}function u(){if(t.title){var e=t.title;E.escapeHtml&&(e=o(t.title)),M.append(e).addClass(E.titleClass),I.append(M)}}function d(){if(t.message){var e=t.message;E.escapeHtml&&(e=o(t.message)),B.append(e).addClass(E.messageClass),I.append(B)}}function p(){E.closeButton&&(j.addClass(E.closeClass).attr("role","button"),I.prepend(j))}function g(){E.progressBar&&(q.addClass(E.progressClass),I.prepend(q))}function C(){E.rtl&&I.addClass("rtl")}function O(e,t){if(e.preventDuplicates){if(t.message===w)return!0;w=t.message}return!1}function b(t){var n=t&&E.closeMethod!==!1?E.closeMethod:E.hideMethod,o=t&&E.closeDuration!==!1?E.closeDuration:E.hideDuration,s=t&&E.closeEasing!==!1?E.closeEasing:E.hideEasing;if(!e(":focus",I).length||t)return clearTimeout(F.intervalId),I[n]({duration:o,easing:s,complete:function(){h(I),clearTimeout(k),E.onHidden&&"hidden"!==P.state&&E.onHidden(),P.state="hidden",P.endTime=new Date,f(P)}})}function D(){(E.timeOut>0||E.extendedTimeOut>0)&&(k=setTimeout(b,E.extendedTimeOut),F.maxHideTime=parseFloat(E.extendedTimeOut),F.hideEta=(new Date).getTime()+F.maxHideTime)}function H(){clearTimeout(k),F.hideEta=0,I.stop(!0,!0)[E.showMethod]({duration:E.showDuration,easing:E.showEasing})}function x(){var e=(F.hideEta-(new Date).getTime())/F.maxHideTime*100;q.width(e+"%")}var E=m(),y=t.iconClass||E.iconClass;if("undefined"!=typeof t.optionsOverride&&(E=e.extend(E,t.optionsOverride),y=t.optionsOverride.iconClass||y),!O(E,t)){T++,v=n(E,!0);var k=null,I=e("<div/>"),M=e("<div/>"),B=e("<div/>"),q=e("<div/>"),j=e(E.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},P={toastId:T,state:"visible",startTime:new Date,options:E,map:t};return s(),r(),a(),f(P),E.debug&&console&&console.log(P),I}}function m(){return e.extend({},p(),b.options)}function h(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),w=void 0))}var v,C,w,T=0,O={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,remove:c,error:t,getContainer:n,info:o,options:{},subscribe:s,success:i,version:"2.1.3",warning:a};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t((typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null)):window.toastr=t(window.jQuery)});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],20:[function(require,module,exports){
var templateSystem=require("../src/js/bindings/choose-template.js");document.addEventListener("DOMContentLoaded",function(t){templateSystem.addTemplate("array","<!-- ko foreach: $data --><!-- ko block: $data --><!-- /ko --><!-- /ko -->"),templateSystem.addTemplate("block-show","<!-- ko block: $data, scrollIntoView: $root.selectedBlock() === $data --><!-- /ko -->"),templateSystem.addTemplate("block-wysiwyg",'<div class="editable block" data-drop-content="Drop here" data-bind="attr: { \'data-drop-content\': $root.t(\'Drop here\') }, click: function(obj, evt) { $root.selectBlock(obj); return true }, clickBubble: false, css: { selected: $root.selectedBlock() === $data }, scrollIntoView: $root.selectedBlock() === $data">  <div class="mo-blockselectionhelper"></div>  <div class="tools" data-bind="tooltips: {}">    <!-- ko if: typeof $index != \'undefined\' -->    <div title="Drag this handle to move the block" data-bind="attr: { title: $root.t(\'Drag this handle to move the block\') }" class="tool handle"><i class="fa fa-fw fa-sort"></i></div>    <!-- ko if: $index() > 0 -->    <div title="Move this block upside" data-bind="attr: { title: $root.t(\'Move this block upside\') }" class="tool moveup"><i class="fa fa-fw fa-sort-asc" data-bind=\'click: $root.moveBlock.bind($element, $index, $parent, true)\'></i></div>    <!-- /ko -->    <!-- ko if: $index() < $parent.blocks().length -1 -->    <div title="Move this block downside" data-bind="attr: { title: $root.t(\'Move this block downside\') }" class="tool movedown"><i class="fa fa-fw fa-sort-desc" data-bind=\'click: $root.moveBlock.bind($element, $index, $parent, false)\'></i></div>    <!-- /ko -->    <div title="Delete block" class="tool delete" data-bind="attr: { title: $root.t(\'Delete block\') }, click: $root.removeBlock.bind($element, $rawData, $parent)"><i class="fa fa-fw fa-trash-o"></i></div>    <div title="Duplicate block" class="tool clone" data-bind="attr: { title: $root.t(\'Duplicate block\') }, click: $root.duplicateBlock.bind($element, $index, $parent)"><i class="fa fa-fw fa-files-o"></i></div>    <!-- /ko -->    <!-- ko if: typeof $data._nextVariant != \'undefined\' --><div title="Switch block variant" class="tool variant" data-bind="attr: { title: $root.t(\'Switch block variant\') }, click: $data._nextVariant"><i class="fa fa-fw fa-magic"></i></div><!-- /ko -->  </div>  <!-- ko block: $data --><!-- /ko --></div>'),templateSystem.addTemplate("blocks-show","<!-- ko template: { name: 'block-show', foreach: blocks } --><!-- /ko -->"),templateSystem.addTemplate("blocks-wysiwyg","<div class=\"sortable-blocks-edit\" data-drop-content=\"Drop here\" data-empty-content=\"Drop here blocks from the Blocks tab\" data-bind=\"attr: { 'data-drop-content': $root.t('Drop here'), 'data-empty-content': $root.t('Drop here blocks from the &quot;Blocks&quot; tab') }, css: { 'empty': ko.utils.unwrapObservable(blocks).length == 0 }, extsortable: { connectClass: 'sortable-blocks-edit', template: 'block-wysiwyg', data: blocks, dragging: $root.dragging, beforeMove: $root.startMultiple, afterMove: $root.stopMultiple, options: { handle: '.handle', placeholder: $root.placeholderHelper } }\"></div>"),templateSystem.addTemplate("customstyle",'<div class="customStyleHelp" data-bind="html: $root.t(\'Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class=&quot;customStyled&quot;><span>&quot;small cube&quot; </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul>\')">Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class="customStyled"><span>"small cube" </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul></div>'),templateSystem.addTemplate("empty",""),templateSystem.addTemplate("error",'[<div style="background-color: #fff0f0" data-bind="text: ko.toJS($data)"></div>]'),templateSystem.addTemplate("gallery-images",'<div data-bind="foreach: items.currentPageData">  <div class="draggable-item" data-bind="if: typeof thumbnailUrl != \'undefined\'">    <div class="draggable image" data-bind="click: $root.addImage, extdraggable: { data: $data, dropContainer: \'#main-wysiwyg-area\', dragging: $root.draggingImage, \'options\': { \'appendTo\': \'#page\' } }, style: { backgroundImage: \'url(\\\'\' + thumbnailUrl + \'\\\')\' }">      <img title="Drag this image and drop it on any template image placeholder" style="display: block;" data-bind="tooltips: {}, attr: { src: thumbnailUrl, \'title\': $root.t(\'Drag this image and drop it on any template image placeholder\') }"/>    </div>  </div></div><!-- ko if: items.pageCount() > 1 --><div class="galleryPager" data-bind="buttonset: {}">  <a href="javascript:void(0)" data-bind="click: items.moveFirst, button: { disabled: items.currentPage() == 1, icons: { primary: \'fa fa-fast-backward\' }, text: false }">First</a>  <a href="javascript:void(0)" data-bind="click: items.movePrevious, button: { disabled: items.currentPage() == 1, icons: { primary: \'fa fa-backward\' }, text: false }">Previous</a>  <span data-bind="button: { disabled: true, text: true, label: \' \'+items.currentPage()+\' di \'+items.pageCount()+\' \' }"> X di Y </span>  <a href="javascript:void(0)" data-bind="click: items.moveNext, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: \'fa fa-forward\' }, text: false }">Next</a>  <a href="javascript:void(0)" data-bind="click: items.moveLast, button: { disabled: items.currentPage() == items.pageCount(), icons: { primary: \'fa fa-fast-forward\' }, text: false }">Last</a></div><!-- /ko -->'),templateSystem.addTemplate("img-wysiwyg",'<table tabfocus="0" cellspacing="0" cellpadding="0" data-drop-content="Drop here" data-bind="style: _stylebind, click: function(obj, evt) { $root.selectItem(_item, _data); return true; }, clickBubble: false, fudroppable: { activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }, droppable: { options: { accept: \'.image\', activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }, data: _src, dragged: $root.fileToImage }, css: { selecteditem: $root.isSelectedItem(_item) }, scrollIntoView: $root.isSelectedItem(_item), attr: { \'data-drop-content\': $root.t(\'Drop here\'), width: _width, height: _height, align: _align }"  class="img-wysiwyg selectable-img" style="display: table;"><tr><td class="uploadzone">  <div class="mo-imgselectionhelper"></div>  <div class="mo-uploadzone"></div>  <div class="img-size" data-bind="text: _size">size</div>  <div class="midtools" data-bind="tooltips: {}">    <!-- ko if: _src() != \'\' -->    <div title="Remove image" class="tool delete" data-bind="attr: { title: $root.t(\'Remove image\') }, click: _src.bind(_src, \'\'), clickBubble: false"><i class="fa fa-fw fa-trash-o"></i></div>    <!-- ko if: typeof $root.editImage !== \'undefined\' -->    <div title="Open the image editing tool" class="tool edit" data-bind="attr: { title: $root.t(\'Open the image editing tool\') }, click: $root.editImage.bind($element, _src), clickBubble: false"><i class="fa fa-fw fa-pencil"></i></div>    <!-- /ko -->    <!-- /ko -->    <!-- ko if: _src() == \'\' -->    <div title="Upload a new image" data-bind="attr: { title: $root.t(\'Upload a new image\') }" class="tool upload" style="position: relative; overflow: hidden;"><i class="fa fa-fw fa-upload"></i>      <input class="fileupload nofile" type="file" name="files[]" data-bind="fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.loadImage, canvasPreview: true }" style="z-index: 20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-size: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">    </div>    <!-- /ko -->  </div>  <!-- ko template: _template --><!-- /ko -->  <!-- ko if: _src() == \'\' -->    <!--    <img style="display: block;" class="imgplaceholder" width="200" src="" alt="Insert an image here" data-bind="wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }" />    -->    <span class="fileuploadtext" style="text-align: center; display: -ms-flexbox; display: flex; align-items: center; flex-align: center; justify-content: center; padding: 1em; position: absolute; top: 0; left: 0; right: 0; bottom: 0;"><span class="textMiddle" style=" text-shadow: 1px 1px 0 #FFFFFF, 0 0 10px #FFFFFF; font-weight: bold;" data-bind="text: $root.t(\'Drop an image here\')">Drop an image here</span></span>  <!-- /ko -->  <!-- ko if: _src() != \'\' -->  <!--    <img style="display: block;" width="200" src="" data-bind="preloader: _src, wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }" />    -->  <!-- /ko -->  <!-- pulsante per la cancellazione -->  <div title="Drop an image here or click the upload button" data-bind="attr: { title: $root.t(\'Drop an image here or click the upload button\') }, tooltips: {}" class="workzone" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">    <!-- ko if: _src.preloaded && _src() != _src.preloaded() -->PRELOADING....<!-- /ko -->    <!-- ko if: _src() != \'\' -->      <input class="fileupload withfile" type="file" name="files[]" data-bind="fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.galleryRecent.unshift.bind($root.galleryRecent), canvasPreview: true }" style="z-index: -20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">    <!-- /ko -->    <div class="progress" style="opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;">      <div class="progress-bar progress-bar-success" style="height: 20px; background-color: black; "></div>    </div>  </div></table>'),templateSystem.addTemplate("main",'<div id="page" style="display: none;" data-bind="visible: true, css: { withToolbox: $root.showToolbox, withPreviewFrame: showPreviewFrame }">  <div id="main-edit-area" data-bind="click: function(obj, evt) { $root.selectBlock(null); return true; }, clickBubble: false">    <!-- ko withProperties: { templateMode: \'wysiwyg\', templateModeFallback: \'show\' } -->    <div id="main-wysiwyg-area" data-bind="wysiwygScrollfix: true, scrollable: true, fudroppable: { active: draggingImage }, css: { isdragging: dragging, isdraggingimg: draggingImage }, block: content"></div>    <!-- /ko -->  </div>  <div id="toolbar" class="mo" data-bind="tooltips: {}">    <!-- ko if: typeof $root.undo != \'undefined\' -->    <span data-bind="buttonset: { }" class="leftButtons">    <a title="Undo last operation" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Undo last operation\') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: \'fa fa-reply\' }, label: $root.undo.name, text: true }">UNDO</a>    <a title="Redo last operation" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Redo last operation\') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: \'fa fa-share\' }, label: $root.redo.name, text: true }">REDO</a>    </span>    <!-- ko if: $root.debug -->    <a href="javascript:void(0)" data-bind="click: $root.undoReset, clickBubble: false, button: { disabled: !$root.undo.enabled() && !$root.redo.enabled(), label: \'reset\', text: true }">RESET</a>    <!-- /ko -->    <!-- /ko -->    <span>    <input id="showGallery" type="checkbox" data-bind="checked: $root.showGallery, button: { refreshOn: $root.showGallery,     icons: { primary: \'fa fa-fw fa-picture-o\', secondary: null }, text: true, label: $root.t(\'Gallery\') }"><label title="Show image gallery" for="showGallery" data-bind="attr: { title: $root.t(\'Show image gallery\') }">show gallery</label></input>    </span>    <input id="previewFrameToggle" type="checkbox" data-bind="checked: $root.showPreviewFrame, button: { refreshOn: $root.showPreviewFrame, icons: { primary: \'fa fa-fw fa-tablet\', secondary: null }, text: false, label: $root.t(\'Preview\') }"><label title="Show live preview" for="previewFrameToggle" data-bind="attr: { title: $root.t(\'Show live preview\') }">PREVIEW</label></input>    <!-- ko if: $root.debug -->    <a href="javascript:void(0)" data-bind="click: $root.export, clickBubble: false, button: { label: \'export\', text: true }">EXPORT</a>    <input type="checkbox" data-bind="checked: $root.debug" /> debug    <a href="javascript:void(0)" data-bind="click: $root.loadDefaultBlocks, clickBubble: false, button: { icons: { primary: \'fa fa-fw fa-upload\' }, label: \'Default\', text: true }">LOAD BLOCKS</a>    [<a id="subscriptionsCount" href="javascript:viewModel.loopSubscriptionsCount()">subs</a>]    <!-- /ko -->    <span data-bind="visible: false">    <input type="checkbox" data-bind="checked: $root.showToolbox" /> toolbox    </span>    <div class="rightButtons">    <!-- ko if: typeof $root.save !== \'undefined\' -->    <a title="Save template" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Save template\') }, click: $root.save.execute, clickBubble: false, button: { disabled: !$root.save.enabled(), icons: { primary: \'fa fa-fw fa-cloud-upload\' }, label: $root.t($root.save.name), text: true }">SALVA</a>    <!-- /ko -->    <!-- ko if: typeof $root.test !== \'undefined\' -->    <a title="Show preview and send test" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show preview and send test\') }, click: $root.test.execute, clickBubble: false, button: { disabled: !$root.test.enabled(), icons: { primary: \'fa fa-fw fa-paper-plane\' }, label: $root.t($root.test.name), text: true }">TEST</a>    <!-- /ko -->    <!-- ko if: typeof $root.download !== \'undefined\' -->    <form id="downloadForm" action="#" method="POST">    <input type="hidden" name="action" value="download" />    <input type="hidden" name="filename" value="email.html" />    <input type="hidden" name="html" id="downloadHtmlTextarea" />    <a title="Download template" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Download template\') }, click: $root.download.execute, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: \'fa fa-fw fa-download\' }, label: $root.t($root.download.name), text: true }">DOWNLOAD</a>    </form>    <!-- /ko -->    </div>  </div>  <!-- ko if: $root.showToolbox -->  <div id="main-toolbox" class="mo" data-bind="scrollable: true, withProperties: { templateMode: \'edit\' }">    <div data-bind="template: { name: \'toolbox\' }"></div>  </div>  <!-- /ko -->    <div id="main-preview" class="mo" data-bind="scrollable: true, if: $root.showPreviewFrame">    <div id="preview-toolbar">      <div data-bind="visible: $root.showPreviewFrame, buttonset: { }" style="display: inline-block">        <input id="previewLarge" type="radio" name="previewMode" value="large" data-bind="checked: $root.previewMode, button: { text: false, label: \'large\', icons: { primary: \'fa fa-fw fa-desktop\' } }" />        <label for="previewLarge" title="Large screen" data-bind="attr: { title: $root.t(\'Large screen\') }">Large screen</label>        <input id="previewDesktop" type="radio" name="previewMode" value="desktop" data-bind="checked: $root.previewMode, button: { text: false, label: \'desktop\', icons: { primary: \'fa fa-fw fa-tablet\' } }" />        <label for="previewDesktop" title="Tablet" data-bind="attr: { title: $root.t(\'Tablet\') }">Tablet</label>        <input id="previewMobile" type="radio" name="previewMode" value="mobile" data-bind="checked: $root.previewMode, button: { text: false, label: \'mobile\', icons: { primary: \'fa fa-fw fa-mobile\' } }" />        <label for="previewMobile" title="Smartphone" data-bind="attr: { title: $root.t(\'Smartphone\') }">Smartphone</label>      </div>    </div>    <div id="frame-container" data-bind="css: { desktop: $root.previewMode() == \'desktop\', mobile: $root.previewMode() == \'mobile\', large: $root.previewMode() == \'large\' }">      <iframe data-bind="bindIframe: $data"></iframe>    </div>  </div>  <div class="mo" id="mo-body"></div>  <!-- TODO REMOVE ME  <div id="incompatible-browser" title="Unsupported browser" style="display: none" data-bind="attr: { title: $root.t(\'Usupported browser\') }, html: \'<p>Your browser is not supported.</p><p>Use a different browser or try updaring your browser.</p><p>Supported browsers: <ul><li>Internet Explorer &gt;= 10</li><li>Google Chrome &gt;= 30</li><li>Apple Safari &gt;= 5</li><li>Mozilla Firefix &gt;= 20</li></ul></p>\'">    Unsupported browser  </div>  -->  <div id="incompatible-template" title="Saved model is obsolete" style="display: none" data-bind="attr: { title: $root.t(\'Saved model is obsolete\') }, html: $root.t(\'<p>The saved model has been created with a previous, non completely compatible version, of the template</p><p>Some content or style in the model <b>COULD BE LOST</b> if you will <b>save</b></p><p>Contact us for more informations!</p>\')">    Incompatible template  </div>  <div id="fake-image-editor" title="Fake image editor" style="display: none" data-bind="attr: { title: $root.t(\'Fake image editor\') }, html: $root.t(\'<p>Fake image editor</p>\')">    <p>Fake image editor</p>  </div></div><!-- ko if: $root.logoPath --><div id="loading" class="loading" style="display: block; width: 300px; text-align: center; height: 32px; position: absolute; top:0; bottom: 0; left: 0; right: 0;  margin: auto;" data-bind="attr: { style: \'position: absolute; top: 5px; left: 6px; z-index: 150;\'}, css: { loading: false }">  <a href="/" data-bind="attr: { href: $root.logoUrl, alt: $root.logoAlt }"><img data-bind="attr: { src: $root.logoPath }" width="32" height="32" alt="mosaico" border="0" /></a>  <div style="opacity: 0" data-bind="visible: false">Oppps... !!</div></div><!-- /ko -->'),templateSystem.addTemplate("toolbox",'<div id="tooltabs" class="tabs_horizontal button_color" data-bind="tabs: { active: $root.selectedTool }">  <ul>    <li data-bind="tooltips: {}"><a title="Blocks ready to be added to the template" data-local="true" href="#toolblocks" data-bind="attr: { title: $root.t(\'Blocks ready to be added to the template\') }"><i class="fa fa-fw fa-cubes"></i> <span data-bind="html: $root.t(\'Blocks\')">Blocks</span></a></li>    <li data-bind="tooltips: {}"><a title="Edit content options" href="#toolcontents" data-local="true" data-bind="attr: { title: $root.t(\'Edit content options\') }"><i class="fa fa-fw fa-pencil"></i> <span data-bind="html: $root.t(\'Content\')">Content</span></a></li>    <li data-bind="tooltips: {}"><a title="Edit style options" href="#toolstyles" data-local="true" data-bind="attr: { title: $root.t(\'Edit style options\') }"><i class="fa fa-fw fa-paint-brush"></i> <span data-bind="html: $root.t(\'Style\')">Style</span></a></li>  </ul>  <div id="toolblocks" data-bind="scrollable: true">    <div class="block-list" data-bind="foreach: blockDefs" style="text-align: center">      <div class="draggable-item" data-bind="withProperties: { templateMode: \'show\' }">        <div class="block" data-bind="extdraggable: { connectClass: \'sortable-blocks-edit\', data: $data, dropContainer: \'#main-wysiwyg-area\', dragging: $root.dragging, \'options\': { handle: \'.handle\', distance: 10, \'appendTo\': \'#page\' } }, click: $root.addBlock" style="position: relative;">          <div title="Click or drag to add this block to the template" class="handle" data-bind="attr: { title: $root.t(\'Click or drag to add this block to the template\') }, tooltips: {}"></div>          <img data-bind="attr: { alt: $root.t(\'Block __name__\', { name: ko.utils.unwrapObservable(type) }), src: $root.templatePath(\'edres/\'+ko.utils.unwrapObservable(type)+\'.png\') }" alt="Block __name__" />        </div>        <a href="javascript:void(0)" class="addblockbutton" data-bind="click: $root.addBlock, button: { label: $root.t(\'Add\') }">Add</a>      </div>    </div>  </div>  <div id="toolcontents" data-bind="scrollable: true">    <!-- ko if: $root.selectedBlock() !== null -->    <div data-bind="block: $root.selectedBlock"></div>    <!-- /ko -->    <!-- ko if: $root.selectedBlock() == null -->    <div class="noSelectedBlock" data-bind="text: $root.t(\'By clicking on message parts you will select a block and content options, if any, will show here\')">By clicking on message parts you will select a block and content options, if any, will show here</div>    <!-- /ko -->    <!-- ko block: content --><!-- /ko -->  </div>    <div id="toolstyles" data-bind="scrollable: true, withProperties: { templateMode: \'styler\' }">    <!-- ko if: typeof $root.content().theme === \'undefined\' || typeof $root.content().theme().scheme === \'undefined\' || $root.content().theme().scheme() === \'custom\' -->      <!-- ko if: $root.selectedBlock() !== null -->      <div data-bind="block: $root.selectedBlock, css: { workLocal: $root.selectedBlock().customStyle, workGlobal: typeof $root.selectedBlock().customStyle === \'undefined\' || !$root.selectedBlock().customStyle() }"></div>      <!-- /ko -->      <!-- ko if: $root.selectedBlock() == null -->      <div class="noSelectedBlock" data-bind="text: $root.t(\'By clicking on message parts you will select a block and style options, if available, will show here\')">By clicking on message parts you will select a block and style options, if available, will show here</div>      <!-- /ko -->      <div class="workGlobalContent">      <!-- ko block: content --><!-- /ko -->      </div>    <!-- /ko -->  </div></div>        <div id="toolimages" class="slidebar" data-bind="scrollable: true, css: { hidden: $root.showGallery() === false }">  <div class="close" data-bind="click: $root.showGallery.bind($element, false);">X</div>  <span class="pane-title" data-bind="text: $root.t(\'Gallery:\')">Gallery:</span>  <div data-drop-content="Drop here" class="img-dropzone pane uploadzone" data-bind="attr: { \'data-drop-content\': $root.t(\'Drop here\') }, fudroppable: { activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }">  <div class="mo-uploadzone" style="position: relative; padding: 2em; border: 2px dotted #808080">     <input class="fileupload" type="file" multiple name="files[]" data-bind="fileupload: { onerror: $root.notifier.error, onfile: $root.loadImage }" style="z-index: 10; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">     <span data-bind="text: $root.t(\'Click or drag files here\')">Click or drag files here</span>     <div class="workzone" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">       <div class="progress" style="opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;">         <div class="progress-bar progress-bar-success" style="height: 20px; background-color: black; "></div>       </div>     </div>  </div>  </div>  <!-- ko if: $root.showGallery() -->  <div id="toolimagestab" class="tabs_horizontal" data-bind="tabs: { active: $root.selectedImageTab }">    <ul>      <li data-bind="tooltips: {}"><a title="Session images" data-local="true" href="#toolimagesrecent" data-bind="attr: { title: $root.t(\'Session images\') }, text: $root.t(\'Recents\')">Recents</a></li>      <li data-bind="tooltips: {}"><a title="Remote gallery" data-local="true" href="#toolimagesgallery" data-bind="attr: { title: $root.t(\'Remote gallery\') }, text: $root.t(\'Gallery\')">Gallery</a></li>    </ul>    <div id="toolimagesrecent">      <!-- ko if: galleryRecent().length == 0 --><div class="galleryEmpty" data-bind="text: $root.t(\'No images uploaded, yet\')">No images uploaded, yet</div><!-- /ko -->      <!-- ko template: {name: \'gallery-images\', data: { items: galleryRecent } } --># recent gallery #<!-- /ko -->    </div>    <div id="toolimagesgallery" style="text-align: center">    <!-- ko if: $root.galleryLoaded() === false --><a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show images from the gallery\') }, click: $root.loadGallery, button: { disabled: $root.galleryLoaded, icons: { primary: \'fa fa-fw fa-picture-o\' }, label: $root.galleryLoaded() == \'loading\' ? $root.t(\'Loading...\') : $root.t(\'Load gallery\'), text: true }"># load gally #</a><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === \'loading\' --><div class="galleryEmpty" data-bind="text: $root.t(\'Loading gallery...\')">Loading gallery...</div><!-- /ko -->    <!-- ko if: $root.galleryLoaded() === 0 --><div class="galleryEmpty" data-bind="text: $root.t(\'The gallery is empty\')">The gallery is empty</div><!-- /ko -->    <!-- ko template: {name: \'gallery-images\', data: { items: galleryRemote } } --># remote gallery #<!-- /ko -->    </div>  </div>  <!-- /ko --></div><div id="tooldebug" class="slidebar" data-bind="css: { hidden: $root.debug() === false }">  <div class="close" data-bind="click: $root.debug.bind($element, false);">X</div>    <!-- ko if: $root.debug -->  Content:  <pre data-bind=\'text: ko.toJSON(content, null, 2)\' style="overflow: auto; height: 20%"></pre>  BlockDefs:  <pre data-bind=\'text: ko.toJSON(blockDefs, null, 2)\' style="overflow: auto; height: 20%"></pre>  <!-- /ko -->  <a href="javascript:void(0)" data-bind="click: $root.exportHTMLtoTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Generate\' }">Output</a>  <a href="javascript:void(0)" data-bind="click: $root.exportJSONtoTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Export\' }">Export</a>  <a href="javascript:void(0)" data-bind="click: $root.importJSONfromTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Import\' }">Import</a>  <textarea id="outputhtml" rows="10" style="width: 100%;"></textarea></div><div id="tooltheme" class="ui-widget slidebar" data-bind="css: { hidden: $root.showTheme() === false }">  <div class="close" data-bind="click: $root.showTheme.bind($element, false);">X</div>    <!-- ko withProperties: { templateMode: \'styler\' } -->    <!-- ko if: $root.showTheme -->      <!-- ko block: $root.content().theme --><!-- /ko -->    <!-- /ko -->  <!-- /ko --></div>')});

},{"../src/js/bindings/choose-template.js":30}],21:[function(require,module,exports){
// http://wiki.commonjs.org/wiki/Unit_Testing/1.0
//
// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!
//
// Originally from narwhal.js (http://narwhaljs.org)
// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

// when used in node, this will actually load the util module we depend on
// versus loading the builtin util module as happens otherwise
// this is a bug in node module loading as far as I am concerned
var util = require('util/');

var pSlice = Array.prototype.slice;
var hasOwn = Object.prototype.hasOwnProperty;

// 1. The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = module.exports = ok;

// 2. The AssertionError is defined in assert.
// new assert.AssertionError({ message: message,
//                             actual: actual,
//                             expected: expected })

assert.AssertionError = function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  if (options.message) {
    this.message = options.message;
    this.generatedMessage = false;
  } else {
    this.message = getMessage(this);
    this.generatedMessage = true;
  }
  var stackStartFunction = options.stackStartFunction || fail;

  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, stackStartFunction);
  }
  else {
    // non v8 browsers so we can have a stacktrace
    var err = new Error();
    if (err.stack) {
      var out = err.stack;

      // try to strip useless frames
      var fn_name = stackStartFunction.name;
      var idx = out.indexOf('\n' + fn_name);
      if (idx >= 0) {
        // once we have located the function frame
        // we need to strip out everything before it (and its line)
        var next_line = out.indexOf('\n', idx + 1);
        out = out.substring(next_line + 1);
      }

      this.stack = out;
    }
  }
};

// assert.AssertionError instanceof Error
util.inherits(assert.AssertionError, Error);

function replacer(key, value) {
  if (util.isUndefined(value)) {
    return '' + value;
  }
  if (util.isNumber(value) && !isFinite(value)) {
    return value.toString();
  }
  if (util.isFunction(value) || util.isRegExp(value)) {
    return value.toString();
  }
  return value;
}

function truncate(s, n) {
  if (util.isString(s)) {
    return s.length < n ? s : s.slice(0, n);
  } else {
    return s;
  }
}

function getMessage(self) {
  return truncate(JSON.stringify(self.actual, replacer), 128) + ' ' +
         self.operator + ' ' +
         truncate(JSON.stringify(self.expected, replacer), 128);
}

// At present only the three keys mentioned above are used and
// understood by the spec. Implementations or sub modules can pass
// other keys to the AssertionError's constructor - they will be
// ignored.

// 3. All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided.  All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}

// EXTENSION! allows for well behaved errors defined elsewhere.
assert.fail = fail;

// 4. Pure assertion tests whether a value is truthy, as determined
// by !!guard.
// assert.ok(guard, message_opt);
// This statement is equivalent to assert.equal(true, !!guard,
// message_opt);. To test strictly for the value true, use
// assert.strictEqual(true, guard, message_opt);.

function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}
assert.ok = ok;

// 5. The equality assertion tests shallow, coercive equality with
// ==.
// assert.equal(actual, expected, message_opt);

assert.equal = function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
};

// 6. The non-equality assertion tests for whether two objects are not equal
// with != assert.notEqual(actual, expected, message_opt);

assert.notEqual = function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
};

// 7. The equivalence assertion tests a deep equality relation.
// assert.deepEqual(actual, expected, message_opt);

assert.deepEqual = function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
};

function _deepEqual(actual, expected) {
  // 7.1. All identical values are equivalent, as determined by ===.
  if (actual === expected) {
    return true;

  } else if (util.isBuffer(actual) && util.isBuffer(expected)) {
    if (actual.length != expected.length) return false;

    for (var i = 0; i < actual.length; i++) {
      if (actual[i] !== expected[i]) return false;
    }

    return true;

  // 7.2. If the expected value is a Date object, the actual value is
  // equivalent if it is also a Date object that refers to the same time.
  } else if (util.isDate(actual) && util.isDate(expected)) {
    return actual.getTime() === expected.getTime();

  // 7.3 If the expected value is a RegExp object, the actual value is
  // equivalent if it is also a RegExp object with the same source and
  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).
  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {
    return actual.source === expected.source &&
           actual.global === expected.global &&
           actual.multiline === expected.multiline &&
           actual.lastIndex === expected.lastIndex &&
           actual.ignoreCase === expected.ignoreCase;

  // 7.4. Other pairs that do not both pass typeof value == 'object',
  // equivalence is determined by ==.
  } else if (!util.isObject(actual) && !util.isObject(expected)) {
    return actual == expected;

  // 7.5 For all other Object pairs, including Array objects, equivalence is
  // determined by having the same number of owned properties (as verified
  // with Object.prototype.hasOwnProperty.call), the same set of keys
  // (although not necessarily the same order), equivalent values for every
  // corresponding key, and an identical 'prototype' property. Note: this
  // accounts for both named and indexed properties on Arrays.
  } else {
    return objEquiv(actual, expected);
  }
}

function isArguments(object) {
  return Object.prototype.toString.call(object) == '[object Arguments]';
}

function objEquiv(a, b) {
  if (util.isNullOrUndefined(a) || util.isNullOrUndefined(b))
    return false;
  // an identical 'prototype' property.
  if (a.prototype !== b.prototype) return false;
  // if one is a primitive, the other must be same
  if (util.isPrimitive(a) || util.isPrimitive(b)) {
    return a === b;
  }
  var aIsArgs = isArguments(a),
      bIsArgs = isArguments(b);
  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))
    return false;
  if (aIsArgs) {
    a = pSlice.call(a);
    b = pSlice.call(b);
    return _deepEqual(a, b);
  }
  var ka = objectKeys(a),
      kb = objectKeys(b),
      key, i;
  // having the same number of owned properties (keys incorporates
  // hasOwnProperty)
  if (ka.length != kb.length)
    return false;
  //the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  //~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i])
      return false;
  }
  //equivalent values for every corresponding key, and
  //~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!_deepEqual(a[key], b[key])) return false;
  }
  return true;
}

// 8. The non-equivalence assertion tests for any deep inequality.
// assert.notDeepEqual(actual, expected, message_opt);

assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
};

// 9. The strict equality assertion tests strict equality, as determined by ===.
// assert.strictEqual(actual, expected, message_opt);

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
};

// 10. The strict non-equality assertion tests for strict inequality, as
// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
};

function expectedException(actual, expected) {
  if (!actual || !expected) {
    return false;
  }

  if (Object.prototype.toString.call(expected) == '[object RegExp]') {
    return expected.test(actual);
  } else if (actual instanceof expected) {
    return true;
  } else if (expected.call({}, actual) === true) {
    return true;
  }

  return false;
}

function _throws(shouldThrow, block, expected, message) {
  var actual;

  if (util.isString(expected)) {
    message = expected;
    expected = null;
  }

  try {
    block();
  } catch (e) {
    actual = e;
  }

  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +
            (message ? ' ' + message : '.');

  if (shouldThrow && !actual) {
    fail(actual, expected, 'Missing expected exception' + message);
  }

  if (!shouldThrow && expectedException(actual, expected)) {
    fail(actual, expected, 'Got unwanted exception' + message);
  }

  if ((shouldThrow && actual && expected &&
      !expectedException(actual, expected)) || (!shouldThrow && actual)) {
    throw actual;
  }
}

// 11. Expected to throw an error:
// assert.throws(block, Error_opt, message_opt);

assert.throws = function(block, /*optional*/error, /*optional*/message) {
  _throws.apply(this, [true].concat(pSlice.call(arguments)));
};

// EXTENSION! This is annoying to write outside this module.
assert.doesNotThrow = function(block, /*optional*/message) {
  _throws.apply(this, [false].concat(pSlice.call(arguments)));
};

assert.ifError = function(err) { if (err) {throw err;}};

var objectKeys = Object.keys || function (obj) {
  var keys = [];
  for (var key in obj) {
    if (hasOwn.call(obj, key)) keys.push(key);
  }
  return keys;
};

},{"util/":26}],22:[function(require,module,exports){
exports.endianness = function () { return 'LE' };

exports.hostname = function () {
    if (typeof location !== 'undefined') {
        return location.hostname
    }
    else return '';
};

exports.loadavg = function () { return [] };

exports.uptime = function () { return 0 };

exports.freemem = function () {
    return Number.MAX_VALUE;
};

exports.totalmem = function () {
    return Number.MAX_VALUE;
};

exports.cpus = function () { return [] };

exports.type = function () { return 'Browser' };

exports.release = function () {
    if (typeof navigator !== 'undefined') {
        return navigator.appVersion;
    }
    return '';
};

exports.networkInterfaces
= exports.getNetworkInterfaces
= function () { return {} };

exports.arch = function () { return 'javascript' };

exports.platform = function () { return 'browser' };

exports.tmpdir = exports.tmpDir = function () {
    return '/tmp';
};

exports.EOL = '\n';

},{}],23:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],24:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],25:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],26:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":25,"_process":23,"inherits":24}],27:[function(require,module,exports){
(function (global){
"use strict";function _canonicalize(e){var i=global.document.createElement("div");return i.innerHTML="<a></a>",i.firstChild.href=e,i.innerHTML=i.innerHTML,i.firstChild.href}var templateLoader=require("./template-loader.js"),console=require("./..\\..\\bower_components\\console-browserify\\index.js"),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null);require("./ko-bindings.js");var performanceAwareCaller=require("./timed-call.js").timedCall,addUndoStackExtensionMaker=require("./undomanager/undomain.js"),colorPlugin=require("./ext/color.js"),inlinerPlugin=require("./ext/inliner.js"),localStorageLoader=require("./ext/localstorage.js");if("undefined"==typeof ko)throw"Cannot find knockout.js library!";if("undefined"==typeof $)throw"Cannot find jquery library!";var applyBindingOptions=function(e,i){i.bindingHandlers.wysiwygSrc.convertedUrl=function(i,n,t,o){var a=e.imgProcessorBackend?e.imgProcessorBackend:"./upload",r=a.match(/^(https?:\/\/[^\/]*\/).*$/),l=i.match(/^(https?:\/\/[^\/]*\/).*$/);if(null===r||null!==l&&r[1]==l[1]){var d=a.indexOf("?")==-1?"?":"&";return a+d+"src="+encodeURIComponent(i)+"&method="+encodeURIComponent(n)+"&params="+encodeURIComponent(t+","+o)}return console.log("Cannot apply backend image resizing to non-local resources ",i,n,t,o,r,l),i+"?method="+n+"&width="+t+(null!==o?"&height="+o:"")},i.bindingHandlers.wysiwygSrc.placeholderUrl=function(i,n,t){return e.imgProcessorBackend+"?method=placeholder&params="+i+encodeURIComponent(",")+n},e&&e.tinymceConfig&&(i.bindingHandlers.wysiwyg.standardOptions=e.tinymceConfig),e&&e.tinymceConfigFull&&(i.bindingHandlers.wysiwyg.fullOptions=e.tinymceConfigFull)},start=function(e,i,n,t,o){templateLoader.fixPageEvents();var a=function(i){var n={messages:{unknownError:i.t("Unknown error"),uploadedBytes:i.t("Uploaded bytes exceed file size"),maxNumberOfFiles:i.t("Maximum number of files exceeded"),acceptFileTypes:i.t("File type not allowed"),maxFileSize:i.t("File is too large"),minFileSize:i.t("File is too small"),post_max_size:i.t("The uploaded file exceeds the post_max_size directive in php.ini"),max_file_size:i.t("File is too big"),min_file_size:i.t("File is too small"),accept_file_types:i.t("Filetype not allowed"),max_number_of_files:i.t("Maximum number of files exceeded"),max_width:i.t("Image exceeds maximum width"),min_width:i.t("Image requires a minimum width"),max_height:i.t("Image exceeds maximum height"),min_height:i.t("Image requires a minimum height"),abort:i.t("File upload aborted"),image_resize:i.t("Failed to resize image"),generic:i.t("Unexpected upload error")}};e&&e.fileuploadConfig&&(n=$.extend(!0,n,e.fileuploadConfig)),ko.bindingHandlers.fileupload.extendOptions=n},r=function(i){e&&e.strings&&(i.t=function(n,t){var o=e.strings[n];return"undefined"==typeof o&&(console.warn("Missing translation string for",n,": using default string"),o=n),i.tt(o,t)})},l=[r,addUndoStackExtensionMaker(performanceAwareCaller),colorPlugin,inlinerPlugin];if("undefined"!=typeof o)for(var d=0;d<o.length;d++)l.push(o[d]);l.push(a);var s=e.fileuploadConfig?e.fileuploadConfig.url:"/upload/";applyBindingOptions(e,ko),$("<!-- ko template: 'main' --><!-- /ko -->").appendTo(global.document.body),"undefined"==typeof i&&"undefined"!=typeof n&&(i=n.template),templateLoader.load(performanceAwareCaller,i,n,t,l,s)},initFromLocalStorage=function(e,i,n){try{var t=localStorageLoader(i,e.emailProcessorBackend),o="undefined"!=typeof n?n:[];o.push(t.extension);var a=_canonicalize(t.metadata.template);start(e,a,t.metadata,t.model,o)}catch(e){console.error("TODO not found ",i,e)}},init=function(e,i){var n=global.location.hash?global.location.href.split("#")[1]:void 0;if(e&&(e.template||e.data))if(e.data){var t=JSON.parse(e.data);start(e,void 0,t.metadata,t.content,i)}else start(e,e.template,void 0,void 0,i);else if(n&&7==n.length)initFromLocalStorage(e,n,i);else{if(!n)return!1;start(e,_canonicalize(n),void 0,void 0,i)}return!0};module.exports={isCompatible:templateLoader.isCompatible,init:init,start:start};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\bower_components\\console-browserify\\index.js":1,"./ext/color.js":59,"./ext/inliner.js":60,"./ext/localstorage.js":61,"./ko-bindings.js":62,"./template-loader.js":63,"./timed-call.js":64,"./undomanager/undomain.js":65}],28:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),addScriptTemplate=function(t,e,n){var o=t.createElement("script");return o.setAttribute("type","text/html"),o.setAttribute("id",e),o.text=n,t.body.appendChild(o),o};ko.bindingHandlers.bindIframe={tpl:'<!DOCTYPE html>\r\n<html>\r\n<head>\r\n</head>\r\n<body><div data-bind="block: content"></div></body>\r\n</html>\r\n',init:function(t,e){function n(n){try{var o=t.contentDocument;o.open(),o.write(ko.bindingHandlers.bindIframe.tpl),o.close();try{var r=o.body;if(r){for(var i=t.contentWindow.parent.document.getElementsByTagName("script"),a=0;a<i.length;a++)"text/html"==i[a].getAttribute("type")&&i[a].getAttribute("id")&&addScriptTemplate(o,i[a].getAttribute("id"),i[a].innerHTML);var d=o.getElementsByTagName("HTML");ko.utils.domNodeDisposal.addDisposeCallback(t,function(){ko.cleanNode(d[0]||r)}),ko.applyBindings(e(),d[0]||r)}else console.log("no iframedoc",n)}catch(t){throw console.log("error reading iframe.body",t,n),t}}catch(t){throw console.log("error reading iframe contentDocument",t,n),t}}n("first call")}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],29:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.withProperties={init:function(e,n,t,o,a){var l=a.createChildContext(a.$rawData,null,function(e){ko.utils.extend(e,n())});return ko.applyBindingsToDescendants(l,e),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.withProperties=!0,ko.bindingHandlers.log={init:function(e,n,t,o,a){console.log("log",n())}},ko.bindingHandlers.block={templateExists:function(e){var n=global.document.getElementById(e);return!!n},_chooseTemplate:function(e,n,t,o){var a=n+"-"+t;if(ko.bindingHandlers.block.templateExists(a))return a;if("undefined"!=typeof o&&null!==o)return ko.bindingHandlers.block._chooseTemplate(e,n,o);var l=e?"array":"object-"+t;if(ko.bindingHandlers.block.templateExists(l))return l;throw"cannot find template for "+a+"/"+l},_displayMode:function(e,n){var t="undefined"!=typeof e.type?ko.utils.unwrapObservable(e.type):"notablock-"+typeof e,o="undefined"!=typeof e.splice,a=n.templateMode?n.templateMode:"show";return ko.bindingHandlers.block._chooseTemplate(o,t,a,n.templateModeFallback)},_makeTemplateValueAccessor:function(e,n){return function(){var t,o,a=e(),l=ko.utils.peekObservable(a);if(!l||"object"!=typeof l.data&&"function"!=typeof l.data)t=a;else if(t=l.data,"undefined"!=typeof l.template){var i=ko.utils.unwrapObservable(l.template),r=n.templateMode?n.templateMode:"show";o=ko.bindingHandlers.block._chooseTemplate(!1,i,r,n.templateModeFallback)}var d=ko.utils.unwrapObservable(t);if(ko.isObservable(d)&&console.log("doubleObservable",d),"undefined"==typeof o)if(void 0===t)o="empty";else try{o=ko.bindingHandlers.block._displayMode(d,n)}catch(e){throw console.log(e,d,n.$data,n.templateMode),e}return{name:o,data:t,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(e,n,t,o,a){"undefined"==typeof n()&&console.log("found a null block: check ending commas in arrays defs in IE");var l=ko.bindingHandlers.block._makeTemplateValueAccessor(n,a);return ko.bindingHandlers.template.init(e,l)},update:function(e,n,t,o,a){var l=ko.bindingHandlers.block._makeTemplateValueAccessor(n,a);return ko.bindingHandlers.template.update(e,l,t,o,a)}},ko.expressionRewriting.bindingRewriteValidators.block=!1,ko.virtualElements.allowedBindings.block=!0;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],30:[function(require,module,exports){
"use strict";module.exports=require("./string-template.js");

},{"./string-template.js":44}],31:[function(require,module,exports){
(function (global){
"use strict";require("./..\\..\\..\\bower_components\\evol-colorpicker\\js\\evol.colorpicker.min.js");var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),kojqui=(typeof window !== "undefined" ? window['kojqui'] : typeof global !== "undefined" ? global['kojqui'] : null),ColorPicker=function(){kojqui.BindingHandler.call(this,"colorpicker")};ColorPicker.prototype=kojqui.utils.createObject(kojqui.BindingHandler.prototype),ColorPicker.prototype.constructor=ColorPicker,ColorPicker.prototype.init=function(o,r,e){var i=r(),n=i.color,t=ko.computed({read:n,write:n,disposeWhenNodeIsRemoved:o}),c=function(){return t};ko.bindingHandlers.value.init(o,c,e);var u=function(o,r){"undefined"!=typeof r&&t(r)};$(o).on("change.color",u),ko.computed({read:function(){var r={color:ko.utils.unwrapObservable(t),showOn:"button"};for(var e in i)"color"!==e&&i.hasOwnProperty(e)&&(r[e]=ko.utils.unwrapObservable(i[e]));$(o).colorpicker(r)},disposeWhenNodeIsRemoved:o}),ko.utils.domNodeDisposal.addDisposeCallback(o,function(){$(o).off("change.color",u),$(o).colorpicker("destroy")})},kojqui.utils.register(ColorPicker);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\evol-colorpicker\\js\\evol.colorpicker.min.js":2}],32:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null);ko.bindingHandlers.cssText={update:function(e,t,n){var r=ko.utils.unwrapObservable(t());try{e.innerText=r}catch(t){e.styleSheet||(e.innerHTML="a{}"),e.styleSheet.cssText=r}}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],33:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null);!function(e){e(ko,$)}(function(e,t){var o="ko_sortItem",n="ko_dragItem",a=(e.utils.unwrapObservable,e.utils.domData.get);e.utils.domData.set;e.bindingHandlers.droppable={init:function(d,i,l,r,s){var u,p=t(d),b=e.utils.unwrapObservable(i())||{},c={};t.extend(!0,c,e.bindingHandlers.droppable),b.data?(b.options&&c.options&&(e.utils.extend(c.options,b.options),delete b.options),e.utils.extend(c,b)):c.data=b,u=c.options.drop,p.droppable(e.utils.extend(c.options,{drop:function(e,t){var d=t.draggable[0],i=a(d,o)||a(d,n);i&&(i.clone&&(i=i.clone()),c.dragged&&(i=c.dragged.call(this,i,e,t)||i),c.data&&c.data(i)),u&&u.apply(this,arguments)}})),void 0!==c.isEnabled&&e.computed({read:function(){p.droppable(e.utils.unwrapObservable(c.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:d})},update:function(e,t,o,n,a){},targetIndex:null,afterMove:null,beforeMove:null,options:{}}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],34:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.focusable={focus:function(){},blur:function(){},init:function(o){ko.utils.domNodeDisposal.addDisposeCallback(o,function(){$(o).off("focusin",ko.bindingHandlers.focusable.focus),$(o).off("focusout",ko.bindingHandlers.focusable.blur)}),$(o).on("focusin",ko.bindingHandlers.focusable.focus),$(o).on("focusout",ko.bindingHandlers.focusable.blur)}},ko.bindingHandlers.scrollable={scroll:function(){},init:function(o){ko.utils.domNodeDisposal.addDisposeCallback(o,function(){$(o).off("scroll",ko.bindingHandlers.scrollable.scroll)}),$(o).on("scroll",ko.bindingHandlers.scrollable.scroll)}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],35:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null);ko.extenders.paging=function(e,t){var n=ko.observable(t||10),r=ko.observable(1);return e.pageSize=ko.computed({read:n,write:function(e){n(e>0?e:10)}}),e.currentPage=ko.computed({read:r,write:function(t){r(t>e.pageCount()?e.pageCount():t<=0?1:t)}}),e.pageCount=ko.computed(function(){return Math.ceil(e().length/e.pageSize())||1}),e.currentPageData=ko.computed(function(){var t=n(),o=r(),u=t*(o-1),a=t*o;return e().slice(u,a)}),e.moveFirst=function(){e.currentPage(1)},e.movePrevious=function(){e.currentPage(e.currentPage()-1)},e.moveNext=function(){e.currentPage(e.currentPage()+1)},e.moveLast=function(){e.currentPage(e.pageCount())},e};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],36:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),sortable=(typeof window !== "undefined" ? window['jQuery']['ui']['sortable'] : typeof global !== "undefined" ? global['jQuery']['ui']['sortable'] : null),draggable=(typeof window !== "undefined" ? window['jQuery']['ui']['draggable'] : typeof global !== "undefined" ? global['jQuery']['ui']['draggable'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");if(require("./..\\..\\..\\bower_components\\knockout-sortable\\build\\knockout-sortable.min.js"),"undefined"==typeof sortable)throw"Cannot find jquery-ui sortable widget dependency!";if("undefined"==typeof draggable)throw"Cannot find jquery-ui sortable widget dependency!";var isDraggingHelper=function(e,n){e()?n.type==e()+"stop"&&e(!1):"dragstart"!=n.type&&"sortstart"!=n.type||e(n.type.substring(0,4))},makeExtendedValueAccessor=function(e){return function(){var n=e();ko.utils.peekObservable(n);ko.utils.unwrapObservable(n),"undefined"==n.options&&(n.options={});var r=n.options.start;n.options.start=function(e,t){if("undefined"!=typeof n.dragging&&ko.isWritableObservable(n.dragging)&&isDraggingHelper(n.dragging,e),"undefined"!=typeof n.dropContainer&&(n.scrollInterval=global.setInterval(function(){var e=$(n.dropContainer).scrollTop();$(n.dropContainer).scrollTop(e+n.adding)},20)),"undefined"!=typeof r)return r(e,t)};var t=n.options.stop;n.options.stop=function(e,r){if("undefined"!=typeof n.dragging&&ko.isWritableObservable(n.dragging)&&isDraggingHelper(n.dragging,e),"undefined"!=typeof n.dropContainer&&global.clearInterval(n.scrollInterval),"undefined"!=typeof t)return t(e,r)};var i=n.options.drag;return n.options.drag=function(e,r){if("undefined"!=typeof n.dropContainer){var t=e.pageY-$(n.dropContainer).offset().top,o=t-$(n.dropContainer).height();t<-20?n.adding=-20:t<0?n.adding=-10:t<10?n.adding=-5:o>20?n.adding=20:o>0?n.adding=10:o>-10?n.adding=5:n.adding=0}if("undefined"!=typeof i)return i(e,r)},n}};ko.bindingHandlers.extsortable={init:function(e,n,r,t,i){return ko.bindingHandlers.sortable.init(e,makeExtendedValueAccessor(n),r,t,i)},update:function(e,n,r,t,i){return ko.bindingHandlers.sortable.update(e,makeExtendedValueAccessor(n),r,t,i)}},ko.bindingHandlers.extdraggable={init:function(e,n,r,t,i){return ko.bindingHandlers.draggable.init(e,makeExtendedValueAccessor(n),r,t,i)},update:function(e,n,r,t,i){return ko.bindingHandlers.draggable.update(e,makeExtendedValueAccessor(n),r,t,i)}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\knockout-sortable\\build\\knockout-sortable.min.js":8}],37:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.preloader={init:function(e,i){var o=i();if("undefined"==typeof o.preloaded){o.preloaded=ko.observable("");var r=function(e){if(e!=o.preloaded())if(""!==e){var i=new Image;i.onload=function(){o.preloaded(e)},i.onerror=function(){o.preloaded(e)},i.src=e}else o.preloaded(e)};o.subscribe(r),r(o())}}},ko.bindingHandlers.advattr={init:function(e,i,o,r,l){var a=ko.utils.unwrapObservable(i()||{});ko.utils.objectForEach(a,function(i,o){var r=e.getAttribute(i);if(ko.isWriteableObservable(o)){var l=o();l!=r&&(o(r),null!==l&&console.log("AdvAttr found a value different from the default",i,l,r))}})},update:function(e,i,o){var r=ko.utils.unwrapObservable(i())||{};ko.utils.objectForEach(r,function(i,o){o=ko.utils.unwrapObservable(o);var r=o===!1||null===o||void 0===o;r?e.removeAttribute(i):e.setAttribute(i,o.toString())})}},ko.bindingHandlers.advstyle={init:function(e,i,o,r,l){var a=ko.utils.unwrapObservable(i()||{});ko.utils.objectForEach(a,function(i,o){var r;if(i.match(/Px$/)?(i=i.substr(0,i.length-2),r=e.style[i],r.match(/px$/)?r=r.replace(/px$/,""):console.log("AdvStyle binding found an unexpected default value",i,r,e)):r=e.style[i],ko.isWriteableObservable(o)){var l=o();l!=r&&(o(r),null!==l&&console.log("AdvStyle found a value different from the default",i,l,r))}})},update:function(e,i){var o=ko.utils.unwrapObservable(i()||{});ko.utils.objectForEach(o,function(i,o){o=ko.utils.unwrapObservable(o),null!==o&&"undefined"!=typeof o&&o!==!1||(o=""),i.match(/Px$/)&&(i=i.substr(0,i.length-2),o+="px"),e.style[i]=o})}},ko.bindingHandlers.domlog={init:function(e,i){console.log("initialized",e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){console.log("disposed",e)})}},ko.bindingHandlers.fudroppable={init:function(e,i){var o=i()||{},r={},l=function(e,i,o,r,l,a){e[i]?global.clearTimeout(e[i]):("undefined"!=typeof r&&o.classList.add(r),ko.isWriteableObservable(l)&&!l()&&l(!0));var t=function(){e[i]=null,"undefined"!=typeof r&&o.classList.remove(r),ko.isWriteableObservable(l)&&l()&&l(!1)};"dragleave"==a.type?t():e[i]=global.setTimeout(t,500)};(o.active||o.activeClass)&&ko.utils.registerEventHandler(global,"dragover",l.bind(void 0,r,"activeTimeout",e,o.activeClass,o.active)),o.hoverClass&&ko.utils.registerEventHandler(e,"dragover dragenter dragleave",l.bind(void 0,r,"hoverTimeout",e,o.hoverClass,void 0))}},ko.bindingHandlers.fileupload={extendOptions:{},remoteFilePreprocessor:function(e){return e},init:function(e,i){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).fileupload("destroy")}),global.webkitURL?$(e).attr("title"," "):$(e).attr("title","")},update:function(e,i){var o=i()||{},r=$(e),l=r.parents(".uploadzone"),a=o.data;o.data=void 0;var t=o.canvasPreview;ko.utils.extend(o,{url:"/upload/",dataType:"json",dropZone:l.find(".mo-uploadzone")[0],autoUpload:!0,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:1048576,disableImageResize:/Android(?!.*Chrome)|Opera/.test(global.navigator.userAgent),previewMaxWidth:200,previewMaxHeight:200,previewCrop:!1,replaceFileInput:!1,messages:{unknownError:"Unknown error",uploadedBytes:"Uploaded bytes exceed file size",maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small",post_max_size:"The uploaded file exceeds the post_max_size directive in php.ini",max_file_size:"File is too big",min_file_size:"File is too small",accept_file_types:"Filetype not allowed",max_number_of_files:"Maximum number of files exceeded",max_width:"Image exceeds maximum width",min_width:"Image requires a minimum width",max_height:"Image exceeds maximum height",min_height:"Image requires a minimum height",abort:"File upload aborted",image_resize:"Failed to resize image",generic:"Unexpected upload error"}}),ko.utils.extend(o,ko.bindingHandlers.fileupload.extendOptions);var n=0,s="",d=function(){0===--n&&(a&&a(s),s="",t&&(l.find("img").show(),l.find("canvas").remove()),l.removeClass("uploading"),l.find(".progress-bar").css("width",0))},u=function(e){if("object"==typeof o.messages&&null!==o.messages){var i=e.match(/^([^ ]+)(.*)$/);if(i&&"undefined"!=typeof o.messages[i[1]])return o.messages[i[1]]+i[2]}return e};r.fileupload(o);for(var f=["fileuploadadd","fileuploadprocessalways","fileuploadprogressall","fileuploaddone","fileuploadfail"],p=function(e,i){if("fileuploadadd"==e.type&&n++,"fileuploadfail"==e.type&&(console.log("fileuploadfail",e,i),o.onerror&&(""===i.errorThrown&&"error"==i.textStatus?o.onerror(u("generic")):o.onerror(u("generic ("+i.errorThrown+")"))),d()),"fileuploaddone"==e.type)if("undefined"!=typeof i.result.files[0].url){if(o.onfile)for(var r=0;r<i.result.files.length;r++)i.result.files[r]=ko.bindingHandlers.fileupload.remoteFilePreprocessor(i.result.files[r]),o.onfile(i.result.files[r]);if(""===s&&(s=i.result.files[0].url),t){var a=new Image;a.onload=d,a.onerror=d,a.src=i.result.files[0].url}else d()}else"undefined"!=typeof i.result.files[0].error?(console.log("remote error",e,i),o.onerror&&o.onerror(u(i.result.files[0].error)),d()):(console.log("unexpected error",e,i),o.onerror&&o.onerror(u("generic (Unexpected Error retrieving uploaded file)")),d());if("fileuploadprocessalways"==e.type){var f=i.index,p=i.files[f];if(p.preview&&0===f&&0===l.find("canvas").length){if(t){var c=$(p.preview).css("width","100%");l.find("img").hide(),l.prepend(c)}l.addClass("uploading"),l.find(".progress-bar").css("width",0)}p.error&&(o.onerror&&o.onerror(u(p.error)),d())}if("fileuploadprogressall"==e.type){var v=parseInt(i.loaded/i.total*100,10);l.find(".progress-bar").css("width",v+"%")}},c=f.length-1;c>=0;c--){var v=f[c];r.on(v,p)}$.support.fileInput||r.prop("disabled",!0).parent().addClass("disabled")}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],38:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.ifSubs={cloneNodes:function(e,o){for(var n=0,i=e.length,t=[];n<i;n++){var r=e[n].cloneNode(!0);t.push(o?ko.cleanNode(r):r)}return t},init:function(e,o,n,i,t){var r,s,u=o();return"undefined"==typeof u.data.subsCount&&ko.extenders.subscriptionsCount(u.data),ko.computed(function(){var n,i,p,d=ko.utils.unwrapObservable(o().data.subsCount),b=!s;p=-("undefined"!=typeof o().gutter?o().gutter:1),n=d+(r?p:0)>=ko.utils.unwrapObservable(u.threshold),"undefined"!=typeof o().not&&o().not&&(n=!n),i=b||n!==r,i&&(b&&ko.computedContext.getDependenciesCount()&&(s=ko.bindingHandlers.ifSubs.cloneNodes(ko.virtualElements.childNodes(e),!0)),n?(b||ko.virtualElements.setDomNodeChildren(e,ko.bindingHandlers.ifSubs.cloneNodes(s)),ko.applyBindingsToDescendants(t,e)):ko.virtualElements.emptyNode(e),r=n)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.ifSubs=!0;var beforeSubscriptionProp,afterSubscriptionProp;if("function"==typeof ko.subscription&&"undefined"!=typeof ko.isWritableObservable)beforeSubscriptionProp="beforeSubscriptionAdd",afterSubscriptionProp="afterSubscriptionRemove";else if("3.2.0"==ko.version)beforeSubscriptionProp="va",afterSubscriptionProp="nb";else if("3.3.0"==ko.version)beforeSubscriptionProp="ja",afterSubscriptionProp="ua";else if("3.4.0"==ko.version)beforeSubscriptionProp="sa",afterSubscriptionProp="Ia";else{if("3.4.1"!=ko.version)throw"Unsupported minimized Knockout version "+ko.version+" (supported DEBUG or minimized 3.2.0 ... 3.4.1)";beforeSubscriptionProp="sa",afterSubscriptionProp="Ia"}ko.extenders.subscriptionsCount=function(e,o,n){if("undefined"==typeof e.subsCount){e.subsCount=ko.observable(e.getSubscriptionsCount()).extend({notify:"always"});var i=e[beforeSubscriptionProp],t=e[afterSubscriptionProp];e[beforeSubscriptionProp]=function(t){i&&i.call(e,t);var r=e.getSubscriptionsCount()+1;"undefined"!=typeof o&&r!=o&&"undefined"!=typeof n&&r!=n||e.subsCount(r)},e[afterSubscriptionProp]=function(i){t&&t.call(e,i);var r=e.getSubscriptionsCount();"undefined"!=typeof o&&r!=o&&"undefined"!=typeof n&&r!=n||e.subsCount(r)}}else console.log("already applied subscriptionCount to observable");return null};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],39:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),spinner=(typeof window !== "undefined" ? window['jQuery']['ui']['spinner'] : typeof global !== "undefined" ? global['jQuery']['ui']['spinner'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");if("undefined"==typeof spinner)throw"Cannot find jquery-ui spinner widget dependency!";$.widget("ui.spinner",spinner,{_adjustValue:function(e){var n=(this._super(e),this.options);return e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],40:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),tabs=(typeof window !== "undefined" ? window['jQuery']['ui']['tabs'] : typeof global !== "undefined" ? global['jQuery']['ui']['tabs'] : null);if("undefined"==typeof tabs)throw"Cannot find jquery-ui tabs widget dependency!";$.widget("ui.tabs",tabs,{_isLocal:function(e){return"true"==e.getAttribute("data-local")||this._superApply(arguments)}});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],41:[function(require,module,exports){
(function (global){
"use strict";function pushTemplate(e,t){var n=global.document.createElement("script");n.setAttribute("type","text/html"),n.setAttribute("id",e),n.text=t,global.document.body.appendChild(n)}function removeTemplate(e){var t=global.document.getElementById(e);t&&t.parentNode.removeChild(t)}function init(){}function getTemplateContent(e){var t=global.document.getElementById(e);return t?t.innerHTML:void 0}module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],42:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),tinymce=(typeof window !== "undefined" ? window['tinymce'] : typeof global !== "undefined" ? global['tinymce'] : null),timeout,render=function(){timeout=void 0,"undefined"!=typeof tinymce.activeEditor&&null!==tinymce.activeEditor&&"undefined"!=typeof tinymce.activeEditor.theme&&null!==tinymce.activeEditor.theme&&"undefined"!=typeof tinymce.activeEditor.theme.panel&&null!==tinymce.activeEditor.theme.panel&&"undefined"!=typeof tinymce.activeEditor.theme.panel.visible&&(("undefined"!=typeof tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._visible&&tinymce.activeEditor.theme.panel._fixed||"undefined"!=typeof tinymce.activeEditor.theme.panel.state&&tinymce.activeEditor.theme.panel.state.get("visible")&&tinymce.activeEditor.theme.panel.state.get("fixed"))&&tinymce.activeEditor.theme.panel.fixed(!1),tinymce.activeEditor.nodeChanged(),tinymce.activeEditor.theme.panel.visible(!0),tinymce.activeEditor.theme.panel.layoutRect().y<=40&&tinymce.activeEditor.theme.panel.moveBy(0,40-tinymce.activeEditor.theme.panel.layoutRect().y))};ko.bindingHandlers.wysiwygScrollfix={scroll:function(e){timeout&&global.clearTimeout(timeout),timeout=global.setTimeout(render,50)},init:function(e){ko.utils.domNodeDisposal.addDisposeCallback(e,function(){$(e).off("scroll",ko.bindingHandlers.wysiwygScrollfix.scroll)}),$(e).on("scroll",ko.bindingHandlers.wysiwygScrollfix.scroll)}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],43:[function(require,module,exports){
(function (global){
"use strict";var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),_scrollIntoView=function(o,e,l,n){var r=l.scrollTop(),t=r-n-(e?20:-20),i="undefined"!=typeof l[0].nodeType;if(i){var s={scrollTop:""+Math.round(t)+"px"},c=Math.round(Math.abs(t-r));l.stop().animate(s,c)}else l.scrollTop(t)};ko.bindingHandlers.scrollIntoView={update:function(o,e,l,n,r){var t=ko.utils.unwrapObservable(e());if(t)try{for(;8===o.nodeType;)o=o.nextSibling;if(8!==o.nodeType){var i,s=$(o).scrollParent(),c=!1;9==s[0].nodeType?(s=$(s[0].defaultView),i=0,c=!0):i=s.offset().top;var a=s.height(),p=s.scrollTop(),u=i+a,d=$(o),f=d.offset().top;c&&(f-=p);var w=d.height(),v=f+w;f>i&&f+w<u||(w<a?(f<i&&_scrollIntoView(o,!0,s,i-f),v>u&&_scrollIntoView(o,!1,s,u-v)):(f<i&&v<u&&_scrollIntoView(o,!1,s,u-v),f>i&&v>u&&_scrollIntoView(o,!0,s,i-f)))}}catch(o){console.log("TODO exception scrolling into view",o)}}},ko.virtualElements.allowedBindings.scrollIntoView=!0;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],44:[function(require,module,exports){
(function (global){
"use strict";function createStringTemplateEngine(e){var t=e.makeTemplateSource;return e.makeTemplateSource=function(e){return"undefined"!=typeof templates[e]?new ko.templateSources.stringTemplate(e,templates[e]):t(e)},e}function pushTemplate(e,t){templates[e]=t}function removeTemplate(e){"undefined"!=typeof templates[e]?templates[e]=void 0:origTemplateSystem.removeTemplate(e)}function init(){ko.setTemplateEngine(createStringTemplateEngine(new ko.nativeTemplateEngine))}function getTemplateContent(e){return"undefined"!=typeof templates[e]?templates[e]:origTemplateSystem.getTemplateContent(e)}var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),origTemplateSystem=require("./script-template.js"),templates={};ko.templateSources.stringTemplate=function(e,t){this.templateName=e,this.template=t,this._data={}},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(e,t){return 1===arguments.length?this._data[e]:void(this._data[e]=t)},text:function(e){return 0===arguments.length?this.template:void(this.template=e)}}),module.exports={init:init,addTemplate:pushTemplate,removeTemplate:removeTemplate,getTemplateContent:getTemplateContent};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./script-template.js":41}],45:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),kojqui=(typeof window !== "undefined" ? window['kojqui'] : typeof global !== "undefined" ? global['kojqui'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),extendValueAccessor=function(e,n){return function(){return ko.utils.extend(n,e()),n}},options={show:{delay:500},track:!0,items:'[title][title!=""][title!=" "]'};ko.bindingHandlers.tooltips={init:function(e,n,t,o,i){if("undefined"!=typeof $.fn.tooltip&&"undefined"!=typeof ko.bindingHandlers.tooltip)return ko.bindingHandlers.tooltip.init(e,extendValueAccessor(n,options),t,o,i)},update:function(e,n,t,o,i){if("undefined"!=typeof $.fn.tooltip&&"undefined"!=typeof ko.bindingHandlers.tooltip)return ko.bindingHandlers.tooltip.update(e,extendValueAccessor(n,options),t,o,i)}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],46:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.validatedValue={init:function(e,n,i){var t=n;if("undefined"!=typeof e.pattern){var a=new RegExp("^(?:"+e.pattern+")$"),o=ko.computed({read:function(){var i=ko.utils.unwrapObservable(n()),t=null===i||""===i||a.test(i);return t?e.classList.remove("invalid"):e.classList.add("invalid"),i},write:ko.isWriteableObservable(n())&&function(i){ko.selectExtensions.writeValue(e,i);var t=ko.selectExtensions.readValue(e);n()(t)},disposeWhenNodeIsRemoved:e});t=function(){return o}}ko.bindingHandlers.value.init(e,t,i)}},ko.expressionRewriting._twoWayBindings.validatedValue=!0;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],47:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");ko.bindingHandlers.uniqueId={currentIndex:0,init:function(e,n){var t=ko.utils.unwrapObservable(n())||{};if(""===t.id()){var i,l,r;r="ko_"+("undefined"!=typeof t.type?ko.utils.unwrapObservable(t.type):"block");do i=r+"_"+ ++ko.bindingHandlers.uniqueId.currentIndex,l=global.document.getElementById(i);while(l);t.id(i)}}},ko.virtualElements.allowedBindings.uniqueId=!0,ko.bindingHandlers.virtualAttr={update:function(e,n){8!==e.nodeType&&ko.bindingHandlers.attr.update(e,n)}},ko.virtualElements.allowedBindings.virtualAttr=!0,ko.bindingHandlers.virtualAttrStyle={update:function(e,n,t,i,l){if(8!==e.nodeType){var r="undefined"==typeof l.templateMode||"wysiwyg"!=l.templateMode,d=["style"];r&&d.push("replacedstyle");for(var o=ko.utils.unwrapObservable(n()),a=0;a<d.length;a++){var u=d[a],s=o===!1||null===o||void 0===o;s?e.removeAttribute(u):e.setAttribute(u,o.toString())}}}},ko.virtualElements.allowedBindings.virtualAttrStyle=!0,ko.bindingHandlers.virtualStyle={update:function(e,n){8!==e.nodeType&&ko.bindingHandlers.style.update(e,n)}},ko.virtualElements.allowedBindings.virtualStyle=!0,ko.bindingHandlers.virtualHtml={init:ko.bindingHandlers.html.init,update:function(e,n){if(8===e.nodeType){var t=ko.utils.unwrapObservable(n());if(ko.virtualElements.emptyNode(e),null!==t&&void 0!==t){"string"!=typeof t&&(t=t.toString());var i=ko.utils.parseHtmlFragment(t);if(i)for(var l=e.nextSibling,r=0,d=i.length;r<d;r++)l.parentNode.insertBefore(i[r],l)}}else ko.bindingHandlers.html.update(e,n);return{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.virtualHtml=!0;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],48:[function(require,module,exports){
(function (global){
"use strict";var tinymce=(typeof window !== "undefined" ? window['tinymce'] : typeof global !== "undefined" ? global['tinymce'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js");require("./eventable.js"),ko.bindingHandlers.wysiwygOrHtml={init:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;return r?ko.bindingHandlers.virtualHtml.init():ko.bindingHandlers.wysiwyg.init(e,t,n,i,o)},update:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;if(r)return ko.bindingHandlers.virtualHtml.update(e,t,n,i,o)}},ko.virtualElements.allowedBindings.wysiwygOrHtml=!0,ko.bindingHandlers.wysiwygHref={init:function(e,t,n,i,o){if(8!==e.nodeType){var r=(t(),"undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode);if(r)e.setAttribute("target","_new");else{var l=n();"undefined"!=typeof l.wysiwygOrHtml?e.setAttribute("href","javascript:void(0)"):(e.removeAttribute("href"),e.setAttribute("disabledhref","#"))}}},update:function(e,t,n,i,o){if(8!==e.nodeType){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode,l=ko.utils.unwrapObservable(t());r&&(l===!1||null===l||void 0===l?e.removeAttribute("href"):e.setAttribute("href",l.toString()))}}},ko.virtualElements.allowedBindings.wysiwygHref=!0,ko.bindingHandlers.wysiwygSrc={convertedUrl:function(e,t,n,i){var o=e+"?method="+t+"&width="+n+(null!==i?"&height="+i:"");return console.log("basic converterUrl",o),o},placeholderUrl:function(e,t,n){},update:function(e,t,n,i,o){var r=ko.utils.unwrapObservable(t()),l=ko.utils.unwrapObservable(r.src),a=ko.utils.unwrapObservable(r.placeholder),s=ko.utils.unwrapObservable(r.width),d=ko.utils.unwrapObservable(r.height);if(l===!1||null===l||void 0===l||""===l)"object"==typeof a&&null!==a?e.setAttribute("src",ko.bindingHandlers.wysiwygSrc.placeholderUrl(a.width,a.height,a.text)):e.removeAttribute("src");else{var u=ko.utils.unwrapObservable(r.method);u||(u=s>0&&d>0?"cover":"resize");var g=ko.bindingHandlers.wysiwygSrc.convertedUrl(l.toString(),u,s,d);e.setAttribute("src",g)}"undefined"!=typeof s&&null!==s?e.setAttribute("width",s):e.removeAttribute("width"),"undefined"!=typeof d&&null!==d?e.setAttribute("height",d):e.removeAttribute("height")}},ko.bindingHandlers.wysiwygId={init:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;r||e.setAttribute("id",ko.utils.unwrapObservable(t()))},update:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;r||e.setAttribute("id",ko.utils.unwrapObservable(t()))}},ko.virtualElements.allowedBindings.wysiwygId=!0,ko.bindingHandlers.wysiwygClick={init:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;r||ko.bindingHandlers.click.init(e,t,n,i,o)}},ko.virtualElements.allowedBindings.wysiwygClick=!0,ko.bindingHandlers.wysiwygCss={update:function(e,t,n,i,o){var r="undefined"==typeof o.templateMode||"wysiwyg"!=o.templateMode;r||ko.bindingHandlers.css.update(e,t,n,i,o)}},ko.virtualElements.allowedBindings.wysiwygCss=!0,ko.bindingHandlers.wysiwygImg={makeTemplateValueAccessor:function(e,t){return function(){var n="undefined"!=typeof t.templateMode&&"wysiwyg"==t.templateMode,i=e(),o=ko.utils.peekObservable(i);return ko.utils.unwrapObservable(i),{name:n?o._editTemplate:o._template,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(e,t,n,i,o){return ko.bindingHandlers.template.init(e,ko.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,o))},update:function(e,t,n,i,o){return o=o.extend(t()),ko.bindingHandlers.template.update(e,ko.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,o),n,i,o)}},ko.virtualElements.allowedBindings.wysiwygImg=!0,ko.bindingHandlers.wysiwyg={currentIndex:0,standardOptions:{},fullOptions:{toolbar1:"bold italic forecolor backcolor hr styleselect removeformat | link unlink | pastetext code",plugins:["link hr paste lists textcolor code"]},init:function(e,t,n,i,o){ko.bindingHandlers.focusable.init(e),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){tinymce.remove("#"+e.getAttribute("id"))});var r=t();if(!ko.isObservable(r))throw"Wysiwyg binding called with non observable";if(8===e.nodeType)throw"Wysiwyg binding called on virtual node, ignoring...."+e.innerHTML;var l=e.getAttribute("id");l||(l="wysiwyg_"+ ++ko.bindingHandlers.wysiwyg.currentIndex,e.setAttribute("id",l));var a,s="DIV"==e.tagName||"TD"==e.tagName,d=!1,u=!1,g={selector:"#"+l,inline:!0,hidden_input:!1,plugins:["paste"],toolbar1:"bold italic",toolbar2:"",preview_styles:!1,paste_as_text:!0,language:"en",schema:"html5",extended_valid_elements:"strong/b,em/i,*[*]",menubar:!1,skin:"gray-flat",setup:function(e){e.on("change redo undo",function(){d||(u=!0,r(e.getContent({format:"raw"})),u=!1)}),e.on("focus",function(){e.nodeChanged(),e.getElement().click()}),e.on("BeforeSetContent",function(e){e.initial&&(e.format="raw")}),a=e}};return ko.utils.extend(g,ko.bindingHandlers.wysiwyg.standardOptions),s&&ko.utils.extend(g,ko.bindingHandlers.wysiwyg.fullOptions),global.setTimeout(function(){tinymce.init(g)}),ko.computed(function(){var n=ko.utils.unwrapObservable(t());if(!u){try{d=!0,"undefined"!=typeof a?a.setContent(n,{format:"raw"}):ko.utils.setHtml(e,n)}catch(e){console.log("TODO exception setting content to editable element",typeof a,e)}d=!1}},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./eventable.js":34}],49:[function(require,module,exports){
"use strict";var console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),checkModel=function(e,o,t,n,l){var f,i,p,r=0;if("undefined"==typeof l&&(l=!1),"undefined"!=typeof o&&"function"==typeof o.splice)for(f={},i=0;i<o.length;i++)f[o[i].type]=o[i];else f=o;for(var a in e)if(e.hasOwnProperty(a))if(p="undefined"!=typeof n?n+"."+a:a,t.hasOwnProperty(a))if(typeof t[a]!=typeof e[a])null!==t[a]&&null!==e[a]&&("string"==typeof t[a]?String(e[a])!=e[a]&&(console.log("TODO Different type 1 ",p,typeof t[a],typeof e[a],t[a],e[a]),r=Math.max(r,2)):"number"==typeof t[a]?Number(e[a])!=e[a]&&(console.log("TODO Different type 2 ",p,typeof t[a],typeof e[a],t[a],e[a]),r=Math.max(r,2)):(console.log("TODO Different type 3 ",p,typeof t[a],typeof e[a],t[a],e[a]),r=Math.max(r,2)));else if("object"==typeof e[a])if(null!==e[a])if("undefined"!=typeof e[a].splice){if(e[a].length>0)if(t[a].length>0){var c=0;for(i=0;i<t[a].length;i++)if("string"==typeof t[a][i].type){for(;c<e[a].length&&e[a][c].type!==t[a][i].type;)console.log("ignoring ",p,e[a][c].type," block type in reference not found in model"),c++;if(c>=e[a].length){console.log("WARN cannot find ",p,t[a][i].type," block in reference"),r=Math.max(r,2);break}r=Math.max(r,checkModel(e[a][c],void 0,t[a][i],p+"["+i+"."+t[a][i].type+"]"))}}else for(i=0;i<e[a].length;i++)"string"!=typeof e[a][i].type?(console.log("TODO found an object with no type",p,e[a][i]),r=Math.max(r,2)):f.hasOwnProperty(e[a][i].type)?r=Math.max(r,checkModel(f[e[a][i].type],f,e[a][i],p+"["+i+"."+e[a][i].type+"]")):(console.warn("TODO the model uses a block type not defined by the template. REMOVING IT!!",p,e[a][i]),e[a].splice(i,1),i--,r=Math.max(r,2))}else null===t[a]?l?(console.log("WARN Null object in model ",p,"instead of",e[a],"deleting it"),r=Math.max(r,2),delete e[a]):(console.log("INFO Null object in model ",p,"instead of",e[a],"cloning it from the reference"),r=Math.max(r,1),t[a]=e[a]):r=Math.max(r,checkModel(e[a],f,t[a],p,l));else null!==t[a]&&(console.log("TODO Null in reference but not null in model",p,t[a]),r=Math.max(r,2));else"string"!=typeof e[a]&&"boolean"!=typeof e[a]&&"number"!=typeof e[a]&&(console.log("TODO unsupported type",p,typeof e[a]),r=Math.max(r,2));else l?(console.warn("WARN Property ",p,"found in model is not defined by template: removing it!"),r=Math.max(r,2),delete e[a]):(console.log("INFO Property ",p,"missing in model, cloning from reference!"),r=Math.max(r,1),t[a]=e[a]);return l||(r=Math.max(r,checkModel(t,o,e,"undefined"!=typeof n?n+"!R":"!R",!0))),r};module.exports=checkModel;

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],50:[function(require,module,exports){
"use strict";var converterUtils=require("./utils.js"),cssParse=require("./..\\..\\..\\bower_components\\mensch\\lib\\parser.js"),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),domutils=require("./domutils.js"),_declarationValueLookup=function(e,t,r){for(var n=e.length-1;n>=0;n--)if("property"==e[n].type&&e[n].name==t)return _declarationValueUrlPrefixer(e[n].value,r);return null},_propToCamelCase=function(e){return e.replace(/-([a-z])/g,function(e,t,r,n){return t.toUpperCase()})},_declarationValueUrlPrefixer=function(e,t){if(e.match(/url\(.*\)/)){var r=e.replace(/(url\()([^\)]*)(\))/g,function(e,r,n,l){var i=n.trim(),o=n.trim().charAt(0);"'"==o||'"'==o?i=i.substr(1,i.length-2):o="";var a=t(i);return null!==a?r+o+a+o+l:e});return r}return e},elaborateDeclarations=function(e,t,r,n,l,i,o){var a="object"==typeof i&&null!==i?i:{},u=null,d=0;if("undefined"==typeof t){var f=cssParse("#{\n"+e+"}",{comments:!0,position:!0});t=f.stylesheet.rules[0].declarations,d=1}for(var s=t.length-1;s>=0;s--)if("property"==t[s].type)if(o===!0&&"display"==t[s].name&&"none"==t[s].value)null===u&&(u=e),u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,"");else{var v=t[s].name.match(/^-ko-(bind-|attr-)?([a-z0-9-]*?)(-if|-ifnot)?$/);if(null!==v){null===u&&"undefined"!=typeof e&&(u=e);var c,p,y,m="attr-"==v[1],h="bind-"==v[1],b=v[2],S="-if"==v[3]||"-ifnot"==v[3];if(S){c=t[s].name.substr(0,t[s].name.length-v[3].length);var g=_declarationValueLookup(t,c,r);if(null===g)throw"Unable to find declaration "+c+" for "+t[s].name}else{if((m||h)&&"undefined"==typeof l&&"undefined"!=typeof e)throw"Attributes and bind declarations are only allowed in inline styles!";var w,U=!0;if(m?(y=domutils.getAttribute(l,b),U=!1,w="virtualAttr"):h?(w=null,"text"==b?"undefined"!=typeof l?y=domutils.getInnerText(l):U=!1:"html"==b&&"undefined"!=typeof l?y=domutils.getInnerHtml(l):U=!1):(U="undefined"!=typeof e,U&&(y=_declarationValueLookup(t,b,r)),w="virtualStyle"),U&&null===y)throw console.error("Cannot find default value for",t[s].name,t),"Cannot find default value for "+t[s].name+": "+t[s].value+" in "+l+" ("+typeof e+"/"+b+")";var _=y,A=_propToCamelCase(b);try{p=converterUtils.expressionBinding(t[s].value,n,_)}catch(e){throw console.error("Model ensure path failed",e.stack,"name",t[s].name,"value",t[s].value,"default",y,"element",l),e}null!==w&&"undefined"==typeof a[w]&&(a[w]={}),"virtualAttr"==w&&"href"==A&&(w=null,A="wysiwygHref","undefined"!=typeof l&&null!==l&&domutils.removeAttribute(l,"href"));var k=_declarationValueLookup(t,t[s].name+"-if",r),x=!1;if(null===k)k=_declarationValueLookup(t,t[s].name+"-ifnot",r),x=!0;else if(null!==_declarationValueLookup(t,t[s].name+"-ifnot",r))throw"Unexpected error: cannot use both -if and -ifnot property conditions";if(null!==k)try{var C=converterUtils.conditionBinding(k,n);p=(x?"!":"")+"("+C+") ? "+p+" : null"}catch(e){throw console.error("Unable to deal with -ko style binding condition",k,t[s].name),e}null!==w?a[w][A]=p:a[A]=p}if(null!==u)try{if("undefined"!=typeof l&&null!==l)u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,"");else{var V="";S||(V=b+": <!-- ko text: "+p+" -->"+y+"<!-- /ko -->"),u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,V)}}catch(e){throw console.warn("Remove style failed",e,"name",t[s]),e}}else{var P=_declarationValueUrlPrefixer(t[s].value,r);if(P!=t[s].value&&(null===u&&"undefined"!=typeof e&&(u=e),null!==u))try{u=converterUtils.removeStyle(u,t[s].position.start,t[s].position.end,d,0,0,t[s].name+": "+P)}catch(e){throw console.log("Remove style failed replacing url",e,"name",t[s]),e}var j=_propToCamelCase(t[s].name),z="virtualAttrStyle",L="undefined"!=typeof a.virtualStyle?a.virtualStyle[j]:void 0,q=" ";"undefined"==typeof a[z]&&(a[z]="''",q=""),"undefined"!=typeof L?(a[z]="'"+t[s].name+": '+("+L+")+';"+q+"'+"+a[z],delete a.virtualStyle[j]):a[z]="'"+t[s].name+": "+converterUtils.addSlashes(P)+";"+q+"'+"+a[z]}}if("undefined"!=typeof l&&null!==l){for(var T in a.virtualStyle)if(a.virtualStyle.hasOwnProperty(T))throw console.log("Unexpected virtualStyle binding after conversion to virtualAttr.style",T,a.virtualStyle[T],e),"Unexpected virtualStyle binding after conversion to virtualAttr.style for "+T;delete a.virtualStyle;var O=domutils.getAttribute(l,"data-bind"),B=(null!==O?O+", ":"")+_bindingSerializer(a);domutils.setAttribute(l,"data-bind",B)}if("undefined"==typeof e){var D=!1;for(var H in a.virtualStyle)if(a.virtualStyle.hasOwnProperty(H)){D=!0;break}if(D){if("undefined"!=typeof a.virtualAttrStyle){var I=a.virtualAttrStyle;delete a.virtualAttrStyle,a.virtualAttrStyle=I}}else delete a.virtualStyle;return _bindingSerializer(a)}return u},_bindingSerializer=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&("object"==typeof e[r]?t.push(r+": { "+_bindingSerializer(e[r])+" }"):t.push(r+": "+e[r]));return t.reverse().join(", ")};module.exports=elaborateDeclarations;

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\mensch\\lib\\parser.js":15,"./domutils.js":51,"./utils.js":57}],51:[function(require,module,exports){
(function (global){
"use strict";function _extend(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),objExtend=function(e,t){return"function"==typeof $.extend?$.extend(!0,e,t):_extend(e,JSON.parse(JSON.stringify(t)))},getAttribute=function(e,t){var n=$(e).attr(t);return"undefined"==typeof n&&(n=null),n},setAttribute=function(e,t,n){$(e).attr(t,n)},removeAttribute=function(e,t){$(e).removeAttr(t)},getInnerText=function(e){return $(e).text()},getInnerHtml=function(e){return $(e).html()},getLowerTagName=function(e){return""===e.tagName&&"string"==typeof e.name?e.name.toLowerCase():""!==e.tagName?e.tagName.toLowerCase():$(e).prop("tagName").toLowerCase()},setContent=function(e,t){$(e).html(t)},replaceHtml=function(e,t){$(e).replaceWith(t)},removeElements=function(e,t){t&&"undefined"!=typeof e.detach&&e.detach(),e.remove()};module.exports={getAttribute:getAttribute,setAttribute:setAttribute,removeAttribute:removeAttribute,getInnerText:getInnerText,getInnerHtml:getInnerHtml,getLowerTagName:getLowerTagName,setContent:setContent,replaceHtml:replaceHtml,removeElements:removeElements,objExtend:objExtend};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],52:[function(require,module,exports){
"use strict";var console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),elaborateDeclarations=require("./declarations.js"),utils=require("./utils.js"),modelDef=require("./model.js"),_getOptionsObject=function(e){for(var t=e.split("|"),o={},n=0;n<t.length;n++){var i=t[n].split("=");o[i[0]]=i.length>1?i[1]:i[0]}return o},_filterProps=function(e,t,o){var n=[];for(var i in e)if(!i.match(/^customStyle$/)&&!i.match(/^_/)&&e.hasOwnProperty(i)){var l=null!==e[i]&&"undefined"!=typeof e[i]._category&&"style"==e[i]._category;if("id"==i||"type"==i||i.match(/Blocks$/));else if("styler"==t)(l||o>0)&&n.push(i);else if("edit"==t){var a=null!==e[i]&&"undefined"!=typeof e[i]._category&&"content"==e[i]._category&&("undefined"==typeof e[i]._context||"block"!=e[i]._context);a&&n.push(i)}else"undefined"==typeof t&&n.push(i)}return n},_propInput=function(e,t,o,n,i){var l,a="";if(null!==e&&"undefined"!=typeof e._widget&&(l=e._widget),"undefined"==typeof l)throw"Unknown data type for "+t;var d="focusable: true";if("edit"==n&&(d+=", event: { focus: function(ui, event) { $($element).click(); } } "),a+='<label class="data-'+l+'"'+("boolean"==l?" data-bind=\"event: { mousedown: function(ui, evt) { if (evt.button == 0) { var input = $($element).find('input'); var ch = input.prop('checked'); setTimeout(function() { input.click(); input.prop('checked', !ch); input.trigger('change'); }, 0); } } }, click: function(ui, evt) { evt.preventDefault(); }, clickBubble: false\"":"")+">","undefined"!=typeof i&&"undefined"!=typeof i[l]){var s=i[l],p={};if("undefined"!=typeof s.parameters)for(var r in s.parameters)s.parameters.hasOwnProperty(r)&&"undefined"!=typeof e["_"+r]&&(p[r]=e["_"+r]);a+=s.html(o,d,p)}else if("boolean"==l)a+='<input type="checkbox" value="nothing" data-bind="checked: '+o+", "+d+'" />',a+='<span class="checkbox-replacer" ></span>';else if("color"==l)a+='<input size="7" type="text" data-bind="colorpicker: { color: '+o+", strings: $root.t('Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.') }, , "+d+'" />';else if("select"==l){if("undefined"!=typeof e._options){var u=_getOptionsObject(e._options);a+='<select data-bind="value: '+o+", "+d+'">';for(var f in u)u.hasOwnProperty(f)&&(a+='<option value="'+f+"\" data-bind=\"text: $root.ut('template', '"+utils.addSlashes(u[f])+"')\">"+u[f]+"</option>");a+="</select>"}}else if("font"==l)a+='<select type="text" data-bind="value: '+o+", "+d+'">',a+='<optgroup label="Sans-Serif Fonts">',a+='<option value="Arial,Helvetica,sans-serif">Arial</option>',a+="<option value=\"'Comic Sans MS',cursive,sans-serif\">Comic Sans MS</option>",a+='<option value="Impact,Charcoal,sans-serif">Impact</option>',a+="<option value=\"'Trebuchet MS',Helvetica,sans-serif\">Trebuchet MS</option>",a+='<option value="Verdana,Geneva,sans-serif">Verdana</option>',a+="</optgroup>",a+='<optgroup label="Serif Fonts">',a+='<option value="Georgia,serif">Georgia</option>',a+="<option value=\"'Times New Roman',Times,serif\">Times New Roman</option>",a+="</optgroup>",a+='<optgroup label="Monospace Fonts">',a+="<option value=\"'Courier New',Courier,monospace\">Courier New</option>",a+="</optgroup>",a+="</select>";else if("url"==l)a+='<div class="ui-textbutton">',a+='<input class="ui-textbutton-input" size="7" type="url" pattern="(mailto:.+@.+|https?://.+\\..+|\\[.*\\].*)" value="nothing" data-bind="css: { withButton: typeof $root.linkDialog !== \'undefined\' }, validatedValue: '+o+", "+d+'" />',a+="<a class=\"ui-textbutton-button\" data-bind=\"visible: typeof $root.linkDialog !== 'undefined', click: typeof $root.linkDialog !== 'undefined' ? $root.linkDialog.bind($element.previousSibling) : false, button: { icons: { primary: 'fa fa-fw fa-ellipsis-h' }, label: 'Opzioni', text: false }\">Opzioni</a>",a+="</div>";else if("integer"==l){var c=0,v=1e3;null!==e&&"undefined"!=typeof e._max&&(v=e._max),null!==e&&"undefined"!=typeof e._min&&(c=e._min);var b=v-c>=100?10:1,y=5*b;a+='<input class="number-spinner" size="7" step="'+b+'" type="number" value="-1" data-bind="spinner: { min: '+c+", max: "+v+", page: "+y+", value: "+o+" }, valueUpdate: ['change', 'spin'], "+d+'" />'}else a+='<input size="7" type="text" value="nothing" data-bind="value: '+o+", "+d+'" />';return a+="</label>"},_getGlobalStyleProp=function(e,t,o,n){var i;return"object"==typeof t&&null!==t&&"undefined"==typeof t._widget||"undefined"!=typeof o&&"undefined"!=typeof n&&n.length>0&&"object"==typeof e&&"undefined"!=typeof e[n]&&(i=e[n]),i},_propEditor=function(e,t,o,n,i,l,a,d,s,p,r,u,f,c,v){if("undefined"==typeof s&&(s=0),"undefined"!=typeof a&&"object"==typeof n&&null!==n&&"undefined"==typeof n._usecount)return console.log("TODO EDITOR ignoring",l,"property because it is not used by the template","prop:",a,"type:",d,"level:",s,e._templateName),"";var b,y="undefined"!=typeof u?a+"._defaultComputed":a,h="",m=y,g=1,_=1;if("object"==typeof n&&null!==n&&"undefined"==typeof n._widget||"undefined"==typeof u&&(g+=1),"undefined"==typeof u&&"undefined"!=typeof p&&(_+=p),"undefined"!=typeof a&&f&&(h+="<!-- ko ifSubs: { data: "+m+", threshold: "+_+", gutter: "+g+" } -->"),"undefined"==typeof a||null!==n&&"undefined"!=typeof n._name||console.log("TODO WARN Missing label for property ",a),"undefined"==typeof a&&null!==n&&"undefined"==typeof n._name&&console.log("TODO WARN Missing label for object ",n.type),"object"==typeof n&&null!==n&&"undefined"==typeof n._widget){var k=_filterProps(n,d,s),S="styler"==d&&null!==n&&"undefined"!=typeof n.customStyle&&"undefined"!=typeof u,w="",$="";"undefined"!=typeof a&&"edit"==d&&(w=", click: function(obj, evt) { $root.selectItem("+a+", $data); return false }, clickBubble: false, css: { selecteditem: $root.isSelectedItem("+a+") }, scrollIntoView: $root.isSelectedItem("+a+"), ",$+=" selectable"),S&&($+=" supportsCustomStyles"),h+='<div class="objEdit level'+s+$+'" data-bind="tooltips: {}'+w+'">';var D=null!==n&&"undefined"!=typeof n._name?n._name:"undefined"!=typeof a?"["+a+"]":"";if(S){var j="Stile";"undefined"!=typeof i&&null!==i&&"undefined"!=typeof i._name?j=i._name:console.log("TODO missing label for theme section ",a,null!==n?n.type:"-"),D="<span class=\"blockSelectionMethod\" data-bind=\"text: customStyle() ? $root.ut('template', '"+utils.addSlashes(D)+"') : $root.ut('template', '"+utils.addSlashes(j)+"')\">Block</span>"}else D="<span data-bind=\"text: $root.ut('template', '"+utils.addSlashes(D)+"')\">"+D+"</span>";if(b=null!==n&&"undefined"!=typeof n._help?' title="'+utils.addSlashes(n._help)+"\" data-bind=\"attr: { title: $root.ut('template', '"+utils.addSlashes(n._help)+"') }\"":"",h+="<span"+b+' class="objLabel level'+s+'">'+D+"</span>","edit"==d&&"undefined"!=typeof n._blockDescription&&(h+="<div class=\"blockDescription\" data-bind=\"html: $root.ut('template', '"+utils.addSlashes(n._blockDescription)+"')\">"+n._blockDescription+"</div>"),S&&(h+='<label class="data-boolean blockCheck" data-bind="tooltips: { }">',h+='<input type="checkbox" value="nothing" data-bind="focusable: true, checked: customStyle" />',h+='<span title="Switch between global and block level styles editing" data-bind="attr: { title: $root.t(\'Switch between global and block level styles editing\') }" class="checkbox-replacer checkbox-replacer-onoff"></span>',h+="</label>",h+="<!-- ko template: { name: 'customstyle', if: customStyle } --><!-- /ko -->"),"undefined"!=typeof a&&(h+="<!-- ko with: "+a+" -->",1==s&&"undefined"!=typeof a&&"undefined"!=typeof n._previewBindings&&"undefined"!=typeof e)){"undefined"!=typeof c&&(h+='<!-- ko with: $root.content() --><div class="objPreview" data-bind="'+c+'"></div><!-- /ko -->'),"undefined"!=typeof v&&(h+='<!-- ko with: $parent --><div class="objPreview" data-bind="'+v+'"></div><!-- /ko -->');var x=elaborateDeclarations(void 0,n._previewBindings,o,e.bind(this,l+"."));h+='<div class="objPreview"><div class="objPreviewInner" data-bind="'+x+'"></div></div>'}var B;0===s&&"undefined"!=typeof n._previewBindings&&(B=elaborateDeclarations(void 0,n._previewBindings,o,e.bind(this,l.length>0?l+".":"")));var E,O,T,C,I=h.length;for(E=0;E<k.length;E++)O=l.length>0?l+"."+k[E]:k[E],"object"==typeof n[k[E]]&&null!==n[k[E]]&&"undefined"==typeof n[k[E]]._widget||(C=void 0,0===s&&"theme"==k[E]?h+=_propEditor(e,t,o,n[k[E]],T,O,k[E],d,0,p,void 0,void 0,f,c):(C=_getGlobalStyleProp(r,n[k[E]],k[E],O),h+=_propEditor(e,t,o,n[k[E]],T,O,k[E],d,s+1,p,r,C,f,c,B)));for(E=0;E<k.length;E++)O=l.length>0?l+"."+k[E]:k[E],"object"==typeof n[k[E]]&&null!==n[k[E]]&&"undefined"==typeof n[k[E]]._widget&&(C=void 0,0===s&&"theme"==k[E]?h+=_propEditor(e,t,o,n[k[E]],T,O,k[E],d,0,p,void 0,void 0,f,c):(C=_getGlobalStyleProp(r,n[k[E]],k[E],O),h+=_propEditor(e,t,o,n[k[E]],T,O,k[E],d,s+1,p,r,C,f,c,B)));var P=h.length-I;if(0===P){if("object"==typeof n&&null!==n&&"template"==n._context)return"";h+='<div class="objEmpty" data-bind="html: $root.t(\'Selected element has no editable properties\')">Selected element has no editable properties</div>'}"undefined"!=typeof a&&(h+="<!-- /ko -->"),h+="</div>"}else{var N=!0;if("undefined"==typeof r&&(N=!1),null===n||"object"!=typeof n||"undefined"!=typeof n._widget){var M=[];"undefined"!=typeof u&&M.push("css: { notnull: "+a+"() !== null }"),b=null!==n&&"undefined"!=typeof n._help?' title="'+utils.addSlashes(n._help)+"\" data-bind=\"attr: { title: $root.ut('template', '"+utils.addSlashes(n._help)+"') }\"":"",b.length>0&&M.push("tooltips: {}");var G=M.length>0?'data-bind="'+utils.addSlashes(M.join())+'"':"";h+='<div class="propEditor '+(N?"checkboxes":"")+'"'+G+">";var z=null!==n&&"undefined"!=typeof n._name?n._name:"undefined"!=typeof a?"["+a+"]":"";z="<span data-bind=\"text: $root.ut('template', '"+utils.addSlashes(z)+"')\">"+z+"</span>",h+="<span"+b+' class="propLabel">'+z+"</span>",h+='<div class="propInput '+("undefined"!=typeof r?"local":"")+'" data-bind="css: { default: '+a+'() === null }">',h+=_propInput(n,a,y,d,t),h+="</div>","undefined"!=typeof u&&(h+='<div class="propInput global" data-bind="css: { overridden: '+a+'() !== null }">',h+=_propInput(n,a,u,d,t),h+="</div>",N&&(h+='<div class="propCheck"><label data-bind="tooltips: {}"><input type="checkbox" data-bind="focusable: true, click: function(evt, obj) { $root.localGlobalSwitch('+a+", "+u+"); return true; }, checked: "+a+'() !== null">',h+='<span class="checkbox-replacer" data-bind="css: { checked: '+a+"() !== null }, attr: { title: $root.t('This style is specific for this block: click here to remove the custom style and revert to the theme value') }\"></span>",h+="</label></div>")),h+="</div>"}else h+=null===n||"object"!=typeof n?'<div class="propEditor unknown">[A|'+a+"|"+typeof n+"]</div>":'<div class="propEditor unknown">[B|'+a+"|"+typeof n+"]</div>"}return"undefined"!=typeof a&&f&&(h+="<!-- /ko -->",h+="<!-- ko ifSubs: { not: true, data: "+m+", threshold: "+_+", gutter: 0 } -->",h+='<span class="label notused">('+a+")</span>",h+="<!-- /ko -->"),h},createBlockEditor=function(e,t,o,n,i,l,a,d,s,p,r,u){"undefined"==typeof r&&(r=!0);var f,c=modelDef.getDef(e,l),v=modelDef.getDef(e,i);"undefined"!=typeof v._previewBindings&&"thaeme"!=l&&"styler"==a&&(f=elaborateDeclarations(void 0,v._previewBindings,n,modelDef.getBindValue.bind(void 0,e,o,i,i,"")));var b,y="undefined"!=typeof p&&p?e[l]._globalStyles:void 0,h="undefined"!=typeof p&&p?e[l]._globalStyle:void 0;if("undefined"!=typeof h){var m=modelDef.getDef(e,"theme");b=m[h.replace(/^(\$theme|_theme_)\./,"")]}var g=modelDef.getBindValue.bind(void 0,e,o,i,l);g._templateName=l;var _='<div class="editor">';_+='<div class="blockType'+("undefined"!=typeof y?" withdefaults":"")+'">'+c.type+"</div>";var k=_propEditor(g,t,n,c,b,"",void 0,a,u,s,y,h,r,f);k.length>0&&(_+=k),_+="</div>",d(_,l,a)},createBlockEditors=function(e,t,o,n,i,l,a,d){createBlockEditor(e,t,o,n,i,l,"edit",a,d),createBlockEditor(e,t,o,n,i,l,"styler",a,d,!0)},generateEditors=function(e,t,o,n,i){var l,a=e._defs,d=e.templateName,s=e._blocks,p=[];for(l=0;l<s.length;l++)"undefined"!=typeof s[l].container&&p.push(modelDef.generateModel(a,s[l].block)),createBlockEditors(a,t,void 0,o,s[l].root,s[l].block,n,i);return"undefined"!=typeof a.theme&&createBlockEditor(a,t,void 0,o,d,"theme","styler",n,void 0,!1,!1,-1),p};module.exports=generateEditors;

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./declarations.js":50,"./model.js":54,"./utils.js":57}],53:[function(require,module,exports){
"use strict";var modelDef=require("./model.js"),wrappedResultModel=function(e){var r=e._defs,t=e.templateName,l=modelDef.getDef(r,t),a=modelDef.generateResultModel(e),o=require("./wrapper.js"),d=o(a,l,r);return d},translateTemplate=function(){var e=require("./parser.js");return e.apply(e,arguments)},generateEditors=function(){var e=require("./editor.js");return e.apply(e,arguments)},checkModel=function(){var e=require("./checkmodel.js");return e.apply(e,arguments)};module.exports={translateTemplate:translateTemplate,wrappedResultModel:wrappedResultModel,generateResultModel:modelDef.generateResultModel,generateEditors:generateEditors,checkModel:checkModel};

},{"./checkmodel.js":49,"./editor.js":52,"./model.js":54,"./parser.js":55,"./wrapper.js":58}],54:[function(require,module,exports){
"use strict";var objExtend=require("./domutils.js").objExtend,console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),_valueSet=function(e,t,n,o){var l=n.indexOf(".");if(l==-1)if("undefined"==typeof t[n])console.log("Undefined prop "+n+" while setting value "+o+" in model._valueSet");else if(null===t[n])"object"==typeof o&&null!==o&&"undefined"==typeof o.push&&console.log("nullpropobjectvalue",n,o),t[n]=o;else if("object"==typeof t[n]&&"function"==typeof t[n].push){var r;if("string"==typeof o){var f=o.match(/^\[(.*)\]$/);if(null===f)throw"Unexpected default value for array property "+n+": "+o;r=f[1].split(",")}else{if("object"!=typeof o||"undefined"==typeof o.push)throw"Unexpected default value for array property "+n+": "+o+" typeof "+typeof o;r=o}for(var d=[],i=0;i<r.length;i++)"@"==r[i].substr(0,1)?d.push(_generateModel(e,r[i].substr(1))):r[i].length>0&&d.push(r[i]);t[n]=d}else"string"==typeof t[n]||"boolean"==typeof t[n]?t[n]=o:"object"==typeof t[n]&&null!==t[n]&&"undefined"!=typeof t[n]._widget?("object"==typeof o&&null!==o&&console.log("objectvalue",n,t[n]._widget,o),t[n]=o):console.log("setting",typeof t[n],t[n],n,o);else{var a=n.substr(0,l);_valueSet(e,t[a],n.substr(l+1),o)}},_modelCreateOrUpdateBlockDef=function(e,t,n,o){if("undefined"!=typeof e[t]&&e[t]._initialized&&!e[t]._writeable)throw console.log("_modelCreateOrUpdateBlockDef",e,t,n,o),"Trying to alter non writeable model: "+t+" / "+n;if("undefined"==typeof e[t]&&(e[t]={_writeable:!0},"undefined"==typeof o&&(o={}),"undefined"==typeof o.category&&"undefined"==typeof e[t]._category&&(t.match(/(^t|.T)heme$/)||t.match(/(^s|.S)tyle$/)||t.match(/(^c|.C)olor$/)||t.match(/(^r|.R)adius$/)?o.category="style":o.category="content")),"undefined"!=typeof o){if("undefined"!=typeof o.name&&(e[t]._name=o.name),"undefined"!=typeof o.themeOverride&&(e[t]._themeOverride=o.themeOverride),"undefined"!=typeof o.globalStyle){e[t]._globalStyle=o.globalStyle;var l=o.globalStyle.replace(/^(\$theme|_theme_)\./,""),r=l.indexOf("."),f=r!=-1?l.substr(0,r):l;_modelCreateOrUpdateBlockDef(e,"theme",f),("undefined"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,"customStyle=false")}"undefined"!=typeof o.contextName&&(e[t]._context=o.contextName,"block"==o.contextName&&"undefined"==typeof e[t]._globalStyle&&(e[t]._globalStyle="_theme_.bodyTheme",_modelCreateOrUpdateBlockDef(e,"theme","bodyTheme"),("undefined"==typeof e[t]._themeOverride||e[t]._themeOverride)&&_modelCreateOrUpdateBlockDef(e,t,"customStyle=false"))),"undefined"!=typeof o.extend&&(e[t].type=o.extend)}for(var d in o)o.hasOwnProperty(d)&&"undefined"!=typeof o[d]&&["name","extend","contextName","globalStyle","themeOverride"].indexOf(d)==-1&&(e[t]["_"+d]=o[d]);"undefined"!=typeof n&&n.length>0&&(e[t]._props="undefined"!=typeof e[t]._props&&e[t]._props.length>0?e[t]._props+" "+n:n)},_removePrefix=function(e){var t=e.match(/^[^A-Z]+([A-Z])(.*)$/);return null!==t?t[1].toLowerCase()+t[2]:null},_generateModelFromDef=function(e,t){var n={};for(var o in e)if(!o.match(/^_.*/)&&e.hasOwnProperty(o)){var l=e[o];if("object"==typeof l&&null!==l&&"undefined"!=typeof l._complex&&l._complex)n[o]=_generateModelFromDef(l,t);else if("type"==o)n[o]=l;else{if("object"!=typeof l)throw console.error("Unexpected model def",o,l,e),"Unexpected model def ["+o+"]="+l;n[o]=null}}if("undefined"!=typeof e._defaultValues){var r=e._defaultValues;for(var f in r)r.hasOwnProperty(f)&&_valueSet(t,n,f,r[f])}return n},_generateModel=function(e,t){var n=_getModelDef(e,t,!1,!0);return _generateModelFromDef(n,e)},_getDef=function(e,t){return _getModelDef(e,t,!1,!0)},_getModelDef=function(e,t,n,o){if("undefined"==typeof e[t]){if(t.indexOf(" ")!=-1)return null;var l=_removePrefix(t);return null!==l?_getModelDef(e,l,n,o):null}var r=e[t];if("object"!=typeof r)throw"Block definition must be an object: found "+r+" for "+t;if("undefined"==typeof r._initialized){if("undefined"==typeof r.type&&(t.indexOf(" ")==-1?r.type=t:r.type=t.substr(t.indexOf(" ")+1)),r.type!=t&&"undefined"==typeof r._widget){var f=_getModelDef(e,r.type,!0),d=objExtend(f,r);r=d,e[t]=r}else"undefined"==typeof r._widget&&"undefined"==typeof r._props&&"undefined"==typeof r._complex;r._writeable=!0,r._initialized=!0}if("undefined"!=typeof r._props){var i=r._props;if(i=i.split(" "),i.length>0&&"undefined"==typeof r._writeable)throw console.error("Altering a non writable object ",t,i,r),"Altering a non writable object: "+t+" def: "+i;"undefined"==typeof r._processedDefs&&(r._processedDefs={}),"undefined"==typeof r._globalStyles&&(r._globalStyles={}),"undefined"==typeof r._defaultValues&&(r._defaultValues={});for(var a=0;a<i.length;a++){var u=i[a];if(0!==u.length){var s=u,p=null,y=u.match(/^([^=\[\]]+)(\[\])?(=?)(.*)$/);if(null!==y&&(u=y[1],"[]"==y[2]&&("undefined"==typeof r[u]&&(r[u]=[]),p=[]),"="==y[3]&&(p=u.match(/(^v|V)isible$/)?"true"==String(y[4]).toLowerCase():u.match(/^customStyle$/)?"true"==String(y[4]).toLowerCase():y[4])),null!==p&&"undefined"==typeof r._defaultValues[u]&&(r._defaultValues[u]=p),"undefined"==typeof r[u]){var c=_getModelDef(e,t+" "+u,!0);null===c&&(c=_getModelDef(e,u,!0)),r[u]=c}r._processedDefs[u]=s,r._complex=!0}}delete r._props}if(n){r._writeable=!1;var _=objExtend({},r);return _}if(o)return r._writeable=!1,r;if("undefined"==typeof r._writeable||r._writeable===!1)throw"Retrieving non writeable object definition: "+t;return r},_increaseUseCount=function(e,t){if(e){if("undefined"==typeof t._usecount)throw console.error("ERROR trying to bind an unused property while readonly",t),"ERROR trying to bind an unused property"}else"undefined"==typeof t._usecount&&(t._usecount=0),t._usecount++},ensureGlobalStyle=function(e,t,n,o,l,r,f,d){var i=n(r,f,d);if("undefined"==typeof e[o]._globalStyles[l]){if(t)throw"Cannot find _globalStyle for "+l+" in "+o+"!";(l.indexOf(".")!=-1||"object"==typeof e[o][l]&&"undefined"!=typeof e[o][l]._widget)&&(e[o]._globalStyles[l]=i)}else if(e[o]._globalStyles[l]!=i)throw"Unexpected conflicting globalStyle [2] for "+o+"/"+l+": old="+e[o]._globalStyles[l]+" new="+i},modelEnsurePathAndGetBindValue=function(e,t,n,o,l,r,f,d,i,a){var u,s,p;if("$"==f.substr(0,1)){console.warn("DEPRECATED $ in bindingProvider: ",f,l);var y=f.indexOf(".");if(y==-1)throw"Unexpected fullPath: "+f+"/"+r+"/"+l+"/"+d+"/"+i;if(u=f.substr(1,y-1),p=f.substr(y+1),"theme"!=u)throw"Unexpected $ sequence: "+u+" in "+f;var c=p.indexOf(".");u=p.substr(0,c),p=p.substr(c+1),s="$root.content().theme()."+u+"()."+p.replace(new RegExp("\\.","g"),"().")}else if("#"==f.substr(0,1))console.warn("DEPRECATED # in bindingProvider: ",f,l),u=o,p=f.substr(1),s="$root.content()."+p.replace(new RegExp("\\.","g"),"().");else if("_theme_."==f.substr(0,8)){var _=f.indexOf(".",8);u=f.substr(8,_-8),p=f.substr(_+1),s="$root.content().theme()."+u+"()."+p.replace(new RegExp("\\.","g"),"().")}else"_root_."==f.substr(0,7)?(u=o,p=f.substr(7),s="$root.content()."+p.replace(new RegExp("\\.","g"),"().")):(u=l,p=r+f,s=f.replace(new RegExp("\\.","g"),"()."));if("undefined"==typeof t[u])throw"Cannot find model def for ["+u+"]";var g=p.indexOf("."),b=g==-1?p:p.substr(0,g);if(u.indexOf("-")!=-1)throw console.error("ERROR cannot use - for block names",u),"ERROR unexpected char in block name: "+u;if(b.indexOf("-")!=-1)throw console.error("ERROR cannot use - for property names",b),"ERROR unexpected char in property name: "+u;if(e)return"undefined"!=typeof t[u]._globalStyle&&"undefined"!=typeof t[u][b]&&"style"==t[u][b]._category&&(s+="._defaultComputed"),s;var h;if(e){if("undefined"!=typeof d)throw"Cannot use defaultValue in readonly mode!";if(i)throw"Cannot use overrideDefault in readonly mode for "+u+"/"+p+"/"+i+"!";if("undefined"!=typeof a)throw"Cannot set category for "+u+"/"+p+"/"+a+" in readonly mode!";h=_getModelDef(t,u,!1,!0)}else t[u]._writeable===!1&&console.log("TODO debug use cases for this condition",u,p),h=_getModelDef(t,u,t[u]._writeable===!1);if(null===h)throw"Unexpected model for ["+u+"]";if("undefined"==typeof h[b]){if(e)throw"Cannot find path "+b+" for "+u+"!";_modelCreateOrUpdateBlockDef(t,u,b),h=_getModelDef(t,u,!1)}"undefined"!=typeof t[u]._globalStyle&&"undefined"!=typeof t[u][b]&&null!==t[u][b]&&"style"==t[u][b]._category&&(s+="._defaultComputed");var m=h;try{if(_increaseUseCount(e,m),g!=-1){var w=p;do{var v=w.substr(0,g);if("undefined"==typeof m[v])throw"Found an unexpected prop "+v+" for model "+u+" for "+p;m=m[v],_increaseUseCount(e,m),w=w.substr(g+1),g=w.indexOf(".")}while(g!=-1);if("undefined"==typeof m[w]||null===m[w])throw"Found an unexpected path termination "+w+" for model "+u+" for "+p;m=m[w]}else m=m[p];if("undefined"==typeof m||null===m)throw"Unexpected null model for "+u+"/"+r+"/"+f;"undefined"!=typeof a&&(m._category=a),_increaseUseCount(e,m)}catch(e){throw console.error("TODO ERROR Property lookup exception",e,u,p,l,f,t),e}if("undefined"!=typeof t[u]._globalStyle&&"object"==typeof t[u][b]&&null!==t[u][b]&&"undefined"!=typeof t[u][b]._category&&"style"==t[u][b]._category){var x=modelEnsurePathAndGetBindValue.bind(void 0,e,t,n,o,l,""),O=p.indexOf(".")!=-1?p.substr(p.indexOf(".")):"";if(O.indexOf(".",1)!=-1)throw"TODO unsupported object nesting! "+p;var D=t[u]._globalStyle+"."+b;"object"==typeof t[u][b]&&null!==t[u][b]&&"undefined"!=typeof t[u][b]._globalStyle&&(D=t[u][b]._globalStyle),ensureGlobalStyle(t,e,x,u,b,D,void 0,!1);var S=D+O;if("undefined"==typeof d&&null!==t[u]._defaultValues[p]&&(d=t[u]._defaultValues[p]),ensureGlobalStyle(t,e,x,u,p,S,d,i),"undefined"!=typeof d){if(e)throw console.error("Cannot set a new theme default value",S.substr(7),d,"while in readonly mode"),"Cannot set a new theme default value ("+d+") for "+S.substr(7)+" while in readonly mode!";n("default",S.substr(7),d)}d=null}if("undefined"!=typeof d)if("undefined"==typeof t[u]._defaultValues[p]||"undefined"!=typeof i&&i){if(e)throw"Cannot set new _defaultValues [1] for "+p+" in "+u+"!";t[u]._defaultValues[p]=d}else if(null===d){if(e&&null!==t[u]._defaultValues[p])throw"Cannot set new _defaultValues [2] for "+p+" in "+u+"!";t[u]._defaultValues[p]=null}else if(t[u]._defaultValues[p]!=d)throw console.error("TODO error!!! Trying to set a new default value for "+u+" "+p+" while it already exists (current: "+t[u]._defaultValues[p]+", new: "+d+")"),"Trying to set a new default value for "+u+" "+p+" while it already exists (current: "+t[u].defaultValues[p]+", new: "+d+")";return s},generateResultModel=function(e){var t=e._defs,n=e.templateName,o=_generateModel(t,n);return"undefined"!=typeof t.theme&&(o.theme=_generateModel(t,"theme")),o};module.exports={ensurePathAndGetBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!1),getBindValue:modelEnsurePathAndGetBindValue.bind(void 0,!0),generateModel:_generateModel,generateResultModel:generateResultModel,getDef:_getDef,createOrUpdateBlockDef:_modelCreateOrUpdateBlockDef};

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./domutils.js":51}],55:[function(require,module,exports){
(function (global){
"use strict";function conditional_replace(t){return t.replace(/<!--\[if ([^\]]*)\]>((?:(?!--)[\s\S])*?)<!\[endif\]-->/g,function(t,e,o){var a="<!-- cc:start -->";a+=o.replace(/<([A-Za-z:]+)/g,"<!-- cc:bo:$1 --><cc").replace(/<\/([A-Za-z:]+)>/g,"<!-- cc:bc:$1 --></cc><!-- cc:ac:$1 -->").replace(/\/>/g,"/><!-- cc:sc -->"),a+="<!-- cc:end -->";var i='<replacedcc condition="'+e+'" style="display: none">';return i+=$("<div>").append($(a)).html().replace(/^<!-- cc:start -->/,"").replace(/<!-- cc:end -->$/,""),i+="</replacedcc>"})}var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),converterUtils=require("./utils.js"),elaborateDeclarations=require("./declarations.js"),processStylesheetRules=require("./stylesheet.js"),modelDef=require("./model.js"),domutils=require("./domutils.js"),wrapElementWithCondition=function(t,e,o){var a=domutils.getAttribute(e,t);try{var i=converterUtils.conditionBinding(a,o);$(e).before("<!-- ko if: "+i+" -->"),$(e).after("<!-- /ko -->"),domutils.removeAttribute(e,t)}catch(o){throw console.warn("Model ensure path failed in if/variant",e,a,t),o}},replacedAttributes=function(t,e){domutils.setAttribute(t,e,domutils.getAttribute(t,"replaced"+e))},processStyle=function(t,e,o,a){var i,r=domutils.getAttribute(t,"replacedstyle"),l=null;a&&(i={uniqueId:"$data",attr:{id:"id"}});var d=null!==domutils.getAttribute(t,"data-ko-display");l=elaborateDeclarations(r,void 0,e,o,t,i,d),null===l?l=r:domutils.removeAttribute(t,"replacedstyle"),null!==l&&(l.trim().length>0?domutils.setAttribute(t,"style",l):domutils.removeAttribute(t,"style"))},_fixRelativePath=function(t,e,o,a){var i=domutils.getAttribute(a,t),r=e(i);null!==r&&domutils.setAttribute(a,t,r)},processBlock=function(t,e,o,a,i,r,l,d,s,n){try{var u;if("block"==r)u=domutils.getAttribute(t,"data-ko-block"),domutils.removeAttribute(t,"data-ko-block");else{if("template"!=r)throw"Unexpected context name while processing block: "+r;u=l}$("[data-ko-remove]",t).remove();for(var c=$("[data-ko-block]",t).replaceWith("<replacedblock>"),m=["href","src","data-ko-placeholder-src","background"],p=0;p<m.length;p++){var h=_fixRelativePath.bind(void 0,m[p],i);$("["+m[p]+"]",t).each(h)}var b=domutils.getAttribute(t,"data-ko-properties");null===b&&(b=""),$("[data-ko-properties]",t).each(function(t,e){b.length>0&&(b+=" "),b+=domutils.getAttribute(e,"data-ko-properties"),domutils.removeAttribute(e,"data-ko-properties")}),modelDef.createOrUpdateBlockDef(e,u,b,{contextName:r});var f=modelDef.ensurePathAndGetBindValue.bind(void 0,e,o,l,u,"");"block"==r&&f("id",""),$("style",t).each(function(t,a){var r=domutils.getInnerHtml(a),d=modelDef.createOrUpdateBlockDef.bind(void 0,e),s=modelDef.ensurePathAndGetBindValue.bind(void 0,e,o,l),c=processStylesheetRules(r,void 0,s,d,o,i,l,u);if(c!=r)if(""!==c.trim()){var m=n(c);domutils.setAttribute(a,"data-bind","template: { name: '"+m+"' }"),domutils.setContent(a,"")}else domutils.removeElements($(a))}),processStyle(t,i,f,s);for(var v=["data-ko-display","data-ko-editable","data-ko-wrap","href"],k=0;k<v.length;k++){var g=domutils.getAttribute(t,v[k]);if(g)throw console.warn("ERROR: Unsupported "+v[k]+" used together with data-ko-block",t),"ERROR: Unsupported "+v[k]+" used together with data-ko-block"}return $("[data-ko-link]",t).each(function(t,e){var o=domutils.getAttribute(e,"data-ko-link"),a=domutils.getAttribute(e,"replacedstyle");"undefined"!=typeof a&&null!==a||(a=""),a=""!==a?"-ko-attr-href: @"+o+"; "+a:"-ko-attr-href: @"+o,domutils.setAttribute(e,"replacedstyle",a),domutils.setAttribute(e,"data-ko-wrap",o),domutils.removeAttribute(e,"data-ko-link")}),$("[replacedstyle]",t).each(function(t,e){processStyle(e,i,f,!1)}),$("[replacedhttp-equiv]",t).each(function(t,e){replacedAttributes(e,"http-equiv")}),$("[data-ko-display]",t).each(function(t,e){wrapElementWithCondition("data-ko-display",e,f)}),$("[data-ko-editable]",t).each(function(t,e){var o,a,i,r,l,d,s=domutils.getAttribute(e,"data-ko-editable");if(s.lastIndexOf(".")>0){var u=s.substr(0,s.lastIndexOf("."));l=f(u)}else l=f(s);if(d="wysiwygClick: function(obj, evt) { $root.selectItem("+l+", $data); return false }, clickBubble: false, wysiwygCss: { selecteditem: $root.isSelectedItem("+l+") }, scrollIntoView: $root.isSelectedItem("+l+")","img"!=domutils.getLowerTagName(e)){a=domutils.getInnerHtml(e);var c=f(s,a,!0,"wysiwyg");if(o="",domutils.getAttribute(e,"id")||(o+="wysiwygId: id()+'_"+s.replace(".","_")+"', "),"undefined"!=typeof d&&(o+=d+", "),o+="wysiwygOrHtml: "+c,"td"==domutils.getLowerTagName(e)){var m=$('<div data-ko-wrap="false" style="width: 100%; height: 100%"></div>')[0];domutils.setAttribute(m,"data-bind",o);var p=domutils.getInnerHtml($("<div></div>").append(m));domutils.setContent(e,p)}else i=domutils.getAttribute(e,"data-bind"),r=(null!==i?i+", ":"")+o,domutils.setAttribute(e,"data-bind",r),domutils.setContent(e,"");domutils.removeAttribute(e,"data-ko-editable")}else{var h=domutils.getAttribute(e,"width");if(""===h&&(h=null),null===h)throw console.error("ERROR: data-ko-editable images must declare a WIDTH attribute!",e),"ERROR: data-ko-editable images must declare a WIDTH attribute!";var b=domutils.getAttribute(e,"height");""===b&&(b=null);var v=domutils.getAttribute(e,"align");i=domutils.getAttribute(e,"data-bind");var k=i&&i.match(/virtualAttr: {[^}]* height: ([^,}]*)[,}]/);k&&(b=k[1]);var g=i&&i.match(/virtualAttr: {[^}]* width: ([^,}]*)[,}]/);g&&(h=g[1]);var w;a=domutils.getAttribute(e,"data-ko-placeholder-src");var y="";a?y=domutils.getAttribute(e,"src"):a=domutils.getAttribute(e,"src");var A;h&&b?A=h+"+'x'+"+b:b?h||(A="'h'+"+b+"+''"):A="'w'+"+h+"+''";var _,D=b||domutils.getAttribute(e,"data-ko-placeholder-height"),R=h||domutils.getAttribute(e,"data-ko-placeholder-width");if(domutils.removeAttribute(e,"src"),domutils.removeAttribute(e,"data-ko-editable"),domutils.removeAttribute(e,"data-ko-placeholder-height"),domutils.removeAttribute(e,"data-ko-placeholder-width"),domutils.removeAttribute(e,"data-ko-placeholder-src"),a&&(_="{ width: "+R+", height: "+D+", text: "+A+"}"),!R||!D)throw console.error("IMG data-ko-editable must declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height",e),"ERROR: IMG data-ko-editable MUST declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height";var B=f(s,y,!1,"wysiwyg");o="wysiwygSrc: { width: "+h+", height: "+b+", src: "+B+", placeholder: "+_+" }",r=(null!==i?i+", ":"")+o,domutils.setAttribute(e,"data-bind",r);var I=n(e),O="{ width: "+h;"left"==v?O+=", float: 'left'":"right"==v?O+=", float: 'right'":"center"==v?console.log("non so cosa fa align=center su una img e quindi non so come simularne l'editing"):"top"==v?O+=", verticalAlign: 'top'":"middle"==v?O+=", verticalAlign: 'middle'":"bottom"==v&&(O+=", verticalAlign: 'bottom'"),O+="}",$(e).before("<!-- ko wysiwygImg: { _data: $data, _item: "+l+", _template: '"+I+"', _editTemplate: 'img-wysiwyg', _src: "+B+", _width: "+h+", _height: "+b+", _align: "+(null===v?void 0:"'"+v+"'")+", _size: "+A+", _method: "+w+", _placeholdersrc: "+_+", _stylebind: "+O+" } -->"),$(e).after("<!-- /ko -->")}}),$("[href]",t).each(function(t,e){var o=domutils.getAttribute(e,"href"),a="wysiwygHref: '"+converterUtils.addSlashes(o)+"'",i=domutils.getAttribute(e,"data-bind"),r=(null!==i?i+", ":"")+a;domutils.setAttribute(e,"data-bind",r)}),$("replacedblock",t).each(function(t,r){var s=c[t],m=processBlock(s,e,o,a,i,"block",u,d,!0,n),p=modelDef.ensurePathAndGetBindValue(e,o,l,u,"",m);$(r).before("<!-- ko block: { data: "+converterUtils.addSlashes(p)+", template: 'block' } -->"),$(r).after("<!-- /ko -->"),$(r).remove()}),$($("[data-ko-wrap]",t).get().reverse(),t).each(function(t,e){var o=domutils.getAttribute(e,"data-ko-wrap");if("undefined"==typeof o||""===o||"true"===o)throw"Unsupported empty value for data-ko-wrap: use false value if you want to always remove the tag";var a,i,r=converterUtils.conditionBinding(o,f),l=domutils.getAttribute(e,"data-bind");if(""!==l&&null!==l&&l.match(/(block|wysiwygOrHtml):/)){var d="<!-- ko "+l+" -->"+domutils.getInnerHtml(e)+"<!-- /ko -->";a=n(d),domutils.removeAttribute(e,"data-ko-wrap"),i=n(e),domutils.replaceHtml(e,"<!-- ko template: /* special */ (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || "+r+" ? '"+i+"' : '"+a+"' --><!-- /ko -->")}else a=n(domutils.getInnerHtml(e)),domutils.removeAttribute(e,"data-ko-wrap"),domutils.setContent(e,"<!-- ko template: '"+a+"' --><!-- /ko -->"),i=n(e),domutils.replaceHtml(e,"<!-- ko template: (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || "+r+" ? '"+i+"' : '"+a+"' --><!-- /ko -->")}),n(t,u,"show"),a(l,u,r,d),u}catch(e){throw console.error("Exception while parsing the template",e,t),e}},translateTemplate=function(t,e,o,a){var i={},r=conditional_replace(e.replace(/(<[^>]+\s)(style|http-equiv)(="[^"]*"[^>]*>)/gi,function(t,e,o,a){return e+"replaced"+o+a})),l=$(r),d=l[0],s=[],n=function(t,e,o,a){s.push({root:t,block:e,context:o,container:a})},u=function(t,e,o){if("undefined"==typeof i.themes&&(i.themes={}),"undefined"==typeof i.themes[t]&&(i.themes[t]={}),"undefined"==typeof i.themes[t][e]||null===i.themes[t][e])i.themes[t][e]=o;else if("undefined"!=typeof o&&null!==o){var a=i.themes[t][e];a!=o&&console.log("Error setting a new default for property "+e+" in theme "+t+". old:"+a+" new:"+o+"!")}},c=$("[data-ko-container]",l),m={};c.each(function(t,e){var o=domutils.getAttribute(e,"data-ko-container")+"Blocks";domutils.removeAttribute(e,"data-ko-container"),domutils.setAttribute(e,"data-bind","block: "+o);var a=$("> [data-ko-block]",e);domutils.removeElements(a,!0),m[o]=a}),modelDef.createOrUpdateBlockDef(i,"id"),modelDef.createOrUpdateBlockDef(i,"bodyTheme"),modelDef.createOrUpdateBlockDef(i,"blocks","blocks[]"),modelDef.createOrUpdateBlockDef(i,"text"),processBlock(d,i,u,n,o,"template",t,void 0,!1,a);var p=function(e,r,l){processBlock(l,i,u,n,o,"block",t,e,!0,a)};for(var h in m)if(m.hasOwnProperty(h)){var b=m[h],f=h;modelDef.ensurePathAndGetBindValue(i,u,t,t,"",f+".blocks","[]"),b.each(p.bind(void 0,f))}var v={_defs:i,templateName:t,_blocks:s};return"undefined"!=typeof i[t]._version&&(v.version=i[t]._version),v};module.exports=translateTemplate;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./declarations.js":50,"./domutils.js":51,"./model.js":54,"./stylesheet.js":56,"./utils.js":57}],56:[function(require,module,exports){
"use strict";var cssParse=require("./..\\..\\..\\bower_components\\mensch\\lib\\parser.js"),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),converterUtils=require("./utils.js"),elaborateDeclarations=require("./declarations.js"),_processStyleSheetRules_processBlockDef=function(e,t){for(var o,s,r,l=0;l<t.length;l++)if("rule"==t[l].type){for(var n=t[l].selectors,a=!1,i=!1,c=0;c<n.length;c++)n[c].match(/:preview$/)?i=!0:a=!0;if(i&&a)throw console.log("cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs ",n),"Cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs";if(!i&&!a)throw console.log("cannot find known selectors in @supports -ko-blockdefs ",n),"Cannot find known selectors in @supports -ko-blockdefs";if(a){o="",s={},r=t[l].declarations;for(var p=0;p<r.length;p++)"property"==r[p].type&&("label"==r[p].name?s.name=r[p].value:"context"==r[p].name?s.contextName=r[p].value:"properties"==r[p].name?o=r[p].value:"theme"==r[p].name?s.globalStyle="_theme_."+r[p].value:"themeOverride"==r[p].name?s.themeOverride="true"==String(r[p].value).toLowerCase():s[r[p].name]=r[p].value);for(var u=0;u<n.length;u++)e(n[u],o,s)}if(i)for(var d=0;d<n.length;d++){var f=n[d].substr(0,n[d].indexOf(":")),v=t[l].declarations;e(f,void 0,{previewBindings:v})}}},processStylesheetRules=function(e,t,o,s,r,l,n,a){var i=e,c=null;if("undefined"==typeof t){var p=cssParse(e,{comments:!0,position:!0});if("stylesheet"!=p.type||"undefined"==typeof p.stylesheet)throw console.log("unable to process styleSheet",p),"Unable to parse stylesheet";t=p.stylesheet.rules}for(var u,d=t.length-1;d>=0;d--){if("supports"==t[d].type&&"-ko-blockdefs"==t[d].name)_processStyleSheetRules_processBlockDef(s,t[d].rules),i=converterUtils.removeStyle(i,t[d].position.start,c,0,0,0,"");else if("media"==t[d].type||"supports"==t[d].type)i=processStylesheetRules(i,t[d].rules,o,s,r,l,n,a);else if("comment"==t[d].type);else if("rule"==t[d].type){for(var f=t[d].selectors,v="",y=null,h=0;h<f.length;h++){v.length>0&&(v+=", ");var m=f[h].match(/\[data-ko-block=([^ ]*)\]/);if(null!==m){if(null!==y&&y!=m[1])throw"Found multiple block-match attribute selectors: cannot translate it ("+y+" vs "+m[1]+")";y=m[1]}v+="<!-- ko text: templateMode =='wysiwyg' ? '#main-wysiwyg-area ' : '' --><!-- /ko -->"+f[h]}if(y){var k="<!-- ko foreach: $root.findObjectsOfType($data, '"+y+"') -->",g="<!-- /ko -->",b=c,w=" ";t[d].declarations.length>0&&(t[d].declarations[0].position.start.line!=t[d].position.end.line&&(w="\n"+new Array(t[d].position.start.col).join(" ")),b=t[d].declarations[t[d].declarations.length-1].position.end),null===b?i+=w+g:i=b==c?converterUtils.removeStyle(i,b,c,0,0,0,w+g):converterUtils.removeStyle(i,b,c,0,0,0,w+"}"+w+g),v=k+w+v.replace(new RegExp("\\[data-ko-block="+y+"\\]","g"),"<!-- ko text: '#'+id() -->"+y+"<!-- /ko -->"),s(y,"",{contextName:"block"})}var S=y?y:a;u=o.bind(this,S,"");var x=elaborateDeclarations(i,t[d].declarations,l,u);null!==x&&(i=x),i=converterUtils.removeStyle(i,t[d].position.start,t[d].position.end,0,0,0,v)}else console.log("Unknown rule type",t[d].type,"while parsing <style> rules");c=t[d].position.start}return i};module.exports=processStylesheetRules;

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\mensch\\lib\\parser.js":15,"./declarations.js":50,"./utils.js":57}],57:[function(require,module,exports){
"use strict";var console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),jsep=require("./..\\..\\..\\bower_components\\jsep\\src\\jsep.js");jsep.addBinaryOp("or",1),jsep.addBinaryOp("and",2),jsep.addBinaryOp("eq",6),jsep.addBinaryOp("neq",6),jsep.addBinaryOp("lt",7),jsep.addBinaryOp("lte",7),jsep.addBinaryOp("gt",7),jsep.addBinaryOp("gte",7);var addSlashes=function(e){return e.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},removeStyle=function(e,r,n,t,o,a,i){for(var s=e.split("\n"),p=o,u=a,l=1+t;l<r.line;l++)p+=s[l-1-t].length+1;if(p+=r.col,null!==n){for(var d=1+t;d<n.line;d++)u+=s[d-1-t].length+1;u+=n.col}else u+=e.length+1;var c=e.substr(0,p-1)+i+e.substr(u-1);return c},expressionGenerator=function(e,r,n){function t(e){switch(e){case"or":return"||";case"and":return"&&";case"lt":return"<";case"lte":return"<=";case"gt":return">";case"gte":return">=";case"eq":return"==";case"neq":return"!=";default:return e}}function o(e,r,n,a){if("undefined"==typeof n&&(n=!0),"undefined"!=typeof a&&"Identifier"!==e.type&&"MemberExpression"!==e.type&&console.log("Cannot apply default value to variable when using expressions"),"BinaryExpression"===e.type||"LogicalExpression"===e.type)return"("+o(e.left,r,n)+" "+t(e.operator)+" "+o(e.right,r,n)+")";if("CallExpression"===e.type){var i=e.arguments.map(function(e){return o(e,r,n)});return o(e.callee,r,n)+"("+i.join(", ")+")"}if("UnaryExpression"===e.type)return e.operator+o(e.argument,r,n);if("MemberExpression"==e.type&&e.computed)throw"Unexpected computed member expression";if("MemberExpression"!=e.type||e.computed){if("Literal"===e.type)return e.raw;if("Identifier"===e.type){var s=e.name;return n?r(s,a)+"()":s}if("ConditionalExpression"===e.type)return"("+o(e.test,r,n)+" ? "+o(e.consequent,r,n)+" : "+o(e.alternate,r,n)+")";throw"Compound"===e.type?"Syntax error in expression: operator expected after "+o(e.body[0],r,!1):"Found an unsupported expression type: "+e.type}var p=o(e.object,r,!1)+"."+o(e.property,r,!1);return n&&"Math"!==e.object.name&&"Color"!==e.object.name?r(p,a)+"()":p}return o(e,r,void 0,n)},expressionBinding=function(e,r,n){var t;if("undefined"!=typeof n&&null!==n){var o=e.trim().replace(/@\[([^\]]+)\]|@([a-zA-Z0-9\._]+)\b/g,"###var###");if(o=o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"###var###"==o)t=[null,n];else if(o="^"+o.replace(/###var###/g,"(.+)")+"$",t=n.trim().match(new RegExp(o)),!t)throw console.log("Cannot find matches",t,"for",n,e,o,e),"Cannot find default value for "+e+" in "+n}try{var a=0,i="'"+e.replace(/@\[([^\]]+)\]|@([a-zA-Z0-9\._]+)\b|(')/g,function(e,n,o,i){if(i)return"\\"+i;a++;var s,p=n||o;if(t&&("undefined"!=typeof t[a]?s=t[a].trim():console.log("ABZZZ Cannot find default value for",p,"in",t,"as",a)),n){var u=jsep(n),l=expressionGenerator(u,r,s);return"'+"+l+"+'"}return"'+"+r(p,s)+"()+'"})+"'";return i=i.replace(/(^|[^\\])''\+/g,"$1").replace(/\+''/g,""),0===a&&"false"!==i&&"true"!==i&&console.error("Unexpected expression with no valid @variable references",e),i}catch(r){throw"Exception parsing expression "+e+" "+r}},conditionBinding=function(e,r){var n=jsep(e),t=expressionGenerator(n,r);return t};module.exports={addSlashes:addSlashes,removeStyle:removeStyle,conditionBinding:conditionBinding,expressionBinding:expressionBinding};

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\jsep\\src\\jsep.js":3}],58:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),kowrap=require("./..\\..\\..\\bower_components\\knockout.wrap\\knockout.wrap.js"),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),_getOptionsObject=function(e){for(var t=e.split("|"),n={},o=0;o<t.length;o++){var r=t[o].split("=");n[r[0]]=r.length>1?r[1]:r[0]}return n},_makeComputed=function(e,t,n,o,r,i){var a=ko.computed({read:function(){var n=e();if(null===n){var a=ko.utils.unwrapObservable(o);return"undefined"==typeof a||"custom"==a?ko.utils.unwrapObservable(t):i[a][r]}return n},write:function(a){var l,u=ko.utils.unwrapObservable(o);if(l="undefined"==typeof u||"custom"==u?ko.utils.peekObservable(t):i[u][r],n)e(a==l?null:a);else{var s=ko.utils.peekObservable(e);a==l&&null===s||e(a)}}});return a},_nextVariantFunction=function(e,t,n){for(var o,r=e.utils.unwrapObservable(t),i=0;i<n.length&&(o=e.utils.peekObservable(n[i]),o!=r);i++);i==n.length&&(console.warn("Didn't find a variant!",t,r,n),i=n.length-1);var a=i+1;a==n.length&&(a=0);var l=e.utils.peekObservable(n[a]);t(l)},_getVariants=function(e){var t,n=e._variant;if("object"!=typeof e[n]||"undefined"==typeof e[n]._widget||"string"!=typeof e[n]._options&&"boolean"!==e[n]._widget)throw console.error("Unexpected variant declaration",n,e[n]),"Unexpected variant declaration: cannot find property "+n+" or its _options string and it is not a boolean";return t="string"==typeof e[n]._options?Object.keys(_getOptionsObject(e[n]._options)):[!0,!1]},_makeComputedFunction=function(e,t,n,o,r,i,a){if("undefined"==typeof e){if("undefined"==typeof o.utils.unwrapObservable(a).type)throw console.log("TODO ERROR Found a non-typed def ",e,a),"Found a non-typed def "+e;var l=o.utils.unwrapObservable(o.utils.unwrapObservable(a).type);e=t[l],"object"!=typeof e&&console.log("TODO ERROR Found a non-object def ",e,"for",l)}"undefined"==typeof r&&"undefined"!=typeof i&&i&&(r=a);var u="$root.content().",s=e._globalStyles;if("undefined"!=typeof s)for(var p in s)if(s.hasOwnProperty(p)){var b,c,f,d="$root.content().theme().scheme";if(s[p].substr(0,u.length)!=u)throw"UNEXPECTED globalStyle path ("+s[p]+") outside selfPath ("+u+")";f=s[p].substr(u.length),c=r,d.substr(0,u.length)==u?b=d.substr(u.length):(console.log("IS THIS CORRECT?",d,u),b=d);for(var v=c,h=f.split("()."),_="",k=!0,g=0;g<h.length;g++)c=o.utils.unwrapObservable(c)[h[g]],k?"theme"==h[g]&&(k=!1):(_.length>0&&(_+="."),_+=h[g]);for(var m=b.split("()."),w=0;w<m.length;w++)v=o.utils.unwrapObservable(v)[m[w]];for(var O=!0,y=p.split("."),R=a,S=0;S<y.length;S++)R=o.utils.unwrapObservable(R)[y[S]];if(!o.isObservable(R))throw"Unexpected non observable target "+p+"/"+_;R._defaultComputed=_makeComputed(R,c,O,v,_,n)}if("undefined"!=typeof e._variant){for(var F=e._variant.split("."),C=a,x=o.utils.unwrapObservable(a),P=0;P<F.length;P++)C=o.utils.unwrapObservable(C)[F[P]];if("undefined"!=typeof C._defaultComputed&&(console.log("Found variant on a style property: beware variants should be only used on content properties because they don't match the theme fallback behaviour",e._variant),C=C._defaultComputed),"undefined"==typeof C)throw console.log("ERROR looking for variant target",e._variant,a),"ERROR looking for variant target "+e._variant;x._nextVariant=_nextVariantFunction.bind(C,o,C,_getVariants(e))}for(var j in e)if(e.hasOwnProperty(j)){var B=e[j];if("object"==typeof B&&null!==B&&"undefined"!=typeof B._context&&"block"==B._context){var E=r[j](),I=_makeComputedFunction(t[j],t,n,o,r,i,E);a[j](I)}else if("object"==typeof B&&null!==B&&"blocks"==B.type){for(var T,D,J,V=r[j](),A=V.blocks(),U=0;U<A.length;U++)T=o.utils.unwrapObservable(A[U]),D=o.utils.unwrapObservable(T.type),J=_makeComputedFunction(t[D],t,n,o,r,i,T),A[U](J);var W=V.blocks;_augmentBlocksObservable(W,_blockInstrumentFunction.bind(V,void 0,t,n,o,void 0,r,i)),r[j]._wrap=_makeBlocksWrap.bind(r[j],W._instrumentBlock),r[j]._unwrap=_unwrap.bind(r[j])}}return a},_augmentBlocksObservable=function(e,t){e._instrumentBlock=t,"undefined"==typeof e.origPush&&(e.origPush=e.push,e.push=_makePush.bind(e),e.origSplice=e.splice,e.splice=_makeSplice.bind(e))},_makeBlocksWrap=function(e,t){var n=ko.toJS(t),o=n.blocks;n.blocks=[];var r=kowrap.fromJS(n,void 0,!0)();_augmentBlocksObservable(r.blocks,e);for(var i=0;i<o.length;i++){var a=ko.toJS(o[i]);a.id="block_"+i,r.blocks.push(a)}this(r)},_makePush=function(){if(arguments.length>1)throw"Array push with multiple arguments not implemented";if(arguments.length>0&&ko.isObservable(arguments[0])&&("function"==typeof arguments[0]._unwrap?arguments[0]=arguments[0]._unwrap():console.log("WARN: pushing observable with no _unwrap function (TODO remove me, expected condition)")),ko.isObservable(arguments[0]))return this.origPush.apply(this,arguments);var e=this._instrumentBlock(arguments[0]);return this.origPush.apply(this,[e])},_makeSplice=function(){if(arguments.length>3)throw"Array splice with multiple objects not implemented";if(arguments.length>2&&ko.isObservable(arguments[2])&&("function"==typeof arguments[2]._unwrap?arguments[2]=arguments[2]._unwrap():console.log("WARN: splicing observable with no _unwrap function (TODO remove me, expected condition)")),arguments.length>2&&!ko.isObservable(arguments[2])){var e=this._instrumentBlock(arguments[2]);return this.origSplice.apply(this,[arguments[0],arguments[1],e])}return this.origSplice.apply(this,arguments)},_blockInstrumentFunction=function(e,t,n,o,r,i,a,l){"undefined"==typeof r&&(r=l);var u;u={"":_makeComputedFunction.bind(r,e,t,n,o,i,a)};var s=kowrap.fromJS(r,u,!0);return s._unwrap=_unwrap.bind(s),s},_wrap=function(e,t){var n=ko.utils.unwrapObservable(e(ko,t,void 0,!0));this(n)},_unwrap=function(){return ko.toJS(this)},_modelInstrument=function(e,t,n){var o=_blockInstrumentFunction.bind(void 0,t,n,n.themes),r=o(ko,e,void 0,!0);return r._wrap=_wrap.bind(r,o),r._unwrap=_unwrap.bind(r),r};module.exports=_modelInstrument;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\knockout.wrap\\knockout.wrap.js":10}],59:[function(require,module,exports){
(function (global){
function Color(t){this.getBrightness=function(n){return t(n).getBrightness()},this.isLight=function(n){return t(n).isLight()},this.isDark=function(n){return t(n).isDark()},this.getLuminance=function(n){return t(n).getLuminance()},this.lighten=function(n,i){return t(n).lighten(i).toHexString()},this.brighten=function(n,i){return t(n).brighten(i).toHexString()},this.darken=function(n,i){return t(n).darken(i).toHexString()},this.desaturate=function(n,i){return t(n).desaturate(i).toHexString()},this.saturate=function(n,i){return t(n).saturate(i).toHexString()},this.greyscale=function(n){return t(n).greyscale().toHexString()},this.spin=function(n,i){return t(n).spin(i).toHexString()},this.complement=function(n){return t(n).complement().toHexString()},this.mix=t.mix,this.readability=t.readability,this.isReadable=t.isReadable,this.mostReadable=t.mostReadable}var tinycolor=require("./..\\..\\..\\bower_components\\tinycolor\\tinycolor.js"),colorPlugin=function(t){global.Color=new Color(tinycolor)};module.exports=colorPlugin;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\tinycolor\\tinycolor.js":18}],60:[function(require,module,exports){
(function (global){
"use strict";var console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),inlineDocument=require("./..\\..\\..\\bower_components\\juice\\lib\\inline")({}).inlineDocument,inlinerPlugin=function(e){e.inline=function(e){$("[style]:not([replacedstyle])",e).each(function(e,n){var t=$(n);t.attr("replacedstyle",t.attr("style"))});var n=[];$('style[data-inline="true"]',e).each(function(e,t){var i=$(t).html();i=i.replace(/<!-- ko ((?!--).)*? -->/g,""),i=i.replace(/<!-- \/ko -->/g,""),n.push(i),$(t).removeAttr("data-inline")});var t=n.join("\n"),i=function(n,t){return"undefined"==typeof t&&(t=e),$(n,t)};i.root=function(){return $(":root",e)},inlineDocument(i,t,{styleAttributeName:"replacedstyle"})}};module.exports=inlinerPlugin;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\..\\bower_components\\juice\\lib\\inline":4}],61:[function(require,module,exports){
(function (global){
"use strict";var console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),$=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),lsLoader=function(e,t){var a=global.localStorage.getItem("metadata-"+e);if(null!==a){var o,l=global.localStorage.getItem("template-"+e);null!==l&&(o=JSON.parse(l));var n=JSON.parse(a);return{metadata:n,model:o,extension:lsCommandPluginFactory(n,t)}}throw"Cannot find stored data for "+e},lsCommandPluginFactory=function(e,t){var a=function(e,a,o){var l={name:"Save",enabled:ko.observable(!0)};l.execute=function(){l.enabled(!1),o.metadata.changed=Date.now(),"undefined"==typeof o.metadata.key&&(console.warn("Unable to find ket in metadata object...",o.metadata),o.metadata.key=e),global.localStorage.setItem("metadata-"+e,o.exportMetadata()),global.localStorage.setItem("template-"+e,o.exportJSON()),l.enabled(!0)};var n={name:"Test",enabled:ko.observable(!0)},r={name:"Download",enabled:ko.observable(!0)};n.execute=function(){n.enabled(!1);var l=global.localStorage.getItem("testemail");if(null!==l&&"null"!=l||(l=o.t("Insert here the recipient email address")),l=global.prompt(o.t("Test email address"),l),l.match(/@/)){global.localStorage.setItem("testemail",l),console.log("TODO testing...",l);var r=t?t:"/dl/",d=$.post(r,{action:"email",rcpt:l,subject:"[test] "+e+" - "+a,html:o.exportHTML()},null,"html");d.fail(function(){console.log("fail",arguments),o.notifier.error(o.t("Unexpected error talking to server: contact us!"))}),d.success(function(){console.log("success",arguments),o.notifier.success(o.t("Test email sent..."))}),d.always(function(){n.enabled(!0)})}else global.alert(o.t("Invalid email address")),n.enabled(!0)},r.execute=function(){r.enabled(!1),o.notifier.info(o.t("Downloading...")),o.exportHTMLtoTextarea("#downloadHtmlTextarea");var e=t?t:"/dl/";global.document.getElementById("downloadForm").setAttribute("action",e),global.document.getElementById("downloadForm").submit(),r.enabled(!0)},o.save=l,o.test=n,o.download=r}.bind(void 0,e.key,e.name);return a};module.exports=lsLoader;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],62:[function(require,module,exports){
"use strict";require("./..\\..\\bower_components\\knockout-sortable\\build\\knockout-sortable.min.js"),require("./bindings/jqueryui-spinner.js"),require("./bindings/jqueryui-tabs.js"),require("./bindings/colorpicker.js"),require("./bindings/blocks.js"),require("./bindings/csstext.js"),require("./bindings/bind-iframe.js"),require("./bindings/droppable.js"),require("./bindings/fileupload.js"),require("./bindings/virtuals.js"),require("./bindings/wysiwygs.js"),require("./bindings/scrollfix.js"),require("./bindings/if-subs.js"),require("./bindings/extsortables.js"),require("./bindings/eventable.js"),require("./bindings/tooltips.js"),require("./bindings/extender-pagination.js"),require("./bindings/validated-value.js"),require("./bindings/scrollintoview.js");

},{"./..\\..\\bower_components\\knockout-sortable\\build\\knockout-sortable.min.js":8,"./bindings/bind-iframe.js":28,"./bindings/blocks.js":29,"./bindings/colorpicker.js":31,"./bindings/csstext.js":32,"./bindings/droppable.js":33,"./bindings/eventable.js":34,"./bindings/extender-pagination.js":35,"./bindings/extsortables.js":36,"./bindings/fileupload.js":37,"./bindings/if-subs.js":38,"./bindings/jqueryui-spinner.js":39,"./bindings/jqueryui-tabs.js":40,"./bindings/scrollfix.js":42,"./bindings/scrollintoview.js":43,"./bindings/tooltips.js":45,"./bindings/validated-value.js":46,"./bindings/virtuals.js":47,"./bindings/wysiwygs.js":48}],63:[function(require,module,exports){
(function (global){
"use strict";function _viewModelPluginInstance(e){var t;return{viewModel:function(n){t=e(n)},init:function(){"undefined"!=typeof t&&"undefined"!=typeof t.init&&t.init()},dispose:function(){"undefined"!=typeof t&&"undefined"!=typeof t.dispose&&t.dispose()}}}var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),kojqui=(typeof window !== "undefined" ? window['kojqui'] : typeof global !== "undefined" ? global['kojqui'] : null),templateConverter=require("./converter/main.js"),console=require("./..\\..\\bower_components\\console-browserify\\index.js"),initializeViewmodel=require("./viewmodel.js"),templateSystem=require("./bindings/choose-template.js"),pluginsCall=function(e,t,n,o){var a,i,r,d,l;l=[],"undefined"!=typeof o&&o?(a=e.length-1,i=0,r=-1):(a=0,i=e.length-1,r=1);for(var s=a;s!=i+r;s+=r)"undefined"!=typeof e[s][t]&&(d=e[s][t].apply(e[s],n),"undefined"!=typeof d&&l.push(d));return l},origDisposeCallback=ko.utils.domNodeDisposal.addDisposeCallback;ko.utils.domNodeDisposal.addDisposeCallback=function(e,t){var n=function(e){try{t(e)}catch(e){console.warn("Caught unexpected dispose callback exception",e)}};origDisposeCallback(e,n)};var bindingPluginMaker=function(e){return{viewModel:function(t){try{e("applyBindings",ko.applyBindings.bind(void 0,t))}catch(e){throw console.warn(e,e.stack),e}},dispose:function(){try{e("unapplyBindings",ko.cleanNode.bind(this,global.document.body))}catch(e){throw console.warn(e,e.stack),e}}}},templateCreator=function(e,t,n,o){var a=n;for("undefined"!=typeof n&&"undefined"!=typeof o&&("object"==typeof t&&"replacedhtml"==t.tagName.toLowerCase()||(a+="-"+o));"undefined"==typeof a||null===a||e.exists(a);)a="anonymous-"+Math.floor(1e5*Math.random()+1);if("object"==typeof t&&"replacedhtml"==t.tagName.toLowerCase()){var i=$(t),r=$("replacedhead",i),d=$("replacedbody",i);e.adder(a+"-head",r.html()||""),e.adder(a+"-show",d.html()||""),e.adder(a+"-preview",i.html()),e.adder(a+"-wysiwyg",i.html()),r.children().detach(),r.html("<!-- ko block: content --><!-- /ko -->"),r.before("<!-- ko withProperties: { templateMode: 'head' } -->"),r.after("<!-- /ko -->"),d.html("<!-- ko block: content --><!-- /ko -->"),e.adder(a+"-iframe",i[0].outerHTML)}else"object"==typeof t?e.adder(a,t.outerHTML):e.adder(a,t);return a},_templateUrlConverter=function(e,t){return t.match(/^[^\/]*:/)||t.match(/^\//)||t.match(/^\[/)||t.match(/^#?$/)?null:e+t},templateLoader=function(e,t,n,o,a,i){var r="string"==typeof t?t:n.template,d="./",l=r.lastIndexOf("/");l!=-1&&(d=r.substr(0,l+1));var s,c=_templateUrlConverter.bind(void 0,d);s="undefined"==typeof n?{template:r,name:"No name",created:Date.now()}:n,$.get(r,function(t){var n=templateCompiler(e,c,"template",t,o,s,a,i);n.init()})},templateCompiler=function(e,t,n,o,a,i,r,d){var l=o.match(/^([\S\s]*)([<]html[^>]*>[\S\s]*<\/html>)([\S\s]*)$/i);if(null===l)throw"Unable to find <html> opening and closing tags in the template";var s=l[1],c={"<html":0,"<head":0,"<body":0,"</html":0,"</body":0,"</head":0},u=l[2].replace(/(<\/?)(html|head|body)([^>]*>)/gi,function(e,t,n,o){return c[(t+n).toLowerCase()]+=1,t+"replaced"+n+o});for(var p in c)if(c.hasOwnProperty(p)&&1!=c[p]){if(0===c[p])throw"ERROR: missing mandatory element "+p+">";if(c[p]>1)throw"ERROR: multiple element "+p+"> occourences are not supported (found "+c[p]+" occourences)"}var m=l[3],f=[],h="+$root.contentListeners()",b=[];if("undefined"!=typeof r)for(var g=0;g<r.length;g++)"function"==typeof r[g]?b.push(_viewModelPluginInstance(r[g])):b.push(r[g]);var v=[],y={adder:function(e,t){if("string"!=typeof t)throw"Template system: cannot create new template "+e;var n=t.match(/(data)?-ko-[^ =:]*/g);n&&console.error("ERROR: found unexpected -ko- attribute in compiled template",e,", you probably mispelled it:",n),templateSystem.addTemplate(e,t),v.push(e)},exists:function(e){var t=templateSystem.getTemplateContent(e);return"undefined"!=typeof t},dispose:function(){for(var e=v.length-1;e>=0;e--)templateSystem.removeTemplate(v[e])}};ko.bindingHandlers.block.templateExists=y.exists;for(var k=templateCreator.bind(void 0,y),w=e("translateTemplate",templateConverter.translateTemplate.bind(void 0,n,u,t,k)),C=e("generateModel",templateConverter.wrappedResultModel.bind(void 0,w)),S={},E=pluginsCall(b,"widget",[$,ko,kojqui]),M=0;M<E.length;M++)S[E[M].widget]=E[M];f.push.apply(f,e("generateEditors",templateConverter.generateEditors.bind(void 0,w,S,t,k,h)));var x=!1;if("undefined"!=typeof a&&null!==a){var T;T="string"==typeof a?ko.utils.parseJson(a):a;var L=e("checkModel",templateConverter.checkModel.bind(void 0,C._unwrap(),f,T));2==L&&(console.error("Trying to compile an incompatible template version!",C._unwrap(),f,T),x=!0);try{C._wrap(T)}catch(e){console.error("Unable to inject model content!",e),x=!0}}var I=s+templateSystem.getTemplateContent(n+"-iframe").replace(/(<\/?)replaced(html|head|body)([^>]*>)/gi,function(e,t,n,o){return t+n+o})+m,D=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl=I;var B={dispose:function(){ko.bindingHandlers.bindIframe.tpl=D}};b.push(B),b.push(y);var P=e("initializeViewmodel",initializeViewmodel.bind(this,C,f,t,d));P.metadata=i;var R="0.16.0";return"undefined"!=typeof P.metadata.editorversion&&P.metadata.editorversion!==R&&console.warn("The model being loaded has been created with an older editor version",P.metadata.editorversion,"vs",R),P.metadata.editorversion=R,"undefined"!=typeof w.version&&("undefined"!=typeof P.metadata.templateversion&&P.metadata.templateversion!==w.version&&console.error("The model being loaded has been created with a different template version",w.version,"vs",P.metadata.templateversion),P.metadata.templateversion=w.version),templateSystem.init(),b.push(bindingPluginMaker(e)),pluginsCall(b,"viewModel",[P]),x&&$("#incompatible-template").dialog({modal:!0,appendTo:"#mo-body",buttons:{Ok:function(){$(this).dialog("close")}}}),{model:P,init:function(){pluginsCall(b,"init",void 0,!0)},dispose:function(){pluginsCall(b,"dispose",void 0,!0)}}},checkFeature=function(e,t){if(!t())throw console.warn("Missing feature",e),"Missing feature "+e},isCompatible=function(){try{return checkFeature("matchMedia",function(){return"undefined"!=typeof global.matchMedia}),checkFeature("XMLHttpRequest 2",function(){return"XMLHttpRequest"in global&&"withCredentials"in new global.XMLHttpRequest}),checkFeature("ES5 strict",function(){return function(){return"undefined"==typeof this}()}),checkFeature("CSS borderRadius",function(){return"undefined"!=typeof global.document.body.style.borderRadius}),checkFeature("CSS boxShadow",function(){return"undefined"!=typeof global.document.body.style.boxShadow}),checkFeature("CSS boxSizing",function(){return"undefined"!=typeof global.document.body.style.boxSizing}),checkFeature("CSS backgroundSize",function(){return"undefined"!=typeof global.document.body.style.backgroundSize}),checkFeature("CSS backgroundOrigin",function(){return"undefined"!=typeof global.document.body.style.backgroundOrigin}),checkBadBrowserExtensions(),!0}catch(e){return!1}},checkBadBrowserExtensions=function(){var e="checkbadbrowsersframe",t=ko.bindingHandlers.bindIframe.tpl;ko.bindingHandlers.bindIframe.tpl='<!DOCTYPE html>\r\n<html>\r\n<head><title>A</title>\r\n</head>\r\n<body><p style="color: blue" align="right" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content"></div></body>\r\n</html>\r\n',$("body").append('<iframe id="'+e+'" data-bind="bindIframe: $data"></iframe>');var n=global.document.getElementById(e);ko.applyBindings({content:"dummy content"},n);var o=n.contentWindow.document.doctype,a="<!DOCTYPE "+o.name+(o.publicId?' PUBLIC "'+o.publicId+'"':"")+(!o.publicId&&o.systemId?" SYSTEM":"")+(o.systemId?' "'+o.systemId+'"':"")+">",i=a+"\n"+n.contentWindow.document.documentElement.outerHTML;ko.cleanNode(n),ko.removeNode(n),ko.bindingHandlers.bindIframe.tpl=t;var r='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p align="right" style="color: red;" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>',d='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p style="color: red;" data-bind="style: { color: \'red\' }" align="right">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>',l='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p style="color: red;" align="right" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>';if(r!==i&&d!==i&&l!==i)throw console.info("BadBrowser.FrameContentCheck",i.length,r.length,d.length,l.length,i==r,i==d,i==l),console.info(i),"Unexpected frame content. Misbehaving browser: "+i.length+"/"+r.length+"/"+d.length+"/"+l.length},fixPageEvents=function(){global.addEventListener&&(global.addEventListener("drag",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener("dragstart",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener("dragover",function(e){e=e||global.event,e.preventDefault()},!1),global.addEventListener("drop",function(e){e=e||global.event,e.preventDefault()},!1),global.document.body.addEventListener("drop",function(e){e.preventDefault()},!1)),global.document.ondragstart&&(global.document.ondragstart=function(){return!1})};module.exports={compile:templateCompiler,load:templateLoader,isCompatible:isCompatible,fixPageEvents:fixPageEvents};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\bower_components\\console-browserify\\index.js":1,"./bindings/choose-template.js":30,"./converter/main.js":53,"./viewmodel.js":67}],64:[function(require,module,exports){
"use strict";var console=require("./..\\..\\bower_components\\console-browserify\\index.js"),_call=function(e){return e()},logs=[],_timedCall=function(e,o){var l,t=(new Date).getTime();"object"==typeof console&&console.time&&console.time(e),l=_call(o),"object"==typeof console&&console.time&&console.timeEnd(e);var n=(new Date).getTime()-t;return"object"!=typeof console||console.time||console.log(e,"took",n,"ms"),logs.push({name:e,time:n}),logs.length>100&&logs.unshift(),l};module.exports={timedCall:_timedCall,logs:logs};

},{"./..\\..\\bower_components\\console-browserify\\index.js":1}],65:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),undoManager=require("./..\\..\\..\\bower_components\\knockout-undomanager\\knockout-undomanager.js"),undoserializer=require("./undoserializer.js"),addUndoStackExtensionMaker=function(e){return function(n){n.contentListeners(n.contentListeners()+2);var o=undoManager(n.content,{levels:100,undoLabel:ko.computed(function(){return n.t("Undo (#COUNT#)")}),redoLabel:ko.computed(function(){return n.t("Redo")})});return n.undo=o.undoCommand,n.undo.execute=e.bind(n,"undo",n.undo.execute),n.redo=o.redoCommand,n.redo.execute=e.bind(n,"redo",n.redo.execute),n.undoReset=e.bind(n,"undoReset",o.reset),n.setUndoModeMerge=o.setModeMerge,n.setUndoModeOnce=o.setModeOnce,o.setModeIgnore(),o.setUndoActionMaker(undoserializer.makeUndoAction.bind(void 0,n.content)),undoserializer.watchEnabled(!0),{pause:function(){o.setModeIgnore()},run:function(){o.setModeOnce()},init:function(){o.setModeOnce()},dispose:function(){n.contentListeners(n.contentListeners()-2),undoserializer.watchEnabled(!1),o.dispose()}}}};module.exports=addUndoStackExtensionMaker;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\knockout-undomanager\\knockout-undomanager.js":9,"./undoserializer.js":66}],66:[function(require,module,exports){
(function (global){
"use strict";var ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\..\\bower_components\\console-browserify\\index.js"),_reference=function(e,n){for(var t,r,o=0,a=e;o<n.length;)switch(n.charAt(o)){case"(":")"==n.charAt(o+1)&&(a=a()),o+=2;break;case"[":r=n.indexOf("]",o),a=a[n.substring(o+1,r)],o=r+1;break;case".":t=n.indexOf("(",o),t==-1&&(t=n.length),r=n.indexOf("[",o),r==-1&&(r=n.length),r=Math.min(t,r),a=a[n.substring(o+1,r)],o=r}return a},_getPath=function(e,n){for(var t,r="",o=0;o<=e.length;o++)if(t=o<e.length?e[o]:n,ko.isObservable(t)&&(r+="()"),"undefined"!=typeof t._fieldName)r+="."+t._fieldName;else{if(!(o>0&&"function"==typeof e[o-1].pop))throw console.error("Unexpected parent with no _fieldName and no parent array",o,e),"Unexpected parent with no _fieldName and no parent array";var a=ko.isObservable(e[o-1])?ko.utils.peekObservable(e[o-1]):e[o-1],i=ko.utils.arrayIndexOf(a,t);if(i==-1)throw console.error("Unexpected object not found in parent array",a,t,o,e.length,ko.toJS(a),ko.utils.unwrapObservable(t)),"Unexpected object not found in parent array";r+="["+i+"]"}return r},makeDereferencedUndoAction=function(e,n,t,r,o){var a=_reference(n,t);e(a,r,o)},listener,_setListener=function(e){listener=e},makeUndoActionDereferenced=function(e,n,t,r,o,a){try{var i=_getPath(t,r);if("object"!=typeof o&&"function"!=typeof o||(o=ko.toJS(o)),"undefined"!=typeof a&&("object"==typeof a.value||"function"==typeof a.value)){var c=ko.toJS(a);a=c}if("undefined"!=typeof listener)try{listener(i,r,o,a)}catch(e){console.log("Undoserializer ignoring exception in listener callback")}return makeDereferencedUndoAction.bind(void 0,n,e,i,o,a)}catch(e){console.error("Exception processing undo",e,t,r,a)}},watchEnabled,_watchEnabled=function(e){return"undefined"==typeof e?watchEnabled:void(watchEnabled=e)};module.exports={dereference:_getPath,reference:_reference,makeUndoAction:makeUndoActionDereferenced,setListener:_setListener,watchEnabled:_watchEnabled};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\..\\bower_components\\console-browserify\\index.js":1}],67:[function(require,module,exports){
(function (global){
"use strict";function initializeEditor(e,o,t,n){function r(e){return e.replace(/<replacedcc[^>]* condition="([^"]*)"[^>]*>([\s\S]*?)<\/replacedcc>/g,function(e,o,t){var n="<!--[if "+o.replace(/&amp;/,"&")+"]>";return n+=t.replace(/<!-- cc:bc:([A-Za-z:]*) -->(<\/cc>)?<!-- cc:ac:\1 -->/g,"</$1>").replace(/><\/cc><!-- cc:sc -->/g,"/>").replace(/<!-- cc:bo:([A-Za-z:]*) --><cc/g,"<$1").replace(/^.*<!-- cc:start -->/,"").replace(/<!-- cc:end -->.*$/,""),n+="<![endif]-->"})}var l={galleryRecent:ko.observableArray([]).extend({paging:16}),galleryRemote:ko.observableArray([]).extend({paging:16}),selectedBlock:ko.observable(null),selectedItem:ko.observable(null),selectedTool:ko.observable(0),selectedImageTab:ko.observable(0),dragging:ko.observable(!1),draggingImage:ko.observable(!1),galleryLoaded:ko.observable(!1),showPreviewFrame:ko.observable(!1),previewMode:ko.observable("mobile"),showToolbox:ko.observable(!0),showTheme:ko.observable(!1),showGallery:ko.observable(!1),debug:ko.observable(!1),contentListeners:ko.observable(0),logoPath:"dist/img/mosaico32.png",logoUrl:".",logoAlt:"mosaico"};return l.content=e,l.blockDefs=o,l.notifier=toastr,l.tt=function(e,o){if("undefined"!=typeof o)for(var t in o)o.hasOwnProperty(t)&&(e=e.replace(new RegExp("__"+t+"__","g"),o[t]));return e},l.t=l.tt,l.ut=function(e,o){return o},l.templatePath=t,l.remoteUrlProcessor=function(e){return e},l.remoteFileProcessor=function(e){return"undefined"!=typeof e.url&&(e.url=l.remoteUrlProcessor(e.url)),"undefined"!=typeof e.thumbnailUrl&&(e.thumbnailUrl=l.remoteUrlProcessor(e.thumbnailUrl)),e},l.loadGallery=function(){l.galleryLoaded("loading");var e=n?n:"/upload/";$.getJSON(e,function(e){for(var o=0;o<e.files.length;o++)e.files[o]=l.remoteFileProcessor(e.files[o]);l.galleryLoaded(e.files.length),l.galleryRemote(e.files.reverse())}).fail(function(){l.galleryLoaded(!1),l.notifier.error(l.t("Unexpected error listing files"))})},l.fileToImage=function(e,o,t){return e.url},l.removeBlock=function(e,o){ko.utils.unwrapObservable(l.selectedBlock)==ko.utils.unwrapObservable(e)&&l.selectBlock(null,!0);var t=o.blocks.remove(e);return l.notifier.info(l.t("Block removed: use undo button to restore it...")),t},l.duplicateBlock=function(e,o){var t=ko.utils.unwrapObservable(e),n=ko.toJS(ko.utils.unwrapObservable(o.blocks)[t]);"undefined"!=typeof n.id&&(n.id=""),o.blocks.splice(t+1,0,n)},l.moveBlock=function(e,o,t){var n=ko.utils.unwrapObservable(e),r=ko.utils.unwrapObservable(o.blocks);if(t&&n>0||!t&&n<r.length-1){var a=n+(t?-1:1),c=r[a];l.startMultiple(),o.blocks.splice(a,1),o.blocks.splice(n,0,c),l.stopMultiple()}},l.loadDefaultBlocks=function(){var e=ko.toJS(l.content().mainBlocks);e.blocks=[];for(var o=ko.utils.unwrapObservable(l.blockDefs),t=0;t<o.length;t++){var n=ko.toJS(o[t]);n.id="block_"+t,e.blocks.push(n)}performanceAwareCaller("setMainBlocks",l.content().mainBlocks._wrap.bind(l.content().mainBlocks,e))},l.addImage=function(e){var o=$("#main-wysiwyg-area .selectable-img.selecteditem");return 1==o.length&&"object"==typeof e&&"undefined"!=typeof e.url&&(ko.contextFor(o[0])._src(e.url),!0)},l.addBlock=function(e,o){var t,n=l.selectedBlock();if(null!==n)for(var r=l.content().mainBlocks().blocks().length-1;r>=0;r--)if(l.content().mainBlocks().blocks()[r]()==n){t=r;break}var a;"undefined"!=typeof t?(a=t+1,l.content().mainBlocks().blocks.splice(a,0,e),l.notifier.info(l.t("New block added after the selected one (__pos__)",{pos:a}))):(l.content().mainBlocks().blocks.push(e),a=l.content().mainBlocks().blocks().length-1,l.notifier.info(l.t("New block added at the model bottom (__pos__)",{pos:a})));var c=l.content().mainBlocks().blocks()[a]();return l.selectBlock(c,!0),!1},l.findObjectsOfType=function(e,o){var t=[],n=ko.utils.unwrapObservable(e);for(var r in n)if(n.hasOwnProperty(r)){var l=ko.utils.unwrapObservable(n[r]);if(r.match(/Blocks$/))for(var a=ko.utils.unwrapObservable(l.blocks),c=0;c<a.length;c++){var i=ko.utils.unwrapObservable(a[c]);null!==o&&ko.utils.unwrapObservable(i.type)!=o||t.push(i)}else"object"==typeof l&&null!==l&&(null!==o&&ko.utils.unwrapObservable(l.type)!=o||t.push(l))}return t},l.placeholderHelper={element:function(e){return $(e[0].outerHTML).removeClass("ui-draggable").addClass("sortable-placeholder").css("display","block").css("position","relative").css("width","100%").css("height","auto").css("opacity",".8")[0]},update:function(e,o){}},l.startMultiple=function(){"undefined"!=typeof l.setUndoModeMerge&&l.setUndoModeMerge()},l.stopMultiple=function(){"undefined"!=typeof l.setUndoModeOnce&&l.setUndoModeOnce()},l.localGlobalSwitch=function(e,o){var t=e();return e(null===t?o():null),!1},l.selectItem=function(e,o,t){var n=ko.utils.peekObservable(e);return"undefined"!=typeof t&&l.selectBlock(t,!1,!0),n!=o&&(e(o),null!==o&&0===l.selectedTool()&&l.selectedTool(1)),!1}.bind(l,l.selectedItem),l.isSelectedItem=function(e){return l.selectedItem()==e},l.selectBlock=function(e,o,t,n){var r=ko.utils.peekObservable(e);n||l.selectItem(null),r!=o&&(e(o),l.showGallery(!1),null===o||t||0!==l.selectedTool()||l.selectedTool(1))}.bind(l,l.selectedBlock),l.countSubscriptions=function(e,o){var t=0;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(ko.isObservable(r)&&("undefined"!=typeof r._defaultComputed&&("undefined"!=typeof o&&console.log(o+"/"+n+"/_",r._defaultComputed.getSubscriptionsCount()),t+=r._defaultComputed.getSubscriptionsCount()),"undefined"!=typeof o&&console.log(o+"/"+n+"/-",r.getSubscriptionsCount()),t+=r.getSubscriptionsCount(),r=ko.utils.unwrapObservable(r)),"object"==typeof r&&null!==r){var a=l.countSubscriptions(r,"undefined"!=typeof o?o+"/"+n+"@":void 0);"undefined"!=typeof o&&console.log(o+"/"+n+"@",a),t+=a}}return t},l.loopSubscriptionsCount=function(){var e=l.countSubscriptions(l.content());global.document.getElementById("subscriptionsCount").innerHTML=e,global.setTimeout(l.loopSubscriptionsCount,1e3)},l.export=function(){var e=performanceAwareCaller("exportHTML",l.exportHTML);return e},l.exportHTML=function(){var e="exportframe";$("body").append('<iframe id="'+e+'" data-bind="bindIframe: $data"></iframe>');var o=global.document.getElementById(e);ko.applyBindings(l,o),ko.cleanNode(o),l.inline&&l.inline(o.contentWindow.document);var t=o.contentWindow.document.doctype,n="<!DOCTYPE "+t.name+(t.publicId?' PUBLIC "'+t.publicId+'"':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?' "'+t.systemId+'"':"")+">",a=n+"\n"+o.contentWindow.document.documentElement.outerHTML;ko.removeNode(o),a=a.replace(/<script ([^>]* )?type="text\/html"[^>]*>[\s\S]*?<\/script>/gm,""),a=a.replace(/<!-- ko ((?!--).)*? -->/g,""),a=a.replace(/<!-- \/ko -->/g,""),a=a.replace(/ data-bind="[^"]*"/gm,""),a=a.replace(/ data-mce-(href|src|style)="[^"]*"/gm,""),a=a.replace(/ style="[^"]*"([^>]*) replaced(style="[^"]*")/gm,"$1 $2"),a=a.replace(/ replaced(style="[^"]*")([^>]*) style="[^"]*"/gm," $1$2"),a=a.replace(/ replaced(style="[^"]*")/gm," $1"),a=a.replace(/ http-equiv="[^"]*"([^>]*) replaced(http-equiv="[^"]*")/gm,"$1 $2"),a=a.replace(/ replaced(http-equiv="[^"]*")([^>]*) http-equiv="[^"]*"/gm," $1$2"),a=a.replace(/ replaced(http-equiv="[^"]*")/gm," $1"),a=r(a);var c=a.match(/ data-[^ =]+(="[^"]+")? /)||a.match(/ replaced([^= ]*=)/);return c&&console.warn("Output HTML contains unexpected data- attributes or replaced attributes",c),a},l.exportHTMLtoTextarea=function(e){$(e).val(l.exportHTML())},l.exportJSONtoTextarea=function(e){$(e).val(l.exportJSON())},l.importJSONfromTextarea=function(e){l.importJSON($(e).val())},l.exportMetadata=function(){var e=ko.toJSON(l.metadata);return e},l.exportJSON=function(){var e=ko.toJSON(l.content);return e},l.exportJS=function(){return ko.toJS(l.content)},l.importJSON=function(e){var o=ko.utils.parseJson(e);l.content._wrap(o)},l.exportTheme=function(){var e={},o=l.content().theme(),t=function(e,o,n){for(var r in n)if(n.hasOwnProperty(r)){var l=ko.utils.unwrapObservable(n[r]);null!==l&&"object"==typeof l?t(r+".",o,l):o[e+r]=l}};t("",e,o);var n="";for(var r in e)e.hasOwnProperty(r)&&"type"!=r&&(n+=r+": "+e[r]+";\n");return n},l.loadImage=function(e){l.galleryRecent.unshift(e),l.selectedImageTab(0)},l.dialog=function(e,o){$(e).dialog(o)},l.log=function(e,o){},l.selectedImageTab.subscribe(function(e){1==e&&l.galleryLoaded()===!1&&l.loadGallery()},l,"change"),l}var $=(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null),ko=(typeof window !== "undefined" ? window['ko'] : typeof global !== "undefined" ? global['ko'] : null),console=require("./..\\..\\bower_components\\console-browserify\\index.js"),performanceAwareCaller=require("./timed-call.js").timedCall,toastr=require("./..\\..\\bower_components\\toastr\\toastr.js");toastr.options={closeButton:!1,debug:!1,positionClass:"toast-bottom-full-width",target:"#mo-body",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},module.exports=initializeEditor;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./..\\..\\bower_components\\console-browserify\\index.js":1,"./..\\..\\bower_components\\toastr\\toastr.js":19,"./timed-call.js":64}]},{},[27,20])(27)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJib3dlcl9jb21wb25lbnRzXFxjb25zb2xlLWJyb3dzZXJpZnlcXGJvd2VyX2NvbXBvbmVudHNcXGNvbnNvbGUtYnJvd3NlcmlmeVxcaW5kZXguanMiLCJib3dlcl9jb21wb25lbnRzXFxldm9sLWNvbG9ycGlja2VyXFxqc1xcZXZvbC5jb2xvcnBpY2tlci5taW4uanMiLCJib3dlcl9jb21wb25lbnRzXFxqc2VwXFxzcmNcXGpzZXAuanMiLCJib3dlcl9jb21wb25lbnRzXFxqdWljZVxcbGliXFxpbmxpbmUuanMiLCJib3dlcl9jb21wb25lbnRzXFxqdWljZVxcbGliXFxwcm9wZXJ0eS5qcyIsImJvd2VyX2NvbXBvbmVudHNcXGp1aWNlXFxsaWJcXHNlbGVjdG9yLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcanVpY2VcXGxpYlxcdXRpbHMuanMiLCJib3dlcl9jb21wb25lbnRzXFxrbm9ja291dC1zb3J0YWJsZVxcYnVpbGRcXGJvd2VyX2NvbXBvbmVudHNcXGtub2Nrb3V0LXNvcnRhYmxlXFxidWlsZFxca25vY2tvdXQtc29ydGFibGUubWluLmpzIiwiYm93ZXJfY29tcG9uZW50c1xca25vY2tvdXQtdW5kb21hbmFnZXJcXGJvd2VyX2NvbXBvbmVudHNcXGtub2Nrb3V0LXVuZG9tYW5hZ2VyXFxrbm9ja291dC11bmRvbWFuYWdlci5qcyIsImJvd2VyX2NvbXBvbmVudHNcXGtub2Nrb3V0LndyYXBcXGJvd2VyX2NvbXBvbmVudHNcXGtub2Nrb3V0LndyYXBcXGtub2Nrb3V0LndyYXAuanMiLCJib3dlcl9jb21wb25lbnRzXFxrbm9ja291dGpzLXJlYWN0b3JcXHNyY1xcYm93ZXJfY29tcG9uZW50c1xca25vY2tvdXRqcy1yZWFjdG9yXFxzcmNcXGtub2Nrb3V0LnJlYWN0b3IuanMiLCJib3dlcl9jb21wb25lbnRzXFxtZW5zY2hcXGluZGV4LmpzIiwiYm93ZXJfY29tcG9uZW50c1xcbWVuc2NoXFxsaWJcXGJvd2VyX2NvbXBvbmVudHNcXG1lbnNjaFxcbGliXFxkZWJ1Zy5qcyIsImJvd2VyX2NvbXBvbmVudHNcXG1lbnNjaFxcbGliXFxsZXhlci5qcyIsImJvd2VyX2NvbXBvbmVudHNcXG1lbnNjaFxcbGliXFxwYXJzZXIuanMiLCJib3dlcl9jb21wb25lbnRzXFxtZW5zY2hcXGxpYlxcc3RyaW5naWZ5LmpzIiwiYm93ZXJfY29tcG9uZW50c1xcc2xpY2tcXHBhcnNlci5qcyIsImJvd2VyX2NvbXBvbmVudHNcXHRpbnljb2xvclxcdGlueWNvbG9yLmpzIiwiYm93ZXJfY29tcG9uZW50c1xcdG9hc3RyXFxib3dlcl9jb21wb25lbnRzXFx0b2FzdHJcXHRvYXN0ci5qcyIsImJ1aWxkXFx0ZW1wbGF0ZXMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYXNzZXJ0L2Fzc2VydC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9vcy1icm93c2VyaWZ5L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJzcmNcXGpzXFxzcmNcXGpzXFxhcHAuanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXGJpbmQtaWZyYW1lLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFxibG9ja3MuanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcY2hvb3NlLXRlbXBsYXRlLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFxjb2xvcnBpY2tlci5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcY3NzdGV4dC5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcZHJvcHBhYmxlLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFxldmVudGFibGUuanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXGV4dGVuZGVyLXBhZ2luYXRpb24uanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXGV4dHNvcnRhYmxlcy5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcZmlsZXVwbG9hZC5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcaWYtc3Vicy5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcanF1ZXJ5dWktc3Bpbm5lci5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcanF1ZXJ5dWktdGFicy5qcyIsInNyY1xcanNcXGJpbmRpbmdzXFxzcmNcXGpzXFxiaW5kaW5nc1xcc2NyaXB0LXRlbXBsYXRlLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFxzY3JvbGxmaXguanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXHNjcm9sbGludG92aWV3LmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFxzdHJpbmctdGVtcGxhdGUuanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXHRvb2x0aXBzLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFx2YWxpZGF0ZWQtdmFsdWUuanMiLCJzcmNcXGpzXFxiaW5kaW5nc1xcc3JjXFxqc1xcYmluZGluZ3NcXHZpcnR1YWxzLmpzIiwic3JjXFxqc1xcYmluZGluZ3NcXHNyY1xcanNcXGJpbmRpbmdzXFx3eXNpd3lncy5qcyIsInNyY1xcanNcXGNvbnZlcnRlclxcY2hlY2ttb2RlbC5qcyIsInNyY1xcanNcXGNvbnZlcnRlclxcZGVjbGFyYXRpb25zLmpzIiwic3JjXFxqc1xcY29udmVydGVyXFxzcmNcXGpzXFxjb252ZXJ0ZXJcXGRvbXV0aWxzLmpzIiwic3JjXFxqc1xcY29udmVydGVyXFxlZGl0b3IuanMiLCJzcmNcXGpzXFxjb252ZXJ0ZXJcXG1haW4uanMiLCJzcmNcXGpzXFxjb252ZXJ0ZXJcXG1vZGVsLmpzIiwic3JjXFxqc1xcY29udmVydGVyXFxzcmNcXGpzXFxjb252ZXJ0ZXJcXHBhcnNlci5qcyIsInNyY1xcanNcXGNvbnZlcnRlclxcc3R5bGVzaGVldC5qcyIsInNyY1xcanNcXGNvbnZlcnRlclxcdXRpbHMuanMiLCJzcmNcXGpzXFxjb252ZXJ0ZXJcXHNyY1xcanNcXGNvbnZlcnRlclxcd3JhcHBlci5qcyIsInNyY1xcanNcXGV4dFxcc3JjXFxqc1xcZXh0XFxjb2xvci5qcyIsInNyY1xcanNcXGV4dFxcc3JjXFxqc1xcZXh0XFxpbmxpbmVyLmpzIiwic3JjXFxqc1xcZXh0XFxzcmNcXGpzXFxleHRcXGxvY2Fsc3RvcmFnZS5qcyIsInNyY1xcanNcXGtvLWJpbmRpbmdzLmpzIiwic3JjXFxqc1xcc3JjXFxqc1xcdGVtcGxhdGUtbG9hZGVyLmpzIiwic3JjXFxqc1xcdGltZWQtY2FsbC5qcyIsInNyY1xcanNcXHVuZG9tYW5hZ2VyXFxzcmNcXGpzXFx1bmRvbWFuYWdlclxcdW5kb21haW4uanMiLCJzcmNcXGpzXFx1bmRvbWFuYWdlclxcc3JjXFxqc1xcdW5kb21hbmFnZXJcXHVuZG9zZXJpYWxpemVyLmpzIiwic3JjXFxqc1xcc3JjXFxqc1xcdmlld21vZGVsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ3dDQSxRQUFTLFFBRVQsUUFBUyxRQUNMLFFBQVEsSUFBSSxNQUFNLFFBQVMsV0FHL0IsUUFBUyxRQUNMLFFBQVEsSUFBSSxNQUFNLFFBQVMsV0FHL0IsUUFBUyxTQUNMLFFBQVEsS0FBSyxNQUFNLFFBQVMsV0FHaEMsUUFBUyxNQUFLLEdBQ1YsTUFBTSxHQUFTLEtBQUssTUFHeEIsUUFBUyxTQUFRLEdBQ2IsR0FBSSxHQUFPLE1BQU0sRUFDakIsS0FBSyxFQUNELEtBQU0sSUFBSSxPQUFNLGtCQUFvQixFQUd4QyxJQUFJLEdBQVcsS0FBSyxNQUFRLENBQzVCLFNBQVEsSUFBSSxFQUFRLEtBQU8sRUFBVyxNQUcxQyxRQUFTLFNBQ0wsR0FBSSxHQUFNLEdBQUksTUFDZCxHQUFJLEtBQU8sUUFDWCxFQUFJLFFBQVUsS0FBSyxPQUFPLE1BQU0sS0FBTSxXQUN0QyxRQUFRLE1BQU0sRUFBSSxPQUd0QixRQUFTLEtBQUksR0FDVCxRQUFRLElBQUksS0FBSyxRQUFRLEdBQVUsTUFHdkMsUUFBUyxRQUFPLEdBQ1osSUFBSyxFQUFZLENBQ2IsR0FBSSxHQUFNLE1BQU0sS0FBSyxVQUFXLEVBQ2hDLFFBQU8sSUFBRyxFQUFPLEtBQUssT0FBTyxNQUFNLEtBQU0sS0FqRmpELEdBQUksTUFBTyxRQUFRLFFBQ2YsT0FBUyxRQUFRLFVBRWpCLE1BQVEsTUFBTSxVQUFVLE1BQ3hCLFFBQ0EsUUFHQSxTQURrQixtQkFBWCxTQUEwQixPQUFPLFFBQzlCLE9BQU8sUUFDUSxtQkFBWCxTQUEwQixPQUFPLFFBQ3JDLE9BQU8sVUFpQnJCLEtBQUssR0FaRCxhQUNDLElBQUssUUFDSCxLQUFNLFNBQ04sS0FBTSxTQUNOLE1BQU8sVUFDUCxLQUFNLFNBQ04sUUFBUyxZQUNULE1BQU8sVUFDUCxJQUFLLFFBQ0wsT0FBUSxXQUdOLEVBQUksRUFBRyxFQUFJLFVBQVUsT0FBUSxJQUFLLENBQ3ZDLEdBQUksT0FBUSxVQUFVLEdBQ2xCLEVBQUksTUFBTSxHQUNWLEtBQU8sTUFBTSxFQUVaLFNBQVEsUUFDVCxRQUFRLE1BQVEsR0FJeEIsT0FBTyxRQUFVOzs7OztDQ2pDaEIsU0FBUyxFQUFFLEdBQUcsR0FBSSxHQUFFLEVBQUUsRUFBRSxPQUFPLFVBQVUsVUFBVSxFQUFFLEVBQUUsUUFBUSxTQUFTLEVBQUUsRUFBRSxFQUFFLE1BQU0sR0FBRyxHQUFFLElBQUssVUFBVSxLQUFLLEVBQUUsaUJBQWlCLFNBQVMsS0FBSyxFQUFFLGdCQUFlLEtBQUssR0FBRyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVLEdBQUcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxVQUFVLEdBQUcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsVUFBVSxJQUFJLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxXQUFXLFNBQVMsU0FBUyxTQUFTLFNBQVMsU0FBUyxTQUFTLFdBQVcsRUFBRSxZQUFZLEVBQUUsU0FBUyxHQUFHLEdBQUksR0FBRSxFQUFFLFNBQVMsR0FBSSxPQUFPLElBQUcsRUFBRSxTQUFTLEVBQUUsSUFBSSxHQUFHLEdBQUcsRUFBRSxTQUFTLEdBQUcsTUFBTyxHQUFFLE9BQU8sS0FBSyxFQUFFLFNBQVMsR0FBRyxHQUFJLEdBQUUsRUFBRSxFQUFHLE9BQU8sR0FBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRyxFQUFFLE9BQU8sR0FBRyxDQUFDLEdBQUksR0FBRSxFQUFFLEVBQUUsUUFBUSxLQUFLLEVBQUUsRUFBRSxRQUFRLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxHQUFHLE1BQU0sSUFBSyxRQUFPLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssS0FBSyxJQUFJLE1BQU8sR0FBRyxHQUFFLE9BQU8sb0JBQW9CLFFBQVEsUUFBUSxTQUFTLE1BQU0sS0FBSyxPQUFPLE9BQU8sWUFBVyxFQUFHLGtCQUFpQixFQUFHLGtCQUFpQixFQUFHLFNBQVEsRUFBRyxlQUFlLFFBQVEsUUFBUSxnR0FBZ0csU0FBUSxFQUFHLFFBQVEsV0FBVyxHQUFJLEdBQUUsSUFBSyxRQUFPLEtBQUssWUFBWSxTQUFTLEtBQUssUUFBUSxlQUFlLEVBQUUsRUFBRSxLQUFLLElBQUksU0FBUyxJQUFJLEtBQUssVUFBUyxFQUFHLEtBQUssUUFBUSxPQUFPLEtBQUssUUFBUSxXQUFXLFFBQVEsS0FBSyxRQUFRLE9BQU8sS0FBSyxRQUFRLElBQUksR0FBRyxTQUFTLElBQUksUUFBUSxHQUFJLEdBQUUsS0FBSyxRQUFRLE1BQU0sRUFBRSxLQUFLLFFBQVEsR0FBRyxVQUFVLEtBQUssUUFBUSxPQUFPLEdBQUcsZ0JBQWdCLGdCQUFnQixFQUFFLE1BQU0sSUFBSSxLQUFLLFFBQVEsV0FBVyxxQkFBcUIsSUFBSSxFQUFFLEVBQUcsSUFBRyxLQUFLLFVBQVMsRUFBRyxLQUFLLFNBQVMsS0FBSyxPQUFPLEVBQUUsRUFBRSxJQUFJLE9BQU8sQ0FBQyxHQUFJLEdBQUUsRUFBRSxLQUFNLE1BQUssSUFBSSxFQUFFLEtBQUssUUFBUSxNQUFNLEdBQUcsSUFBSSxFQUFFLEdBQUcsbUJBQW1CLEVBQUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLEdBQUcsRUFBRSxTQUFTLGVBQWUsS0FBSyxLQUFLLEtBQUssc0JBQXNCLEtBQUssUUFBUSxXQUFXLEtBQUssUUFBUSxRQUFRLEtBQUssUUFBUSxRQUFRLElBQUksT0FBTyxFQUFFLHVCQUF1QixLQUFLLEVBQUUsaUJBQWlCLElBQUksWUFBWSxNQUFNLGVBQWUsRUFBRSxZQUFZLEVBQUUsWUFBWSxHQUFHLGdCQUFnQixTQUFTLEdBQUcsR0FBSSxHQUFFLEVBQUUsTUFBTSxLQUFNLElBQUcsRUFBRSxRQUFRLE9BQU8sRUFBRSxVQUFVLEdBQUUsSUFBTSxJQUFJLEdBQUUsS0FBSyxRQUFRLFFBQVEsU0FBUyxHQUFHLFVBQVUsSUFBSSxFQUFFLEdBQUcsUUFBUSxXQUFXLEVBQUUsaUJBQWlCLFNBQVMsR0FBRyxXQUFXLElBQUksRUFBRSxPQUFPLEdBQUcsUUFBUSxTQUFTLEdBQUcsTUFBTyxHQUFFLGtCQUFrQixFQUFFLGVBQWMsR0FBSyxNQUFNLFNBQVEsS0FBSyxVQUFTLEVBQUcsS0FBSyxTQUFTLEtBQUssUUFBUSxLQUFLLEtBQUssZ0JBQWdCLEtBQUssZ0JBQWdCLFFBQVEsS0FB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LElBQUksRUFBRSxPQUFPLEVBQUUsS0FBSyxZQUFZLEVBQUUsR0FBRyxZQUFhLEtBQUksR0FBSSxHQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUUsRUFBRyxJQUFJLElBQUksRUFBRSxHQUFHLE9BQU8sRUFBRSxLQUFLLHVDQUF1QyxFQUFFLEtBQUssZ0NBQWdDLEVBQUUsR0FBRyxXQUFZLEdBQUUsS0FBSyxVQUFVLEdBQUcsS0FBSyxZQUFZLEVBQUUsRUFBRSxLQUFLLElBQUksRUFBRSxFQUFFLE9BQVEsTUFBSyxZQUFZLEdBQUcsR0FBRyxLQUFLLFlBQVksS0FBSyxTQUFTLEtBQUssYUFBYSxRQUFRLEVBQUUsR0FBRyxLQUFLLFlBQVksRUFBRSxFQUFFLEVBQUUsS0FBSyxlQUFlLEtBQUssRUFBRSxFQUFFLEVBQUUsR0FBRyxLQUFLLFlBQVksQ0FBRSxNQUFLLFlBQVksQ0FBRSxJQUFJLEdBQUUsS0FBSyxTQUFTLEtBQUssYUFBYSxPQUFPLEtBQUssR0FBRyxNQUFNLFdBQVcsR0FBRyxHQUFHLEtBQUssRUFBRyxHQUFFLEdBQUcsRUFBRSxPQUFPLFNBQVMscUJBQXFCLFdBQVcsSUFBSSxHQUFJLEdBQUUsS0FBSyxRQUFRLEVBQUUsRUFBRSxPQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxXQUFXLEVBQUUsSUFBSSxZQUFZLENBQUMsR0FBSSxHQUFFLEtBQUssU0FBUyxTQUFTLElBQUksS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLFNBQVMsSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLFNBQVMsU0FBUyxJQUFJLEtBQUssU0FBUyxTQUFTLEtBQUssUUFBUSxjQUFjLEVBQUUsRUFBRSxTQUFTLElBQUksRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFFLEdBQUUsS0FBSyxTQUFTLEtBQUssT0FBTyxLQUFLLFFBQVEsY0FBYyxPQUFPLEtBQUssU0FBUyxLQUFLLE9BQU8sUUFBUyxPQUFNLEdBQUcsUUFBUSxFQUFFLEdBQUcsUUFBUSxLQUFNLEdBQUUsRUFBRSxlQUFlLE1BQU0sWUFBWSxXQUFXLEdBQUcsS0FB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QkFBZ0IsU0FBUyxLQUFLLEVBQUUsV0FBVyxNQUFPLElBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLFFBQVEsTUFBTSxFQUFFLEVBQUUsUUFBUSxPQUFPLEVBQUUsUUFBUSxTQUFTLEVBQUUsUUFBUSxPQUFPLFNBQVMsRUFBRSxHQUFHLE1BQU8sR0FBRSxHQUFHLE9BQU8sRUFBRSxXQUFXLEtBQUssV0FBVyxFQUFFLE1BQU0sTUFBTSxFQUFFLE1BQU0sV0FBVyxHQUFJLElBQUksR0FBRSxXQUFXLFdBQVcsR0FBSSxHQUFFLEVBQUUsRUFBRSxRQUFRLE9BQVEsR0FBRSxTQUFTLEVBQUUsTUFBTSxPQUFPLEVBQUUsU0FBUyxNQUFNLFNBQVMsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEtBQUssRUFBRyxHQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sYUFBYSxFQUFFLEtBQUssU0FBUyxXQUFXLElBQUksRUFBRSxLQUFLLEtBQUssZUFBZSxTQUFTLEdBQUcsRUFBRSxNQUFNLEtBQUssWUFBWSxRQUFRLFNBQVMsRUFBRSxHQUFHLGtCQUFtQixJQUFHLEVBQUUsS0FBSyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEdBQUcsR0FBRyxJQUFJLEVBQUUsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFLFFBQVEsS0FBSyxLQUFLLEVBQUUsRUFBRSxJQUFJLEtBQUssT0FBTyxTQUFTLEVBQUUsR0FBRyxHQUFJLEdBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxHQUFHLEVBQUUsRUFBRSxLQUFLLFNBQVMsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUUsSUFBRyxHQUFHLEVBQUUsR0FBRyxTQUFTLEVBQUUsS0FBSyxHQUFHLE9BQU8sSUFBSSxHQUFHLEVBQUUsU0FBUyxLQUFLLEdBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxXQUFXLEdBQUcsRUFBRSxFQUFFLE1BQU0sYUFBYSxFQUFFLEtBQUssU0FBUyxXQUFXLEdBQUcsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLGFBQWEsR0FBRyxLQUFLLEVBQUUsYUFBYSxFQUFFLGlCQUFpQixHQUFHLEVBQUUsUUFBUSxFQUFFLFdBQVcsWUFBWSxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsWUFBVyxHQUFJLEVBQUUsWUFBWSxFQUFFLFdBQVcsS0FBSyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsTUFBTSxTQUFTLFVBQVUsRUFBRSxHQUFHLFNBQVMsR0FBRyxFQUFFLFdBQVcsTUFBTyxJQUFHLEVBQUUsZUFBZSxpQkFBaUIsRUFBRSxnQkFBZSxHQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxhQUFhLENBQUMsR0FBSSxHQUFFLEVBQUUsRUFBRyxHQUFFLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsR0FBRyxFQUFFLGlCQUFpQixFQUFFLHNCQUF1QixHQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssYUFBYyxJQUFHLElBQUksSUFBSSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsa0NBQWtDLEVBQUUsbUNBQW1DLEVBQUUsU0FBUyxFQUFFLFFBQVEsY0FBYyxFQUFFLE1BQU0sWUFBWSxFQUFFLE9BQU8sRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBTSxHQUFFLGtDQUFrQyxFQUFFLG1DQUFtQyxFQUFFLFdBQVcsRUFBRSxVQUFVLEtBQUssS0FBSyxFQUFFLEVBQUUsR0FBRyxHQUFHLEVBQUUsTUFBTSxLQUFLLFlBQVksY0FBWSxFQUFFLGNBQWEsSUFBSSxFQUFFLGdCQUFtQixTQUFTLEVBQUUsV0FBVyxFQUFFLFVBQVUsS0FBSyxXQUFXLEVBQUUsU0FBUyxFQUFFLEVBQUUsV0FBVyxTQUFTLFlBQVkseUJBQXlCLEtBQUssRUFBRyxPQUFPLEdBQUUsTUFBTSxnQkFBZ0IsbUJBQW1CLEVBQUUsWUFBWSxFQUFFLEtBQUssZ0JBQWdCLEVBQUUsS0FBSyxjQUFjLEVBQUUsU0FBUyxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsRUFBRSxFQUFFLGNBQWEsR0FBSSxhQUFhLE1BQU0sNEJBQTJCLElBQUssT0FBTyxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFJLEdBQUUsRUFBRSxFQUFFLFVBQVcsR0FBRSxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLFNBQVMsT0FBTyxFQUFFLFdBQVcsTUFBTyxJQUFHLEVBQUUsRUFBRSxJQUFJLGFBQWEsZUFBZSxXQUFVLEVBQUcsVUFBVSxLQUFLLFdBQVcsS0FBSyxZQUFZLEVBQUUsZ0JBQWdCLFdBQVcsS0FBSyxTQUFTLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxHQUFJLEdBQUUsRUFBRSxTQUFTLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxNQUFNLFVBQVUsRUFBRSxnQkFBZ0IsVUFBVSxTQUFTLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLFVBQVUsU0FBVSxPQUFPLEdBQUUsUUFBUyxHQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLE9BQU8sRUFBRSxHQUFHLEVBQUUsb0JBQWtCLEdBQUUsSUFBSSxFQUFLLEVBQUUsR0FBRyxVQUFVLEdBQUcsU0FBUyxHQUFHLEVBQUUsVUFBVSxLQUFLLFdBQVcsRUFBRSxHQUFHLFVBQVUsRUFBRSxHQUFHLFNBQVMsWUFBWSx5QkFBeUIsSUFBSSxFQUFFLE1BQU0sZ0JBQWdCLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxHQUFHLFVBQVUsYUFBYSxFQUFFLGdCQUFnQixTQUFTLEtBQUssRUFBRSxXQUFXLE1BQU8sSUFBRyxFQUFFLEVBQUUsSUFBSSxPQUFPLFNBQVMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUksR0FBRSxFQUFFLEVBQUUsT0FBUSxPQUFPLEdBQUUsZ0JBQWdCLFNBQVMsT0FBTyxFQUFFLFdBQVcsTUFBTyxJQUFHLEVBQUUsRUFBRSxJQUFJLGFBQWEsRUFBRSxnQkFBZ0IsU0FBUyxhQUFhLFNBQVMsT0FBTzs7Ozs7O0NDRXB4SyxTQUFVLEdBRWMsa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFFekUsT0FBTyxRQUFVLEVBQVEsUUFBUSxZQUFhLFFBQVEsdUJBQzNCLGtCQUFYLFNBQXlCLE9BQVksSUFFckQsUUFBUSxXQUFZLHFCQUFzQixXQUFZLEdBR3RELEVBQVEsR0FBSSxHQUFHLFFBRWpCLFNBQVUsRUFBSSxHQVdkLEdBQUksR0FBYyxTQUFVLEVBQU8sR0FDakMsR0FFSSxHQUZBLEVBQVksRUFBRyxrQkFDZixFQUFZLEVBQUcsa0JBRWYsRUFBYyxFQUNkLEVBQWdCLEVBQ2hCLEVBQWdCLEVBQ2hCLEVBQVEsRUFFUixFQUFjLEVBQ2QsRUFBYyxFQUNkLEVBQVksRUFDWixFQUFhLEVBQ2IsRUFBTyxFQUVQLEdBQ0YsT0FBUSxJQUNSLFVBQVcsaUJBQ1gsVUFBVyxpQkFJWCxHQURvQixnQkFBWCxHQUNDLEVBQUcsTUFBTSxPQUFPLEVBQWdCLEdBRWhDLENBR1osSUFBSSxHQUFRLFNBQVUsR0FFaEIsR0FBUyxFQUNYLEVBQVMsRUFBUSxHQUNSLEdBQVMsRUFDbEIsRUFBUyxFQUFRLEdBQ1IsR0FBUyxJQUNsQixFQUFTLEVBQVEsR0FDakIsRUFBVSxjQUlWLEVBQVksU0FBVSxFQUFNLEdBQzlCLE1BQWlDLG1CQUF0QixHQUFLLGFBQ1AsRUFBSyxhQUFhLEdBQ2IsTUFHWixFQUFXLFNBQVUsRUFBUSxHQUkvQixHQUFJLElBQVUsT0FBUyxFQUFHLENBQ3hCLEdBQUksR0FBUyxFQUFVLElBQVUsSUFBVSxPQUFTLEdBQUksRUFFeEQsSUFBZSxPQUFYLEVBRUYsWUFEQSxJQUFVLElBQVUsT0FBUyxHQUFLLEdBSWxDLElBQVUsUUFBVSxFQUFRLFFBQVEsRUFBUSxRQUNoRCxFQUFrQixFQUNsQixFQUFRLEtBQUssSUFHWCxFQUFjLFNBQVMsRUFBTyxFQUFXLEdBQzNDLE9BQ0UsS0FBTSxFQUFHLFNBQVMsV0FDaEIsTUFBTyxHQUFHLE1BQU0saUJBQWlCLEdBQU8sUUFBUSxVQUFXLElBQVEsVUFFckUsUUFBUyxFQUFHLFNBQVMsV0FDbkIsTUFBMEIsS0FBbkIsSUFBUSxTQUVqQixRQUFTLFdBQ1AsR0FBSSxHQUFTLEVBQU0sS0FDbkIsSUFBSSxFQUFRLENBQ1YsR0FBSSxHQUFZLENBQ2hCLEdBQVEsQ0FDUixJQUFJLEdBQVUsQ0FDZCxHQUFPLEVBRVAsSUFFQSxFQUFvQixHQUNwQixFQUFPLEVBQ1AsRUFBUSxFQUVWLE9BQU8sS0FLVCxFQUFzQixTQUFTLEdBQ2pDLEdBQXNCLG1CQUFYLEdBQXdCLEtBQU0saUVBRXJDLEtBQVUsT0FBUyxHQUE2RCxtQkFBakQsS0FBVSxJQUFVLE9BQVMsR0FBRyxvQkFFMUQsS0FBVSxJQUFVLE9BQVMsR0FBRyxjQUl2QyxFQUFvQixTQUFTLEVBQU8sR0FDdEMsR0FBSSxHQUFNLFNBQVUsRUFBSSxHQUN0QixJQUNBLEtBQ0MsS0FBSyxPQUFXLEVBQU8sRUFJMUIsT0FIa0MsbUJBQXZCLEdBQU0sZUFDZixFQUFJLGFBQWUsRUFBTSxjQUVwQixHQUdMLEVBQW9CLFNBQVMsRUFBTyxFQUFPLEdBRTdDLEdBQXFCLG1CQUFWLEdBQ1QsRUFBTSxPQUNELENBQUEsSUFBSSxFQVNULEtBQU0sdURBUk4sSUFBbUIsV0FBZixFQUFLLE9BQ1AsRUFBTSxPQUFPLEVBQUssTUFBTyxFQUFHLEVBQUssV0FDNUIsQ0FBQSxHQUFtQixTQUFmLEVBQUssT0FHZCxLQUFNLDRCQUE0QixFQUFLLE1BRnZDLEdBQU0sT0FBTyxFQUFLLE1BQU8sTUFTM0IsRUFBd0IsU0FBUyxFQUFVLEVBQVMsRUFBTyxFQUFRLEdBQ3JFLE1BQU8sR0FBUyxLQUFLLE9BQVcsRUFBTyxFQUFRLElBRzdDLEVBQWlCLEVBRWpCLEVBQWUsU0FBUyxFQUFTLEVBQU8sR0FDMUMsR0FBSSxHQUFtQyxtQkFBbkIsR0FBTSxVQUEyQixFQUFNLFVBQVUsR0FBSyxPQUN0RSxFQUFNLEVBQWUsRUFBbUIsRUFBUyxFQUFPLEVBQVEsRUFFaEUsSUFBUSxJQUVSLEdBQVEsRUFFUyxtQkFBUixLQUNULEVBQUksYUFBZSxTQUFTLEdBQzFCLE1BQWlDLG1CQUF0QixHQUFVLFNBQTJCLEVBQVUsUUFDakQsRUFBa0IsRUFBVyxNQUN4QixNQUVoQixFQUFJLFNBQVUsR0FHRyxtQkFBUixLQUNMLEVBQU0sV0FBYSxHQUFRLElBQzdCLEVBQUksYUFBZSxTQUFTLEVBQVUsRUFBUyxHQUM3QyxNQUF3QyxnQkFBN0IsR0FBVSxpQkFBK0IsR0FBWSxFQUFVLGdCQUFnQixNQUVqRixLQUNLLE1BQ2QsS0FBSyxFQUFLLEVBQU8sR0FDbkIsRUFBSSxpQkFBb0IsTUFBTyxFQUFPLEtBQU0sSUFRMUMsR0FBdUIsV0FBZixFQUFLLFNBR2YsRUFBSSxhQUFlLFNBQVMsRUFBVSxFQUFTLEdBSTdDLE1BQXNDLGdCQUEzQixHQUFVLGVBQTZCLEVBQVEsT0FBUyxFQUFVLGNBQWMsS0FBSyxNQUd2RixFQUFrQixFQUFXLE9BRXBDLFFBQVEsSUFBSSxLQUFNLHNCQUF3QixHQUFVLGVBRy9DLE9BQ1AsS0FBSyxFQUFLLEVBQU8sSUFFakIsR0FBdUIsU0FBZixFQUFLLFNBR2YsRUFBSSxlQUFrQixNQUFPLEVBQU8sS0FBTSxLQUk3QixtQkFBUixJQUFxQixFQUFNLEtBR3BDLEdBQW1CLE9BQU8sRUFBSSxVQUFXLEVBQUcsU0FBUyxFQUFxQyxXQUFXLEdBRXJHLEtBQ0EsRUFBMEIsa0JBQVgsR0FBd0IsRUFBVSxFQUFHLE1BQ3BELEVBQU0sRUFBTSxFQUFPLEVBQWdCLEVBQWMsRUFFckQsUUFDRSxLQUFNLEVBQ04sWUFBYSxFQUFZLEVBQVEsVUFBVyxFQUFlLEdBQzNELFlBQWEsRUFBWSxFQUFRLFVBQVcsRUFBZSxHQUMzRCxNQUFPLFdBQWEsRUFBVSxZQUFhLEVBQVUsYUFFckQsWUFBYSxXQUFhLEVBQU8sRUFBVyxFQUFvQixJQUNoRSxhQUFjLFdBQWEsRUFBTyxFQUFZLEVBQW9CLElBQ2xFLGNBQWUsV0FBYSxFQUFPLEVBQWEsRUFBb0IsSUFDcEUsY0FBZSxXQUFhLEVBQU8sRUFBYSxFQUFvQixJQUNwRSxtQkFBb0IsU0FBUyxHQUFTLEVBQWlCLEdBQ3ZELFFBQVMsV0FBb0UsRUFBSSxZQUlyRixPQUFPOzs7Ozs7Q0M3T1IsU0FBVSxHQUdhLGtCQUFaLFVBQTZDLGdCQUFaLFVBQTBDLGdCQUFYLFFBRTFFLEVBQVEsUUFBUSxZQUFhLFNBQ0Qsa0JBQVgsU0FBeUIsT0FBWSxJQUV0RCxRQUFRLFdBQVksV0FBWSxHQUdoQyxFQUFRLEdBQUksR0FBRyxVQUVmLFNBQVUsRUFBSSxHQWdDWixRQUFTLEdBQU8sR0FDbkIsR0FBSSxTQUFXLEVBV2YsT0FWVSxXQUFOLElBQ1csRUFDSSxFQUFNLGFBQWUsS0FDckIsRUFBSSxPQUM0QixrQkFBekMsT0FBTyxVQUFVLFNBQVMsS0FBSyxLQUN0QixFQUFJLFNBRXRCLEVBQUksUUFHRSxFQUlKLFFBQVMsR0FBYSxHQUV6QixHQUFJLEtBRUosS0FBSyxHQUFJLEtBQUssR0FDZCxDQUNJLEdBQUksR0FBSSxFQUFFLEVBRU4sR0FBRyxXQUFXLEtBR2xCLEVBQUUsR0FBSyxFQUFPLElBR2xCLE1BQU8sR0FHSixRQUFTLEdBQVksR0FFeEIsR0FBSSxLQUVKLEtBQUssR0FBaUIsR0FBWixFQUFFLE9BQ1IsTUFBTyxFQUVYLEtBQUssR0FBSSxHQUFJLEVBQUcsRUFBSSxFQUFFLE9BQVEsRUFBSSxJQUFLLEVBQ25DLEVBQUUsS0FBSyxFQUFPLEVBQUUsSUFFcEIsT0FBTyxHQUdKLFFBQVMsR0FBTyxHQUVuQixHQUFJLEdBQWUsRUFBRyxhQUFhLEVBRW5DLElBQUksRUFDSixDQUNJLEdBQUksR0FBTSxHQUVWLE9BQU8sR0FBTyxHQUlkLE1BQWlCLFNBQWIsRUFBTyxHQUVQLEVBQVksR0FFTSxVQUFiLEVBQU8sR0FFWixFQUFhLEdBSWIsRUFLTCxRQUFTLEtBRUwsSUFBWSxJQUFLLEtBQU0sUUFBUyxLQUFNLElBQUssS0FLL0MsUUFBUyxHQUFXLEVBQUcsRUFBbUIsR0FHdEMsSUFBSyxHQUFJLEdBQUksRUFBRyxFQUFJLEVBQVEsU0FBVSxFQUNsQyxHQUFJLEVBQVEsR0FBRyxNQUFRLEVBQ25CLE1BQU8sR0FBUSxHQUFHLE9BSWpDLElBQUksS0FFSixLQUFLLEdBQUksS0FBSyxHQUNkLENBQ0ksR0FBSSxHQUFJLEVBQUUsRUFFSCxHQUFRLE1BQU0sSUFBSyxFQUFHLFFBQVMsRUFBRyxJQUFLLElBQWUsSUFBTSxJQUVuRSxFQUFFLEdBQUssRUFBSyxFQUFHLEVBQW1CLEdBRTNCLEVBQVEsTUFTbkIsTUFOSSxJQUFxQixFQUFrQixPQUN2QyxFQUFJLEVBQWtCLEtBQWMsSUFFN0IsS0FDQSxFQUFHLE1BQU0sR0FFaEIsRUFBMEIsRUFBRyxXQUFXLEdBQ3JDLEVBR0osUUFBUyxHQUFVLEVBQUcsRUFBbUIsR0FFNUMsR0FBSSxHQUFJLEVBQUcsaUJBRVgsS0FBSyxHQUFpQixHQUFaLEVBQUUsT0FDUixNQUFPLEVBRVgsS0FBSyxHQUFJLEdBQUksRUFBRyxFQUFJLEVBQUUsT0FBUSxFQUFJLElBQUssRUFDbkMsRUFBRSxLQUFLLEVBQUssRUFBRSxHQUFJLEVBQW1CLEdBRXpDLE9BQU8sR0FRSixRQUFTLEtBRVosTUFBTyxHQUFRLEVBQVEsT0FBTyxHQUFHLElBRzlCLFFBQVMsR0FBSyxFQUFHLEVBQW1CLEdBRXZDLEdBQWlCLFNBQWIsRUFBTyxHQUVQLE1BQU8sR0FBVSxFQUFHLEVBQW1CLEVBRXRDLElBQWlCLFVBQWIsRUFBTyxHQUVaLE1BQU8sR0FBVyxFQUFHLEVBQW1CLEVBSWpDLElBQUssS0FBK0Isa0JBQU4sR0FNMUIsTUFBTyxFQUpkLElBQUksR0FBSSxFQUFHLFlBRVgsT0FEQSxHQUFFLEdBQ0ssRUFNWixRQUFTLEtBRUwsTUFBbUIsT0FBWixFQUFHLE1BNUxkLEVBQVEsT0FBUyxTQUFTLEVBQVUsRUFBbUIsR0FHMUQsTUFETyxLQUNBLEVBQUssRUFBVSxFQUFtQixJQUt0QyxFQUFRLGFBQWUsU0FBUyxFQUFZLEVBQVUsRUFBbUIsR0FHNUUsTUFETyxLQUNBLEVBQVcsRUFBRyxNQUFNLGlCQUFpQixFQUFLLEVBQVUsRUFBbUIsTUFHM0UsRUFBUSxTQUFXLFNBQVUsRUFBWSxFQUFtQixHQUMvRCxHQUFJLEdBQVMsRUFBRyxNQUFNLFVBQVUsRUFFaEMsT0FEQSxXQUFVLEdBQUssRUFDUixFQUFRLE9BQU8sTUFBTSxLQUFNLEVBQW1CLElBR2xELEVBQVEsS0FBTyxTQUFVLEdBQzVCLE1BQU8sR0FBTyxJQUdYLEVBQVEsT0FBUyxTQUFVLEdBQzlCLEdBQUksR0FBd0IsRUFBUSxLQUFLLEVBQ3pDLE9BQU8sR0FBRyxNQUFNLGNBQWMsR0FtSTNCLElBQUk7Ozs7OztDQzVLTCxTQUFVLEdBRWMsa0JBQVosVUFBNkMsZ0JBQVosVUFBMEMsZ0JBQVgsUUFDdkUsRUFBUSxRQUFRLGFBRVMsa0JBQVgsU0FBeUIsT0FBTyxJQUM5QyxRQUFRLFlBQWEsR0FHckIsRUFBUSxPQUFPLEtBRXJCLFNBQVUsR0FDWixFQUFHLGFBQWEsR0FBVSxNQUFJLFNBQVUsRUFBa0IsRUFBUyxFQUFtQixHQTZCbEYsR0FBSSxTQUFvQixFQVl4QixPQVZtQixZQUFmLEdBQTJDLGNBQWYsRUFFNUIsRUFBRyxNQUFNLE1BQVEsUUFBUyxLQUFxQixJQUN6QixhQUFmLEdBQThCLEVBQUcsZUFBZSxHQUl2RCxFQUFHLE1BQU0sRUFBa0IsRUFBUyxFQUFtQixHQUFXLE1BRmxFLEVBQUcsTUFBTSxLQUFNLE1BQWUsRUFBa0IsR0FBVyxNQUt4RCxNQUdYLEVBQVUsTUFBSSxTQUFVLEVBQVEsRUFBUyxFQUFtQixHQXFDeEQsUUFBUyxHQUFjLEVBQU8sRUFBUSxFQUFjLEVBQVMsRUFBbUIsR0FDNUUsR0FBSSxHQUEyQixJQUFsQixFQUFRLFFBQWdCLEVBQVEsU0FBVSxHQUFNLEVBQWEsUUFBVSxFQUFRLE9BQVMsSUFBSyxDQUd0RyxHQUFJLEVBQVEsY0FBZ0IsRUFBTSxXQUFhLEdBQVMsRUFDcEQsTUFPSixJQUpJLEVBQVEsV0FBWSxHQUFTLEVBQVEsV0FBWSxJQUNqRCxFQUFNLFVBQVksRUFBUSxTQUcxQixFQUFNLGFBQWMsRUFDcEIsTUFHQSxHQUFRLFFBQVMsSUFDakIsRUFBTSxXQUFZLEVBRXRCLElBQUksU0FBYyxFQUVsQixJQUFhLFdBQVQsR0FBOEIsYUFBVCxFQUFxQixDQUUxQyxHQUFJLEVBQU0sV0FBYSxFQUNuQixNQUdKLElBQUksRUFBUSxNQUNKLEVBQUcsTUFBTSxhQUFhLEVBQVEsS0FBTSxJQUFTLEVBQzdDLE1BR1IsSUFBSSxNQUFhLE9BQU8sRUFBYyxHQUFVLElBQVcsRUFBUyxLQUVwRSxJQUFhLGFBQVQsRUEyQkcsQ0FDSCxHQUE4QyxvQkFBMUMsT0FBTyxVQUFVLFNBQVMsS0FBSyxHQUMvQixFQUFHLE1BQU0sY0FBYyxFQUFPLFNBQVUsRUFBVSxHQUU5QyxHQURBLEVBQU0sRUFBUSxPQUFTLEVBQVEsT0FBTyxLQUFLLEVBQVMsRUFBUyxFQUFPLEdBQVksRUFDdkUsQ0FDTCxHQUFJLEVBQVEsS0FBTSxDQUVkLEdBQUksR0FBTyxPQUFPLFVBQVUsU0FBUyxLQUFLLEVBQzdCLHVCQUFULEdBQXlDLG9CQUFULElBQzNCLEVBQVEsWUFBYyxFQUFRLFdBQVcsS0FBSyxFQUFTLEVBQVMsRUFBTyxNQUFTLElBQ2pGLEVBQU0sRUFBTSxHQUFxQixtQkFBVCxFQUNsQixFQUFHLGdCQUFnQixHQUNuQixFQUFHLFdBQVcsS0FLNUIsRUFBUSxTQUNSLEVBQUksU0FBVyxFQUFVLE9BQVksRUFFekMsSUFBSSxHQUFjLEVBQWMsRUFBSyxFQUFvQixLQUFPLEVBQU8sRUFBUyxFQUFTLEtBQU0sRUFFM0YsR0FBUSxXQUFnQyxTQUFuQixFQUFJLGFBQ3JCLEdBQzBCLGdCQUF0QixFQUFRLFdBQThDLGtCQUFSLElBQXFDLGdCQUFSLE1BQy9FLEVBQUksV0FBYSxVQUlqQyxJQUFJLEVBQVEsY0FBZSxFQUN2QixJQUFLLEdBQUksR0FBSSxFQUFHLEVBQUksRUFBTSxPQUFRLElBQzlCLEVBQWMsRUFBTSxHQUFJLEVBQW9CLEtBQU8sRUFBTyxFQUFTLEVBRy9FLFFBQU8sRUE1RFAsR0FBeUMsa0JBQTlCLEdBQXlCLG1CQUU1QixFQUFtQixDQUNuQixHQUFJLEVBQVEsV0FBWSxHQUFRLEVBQU0sYUFBYyxFQUVoRCxNQUVKLElBQUksSUFBWSxFQUFRLGFBQWUsRUFBUSxZQUFZLEtBQUssRUFBUyxFQUFTLEVBQU8sTUFBZSxFQUFPLENBQzNHLEdBQUksR0FBK0Isa0JBQWQsR0FBTSxHQVEzQixJQU5JLEVBQ0EsRUFBZSxHQUVmLEVBQWMsRUFBTyxFQUFTLEVBQVMsR0FHdkMsRUFFQSxNQURBLEdBQWMsSUFBUyxFQUFvQixLQUFPLEVBQU8sRUFBUyxHQUFTLElBQ3BFLENBRVAsSUFBSSxFQUFRLHFCQUFzQixFQUM5QixNQUFPLEdBQWMsSUFBUyxFQUFvQixLQUFPLEVBQU8sRUFBUyxHQUFTLE9BNkR0SCxRQUFTLEdBQWUsR0FDcEIsR0FBSSxHQUFRLEVBQU0sRUFFbEIsS0FBSSxFQWlCQSxLQUFNLHlCQUEyQixFQUFxQix1Q0FBeUMsRUFBTSxZQUFjLEdBaEJuSCxJQUFJLEVBQU0sT0FDTixJQUFLLEdBQUksR0FBSSxFQUFNLE9BQU8sT0FBUyxFQUFHLEdBQUssRUFBRyxJQUN0QyxFQUFNLE9BQU8sR0FBRyxXQUFhLEdBQzdCLEVBQU0sT0FBTyxHQUFHLFNBRTVCLElBQUksRUFBTSxlQUFpQixFQUFRLFNBQVcsRUFBUSxVQUFZLEdBRTlELElBQUssR0FBSSxHQUFJLEVBQU0sYUFBYSxPQUFTLEVBQUcsR0FBSyxFQUFHLElBQzVDLEVBQU0sYUFBYSxHQUFHLFdBQWEsR0FDbkMsRUFBTSxhQUFhLEdBQUcsU0FFbEMsSUFBSSxFQUFNLFlBQ04sSUFBSyxHQUFJLEdBQUksRUFBTSxZQUFZLE9BQVMsRUFBRyxHQUFLLEVBQUcsSUFDM0MsRUFBTSxZQUFZLEdBQUcsV0FBYSxHQUNsQyxFQUFNLFlBQVksR0FBRyxVQU16QyxRQUFTLEdBQWMsRUFBTyxFQUFTLEVBQVMsR0FDeEMsRUFFQSxFQUFNLFVBQVUsU0FBVSxHQUN0QixFQUFHLE1BQU0sYUFBYSxFQUFTLFNBQVUsR0FDckMsR0FBSSxHQUFjLEVBQWtCLEtBQUssRUFBUyxFQUFTLEVBQU8sRUFDOUMsVUFBaEIsR0FDQSxFQUFRLEdBRVAsRUFBSyxPQUVOLFdBQVcsV0FDUCxFQUFjLEVBQUssTUFBUSxFQUFvQixLQUFPLEVBQVEsRUFBeUIsWUFBaEIsRUFBSyxTQUM3RSxNQUdaLE9BQVcsZUFBZSxTQUFXLEdBR3hDLEVBQU0sVUFBVSxXQUNaLEdBQUksRUFBTSxhQUFjLEVBQU8sQ0FDM0IsR0FBSSxHQUFjLEVBQWtCLEtBQUssRUFBUyxFQUFTLEVBRXZDLFVBQWhCLEdBQ0EsRUFBUSxHQUVSLEVBQVEsU0FBOEIsZ0JBQVosTUFFMUIsRUFBYyxJQUFVLEVBQW9CLEtBQU8sRUFBUSxLQUdwRSxLQUFNLFVBQVUsU0FBVyxHQUUxQixFQUFRLFVBQVksR0FBSyxFQUFRLFdBQ2pDLEVBQU0sVUFBVSxTQUFVLEdBQ3RCLEdBQUksRUFBUSxVQUFZLEVBQUcsQ0FFdkIsR0FBSSxHQUFVLEVBQWlCLFVBQ3pCLEVBQWlCLFVBQ2pCLEVBQWlCLFlBSXZCLEtBRkEsRUFBTyxRQUFRLEdBRVIsRUFBTyxPQUFTLEVBQVEsV0FDM0IsRUFBTyxNQUdYLEVBQVEsU0FBK0IsZ0JBQWIsSUFFMUIsRUFBYyxFQUFXLEVBQW9CLEtBQU8sRUFBUSxHQUFTLEdBQU8sSUFFakYsS0FBTSxnQkFBZ0IsU0FBVyxJQXhNekIsa0JBQVosS0FDUCxFQUFVLEdBQVcsRUFDckIsRUFBb0IsRUFDcEIsTUFHSixFQUFVLEdBQVcsSUEyR3JCLElBQUksRUFDSixRQUFrQyxrQkFBbkIsR0FBRyxjQUE4QixFQUFHLFNBQy9DLEtBQUssRUFBTSxFQUFxQixnQkFBa0IsTUFDbEQsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsS0FBSyxRQUFTLEVBQXFCLEdBQUssTUFDeEMsU0FBUyxLQUFNLHVHQUF5RyxFQUFHLFFBb0YvSCxNQUFzQixrQkFBWCxJQUEwQixFQUFHLGVBQWUsSUFHdkQsRUFBYyxFQUFRLFVBR2xCLFFBQVMsV0FDTCxFQUFjLEVBQVEsU0FBVSxNQU43QixFQUFHLFNBQVMsRUFBUSxFQUFtQjs7Ozs7QUN4U3RELE9BQU8sU0FDSCxJQUFPLFFBQVEsZUFDZixNQUFPLFFBQVEsZ0JBQ2YsVUFBVyxRQUFROzs7O0FDRHZCLFFBQVMsT0FBTSxHQUNiLE1BQU8sUUFBTyxLQUFLLEtBQU0sR0FHM0IsUUFBUyxRQUFPLEdBQ2QsR0FBSSxNQUFVLE1BQU0sS0FBSyxVQUFXLEVBQ3BDLEdBQUssUUFBUSxJQUFNLEVBQVEsS0FDM0IsUUFBUSxPQUFPLE1BQU0sRUFBSyxLQUFLLEtBQU8sTUFUeEMsUUFBVSxPQUFPLFFBQVU7Ozs7O0FDYTNCLFFBQVMsS0FBSSxHQXdDWCxRQUFTLEtBRVAsTUFEQSxLQUNPLEVBQUksR0FVYixRQUFTLEdBQVMsR0FDaEIsTUFBTyxHQUFRLEVBQU0sRUFBTSxPQUFTLEVBQUksR0FBUyxFQVVuRCxRQUFTLEdBQWEsR0FDcEIsR0FBSSxHQUFRLEVBQVMsQ0FDckIsT0FBUSxLQUFRLEVBQUksTUFBTSxFQUFPLEVBQVEsRUFBSSxRQVUvQyxRQUFTLEdBQUssR0FDWixHQUFJLEdBQU0sRUFBSSxNQUFNLEdBQVEsUUFBUSxFQUVwQyxPQUFPLEdBQU0sR0FBSSxFQVNuQixRQUFTLEdBQVcsR0FDbEIsTUFBTyxLQUFPLEVBQUssR0FVckIsUUFBUyxHQUFLLEdBQ1osTUFBTyxHQUFJLEdBQVUsR0FBVSxJQVFqQyxRQUFTLEtBQ1AsR0FBSSxHQUFVLEVBQU0sS0FHcEIsT0FGQSxHQUFRLEVBQU0sRUFBTSxPQUFTLEdBRXRCLEVBU1QsUUFBUyxHQUFVLEdBSWpCLE1BSEEsR0FBUSxFQUNSLEVBQU0sS0FBSyxHQUVKLEVBQU0sT0FTZixRQUFTLEdBQWEsR0FDcEIsR0FBSSxHQUFnQixDQUdwQixPQUZBLEdBQU0sRUFBTSxPQUFTLEdBQUssRUFBUSxFQUUzQixFQVNULFFBQVMsR0FBSyxHQUNaLEdBQWdCLElBQVgsR0FBSyxHQUNXLE1BQWYsRUFBSSxJQUNOLElBQ0EsRUFBUyxHQUVULElBRUYsUUFDSyxDQUNMLEdBQUksR0FBVSxFQUFJLE1BQU0sRUFBUSxFQUFTLEdBQUcsTUFBTSxLQUM5QyxHQUFRLE9BQVMsSUFDbkIsR0FBUSxFQUFRLE9BQVMsRUFDekIsRUFBUyxHQUVYLEdBQVUsRUFBUSxFQUFRLE9BQVMsR0FBRyxPQUN0QyxHQUFrQixHQU90QixRQUFTLEtBQ1AsRUFBTSxLQUNKLEtBQU0sRUFDTixJQUFLLEdBR1AsT0FBUyxNQUFNLFlBQWEsS0FBSyxVQUFVLEVBQU8sS0FBTSxJQUV4RCxFQUFPLEtBQUssR0FFWixFQUFTLEdBQ1QsS0FRRixRQUFTLEdBQWdCLEdBQ3ZCLEdBQ0UsS0FBTSxFQUNOLE9BQ0UsS0FBTSxFQUNOLElBQU0sSUFoTVosR0FBSSxHQUdBLEVBREEsRUFBUyxHQUVULEVBQVMsRUFDVCxHQUFTLEVBQ1QsRUFBUSxFQUNSLEVBQU8sRUFDUCxFQUFRLGtCQUNSLEdBQVMsR0FDVCxLQUNBLEtBR0EsR0FDRixRQUNBLGFBQ0UsS0FBTSxvQkFBcUIsS0FBTSxZQUFhLE9BQVEsYUFDdEQsS0FBTSxpQkFBa0IsS0FBTSxZQUFhLE9BQVEsVUFDbkQsS0FBTSxnQkFBaUIsS0FBTSxZQUFhLE9BQVEsU0FDbEQsS0FBTSxlQUFnQixLQUFNLFlBQWEsT0FBUSxPQUNuRCxhQUNFLEtBQU0sU0FBVSxNQUFPLG9CQUN2QixLQUFNLFVBQVcsTUFBTyxtQkFDMUIsV0FDQSxZQUNFLEtBQU0sWUFBYSxNQUFPLG1CQUM1QixZQUNFLEtBQU0sZ0JBQWlCLEtBQU0sV0FBWSxPQUFRLFNBQ25ELE9BdUxGLEtBRkEsUUFBVSxFQUFRLEtBQUssT0FFaEIsRUFBSyxLQUtWLE9BSkEsT0FBUyxNQUFNLEVBQUksS0FJWCxHQUVSLElBQUssSUFDSCxPQUFRLEtBQ1IsSUFBSyxXQUNMLElBQUssUUFDTCxJQUFLLGNBQ0wsSUFBSyxXQUNMLElBQUssV0FDTCxJQUFLLFVBQ0wsSUFBSyxnQkFDTCxJQUFLLGdCQUNILEdBQVUsRUFHWixLQUdGLEtBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxLQUNMLElBQUssS0FDSCxPQUFRLEtBQ1IsSUFBSyxRQUNMLElBQUssY0FDTCxJQUFLLFdBQ0wsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFDTCxJQUFLLFdBQ0gsR0FBVSxDQUNWLE1BRUYsS0FBSyxXQUVDLE9BQVMsSUFDWCxFQUFNLE1BQVEsRUFBTyxPQUNyQixJQUNBLEtBU0osS0FFRixLQUFLLElBQ0gsT0FBUSxLQUNSLElBQUssT0FDSCxFQUFNLEtBQU8sRUFBTyxPQUNwQixFQUFTLEdBRVQsRUFBYSxlQUNiLE1BRUYsS0FBSyxrQkFDSCxHQUFVLEVBRVYsRUFBZ0IsWUFDaEIsRUFBVSxXQUNWLE1BRUYsS0FBSyxlQUNILEVBQWEsU0FDYixHQUFVLENBQ1YsTUFFRixTQUNFLEdBQVUsRUFHWixLQUVGLEtBQUssSUFDSCxPQUFRLEtBQ1IsSUFBSyxPQUNMLElBQUssZUFDTCxJQUFLLFFBR0MsRUFBTyxPQUFPLE9BQVMsSUFDekIsRUFBTSxNQUFRLEVBQU8sT0FDckIsS0FFRixFQUFhLGNBQ2IsTUFFRixLQUFLLGNBRUgsR0FBVSxDQUNWLE1BRUYsS0FBSyxXQUVILEVBQU0sTUFBUSxFQUFPLE9BQ3JCLElBQ0EsR0FDQSxNQUVGLEtBQUssY0FFSCxLQUVGLFNBQ0UsR0FBVSxFQUdaLEtBRUYsS0FBSyxJQUNILE9BQVEsS0FDUixJQUFLLFdBRUgsR0FBaUIsT0FBYixHQUFLLEdBQWMsQ0FDbkIsR0FBVSxDQUNWLE9BSUosRUFBTSxLQUFPLEVBQU8sT0FDcEIsSUFDQSxFQUFhLGVBQ2IsR0FBZ0IsQ0FDaEIsTUFFRixLQUFLLFdBS0gsT0FIQSxFQUFNLEtBQU8sRUFBTyxPQUdaLEVBQU0sTUFDZCxJQUFLLFlBQ0wsSUFBSyxXQUNMLElBQUssT0FDSCxFQUFVLGNBQ1YsTUFFRixTQUNFLEVBQVUsbUJBR1osSUFDQSxHQUFnQixDQUNoQixNQUVGLEtBQUssT0FDTCxJQUFLLFVBRUgsRUFBTSxLQUFPLEVBQU8sT0FDcEIsSUFDQSxFQUFVLGVBQ1YsR0FBZ0IsQ0FDaEIsTUFFRixLQUFLLFVBQ0wsSUFBSyxnQkFDTCxJQUFLLGdCQUVILEdBQVUsQ0FDVixNQUNGLEtBQUssZUFDSCxFQUFhLFNBQ2IsR0FBVSxFQUlaLEtBRUYsS0FBSyxJQUNILE9BQVEsS0FDUixJQUFLLGNBQ0wsSUFBSyxPQUNMLElBQUssZUFDTCxJQUFLLFFBRUMsSUFDRixFQUFNLE1BQVEsRUFBTyxRQUluQixFQUFNLE1BQVEsRUFBTSxPQUN0QixJQUlGLEVBQWdCLE9BQ2hCLElBQ0EsSUFJSSxhQUFlLE1BQ2pCLEVBQWdCLGdCQUNoQixJQUNBLEtBR0UsRUFBUSxJQUNWLEdBQWdCLEVBR2xCLE1BRUYsS0FBSyxXQUNMLElBQUssa0JBQ0wsSUFBSyxXQUVILEdBQWlCLE9BQWIsR0FBSyxHQUFjLENBQ25CLEdBQVUsQ0FDVixPQUdBLEVBQVEsR0FFTixhQUFlLEVBQVMsS0FDMUIsRUFBZ0IsZ0JBQ2hCLEtBSUEsRUFBUSxHQUNWLElBR0UsRUFBUSxJQUNWLEdBQWdCLEVBRWxCLE1BRUYsS0FBSyxnQkFDTCxJQUFLLGdCQUNMLElBQUssVUFFSCxHQUFVLEVBSVosS0FHRixLQUFLLElBQ0wsSUFBSyxJQUNILE9BQVEsS0FDUixJQUFLLGdCQUNDLE1BQVEsR0FBTSxPQUFTLEdBQUssSUFDOUIsR0FFRixNQUVGLEtBQUssZ0JBQ0MsTUFBUSxHQUFNLE9BQVMsR0FBSyxJQUM5QixHQUVGLE1BRUYsS0FBSyxrQkFDSCxFQUFhLFlBQ2IsRUFBVSxNQUFRLEVBQUssZ0JBQWtCLGdCQUN6QyxNQUVGLEtBQUssZUFDSCxFQUFhLFNBQ2IsRUFBVSxNQUFRLEVBQUssZ0JBQWtCLGdCQUN6QyxNQUVGLEtBQUssVUFFSCxLQUVGLFNBQ00sT0FBUyxHQUFLLElBQ2hCLEVBQVUsTUFBUSxFQUFLLGdCQUFrQixpQkFJN0MsR0FBVSxDQUNWLE1BR0YsS0FBSyxJQUNILE9BQVEsS0FDUixJQUFLLFVBQ0wsSUFBSyxnQkFDTCxJQUFLLGdCQUVILEdBQVUsQ0FDVixNQUVGLEtBQUssZUFDTCxJQUFLLFdBQ0wsSUFBSyxPQUNMLElBQUssUUFDSCxHQUFJLEVBQVcsS0FBTSxDQUduQixHQUFJLEdBQU0sRUFBSyxLQUVYLElBQ0YsRUFBSyxFQUFNLE9BR0ssZ0JBQWQsS0FBOEIsRUFBYSxTQUMvQyxHQUFVLENBRVosTUFFRixTQUNNLEVBQVcsTUFFYixFQUFnQixXQUNoQixFQUFVLFdBQ1YsS0FHQSxHQUFVLEVBSWQsS0FHRixLQUFLLElBQ0gsT0FBUSxLQUNSLElBQUssVUFDQyxFQUFXLE1BRWIsRUFBTSxLQUFPLEVBQ2IsSUFDQSxJQUNBLEtBR0EsR0FBVSxDQUVaLE1BRUYsS0FBSyxrQkFDSCxHQUFVLEVBQ1YsRUFBZ0IsWUFDaEIsRUFBVSxXQUNWLE1BRUYsS0FBSyxlQUNILEVBQWEsU0FDYixHQUFVLENBQ1YsTUFFRixTQUNFLEdBQVUsRUFFWixLQUdGLEtBQUssSUFDSCxPQUFRLEtBQ1IsSUFBSyxVQUNMLElBQUssZ0JBQ0wsSUFBSyxnQkFDSCxHQUFVLENBQ1YsTUFDRixLQUFLLGVBQ0gsRUFBYSxTQUNiLEdBQVUsQ0FDVixNQUVGLFNBTUUsSUFBSyxHQUhELEdBQ0EsRUFGQSxHQUFZLEVBSVAsRUFBSSxFQUFHLEVBQU0sRUFBUSxRQUFTLEdBQWEsRUFBSSxJQUFPLEVBQzdELEVBQU8sRUFBUSxHQUNmLEVBQU8sRUFBSyxNQUFRLEVBRWYsRUFBYSxLQUVsQixHQUFZLEVBRVosRUFBZ0IsR0FDaEIsRUFBVSxFQUFLLE9BQVMsWUFDeEIsRUFBSyxFQUFLLFFBRU4sRUFBSyxTQUNQLEVBQU0sT0FBUyxFQUFLLFFBR2xCLEVBQUssT0FDUCxFQUFNLEtBQU8sRUFBSyxNQUlqQixLQUVILEdBQVUsR0FJZCxLQUlGLEtBQUssSUFDSCxPQUFRLEtBQ1IsSUFBSyxRQUNILEVBQVUsY0FDVixNQUNGLEtBQUssZUFDSCxFQUFhLFNBSWYsR0FBVSxDQUNWLE1BRUYsS0FBSyxJQUNILE9BQVEsS0FDUixJQUFLLGNBQ0gsR0FDQSxNQUNGLEtBQUssZUFDSCxFQUFhLFNBSWYsR0FBVSxDQUNWLE1BRUYsU0FDRSxPQUFRLEtBQ1IsSUFBSyxrQkFDSCxFQUFnQixZQUNoQixFQUFVLFdBQ1YsTUFFRixLQUFLLGNBQ0gsRUFBZ0IsWUFDaEIsRUFBYSxPQUNiLE1BRUYsS0FBSyxlQUNILEVBQWEsUUFDYixNQUVGLEtBQUssa0JBQ0gsRUFBYSxZQUlmLEdBQVUsRUFPZCxNQUZBLFFBQVMsTUFBTSxTQUFXLEtBQUssTUFBUSxFQUFTLE1BRXpDLEVBbHJCVCxHQUFJLFFBQVEsRUFDUixPQUFRLEVBRVIsTUFBUSxRQUFRLFdBQVcsTUFFL0IsU0FBVSxPQUFPLFFBQVU7OztBQ2dCM0IsUUFBUyxPQUFNLEVBQUssR0FDbEIsR0FBSSxFQUVKLEtBQVksTUFDWixZQUFjLEVBQVEsU0FDdEIsWUFBYyxFQUFRLFNBRXRCLE9BQVMsRUFHVCxRQUFVLE1BQU0sUUFBUSxHQUFPLEVBQUksUUFBVSxJQUFJLEVBRWpELElBQUksR0FFQSxFQURBLElBS0osS0FGQSxRQUFVLEVBQVEsS0FBSyxPQUVmLEVBQVEsUUFDZCxFQUFPLFdBQVcsR0FDbEIsR0FBUSxFQUFNLEtBQUssRUFLckIsT0FGQSxRQUFTLE1BQU0sU0FBVyxLQUFLLE1BQVEsRUFBUyxPQUc5QyxLQUFNLGFBQ04sWUFDRSxNQUFPLElBZWIsUUFBUyxTQUFRLEVBQU8sR0FDdEIsSUFBYSxLQU9iLEtBQUssR0FMRCxHQUNBLEdBQVEsT0FBUSxPQUFRLFNBQ3hCLEtBR0ssRUFBSSxFQUFHLEVBQUksRUFBSyxTQUFVLEVBQ2pDLEVBQU0sRUFBSyxHQUVQLEVBQU0sS0FDUixFQUFLLEdBQU8sRUFBUyxJQUFRLEVBQU0sR0FNdkMsS0FGQSxFQUFPLE9BQU8sS0FBSyxHQUVkLEVBQUksRUFBRyxFQUFJLEVBQUssU0FBVSxFQUM3QixFQUFNLEVBQUssR0FFTixFQUFLLEtBQ1IsRUFBSyxHQUFPLEVBQVMsR0FhekIsT0FUSSxhQUNGLEVBQUssVUFDSCxNQUFPLEVBQU0sTUFDYixJQUFLLEVBQU0sTUFJZixPQUFTLE1BQU0sV0FBWSxLQUFLLFVBQVUsRUFBTSxLQUFNLElBRS9DLEVBUVQsUUFBUyxRQUNQLEdBQUksR0FBUSxRQUFRLE9BRXBCLE9BREEsUUFBUyxNQUFNLFFBQVMsS0FBSyxVQUFVLEVBQU8sS0FBTSxJQUM3QyxFQVdULFFBQVMsY0FBYSxHQUNwQixRQUFrQixDQUlsQixJQUFJLEtBRUosUUFBUSxFQUFNLE1BQ2QsSUFBSyxZQUNMLElBQUssV0FDSCxFQUFVLGFBQWUsbUJBQ3pCLE1BRUYsS0FBSyxPQUNILEVBQVUsT0FBUyxFQUFNLE9BQ3pCLEVBQVUsYUFBZSxtQkFDekIsTUFFRixTQUNFLEVBQVUsT0FBUyxFQUFNLE9BQ3pCLEVBQVUsTUFBUSxhQUdwQixNQUFPLFNBQVEsRUFBTyxHQVN4QixRQUFTLGVBQWMsR0FDckIsTUFBTyxTQUFRLEdBU2pCLFFBQVMsY0FBYSxHQUNwQixNQUFPLFNBQVEsR0FTakIsUUFBUyxjQUFhLEdBQ3BCLE1BQU8sU0FBUSxHQUFRLEtBQU0sRUFBTSxPQUdyQyxRQUFTLGdCQUFlLEdBQ3RCLE1BQU8sU0FBUSxHQVFqQixRQUFTLGVBQWMsR0FDckIsTUFBTyxTQUFRLEdBU2pCLFFBQVMsZUFBYyxHQUNyQixRQUFTLEdBQUssR0FDWixNQUFPLEdBQUksT0FHYixNQUFPLFNBQVEsR0FDYixLQUFNLE9BQ04sVUFBVyxFQUFNLEtBQUssTUFBTSxLQUFLLElBQUksR0FDckMsYUFBYyxrQkFBa0IsS0FTcEMsUUFBUyxZQUFXLEdBQ2xCLE9BQVEsRUFBTSxNQUVkLElBQUssV0FBWSxNQUFPLGVBQWMsRUFFdEMsS0FBSyxXQUFZLE1BQU8sZUFBYyxFQUV0QyxLQUFLLGVBQXFDLFlBQXJCLFFBQWtCLEVBRXZDLEtBQUssUUFDTCxJQUFLLFlBQWEsTUFBTyxjQUFhLEVBRXRDLEtBQUssVUFBVyxHQUFJLFVBQWEsTUFBTyxjQUFhLEVBQVUsTUFFL0QsS0FBSyxVQUFXLE1BQU8sY0FBYSxFQUNwQyxLQUFLLFNBQVUsTUFBTyxlQUFjLEVBRXBDLEtBQUssWUFBYSxNQUFPLGdCQUFlLEVBRXhDLEtBQUssWUFDTCxJQUFLLFdBQ0wsSUFBSyxXQUNMLElBQUssV0FDTCxJQUFLLE9BQWEsTUFBTyxjQUFhLEdBR3RDLE9BQVMsTUFBTSxnQ0FBaUMsS0FBSyxVQUFVLElBZWpFLFFBQVMsa0JBQWlCLEdBS3hCLElBSkEsR0FBSSxHQUVBLEVBREEsTUFHSSxFQUFRLFNBQVksR0FBZSxFQUFZLElBQ3JELEVBQU8sV0FBVyxHQUNsQixHQUFRLEVBQU0sS0FBSyxFQVFyQixPQUpJLElBQXdCLFFBQWYsRUFBTSxNQUNqQixRQUFRLFFBQVEsR0FHWCxFQVFULFFBQVMscUJBQ1AsTUFBTyxrQkFBaUIsU0FBVSxHQUNoQyxNQUF1QixhQUFmLEVBQU0sTUFBc0MsWUFBZixFQUFNLE9BUy9DLFFBQVMsY0FDUCxNQUFPLGtCQUFpQixXQUFjLE1BQU8sVUFqUy9DLEdBQUksUUFBUSxFQUNSLE9BQVEsRUFFUixNQUFRLFFBQVEsV0FBVyxTQUMzQixJQUFNLFFBQVEsVUFFbEIsU0FBVSxPQUFPLFFBQVUsS0FFM0IsSUFBSSxXQUNBLE9BQ0EsVUFDQTs7O0FDWUosUUFBUyxXQUFVLEVBQUssR0FDdEIsR0FBSSxFQUVKLEtBQVksTUFDWixhQUFlLEVBQVEsYUFBZSxHQUN0QyxZQUFjLEVBQVEsU0FDdEIsWUFBYyxFQUFRLFNBRWxCLFVBQ0YsR0FBSyxHQUFLLElBRVYsR0FBSyxLQUNMLEdBQUssS0FHUCxRQUFVLEVBQVEsS0FBSyxNQUV2QixJQUFJLEdBQU0sT0FBTyxFQUFJLFdBQVcsTUFBTyxlQUFlLEtBQUssTUFBTSxNQUlqRSxPQUZBLFFBQVMsTUFBTSxTQUFXLEtBQUssTUFBUSxFQUFTLE1BRXpDLEVBWVQsUUFBUyxRQUFPLEdBR2QsTUFGQSxNQUFLLFFBQVUsS0FBSyxNQUFRLEdBRXhCLE9BQ0YsS0FBSyxPQUFTLEdBSVosVUFBb0IsR0FFakIsTUFBTSxLQUFLLE9BQU8sS0FBSyxjQUFnQixJQWNoRCxRQUFTLGlCQUFnQixHQUN2QixNQUFPLElBQU0sRUFBSyxLQUFPLElBQU0sRUFBSyxNQUFRLElBQU0sR0FZcEQsUUFBUyxrQkFBaUIsR0FDeEIsR0FBSSxHQUFRLEdBQ1IsRUFBUyxFQUFLLFFBQVUsRUFFeEIsR0FBSyxPQUNQLEVBQVEsSUFBTSxFQUFLLEtBSXJCLElBQUksR0FBc0IsU0FBZCxFQUFLLElBRWpCLE9BQU8sSUFBTSxFQUFTLEVBQUssS0FBTyxFQUFRLEdBQUssZUFBZSxFQUFNLEdBQVMsR0FTL0UsUUFBUyxrQkFBaUIsR0FDeEIsTUFBSyxXQUVFLE1BQVEsRUFBSyxNQUFRLElBQU0sS0FBTyxHQUZoQixHQVczQixRQUFTLGVBQWMsR0FDckIsR0FBSSxFQVNKLE9BUEksR0FBSyxVQUNQLEVBQVEsRUFBSyxVQUFVLEtBQUssSUFBTSxLQUVsQyxFQUFRLElBQU0sRUFBSyxLQUNuQixHQUFTLEVBQUssS0FBTyxJQUFNLEVBQUssS0FBTyxJQUdsQyxTQUFXLEVBQVEsR0FBSyxlQUFlLEdBQVEsR0FpQnhELFFBQVMsUUFBTyxFQUFPLEdBQ3JCLE1BQU8sR0FBTSxPQUFPLFNBQVUsRUFBUyxHQUNyQyxHQUFJLEdBQXdCLFlBQWQsRUFBSyxLQUFzQixpQkFBaUIsR0FBUSxFQUFHLEVBRXJFLE9BREEsSUFBVSxFQUFRLEtBQUssR0FDaEIsT0FZWCxRQUFTLGdCQUFlLEVBQU0sR0FDNUIsR0FBSSxHQUFXLEVBQUssYUFDaEIsRUFBSyxvQkFVVCxPQVJJLEdBQUssUUFDUCxFQUFXLEVBQUssTUFDaEIsRUFBSyxlQUdQLEVBQVcsa0JBQWtCLEVBQVUsR0FDdkMsSUFBYSxFQUFXLEdBQUssR0FBWSxFQUFRLEdBQUssS0FFL0MsSUFBTSxFQUFXLFNBQVcsSUFXckMsUUFBUyxtQkFBa0IsRUFBVSxHQUNuQyxJQUFLLEVBQVksTUFBTyxFQUV4QixRQUFPLEVBQ1AsSUFBSSxHQUFVLE9BQU8sRUFBVSxFQUcvQixPQUZBLFNBQU8sR0FFRixFQUFRLE9BRU4sRUFBUSxLQUFLLElBRlUsR0FXaEMsUUFBUyxzQkFBcUIsR0FDNUIsTUFBa0IsYUFBZCxFQUFLLEtBQ0Esa0JBQWtCLFFBRzNCLE9BQVMsTUFBTSx5Q0FBMEMsS0FBSyxVQUFVLEtBUzFFLFFBQVMsZUFBYyxHQUNyQixPQUFRLEVBQUssTUFFYixJQUFLLE9BQVEsTUFBTyxlQUFjLEVBRWxDLEtBQUssUUFDTCxJQUFLLFlBQWEsTUFBTyxrQkFBaUIsRUFFMUMsS0FBSyxVQUFXLE1BQU8sa0JBQWlCLEVBRXhDLEtBQUssU0FDTCxJQUFLLFVBQ0wsSUFBSyxZQUFhLE1BQU8saUJBQWdCLEVBRXpDLEtBQUssWUFDTCxJQUFLLFdBQ0wsSUFBSyxXQUNMLElBQUssV0FDTCxJQUFLLE9BQWEsTUFBTyxrQkFBaUIsR0FHMUMsT0FBUyxNQUFNLG1DQUFxQyxLQUFLLFVBQVUsSUFTckUsUUFBUyxtQkFBa0IsR0FDekIsR0FBSSxHQUFPLEVBQUssS0FBTyxFQUFLLEtBQU8sSUFBTSxHQUFLLEVBRTlDLE9BQU8sVUFBVyxFQUFPLEVBQUssTUFBUSxJQWhReEMsR0FBSSxRQUFRLEVBQ1IsT0FBUSxFQUVSLE1BQVEsUUFBUSxXQUFXLGFBRTNCLFVBQ0EsVUFDQSxhQUNBLEdBQ0EsRUFFSixTQUFVLE9BQU8sUUFBVTs7O0FDUnpCLFlBa0JGLElBQUksVUFBYSwyQkFDYixXQUFhLE1BRWIsT0FBUyxTQUFTLEdBR2xCLE9BQVEsRUFBUyxJQUFJLFFBQVEsU0FBVSxTQUd2QyxTQUFXLFNBQVMsR0FDcEIsT0FBUSxFQUFTLElBQUksUUFBUSxXQUFZLEtBR3pDLFFBQVUsT0E2QmQsMFFBQ0ssUUFBUSxlQUFnQixJQUFNLE9BQU8sc0JBQXdCLEtBQzdELFFBQVEsYUFBYyw4Q0FDdEIsUUFBUSxjQUFlLGdEQUt4QixLQUFPLFNBQWMsR0FDckIsS0FBSyxXQUFhLEdBQWMsSUFDaEMsS0FBSyxJQUFNLElBR2YsTUFBSyxVQUFVLFNBQVcsV0FFdEIsSUFBSyxLQUFLLElBQUksQ0FFVixHQUFjLEdBQUcsRUFBYixFQUFNLEVBS1YsSUFIQSxHQUFPLEtBQUssS0FBTyxJQUNmLEtBQUssS0FBSSxHQUFPLElBQU0sS0FBSyxJQUMzQixLQUFLLFVBQVMsR0FBTyxJQUFNLEtBQUssVUFBVSxLQUFLLE1BQy9DLEtBQUssV0FBWSxJQUFLLEVBQUksRUFBRyxFQUFPLEtBQUssV0FBVyxNQUNwRCxHQUFPLElBQU0sRUFBSyxNQUFRLEVBQUssU0FBVyxFQUFLLFNBQVcsSUFBTSxFQUFLLE1BQVEsSUFBTSxJQUFNLEdBRTdGLElBQUksS0FBSyxRQUFTLElBQUssRUFBSSxFQUFHLEVBQU8sS0FBSyxRQUFRLE1BQzlDLEdBQU8sSUFBTSxFQUFLLEtBQ2QsRUFBSyxRQUFPLEdBQU8sSUFBTSxFQUFLLE1BQVEsSUFHOUMsTUFBSyxJQUFNLEVBSWYsTUFBTyxNQUFLLElBS2hCLElBQUksWUFBYSxXQUNiLEtBQUssT0FBUyxFQUdsQixZQUFXLFVBQVUsU0FBVyxXQUU1QixJQUFLLEtBQUssSUFBSSxDQUlWLElBQUssR0FBVyxHQUZaLEVBQU0sR0FFRCxFQUFJLEVBQVEsRUFBTSxLQUFLLE1BQ2xCLElBQU4sSUFBUyxHQUFPLEtBQ0csTUFBbkIsRUFBSSxhQUFvQixHQUFPLEVBQUksV0FBYSxLQUNwRCxHQUFPLENBR1gsTUFBSyxJQUFNLEVBSWYsTUFBTyxNQUFLLElBR2hCLElBQUksVUFBVyxTQUNYLEVBRUEsRUFDQSxFQUNBLEVBRUEsRUFDQSxFQUNBLEVBRUEsRUFDQSxFQUNBLEVBQ0EsRUFFQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBR0EsR0FBSSxHQUFZLENBRWhCLEtBQUksSUFBYyxLQUFLLFVBQ25CLEVBQWEsS0FBSyxLQUFLLFVBQVksR0FBSSxZQUNuQyxHQUFXLE1BQU8sRUFXMUIsSUFSSyxJQUFZLEVBQWEsS0FBSyxLQUFLLE9BQVMsS0FFN0MsR0FBYyxJQUF1QixFQUFXLFVBQ2hELEVBQVUsRUFBVyxFQUFXLFVBQVksR0FBSSxNQUFLLElBR3BELElBQVMsRUFBVSxFQUFXLEVBQVcsT0FBUyxJQUVuRCxFQUVBLEVBQVEsSUFBTSxTQUFTLE9BRXBCLElBQUksRUFFUCxFQUFRLEdBQUssU0FBUyxPQUVuQixJQUFJLEVBQVUsQ0FFakIsR0FBSSxHQUFZLFNBQVMsR0FFckIsRUFBVSxFQUFRLFVBQVksRUFBUSxXQUMxQyxLQUFLLEVBQVEsR0FBVyxDQUNwQixFQUFRLEdBQWEsT0FBTyxFQUM1QixJQUFJLEdBQVksRUFBUSxZQUFjLEVBQVEsYUFDOUMsR0FBVSxLQUFLLEdBQ2YsRUFBVSxZQUdQLElBRVAsRUFBbUIsR0FBb0IsR0FFckMsRUFBUSxVQUFZLEVBQVEsYUFBZSxNQUN6QyxLQUFzQyxHQUF2QixFQUFhLE9BQWMsUUFBVSxVQUNwRCxLQUFlLFNBQVMsR0FDeEIsWUFBZSxPQUFPLEdBQ3RCLE1BQWUsRUFBbUIsU0FBUyxHQUFvQixLQUMvRCxhQUFlLEVBQW1CLE9BQU8sR0FBb0IsUUFHMUQsSUFFUCxFQUFpQixFQUFpQixPQUFPLEdBQWtCLE1BRXpELEVBQVEsYUFBZSxFQUFRLGdCQUFrQixNQUMvQyxTQUFlLEVBQ2YsS0FBZSxTQUFTLEdBQ3hCLFlBQWUsT0FBTyxHQUN0QixNQUFlLEVBQWlCLFNBQVMsR0FBa0IsS0FDM0QsYUFBZSxFQUFpQixPQUFPLEdBQWtCLE9BS2pFLE9BQU8sSUFNUCxZQUFjLFNBQXFCLEdBQ25DLEtBQUssT0FBUyxDQU1kLEtBSkEsR0FFMkIsR0FGdkIsRUFBTyxLQUVQLEVBQVcsRUFFUixHQUFXLENBSWQsR0FIQSxFQUFXLEVBQVcsUUFBUSxRQUFTLFdBQ25DLE1BQU8sVUFBUyxNQUFNLEVBQU0sYUFFNUIsSUFBYSxFQUFZLEtBQU0sSUFBSSxPQUFNLEVBQVcsNEJBQ3hELEdBQWEsR0FJckIsYUFBWSxVQUFVLFNBQVcsV0FDN0IsSUFBSyxLQUFLLElBQUksQ0FFVixJQUFLLEdBQVcsR0FEWixLQUNLLEVBQUksRUFBZSxFQUFhLEtBQUssTUFBTyxFQUFZLEtBQUssRUFDdEUsTUFBSyxJQUFNLEVBQVksS0FBSyxNQUdoQyxNQUFPLE1BQUssSUFHaEIsSUFBSSxVQUVBLE1BQVEsU0FBUyxHQUNqQixNQUFrQixPQUFkLEVBQTJCLE1BQy9CLEdBQWMsR0FBSyxHQUFZLFFBQVEsYUFBYyxJQUM5QyxNQUFNLEtBQWdCLE1BQU0sR0FBYyxHQUFJLGFBQVksS0FHckUsUUFBTyxRQUFVOzs7Q0NyUGpCLFNBQVUsR0FVVixRQUFTLEdBQVcsRUFBTyxHQU12QixHQUpBLEVBQVEsRUFBVSxFQUFRLEdBQzFCLEVBQU8sTUFHSCxZQUFpQixHQUNsQixNQUFPLEVBR1YsTUFBTSxlQUFnQixJQUNsQixNQUFPLElBQUksR0FBVSxFQUFPLEVBR2hDLElBQUksR0FBTSxFQUFXLEVBQ3JCLE1BQUssZUFBaUIsRUFDdEIsS0FBSyxHQUFLLEVBQUksRUFDZCxLQUFLLEdBQUssRUFBSSxFQUNkLEtBQUssR0FBSyxFQUFJLEVBQ2QsS0FBSyxHQUFLLEVBQUksRUFDZCxLQUFLLFFBQVUsRUFBVSxJQUFJLEtBQUssSUFBTSxJQUN4QyxLQUFLLFFBQVUsRUFBSyxRQUFVLEVBQUksT0FDbEMsS0FBSyxjQUFnQixFQUFLLGFBTXRCLEtBQUssR0FBSyxJQUFLLEtBQUssR0FBSyxFQUFVLEtBQUssS0FDeEMsS0FBSyxHQUFLLElBQUssS0FBSyxHQUFLLEVBQVUsS0FBSyxLQUN4QyxLQUFLLEdBQUssSUFBSyxLQUFLLEdBQUssRUFBVSxLQUFLLEtBRTVDLEtBQUssSUFBTSxFQUFJLEdBQ2YsS0FBSyxPQUFTLElBaVFsQixRQUFTLEdBQVcsR0FFaEIsR0FBSSxJQUFRLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN2QixFQUFJLEVBQ0osRUFBSSxLQUNKLEVBQUksS0FDSixFQUFJLEtBQ0osR0FBSyxFQUNMLEdBQVMsQ0FrQ2IsT0FoQ29CLGdCQUFULEtBQ1AsRUFBUSxFQUFvQixJQUdaLGdCQUFULEtBQ0gsRUFBZSxFQUFNLElBQU0sRUFBZSxFQUFNLElBQU0sRUFBZSxFQUFNLElBQzNFLEVBQU0sRUFBUyxFQUFNLEVBQUcsRUFBTSxFQUFHLEVBQU0sR0FDdkMsR0FBSyxFQUNMLEVBQXdDLE1BQS9CLE9BQU8sRUFBTSxHQUFHLFFBQU8sR0FBYyxPQUFTLE9BRWxELEVBQWUsRUFBTSxJQUFNLEVBQWUsRUFBTSxJQUFNLEVBQWUsRUFBTSxJQUNoRixFQUFJLEVBQW9CLEVBQU0sR0FDOUIsRUFBSSxFQUFvQixFQUFNLEdBQzlCLEVBQU0sRUFBUyxFQUFNLEVBQUcsRUFBRyxHQUMzQixHQUFLLEVBQ0wsRUFBUyxPQUVKLEVBQWUsRUFBTSxJQUFNLEVBQWUsRUFBTSxJQUFNLEVBQWUsRUFBTSxLQUNoRixFQUFJLEVBQW9CLEVBQU0sR0FDOUIsRUFBSSxFQUFvQixFQUFNLEdBQzlCLEVBQU0sRUFBUyxFQUFNLEVBQUcsRUFBRyxHQUMzQixHQUFLLEVBQ0wsRUFBUyxPQUdULEVBQU0sZUFBZSxPQUNyQixFQUFJLEVBQU0sSUFJbEIsRUFBSSxFQUFXLElBR1gsR0FBSSxFQUNKLE9BQVEsRUFBTSxRQUFVLEVBQ3hCLEVBQUcsRUFBUSxJQUFLLEVBQVEsRUFBSSxFQUFHLElBQy9CLEVBQUcsRUFBUSxJQUFLLEVBQVEsRUFBSSxFQUFHLElBQy9CLEVBQUcsRUFBUSxJQUFLLEVBQVEsRUFBSSxFQUFHLElBQy9CLEVBQUcsR0FnQlgsUUFBUyxHQUFTLEVBQUcsRUFBRyxHQUNwQixPQUNJLEVBQXFCLElBQWxCLEVBQVEsRUFBRyxLQUNkLEVBQXFCLElBQWxCLEVBQVEsRUFBRyxLQUNkLEVBQXFCLElBQWxCLEVBQVEsRUFBRyxNQVF0QixRQUFTLEdBQVMsRUFBRyxFQUFHLEdBRXBCLEVBQUksRUFBUSxFQUFHLEtBQ2YsRUFBSSxFQUFRLEVBQUcsS0FDZixFQUFJLEVBQVEsRUFBRyxJQUVmLElBQ0ksR0FBRyxFQURILEVBQU0sRUFBUSxFQUFHLEVBQUcsR0FBSSxFQUFNLEVBQVEsRUFBRyxFQUFHLEdBQ3RDLEdBQUssRUFBTSxHQUFPLENBRTVCLElBQUcsR0FBTyxFQUNOLEVBQUksRUFBSSxNQUVQLENBQ0QsR0FBSSxHQUFJLEVBQU0sQ0FFZCxRQURBLEVBQUksRUFBSSxHQUFNLEdBQUssRUFBSSxFQUFNLEdBQU8sR0FBSyxFQUFNLEdBQ3hDLEdBQ0gsSUFBSyxHQUFHLEdBQUssRUFBSSxHQUFLLEdBQUssRUFBSSxFQUFJLEVBQUksRUFBSSxNQUMzQyxLQUFLLEdBQUcsR0FBSyxFQUFJLEdBQUssRUFBSSxDQUFHLE1BQzdCLEtBQUssR0FBRyxHQUFLLEVBQUksR0FBSyxFQUFJLEVBRzlCLEdBQUssRUFHVCxPQUFTLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQU81QixRQUFTLEdBQVMsRUFBRyxFQUFHLEdBT3BCLFFBQVMsR0FBUSxFQUFHLEVBQUcsR0FHbkIsTUFGRyxHQUFJLElBQUcsR0FBSyxHQUNaLEVBQUksSUFBRyxHQUFLLEdBQ1osRUFBSSxFQUFFLEVBQVUsRUFBYyxHQUFULEVBQUksR0FBUyxFQUNsQyxFQUFJLEdBQVksRUFDaEIsRUFBSSxFQUFFLEVBQVUsR0FBSyxFQUFJLElBQU0sRUFBRSxFQUFJLEdBQUssRUFDdEMsRUFaWCxHQUFJLEdBQUcsRUFBRyxDQWVWLElBYkEsRUFBSSxFQUFRLEVBQUcsS0FDZixFQUFJLEVBQVEsRUFBRyxLQUNmLEVBQUksRUFBUSxFQUFHLEtBV04sSUFBTixFQUNDLEVBQUksRUFBSSxFQUFJLE1BRVgsQ0FDRCxHQUFJLEdBQUksRUFBSSxHQUFNLEdBQUssRUFBSSxHQUFLLEVBQUksRUFBSSxFQUFJLEVBQ3hDLEVBQUksRUFBSSxFQUFJLENBQ2hCLEdBQUksRUFBUSxFQUFHLEVBQUcsRUFBSSxFQUFFLEdBQ3hCLEVBQUksRUFBUSxFQUFHLEVBQUcsR0FDbEIsRUFBSSxFQUFRLEVBQUcsRUFBRyxFQUFJLEVBQUUsR0FHNUIsT0FBUyxFQUFPLElBQUosRUFBUyxFQUFPLElBQUosRUFBUyxFQUFPLElBQUosR0FPeEMsUUFBUyxHQUFTLEVBQUcsRUFBRyxHQUVwQixFQUFJLEVBQVEsRUFBRyxLQUNmLEVBQUksRUFBUSxFQUFHLEtBQ2YsRUFBSSxFQUFRLEVBQUcsSUFFZixJQUNJLEdBQUcsRUFESCxFQUFNLEVBQVEsRUFBRyxFQUFHLEdBQUksRUFBTSxFQUFRLEVBQUcsRUFBRyxHQUN0QyxFQUFJLEVBRVYsRUFBSSxFQUFNLENBR2QsSUFGQSxFQUFZLElBQVIsRUFBWSxFQUFJLEVBQUksRUFFckIsR0FBTyxFQUNOLEVBQUksTUFFSCxDQUNELE9BQU8sR0FDSCxJQUFLLEdBQUcsR0FBSyxFQUFJLEdBQUssR0FBSyxFQUFJLEVBQUksRUFBSSxFQUFJLE1BQzNDLEtBQUssR0FBRyxHQUFLLEVBQUksR0FBSyxFQUFJLENBQUcsTUFDN0IsS0FBSyxHQUFHLEdBQUssRUFBSSxHQUFLLEVBQUksRUFFOUIsR0FBSyxFQUVULE9BQVMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBTzNCLFFBQVMsR0FBUyxFQUFHLEVBQUcsR0FFckIsRUFBc0IsRUFBbEIsRUFBUSxFQUFHLEtBQ2YsRUFBSSxFQUFRLEVBQUcsS0FDZixFQUFJLEVBQVEsRUFBRyxJQUVmLElBQUksR0FBSSxFQUFLLE1BQU0sR0FDZixFQUFJLEVBQUksRUFDUixFQUFJLEdBQUssRUFBSSxHQUNiLEVBQUksR0FBSyxFQUFJLEVBQUksR0FDakIsRUFBSSxHQUFLLEdBQUssRUFBSSxHQUFLLEdBQ3ZCLEVBQU0sRUFBSSxFQUNWLEdBQUssRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUcsR0FDdkIsR0FBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBRyxHQUN2QixHQUFLLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFHLEVBRTNCLFFBQVMsRUFBTyxJQUFKLEVBQVMsRUFBTyxJQUFKLEVBQVMsRUFBTyxJQUFKLEdBT3hDLFFBQVMsR0FBUyxFQUFHLEVBQUcsRUFBRyxHQUV2QixHQUFJLElBQ0EsRUFBSyxFQUFVLEdBQUcsU0FBUyxLQUMzQixFQUFLLEVBQVUsR0FBRyxTQUFTLEtBQzNCLEVBQUssRUFBVSxHQUFHLFNBQVMsS0FJL0IsT0FBSSxJQUFjLEVBQUksR0FBRyxPQUFPLElBQU0sRUFBSSxHQUFHLE9BQU8sSUFBTSxFQUFJLEdBQUcsT0FBTyxJQUFNLEVBQUksR0FBRyxPQUFPLElBQU0sRUFBSSxHQUFHLE9BQU8sSUFBTSxFQUFJLEdBQUcsT0FBTyxHQUN6SCxFQUFJLEdBQUcsT0FBTyxHQUFLLEVBQUksR0FBRyxPQUFPLEdBQUssRUFBSSxHQUFHLE9BQU8sR0FHeEQsRUFBSSxLQUFLLElBT3BCLFFBQVMsR0FBVSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBRTNCLEdBQUksSUFDQSxFQUFLLEVBQVUsR0FBRyxTQUFTLEtBQzNCLEVBQUssRUFBVSxHQUFHLFNBQVMsS0FDM0IsRUFBSyxFQUFVLEdBQUcsU0FBUyxLQUMzQixFQUFLLEVBQW9CLElBSTdCLE9BQUksSUFBYyxFQUFJLEdBQUcsT0FBTyxJQUFNLEVBQUksR0FBRyxPQUFPLElBQU0sRUFBSSxHQUFHLE9BQU8sSUFBTSxFQUFJLEdBQUcsT0FBTyxJQUFNLEVBQUksR0FBRyxPQUFPLElBQU0sRUFBSSxHQUFHLE9BQU8sSUFBTSxFQUFJLEdBQUcsT0FBTyxJQUFNLEVBQUksR0FBRyxPQUFPLEdBQ2pLLEVBQUksR0FBRyxPQUFPLEdBQUssRUFBSSxHQUFHLE9BQU8sR0FBSyxFQUFJLEdBQUcsT0FBTyxHQUFLLEVBQUksR0FBRyxPQUFPLEdBRzNFLEVBQUksS0FBSyxJQU1wQixRQUFTLEdBQWMsRUFBRyxFQUFHLEVBQUcsR0FFNUIsR0FBSSxJQUNBLEVBQUssRUFBb0IsSUFDekIsRUFBSyxFQUFVLEdBQUcsU0FBUyxLQUMzQixFQUFLLEVBQVUsR0FBRyxTQUFTLEtBQzNCLEVBQUssRUFBVSxHQUFHLFNBQVMsS0FHL0IsT0FBTyxHQUFJLEtBQUssSUF3QnBCLFFBQVMsR0FBVyxFQUFPLEdBQ3ZCLEVBQXFCLElBQVgsRUFBZ0IsRUFBSyxHQUFVLEVBQ3pDLElBQUksR0FBTSxFQUFVLEdBQU8sT0FHM0IsT0FGQSxHQUFJLEdBQUssRUFBUyxJQUNsQixFQUFJLEVBQUksRUFBUSxFQUFJLEdBQ2IsRUFBVSxHQUdyQixRQUFTLEdBQVMsRUFBTyxHQUNyQixFQUFxQixJQUFYLEVBQWdCLEVBQUssR0FBVSxFQUN6QyxJQUFJLEdBQU0sRUFBVSxHQUFPLE9BRzNCLE9BRkEsR0FBSSxHQUFLLEVBQVMsSUFDbEIsRUFBSSxFQUFJLEVBQVEsRUFBSSxHQUNiLEVBQVUsR0FHckIsUUFBUyxHQUFVLEdBQ2YsTUFBTyxHQUFVLEdBQU8sV0FBVyxLQUd2QyxRQUFTLEdBQVMsRUFBTyxHQUNyQixFQUFxQixJQUFYLEVBQWdCLEVBQUssR0FBVSxFQUN6QyxJQUFJLEdBQU0sRUFBVSxHQUFPLE9BRzNCLE9BRkEsR0FBSSxHQUFLLEVBQVMsSUFDbEIsRUFBSSxFQUFJLEVBQVEsRUFBSSxHQUNiLEVBQVUsR0FHckIsUUFBUyxHQUFTLEVBQU8sR0FDckIsRUFBcUIsSUFBWCxFQUFnQixFQUFLLEdBQVUsRUFDekMsSUFBSSxHQUFNLEVBQVUsR0FBTyxPQUkzQixPQUhBLEdBQUksRUFBSSxFQUFRLEVBQUcsRUFBUSxJQUFLLEVBQUksRUFBSSxFQUFVLE1BQVMsRUFBUyxRQUNwRSxFQUFJLEVBQUksRUFBUSxFQUFHLEVBQVEsSUFBSyxFQUFJLEVBQUksRUFBVSxNQUFTLEVBQVMsUUFDcEUsRUFBSSxFQUFJLEVBQVEsRUFBRyxFQUFRLElBQUssRUFBSSxFQUFJLEVBQVUsTUFBUyxFQUFTLFFBQzdELEVBQVUsR0FHckIsUUFBUyxHQUFRLEVBQU8sR0FDcEIsRUFBcUIsSUFBWCxFQUFnQixFQUFLLEdBQVUsRUFDekMsSUFBSSxHQUFNLEVBQVUsR0FBTyxPQUczQixPQUZBLEdBQUksR0FBSyxFQUFTLElBQ2xCLEVBQUksRUFBSSxFQUFRLEVBQUksR0FDYixFQUFVLEdBS3JCLFFBQVMsR0FBSyxFQUFPLEdBQ2pCLEdBQUksR0FBTSxFQUFVLEdBQU8sUUFDdkIsR0FBTyxFQUFJLEVBQUksR0FBVSxHQUU3QixPQURBLEdBQUksRUFBSSxFQUFNLEVBQUksSUFBTSxFQUFNLEVBQ3ZCLEVBQVUsR0FRckIsUUFBUyxHQUFXLEdBQ2hCLEdBQUksR0FBTSxFQUFVLEdBQU8sT0FFM0IsT0FEQSxHQUFJLEdBQUssRUFBSSxFQUFJLEtBQU8sSUFDakIsRUFBVSxHQUdyQixRQUFTLEdBQU0sR0FDWCxHQUFJLEdBQU0sRUFBVSxHQUFPLFFBQ3ZCLEVBQUksRUFBSSxDQUNaLFFBQ0ksRUFBVSxHQUNWLEdBQVksR0FBSSxFQUFJLEtBQU8sSUFBSyxFQUFHLEVBQUksRUFBRyxFQUFHLEVBQUksSUFDakQsR0FBWSxHQUFJLEVBQUksS0FBTyxJQUFLLEVBQUcsRUFBSSxFQUFHLEVBQUcsRUFBSSxLQUl6RCxRQUFTLEdBQU8sR0FDWixHQUFJLEdBQU0sRUFBVSxHQUFPLFFBQ3ZCLEVBQUksRUFBSSxDQUNaLFFBQ0ksRUFBVSxHQUNWLEdBQVksR0FBSSxFQUFJLElBQU0sSUFBSyxFQUFHLEVBQUksRUFBRyxFQUFHLEVBQUksSUFDaEQsR0FBWSxHQUFJLEVBQUksS0FBTyxJQUFLLEVBQUcsRUFBSSxFQUFHLEVBQUcsRUFBSSxJQUNqRCxHQUFZLEdBQUksRUFBSSxLQUFPLElBQUssRUFBRyxFQUFJLEVBQUcsRUFBRyxFQUFJLEtBSXpELFFBQVMsR0FBZ0IsR0FDckIsR0FBSSxHQUFNLEVBQVUsR0FBTyxRQUN2QixFQUFJLEVBQUksQ0FDWixRQUNJLEVBQVUsR0FDVixHQUFZLEdBQUksRUFBSSxJQUFNLElBQUssRUFBRyxFQUFJLEVBQUcsRUFBRyxFQUFJLElBQ2hELEdBQVksR0FBSSxFQUFJLEtBQU8sSUFBSyxFQUFHLEVBQUksRUFBRyxFQUFHLEVBQUksS0FJekQsUUFBUyxHQUFVLEVBQU8sRUFBUyxHQUMvQixFQUFVLEdBQVcsRUFDckIsRUFBUyxHQUFVLEVBRW5CLElBQUksR0FBTSxFQUFVLEdBQU8sUUFDdkIsRUFBTyxJQUFNLEVBQ2IsR0FBTyxFQUFVLEdBRXJCLEtBQUssRUFBSSxHQUFNLEVBQUksR0FBSyxFQUFPLEdBQVcsR0FBTSxLQUFPLE1BQU8sR0FDMUQsRUFBSSxHQUFLLEVBQUksRUFBSSxHQUFRLElBQ3pCLEVBQUksS0FBSyxFQUFVLEdBRXZCLE9BQU8sR0FHWCxRQUFTLEdBQWMsRUFBTyxHQUMxQixFQUFVLEdBQVcsQ0FNckIsS0FMQSxHQUFJLEdBQU0sRUFBVSxHQUFPLFFBQ3ZCLEVBQUksRUFBSSxFQUFHLEVBQUksRUFBSSxFQUFHLEVBQUksRUFBSSxFQUM5QixLQUNBLEVBQWUsRUFBSSxFQUVoQixLQUNILEVBQUksS0FBSyxHQUFZLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxLQUNwQyxHQUFLLEVBQUksR0FBZ0IsQ0FHN0IsT0FBTyxHQThRWCxRQUFTLEdBQUssR0FDVixHQUFJLEtBQ0osS0FBSyxHQUFJLEtBQUssR0FDTixFQUFFLGVBQWUsS0FDakIsRUFBUSxFQUFFLElBQU0sRUFHeEIsT0FBTyxHQUlYLFFBQVMsR0FBVyxHQU9oQixNQU5BLEdBQUksV0FBVyxJQUVYLE1BQU0sSUFBTSxFQUFJLEdBQUssRUFBSSxLQUN6QixFQUFJLEdBR0QsRUFJWCxRQUFTLEdBQVEsRUFBRyxHQUNaLEVBQWUsS0FBTSxFQUFJLE9BRTdCLElBQUksR0FBaUIsRUFBYSxFQVNsQyxPQVJBLEdBQUksRUFBUSxFQUFLLEVBQVEsRUFBRyxXQUFXLEtBR25DLElBQ0EsRUFBSSxTQUFTLEVBQUksRUFBSyxJQUFNLEtBSTNCLEVBQUssSUFBSSxFQUFJLEdBQU8sS0FDZCxFQUlILEVBQUksRUFBTyxXQUFXLEdBSWxDLFFBQVMsR0FBUSxHQUNiLE1BQU8sR0FBUSxFQUFHLEVBQVEsRUFBRyxJQUlqQyxRQUFTLEdBQWdCLEdBQ3JCLE1BQU8sVUFBUyxFQUFLLElBS3pCLFFBQVMsR0FBZSxHQUNwQixNQUFtQixnQkFBTCxJQUFpQixFQUFFLFFBQVEsT0FBUSxHQUF3QixJQUFsQixXQUFXLEdBSXRFLFFBQVMsR0FBYSxHQUNsQixNQUFvQixnQkFBTixJQUFrQixFQUFFLFFBQVEsT0FBUSxFQUl0RCxRQUFTLEdBQUssR0FDVixNQUFtQixJQUFaLEVBQUUsT0FBYyxJQUFNLEVBQUksR0FBSyxFQUkxQyxRQUFTLEdBQW9CLEdBS3pCLE1BSkksSUFBSyxJQUNMLEVBQVMsSUFBSixFQUFXLEtBR2IsRUFJWCxRQUFTLEdBQW9CLEdBQ3pCLE1BQU8sR0FBSyxNQUFzQixJQUFoQixXQUFXLElBQVUsU0FBUyxJQUdwRCxRQUFTLEdBQW9CLEdBQ3pCLE1BQVEsR0FBZ0IsR0FBSyxJQXNDakMsUUFBUyxHQUFlLEdBQ3BCLFFBQVMsRUFBUyxTQUFTLEtBQUssR0FNcEMsUUFBUyxHQUFvQixHQUV6QixFQUFRLEVBQU0sUUFBUSxFQUFTLElBQUksUUFBUSxFQUFXLElBQUksYUFDMUQsSUFBSSxJQUFRLENBQ1osSUFBSSxFQUFNLEdBQ04sRUFBUSxFQUFNLEdBQ2QsR0FBUSxNQUVQLElBQWEsZUFBVCxFQUNMLE9BQVMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLE9BQVEsT0FPN0MsSUFBSSxFQUNKLFFBQUssRUFBUSxFQUFTLElBQUksS0FBSyxLQUNsQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFM0MsRUFBUSxFQUFTLEtBQUssS0FBSyxLQUNuQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFeEQsRUFBUSxFQUFTLElBQUksS0FBSyxLQUNsQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFM0MsRUFBUSxFQUFTLEtBQUssS0FBSyxLQUNuQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFeEQsRUFBUSxFQUFTLElBQUksS0FBSyxLQUNsQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFM0MsRUFBUSxFQUFTLEtBQUssS0FBSyxLQUNuQixFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sR0FBSSxFQUFHLEVBQU0sS0FFeEQsRUFBUSxFQUFTLEtBQUssS0FBSyxLQUV4QixFQUFHLEVBQWdCLEVBQU0sSUFDekIsRUFBRyxFQUFnQixFQUFNLElBQ3pCLEVBQUcsRUFBZ0IsRUFBTSxJQUN6QixFQUFHLEVBQW9CLEVBQU0sSUFDN0IsT0FBUSxFQUFRLE9BQVMsU0FHNUIsRUFBUSxFQUFTLEtBQUssS0FBSyxLQUV4QixFQUFHLEVBQWdCLEVBQU0sSUFDekIsRUFBRyxFQUFnQixFQUFNLElBQ3pCLEVBQUcsRUFBZ0IsRUFBTSxJQUN6QixPQUFRLEVBQVEsT0FBUyxRQUc1QixFQUFRLEVBQVMsS0FBSyxLQUFLLEtBRXhCLEVBQUcsRUFBZ0IsRUFBTSxHQUFLLEdBQUssRUFBTSxJQUN6QyxFQUFHLEVBQWdCLEVBQU0sR0FBSyxHQUFLLEVBQU0sSUFDekMsRUFBRyxFQUFnQixFQUFNLEdBQUssR0FBSyxFQUFNLElBQ3pDLEVBQUcsRUFBb0IsRUFBTSxHQUFLLEdBQUssRUFBTSxJQUM3QyxPQUFRLEVBQVEsT0FBUyxXQUc1QixFQUFRLEVBQVMsS0FBSyxLQUFLLE1BRXhCLEVBQUcsRUFBZ0IsRUFBTSxHQUFLLEdBQUssRUFBTSxJQUN6QyxFQUFHLEVBQWdCLEVBQU0sR0FBSyxHQUFLLEVBQU0sSUFDekMsRUFBRyxFQUFnQixFQUFNLEdBQUssR0FBSyxFQUFNLElBQ3pDLE9BQVEsRUFBUSxPQUFTLE9BT3JDLFFBQVMsR0FBbUIsR0FHeEIsR0FBSSxHQUFPLENBVVgsT0FUQSxHQUFRLElBQVUsTUFBUSxLQUFNLEtBQU8sU0FDdkMsR0FBUyxFQUFNLE9BQVMsTUFBTSxjQUM5QixHQUFRLEVBQU0sTUFBUSxTQUFTLGNBQ2pCLE9BQVYsR0FBNEIsUUFBVixJQUNsQixFQUFRLE1BRUMsVUFBVCxHQUE2QixVQUFULElBQ3BCLEVBQU8sVUFFSCxNQUFRLEVBQU8sS0FBTyxHQXBwQ2xDLEdBQUksR0FBVyxPQUNYLEVBQVksT0FDWixFQUFjLEVBQ2QsRUFBWSxFQUFLLE1BQ2pCLEVBQVUsRUFBSyxJQUNmLEVBQVUsRUFBSyxJQUNmLEVBQWEsRUFBSyxNQXNDdEIsR0FBVSxXQUNOLE9BQVEsV0FDSixNQUFPLE1BQUssZ0JBQWtCLEtBRWxDLFFBQVMsV0FDTCxPQUFRLEtBQUssVUFFakIsUUFBUyxXQUNMLE1BQU8sTUFBSyxLQUVoQixpQkFBa0IsV0FDaEIsTUFBTyxNQUFLLGdCQUVkLFVBQVcsV0FDUCxNQUFPLE1BQUssU0FFaEIsU0FBVSxXQUNOLE1BQU8sTUFBSyxJQUVoQixjQUFlLFdBRVgsR0FBSSxHQUFNLEtBQUssT0FDZixRQUFnQixJQUFSLEVBQUksRUFBa0IsSUFBUixFQUFJLEVBQWtCLElBQVIsRUFBSSxHQUFXLEtBRXZELGFBQWMsV0FFVixHQUNJLEdBQU8sRUFBTyxFQUFPLEVBQUcsRUFBRyxFQUQzQixFQUFNLEtBQUssT0FTZixPQVBBLEdBQVEsRUFBSSxFQUFFLElBQ2QsRUFBUSxFQUFJLEVBQUUsSUFDZCxFQUFRLEVBQUksRUFBRSxJQUVTLEVBQW5CLEdBQVMsT0FBYyxFQUFRLE1BQWtCLEVBQUssS0FBTSxFQUFRLE1BQVMsTUFBUSxLQUNsRSxFQUFuQixHQUFTLE9BQWMsRUFBUSxNQUFrQixFQUFLLEtBQU0sRUFBUSxNQUFTLE1BQVEsS0FDbEUsRUFBbkIsR0FBUyxPQUFjLEVBQVEsTUFBa0IsRUFBSyxLQUFNLEVBQVEsTUFBUyxNQUFRLEtBQ2pGLE1BQVMsRUFBTSxNQUFTLEVBQU0sTUFBUyxHQUVuRCxTQUFVLFNBQVMsR0FHZixNQUZBLE1BQUssR0FBSyxFQUFXLEdBQ3JCLEtBQUssUUFBVSxFQUFVLElBQUksS0FBSyxJQUFNLElBQ2pDLE1BRVgsTUFBTyxXQUNILEdBQUksR0FBTSxFQUFTLEtBQUssR0FBSSxLQUFLLEdBQUksS0FBSyxHQUMxQyxRQUFTLEVBQVcsSUFBUixFQUFJLEVBQVMsRUFBRyxFQUFJLEVBQUcsRUFBRyxFQUFJLEVBQUcsRUFBRyxLQUFLLEtBRXpELFlBQWEsV0FDVCxHQUFJLEdBQU0sRUFBUyxLQUFLLEdBQUksS0FBSyxHQUFJLEtBQUssSUFDdEMsRUFBSSxFQUFrQixJQUFSLEVBQUksR0FBVSxFQUFJLEVBQWtCLElBQVIsRUFBSSxHQUFVLEVBQUksRUFBa0IsSUFBUixFQUFJLEVBQzlFLE9BQW1CLElBQVgsS0FBSyxHQUNYLE9BQVUsRUFBSSxLQUFPLEVBQUksTUFBUSxFQUFJLEtBQ3JDLFFBQVUsRUFBSSxLQUFPLEVBQUksTUFBUSxFQUFJLE1BQU8sS0FBSyxRQUFVLEtBRWpFLE1BQU8sV0FDSCxHQUFJLEdBQU0sRUFBUyxLQUFLLEdBQUksS0FBSyxHQUFJLEtBQUssR0FDMUMsUUFBUyxFQUFXLElBQVIsRUFBSSxFQUFTLEVBQUcsRUFBSSxFQUFHLEVBQUcsRUFBSSxFQUFHLEVBQUcsS0FBSyxLQUV6RCxZQUFhLFdBQ1QsR0FBSSxHQUFNLEVBQVMsS0FBSyxHQUFJLEtBQUssR0FBSSxLQUFLLElBQ3RDLEVBQUksRUFBa0IsSUFBUixFQUFJLEdBQVUsRUFBSSxFQUFrQixJQUFSLEVBQUksR0FBVSxFQUFJLEVBQWtCLElBQVIsRUFBSSxFQUM5RSxPQUFtQixJQUFYLEtBQUssR0FDWCxPQUFVLEVBQUksS0FBTyxFQUFJLE1BQVEsRUFBSSxLQUNyQyxRQUFVLEVBQUksS0FBTyxFQUFJLE1BQVEsRUFBSSxNQUFPLEtBQUssUUFBVSxLQUVqRSxNQUFPLFNBQVMsR0FDWixNQUFPLEdBQVMsS0FBSyxHQUFJLEtBQUssR0FBSSxLQUFLLEdBQUksSUFFL0MsWUFBYSxTQUFTLEdBQ2xCLE1BQU8sSUFBTSxLQUFLLE1BQU0sSUFFNUIsT0FBUSxTQUFTLEdBQ2IsTUFBTyxHQUFVLEtBQUssR0FBSSxLQUFLLEdBQUksS0FBSyxHQUFJLEtBQUssR0FBSSxJQUV6RCxhQUFjLFNBQVMsR0FDbkIsTUFBTyxJQUFNLEtBQUssT0FBTyxJQUU3QixNQUFPLFdBQ0gsT0FBUyxFQUFHLEVBQVUsS0FBSyxJQUFLLEVBQUcsRUFBVSxLQUFLLElBQUssRUFBRyxFQUFVLEtBQUssSUFBSyxFQUFHLEtBQUssS0FFMUYsWUFBYSxXQUNULE1BQW1CLElBQVgsS0FBSyxHQUNYLE9BQVUsRUFBVSxLQUFLLElBQU0sS0FBTyxFQUFVLEtBQUssSUFBTSxLQUFPLEVBQVUsS0FBSyxJQUFNLElBQ3ZGLFFBQVUsRUFBVSxLQUFLLElBQU0sS0FBTyxFQUFVLEtBQUssSUFBTSxLQUFPLEVBQVUsS0FBSyxJQUFNLEtBQU8sS0FBSyxRQUFVLEtBRW5ILGdCQUFpQixXQUNiLE9BQVMsRUFBRyxFQUFrQyxJQUF4QixFQUFRLEtBQUssR0FBSSxNQUFjLElBQUssRUFBRyxFQUFrQyxJQUF4QixFQUFRLEtBQUssR0FBSSxNQUFjLElBQUssRUFBRyxFQUFrQyxJQUF4QixFQUFRLEtBQUssR0FBSSxNQUFjLElBQUssRUFBRyxLQUFLLEtBRXhLLHNCQUF1QixXQUNuQixNQUFtQixJQUFYLEtBQUssR0FDWCxPQUFVLEVBQWtDLElBQXhCLEVBQVEsS0FBSyxHQUFJLE1BQWMsTUFBUSxFQUFrQyxJQUF4QixFQUFRLEtBQUssR0FBSSxNQUFjLE1BQVEsRUFBa0MsSUFBeEIsRUFBUSxLQUFLLEdBQUksTUFBYyxLQUNySixRQUFVLEVBQWtDLElBQXhCLEVBQVEsS0FBSyxHQUFJLE1BQWMsTUFBUSxFQUFrQyxJQUF4QixFQUFRLEtBQUssR0FBSSxNQUFjLE1BQVEsRUFBa0MsSUFBeEIsRUFBUSxLQUFLLEdBQUksTUFBYyxNQUFRLEtBQUssUUFBVSxLQUVsTCxPQUFRLFdBQ0osTUFBZ0IsS0FBWixLQUFLLEdBQ0UsZ0JBR1AsS0FBSyxHQUFLLEtBSVAsRUFBUyxFQUFTLEtBQUssR0FBSSxLQUFLLEdBQUksS0FBSyxJQUFJLE1BQVUsSUFFbEUsU0FBVSxTQUFTLEdBQ2YsR0FBSSxHQUFhLElBQU0sRUFBYyxLQUFLLEdBQUksS0FBSyxHQUFJLEtBQUssR0FBSSxLQUFLLElBQ2pFLEVBQW1CLEVBQ25CLEVBQWUsS0FBSyxjQUFnQixxQkFBdUIsRUFFL0QsSUFBSSxFQUFhLENBQ2IsR0FBSSxHQUFJLEVBQVUsRUFDbEIsR0FBbUIsSUFBTSxFQUFjLEVBQUUsR0FBSSxFQUFFLEdBQUksRUFBRSxHQUFJLEVBQUUsSUFHL0QsTUFBTyw4Q0FBOEMsRUFBYSxpQkFBaUIsRUFBVyxnQkFBZ0IsRUFBaUIsS0FFbkksU0FBVSxTQUFTLEdBQ2YsR0FBSSxLQUFjLENBQ2xCLEdBQVMsR0FBVSxLQUFLLE9BRXhCLElBQUksSUFBa0IsRUFDbEIsRUFBVyxLQUFLLEdBQUssR0FBSyxLQUFLLElBQU0sRUFDckMsR0FBb0IsR0FBYSxJQUF3QixRQUFYLEdBQStCLFNBQVgsR0FBZ0MsU0FBWCxHQUFnQyxTQUFYLEdBQWdDLFNBQVgsR0FBZ0MsU0FBWCxFQUUxSixPQUFJLEdBR2UsU0FBWCxHQUFpQyxJQUFaLEtBQUssR0FDbkIsS0FBSyxTQUVULEtBQUssZUFFRCxRQUFYLElBQ0EsRUFBa0IsS0FBSyxlQUVaLFNBQVgsSUFDQSxFQUFrQixLQUFLLHlCQUVaLFFBQVgsR0FBK0IsU0FBWCxJQUNwQixFQUFrQixLQUFLLGVBRVosU0FBWCxJQUNBLEVBQWtCLEtBQUssYUFBWSxJQUV4QixTQUFYLElBQ0EsRUFBa0IsS0FBSyxjQUFhLElBRXpCLFNBQVgsSUFDQSxFQUFrQixLQUFLLGdCQUVaLFNBQVgsSUFDQSxFQUFrQixLQUFLLFVBRVosUUFBWCxJQUNBLEVBQWtCLEtBQUssZUFFWixRQUFYLElBQ0EsRUFBa0IsS0FBSyxlQUdwQixHQUFtQixLQUFLLGdCQUVuQyxNQUFPLFdBQ0gsTUFBTyxHQUFVLEtBQUssYUFHMUIsbUJBQW9CLFNBQVMsRUFBSSxHQUM3QixHQUFJLEdBQVEsRUFBRyxNQUFNLE1BQU8sTUFBTSxVQUFVLE1BQU0sS0FBSyxJQUt2RCxPQUpBLE1BQUssR0FBSyxFQUFNLEdBQ2hCLEtBQUssR0FBSyxFQUFNLEdBQ2hCLEtBQUssR0FBSyxFQUFNLEdBQ2hCLEtBQUssU0FBUyxFQUFNLElBQ2IsTUFFWCxRQUFTLFdBQ0wsTUFBTyxNQUFLLG1CQUFtQixFQUFTLFlBRTVDLFNBQVUsV0FDTixNQUFPLE1BQUssbUJBQW1CLEVBQVUsWUFFN0MsT0FBUSxXQUNKLE1BQU8sTUFBSyxtQkFBbUIsRUFBUSxZQUUzQyxXQUFZLFdBQ1IsTUFBTyxNQUFLLG1CQUFtQixFQUFZLFlBRS9DLFNBQVUsV0FDTixNQUFPLE1BQUssbUJBQW1CLEVBQVUsWUFFN0MsVUFBVyxXQUNQLE1BQU8sTUFBSyxtQkFBbUIsRUFBVyxZQUU5QyxLQUFNLFdBQ0YsTUFBTyxNQUFLLG1CQUFtQixFQUFNLFlBR3pDLGtCQUFtQixTQUFTLEVBQUksR0FDNUIsTUFBTyxHQUFHLE1BQU0sTUFBTyxNQUFNLFVBQVUsTUFBTSxLQUFLLE1BRXRELFVBQVcsV0FDUCxNQUFPLE1BQUssa0JBQWtCLEVBQVcsWUFFN0MsV0FBWSxXQUNSLE1BQU8sTUFBSyxrQkFBa0IsRUFBWSxZQUU5QyxjQUFlLFdBQ1gsTUFBTyxNQUFLLGtCQUFrQixFQUFlLFlBRWpELGdCQUFpQixXQUNiLE1BQU8sTUFBSyxrQkFBa0IsRUFBaUIsWUFFbkQsTUFBTyxXQUNILE1BQU8sTUFBSyxrQkFBa0IsRUFBTyxZQUV6QyxPQUFRLFdBQ0osTUFBTyxNQUFLLGtCQUFrQixFQUFRLGFBTTlDLEVBQVUsVUFBWSxTQUFTLEVBQU8sR0FDbEMsR0FBb0IsZ0JBQVQsR0FBbUIsQ0FDMUIsR0FBSSxLQUNKLEtBQUssR0FBSSxLQUFLLEdBQ04sRUFBTSxlQUFlLEtBQ1gsTUFBTixFQUNBLEVBQVMsR0FBSyxFQUFNLEdBR3BCLEVBQVMsR0FBSyxFQUFvQixFQUFNLElBSXBELEdBQVEsRUFHWixNQUFPLEdBQVUsRUFBTyxJQTBRNUIsRUFBVSxPQUFTLFNBQVUsRUFBUSxHQUNqQyxTQUFLLElBQVcsSUFDVCxFQUFVLEdBQVEsZUFBaUIsRUFBVSxHQUFRLGVBR2hFLEVBQVUsT0FBUyxXQUNmLE1BQU8sR0FBVSxXQUNiLEVBQUcsSUFDSCxFQUFHLElBQ0gsRUFBRyxPQTJJWCxFQUFVLElBQU0sU0FBUyxFQUFRLEVBQVEsR0FDckMsRUFBcUIsSUFBWCxFQUFnQixFQUFLLEdBQVUsRUFFekMsSUFBSSxHQUFPLEVBQVUsR0FBUSxRQUN6QixFQUFPLEVBQVUsR0FBUSxRQUV6QixFQUFJLEVBQVMsSUFFYixHQUNBLEdBQUssRUFBSyxFQUFJLEVBQUssR0FBSyxFQUFLLEVBQUssRUFDbEMsR0FBSyxFQUFLLEVBQUksRUFBSyxHQUFLLEVBQUssRUFBSyxFQUNsQyxHQUFLLEVBQUssRUFBSSxFQUFLLEdBQUssRUFBSyxFQUFLLEVBQ2xDLEdBQUssRUFBSyxFQUFJLEVBQUssR0FBSyxFQUFLLEVBQUssRUFHdEMsT0FBTyxHQUFVLElBVXJCLEVBQVUsWUFBYyxTQUFTLEVBQVEsR0FDckMsR0FBSSxHQUFLLEVBQVUsR0FDZixFQUFLLEVBQVUsRUFDbkIsUUFBUSxFQUFLLElBQUksRUFBRyxlQUFlLEVBQUcsZ0JBQWdCLE1BQVMsRUFBSyxJQUFJLEVBQUcsZUFBZSxFQUFHLGdCQUFnQixNQWFqSCxFQUFVLFdBQWEsU0FBUyxFQUFRLEVBQVEsR0FDNUMsR0FDSSxHQUFZLEVBRFosRUFBYyxFQUFVLFlBQVksRUFBUSxFQU1oRCxRQUhBLEdBQU0sRUFFTixFQUFhLEVBQW1CLEdBQ3hCLEVBQVcsTUFBUSxFQUFXLE1BQ2xDLElBQUssVUFDTCxJQUFLLFdBQ0QsRUFBTSxHQUFlLEdBQ3JCLE1BQ0osS0FBSyxVQUNELEVBQU0sR0FBZSxDQUNyQixNQUNKLEtBQUssV0FDRCxFQUFNLEdBQWUsRUFHN0IsTUFBTyxJQWFYLEVBQVUsYUFBZSxTQUFTLEVBQVcsRUFBVyxHQUNwRCxHQUVJLEdBQ0EsRUFBdUIsRUFBTyxFQUg5QixFQUFZLEtBQ1osRUFBWSxDQUdoQixHQUFPLE1BQ1AsRUFBd0IsRUFBSyxzQkFDN0IsRUFBUSxFQUFLLE1BQ2IsRUFBTyxFQUFLLElBRVosS0FBSyxHQUFJLEdBQUcsRUFBRyxFQUFJLEVBQVUsT0FBUyxJQUNsQyxFQUFjLEVBQVUsWUFBWSxFQUFXLEVBQVUsSUFDckQsRUFBYyxJQUNkLEVBQVksRUFDWixFQUFZLEVBQVUsRUFBVSxJQUl4QyxPQUFJLEdBQVUsV0FBVyxFQUFXLEdBQVksTUFBUSxFQUFNLEtBQU8sTUFBVyxFQUNyRSxHQUdQLEVBQUssdUJBQXNCLEVBQ3BCLEVBQVUsYUFBYSxHQUFXLE9BQVEsUUFBUSxJQVFqRSxJQUFJLEdBQVEsRUFBVSxPQUNsQixVQUFXLFNBQ1gsYUFBYyxTQUNkLEtBQU0sTUFDTixXQUFZLFNBQ1osTUFBTyxTQUNQLE1BQU8sU0FDUCxPQUFRLFNBQ1IsTUFBTyxNQUNQLGVBQWdCLFNBQ2hCLEtBQU0sTUFDTixXQUFZLFNBQ1osTUFBTyxTQUNQLFVBQVcsU0FDWCxZQUFhLFNBQ2IsVUFBVyxTQUNYLFdBQVksU0FDWixVQUFXLFNBQ1gsTUFBTyxTQUNQLGVBQWdCLFNBQ2hCLFNBQVUsU0FDVixRQUFTLFNBQ1QsS0FBTSxNQUNOLFNBQVUsU0FDVixTQUFVLFNBQ1YsY0FBZSxTQUNmLFNBQVUsU0FDVixVQUFXLFNBQ1gsU0FBVSxTQUNWLFVBQVcsU0FDWCxZQUFhLFNBQ2IsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFdBQVksU0FDWixRQUFTLFNBQ1QsV0FBWSxTQUNaLGFBQWMsU0FDZCxjQUFlLFNBQ2YsY0FBZSxTQUNmLGNBQWUsU0FDZixjQUFlLFNBQ2YsV0FBWSxTQUNaLFNBQVUsU0FDVixZQUFhLFNBQ2IsUUFBUyxTQUNULFFBQVMsU0FDVCxXQUFZLFNBQ1osVUFBVyxTQUNYLFlBQWEsU0FDYixZQUFhLFNBQ2IsUUFBUyxNQUNULFVBQVcsU0FDWCxXQUFZLFNBQ1osS0FBTSxTQUNOLFVBQVcsU0FDWCxLQUFNLFNBQ04sTUFBTyxTQUNQLFlBQWEsU0FDYixLQUFNLFNBQ04sU0FBVSxTQUNWLFFBQVMsU0FDVCxVQUFXLFNBQ1gsT0FBUSxTQUNSLE1BQU8sU0FDUCxNQUFPLFNBQ1AsU0FBVSxTQUNWLGNBQWUsU0FDZixVQUFXLFNBQ1gsYUFBYyxTQUNkLFVBQVcsU0FDWCxXQUFZLFNBQ1osVUFBVyxTQUNYLHFCQUFzQixTQUN0QixVQUFXLFNBQ1gsV0FBWSxTQUNaLFVBQVcsU0FDWCxVQUFXLFNBQ1gsWUFBYSxTQUNiLGNBQWUsU0FDZixhQUFjLFNBQ2QsZUFBZ0IsTUFDaEIsZUFBZ0IsTUFDaEIsZUFBZ0IsU0FDaEIsWUFBYSxTQUNiLEtBQU0sTUFDTixVQUFXLFNBQ1gsTUFBTyxTQUNQLFFBQVMsTUFDVCxPQUFRLFNBQ1IsaUJBQWtCLFNBQ2xCLFdBQVksU0FDWixhQUFjLFNBQ2QsYUFBYyxTQUNkLGVBQWdCLFNBQ2hCLGdCQUFpQixTQUNqQixrQkFBbUIsU0FDbkIsZ0JBQWlCLFNBQ2pCLGdCQUFpQixTQUNqQixhQUFjLFNBQ2QsVUFBVyxTQUNYLFVBQVcsU0FDWCxTQUFVLFNBQ1YsWUFBYSxTQUNiLEtBQU0sU0FDTixRQUFTLFNBQ1QsTUFBTyxTQUNQLFVBQVcsU0FDWCxPQUFRLFNBQ1IsVUFBVyxTQUNYLE9BQVEsU0FDUixjQUFlLFNBQ2YsVUFBVyxTQUNYLGNBQWUsU0FDZixjQUFlLFNBQ2YsV0FBWSxTQUNaLFVBQVcsU0FDWCxLQUFNLFNBQ04sS0FBTSxTQUNOLEtBQU0sU0FDTixXQUFZLFNBQ1osT0FBUSxTQUNSLGNBQWUsU0FDZixJQUFLLE1BQ0wsVUFBVyxTQUNYLFVBQVcsU0FDWCxZQUFhLFNBQ2IsT0FBUSxTQUNSLFdBQVksU0FDWixTQUFVLFNBQ1YsU0FBVSxTQUNWLE9BQVEsU0FDUixPQUFRLFNBQ1IsUUFBUyxTQUNULFVBQVcsU0FDWCxVQUFXLFNBQ1gsVUFBVyxTQUNYLEtBQU0sU0FDTixZQUFhLFNBQ2IsVUFBVyxTQUNYLElBQUssU0FDTCxLQUFNLFNBQ04sUUFBUyxTQUNULE9BQVEsU0FDUixVQUFXLFNBQ1gsT0FBUSxTQUNSLE1BQU8sU0FDUCxNQUFPLE1BQ1AsV0FBWSxTQUNaLE9BQVEsTUFDUixZQUFhLFVBSWIsRUFBVyxFQUFVLFNBQVcsRUFBSyxHQTZGckMsRUFBVyxXQUdYLEdBQUksR0FBYyxnQkFHZCxFQUFhLHVCQUdiLEVBQVcsTUFBUSxFQUFhLFFBQVUsRUFBYyxJQUt4RCxFQUFvQixjQUFnQixFQUFXLGFBQWUsRUFBVyxhQUFlLEVBQVcsWUFDbkcsRUFBb0IsY0FBZ0IsRUFBVyxhQUFlLEVBQVcsYUFBZSxFQUFXLGFBQWUsRUFBVyxXQUVqSSxRQUNJLFNBQVUsR0FBSSxRQUFPLEdBQ3JCLElBQUssR0FBSSxRQUFPLE1BQVEsR0FDeEIsS0FBTSxHQUFJLFFBQU8sT0FBUyxHQUMxQixJQUFLLEdBQUksUUFBTyxNQUFRLEdBQ3hCLEtBQU0sR0FBSSxRQUFPLE9BQVMsR0FDMUIsSUFBSyxHQUFJLFFBQU8sTUFBUSxHQUN4QixLQUFNLEdBQUksUUFBTyxPQUFTLEdBQzFCLEtBQU0sdURBQ04sS0FBTSx1REFDTixLQUFNLHVFQUNOLEtBQU0sMEVBd0dRLG9CQUFYLFNBQTBCLE9BQU8sUUFDeEMsT0FBTyxRQUFVLEVBR00sa0JBQVgsU0FBeUIsT0FBTyxJQUM1QyxPQUFPLFdBQWEsTUFBTyxLQUkzQixPQUFPLFVBQVksR0FHcEI7Ozs7Q0M3cENGLFNBQVUsR0FDUCxHQUFRLFVBQVcsU0FBVSxHQUN6QixNQUFPLFlBOEJILFFBQVMsR0FBTSxFQUFTLEVBQU8sR0FDM0IsTUFBTyxJQUNILEtBQU0sRUFBVSxNQUNoQixVQUFXLElBQWEsWUFBWSxNQUNwQyxRQUFTLEVBQ1QsZ0JBQWlCLEVBQ2pCLE1BQU8sSUFJZixRQUFTLEdBQWEsRUFBUyxHQUczQixNQUZLLEtBQVcsRUFBVSxLQUMxQixFQUFhLEVBQUUsSUFBTSxFQUFRLGFBQ3pCLEVBQVcsT0FDSixHQUVQLElBQ0EsRUFBYSxFQUFnQixJQUUxQixHQUdYLFFBQVMsR0FBSyxFQUFTLEVBQU8sR0FDMUIsTUFBTyxJQUNILEtBQU0sRUFBVSxLQUNoQixVQUFXLElBQWEsWUFBWSxLQUNwQyxRQUFTLEVBQ1QsZ0JBQWlCLEVBQ2pCLE1BQU8sSUFJZixRQUFTLEdBQVUsR0FDZixFQUFXLEVBR2YsUUFBUyxHQUFRLEVBQVMsRUFBTyxHQUM3QixNQUFPLElBQ0gsS0FBTSxFQUFVLFFBQ2hCLFVBQVcsSUFBYSxZQUFZLFFBQ3BDLFFBQVMsRUFDVCxnQkFBaUIsRUFDakIsTUFBTyxJQUlmLFFBQVMsR0FBUSxFQUFTLEVBQU8sR0FDN0IsTUFBTyxJQUNILEtBQU0sRUFBVSxRQUNoQixVQUFXLElBQWEsWUFBWSxRQUNwQyxRQUFTLEVBQ1QsZ0JBQWlCLEVBQ2pCLE1BQU8sSUFJZixRQUFTLEdBQU0sRUFBZSxHQUMxQixHQUFJLEdBQVUsR0FDVCxJQUFjLEVBQWEsR0FDM0IsRUFBVyxFQUFlLEVBQVMsSUFDcEMsRUFBZSxHQUl2QixRQUFTLEdBQU8sR0FDWixHQUFJLEdBQVUsR0FFZCxPQURLLElBQWMsRUFBYSxHQUM1QixHQUF1RCxJQUF0QyxFQUFFLFNBQVUsR0FBZSxXQUM1QyxHQUFZLFFBR1osRUFBVyxXQUFXLFFBQ3RCLEVBQVcsVUFNbkIsUUFBUyxHQUFnQixHQUVyQixJQUFLLEdBREQsR0FBZ0IsRUFBVyxXQUN0QixFQUFJLEVBQWMsT0FBUyxFQUFHLEdBQUssRUFBRyxJQUMzQyxFQUFXLEVBQUUsRUFBYyxJQUFLLEdBSXhDLFFBQVMsR0FBWSxFQUFlLEVBQVMsR0FDekMsR0FBSSxNQUFRLElBQWdCLEVBQWEsUUFBUSxFQUFhLEtBQzlELFVBQUksSUFBa0IsR0FBK0MsSUFBdEMsRUFBRSxTQUFVLEdBQWUsVUFDdEQsRUFBYyxFQUFRLGFBQ2xCLFNBQVUsRUFBUSxhQUNsQixPQUFRLEVBQVEsV0FDaEIsU0FBVSxXQUFjLEVBQVksT0FFakMsR0FLZixRQUFTLEdBQWdCLEdBTXJCLE1BTEEsR0FBYSxFQUFFLFVBQ1YsS0FBSyxLQUFNLEVBQVEsYUFDbkIsU0FBUyxFQUFRLGVBRXRCLEVBQVcsU0FBUyxFQUFFLEVBQVEsU0FDdkIsRUFHWCxRQUFTLEtBQ0wsT0FDSSxjQUFjLEVBQ2QsV0FBWSxRQUNaLFlBQWEsa0JBQ2IsT0FBTyxFQUVQLFdBQVksU0FDWixhQUFjLElBQ2QsV0FBWSxRQUNaLFFBQVMsT0FDVCxXQUFZLFVBQ1osYUFBYyxJQUNkLFdBQVksUUFDWixTQUFVLE9BQ1YsYUFBYSxFQUNiLGVBQWUsRUFDZixhQUFhLEVBQ2IsY0FBYyxFQUVkLGdCQUFpQixJQUNqQixhQUNJLE1BQU8sY0FDUCxLQUFNLGFBQ04sUUFBUyxnQkFDVCxRQUFTLGlCQUViLFVBQVcsYUFDWCxjQUFlLGtCQUNmLFFBQVMsSUFDVCxXQUFZLGNBQ1osYUFBYyxnQkFDZCxZQUFZLEVBQ1osT0FBUSxPQUNSLFVBQVcseUNBQ1gsV0FBWSxxQkFDWixhQUFhLEVBQ2IsbUJBQW1CLEVBQ25CLGFBQWEsRUFDYixjQUFlLGlCQUNmLEtBQUssR0FJYixRQUFTLEdBQVEsR0FDUixHQUNMLEVBQVMsR0FHYixRQUFTLEdBQU8sR0FnRFosUUFBUyxHQUFXLEdBS2hCLE1BSmMsT0FBVixJQUNBLEVBQVMsSUFHTixFQUNGLFFBQVEsS0FBTSxTQUNkLFFBQVEsS0FBTSxVQUNkLFFBQVEsS0FBTSxTQUNkLFFBQVEsS0FBTSxRQUNkLFFBQVEsS0FBTSxRQUd2QixRQUFTLEtBQ0wsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUdKLFFBQVMsS0FDTCxHQUFJLEdBQVksRUFDaEIsUUFBUSxFQUFJLFdBQ1IsSUFBSyxnQkFDTCxJQUFLLGFBQ0QsRUFBYSxRQUNiLE1BQ0osU0FDSSxFQUFZLFlBRXBCLEVBQWMsS0FBSyxZQUFhLEdBR3BDLFFBQVMsS0FDRCxFQUFRLGNBQ1IsRUFBYyxNQUFNLEVBQWEsSUFHaEMsRUFBUSxTQUFXLEVBQVEsY0FDNUIsRUFBYyxNQUFNLEdBR3BCLEVBQVEsYUFBZSxHQUN2QixFQUFjLE1BQU0sU0FBVSxHQUN0QixFQUFNLGdCQUNOLEVBQU0sa0JBQ3dCLFNBQXZCLEVBQU0sY0FBOEIsRUFBTSxnQkFBaUIsSUFDbEUsRUFBTSxjQUFlLEdBR3JCLEVBQVEsY0FDUixFQUFRLGFBQWEsR0FHekIsR0FBVSxLQUlkLEVBQVEsU0FDUixFQUFjLE1BQU0sU0FBVSxHQUMxQixFQUFRLFFBQVEsR0FDaEIsTUFLWixRQUFTLEtBQ0wsRUFBYyxPQUVkLEVBQWMsRUFBUSxhQUNqQixTQUFVLEVBQVEsYUFBYyxPQUFRLEVBQVEsV0FBWSxTQUFVLEVBQVEsVUFHL0UsRUFBUSxRQUFVLElBQ2xCLEVBQWEsV0FBVyxFQUFXLEVBQVEsU0FDM0MsRUFBWSxZQUFjLFdBQVcsRUFBUSxTQUM3QyxFQUFZLFNBQVUsR0FBSSxPQUFPLFVBQVksRUFBWSxZQUNyRCxFQUFRLGNBQ1IsRUFBWSxXQUFhLFlBQVksRUFBZ0IsTUFLakUsUUFBUyxLQUNELEVBQUksV0FDSixFQUFjLFNBQVMsRUFBUSxZQUFZLFNBQVMsR0FJNUQsUUFBUyxLQUNELEVBQVEsWUFDUixFQUFXLFFBQVEsR0FFbkIsRUFBVyxPQUFPLEdBSTFCLFFBQVMsS0FDTCxHQUFJLEVBQUksTUFBTyxDQUNYLEdBQUksR0FBUyxFQUFJLEtBQ2IsR0FBUSxhQUNSLEVBQVMsRUFBVyxFQUFJLFFBRTVCLEVBQWMsT0FBTyxHQUFRLFNBQVMsRUFBUSxZQUM5QyxFQUFjLE9BQU8sSUFJN0IsUUFBUyxLQUNMLEdBQUksRUFBSSxRQUFTLENBQ2IsR0FBSSxHQUFTLEVBQUksT0FDYixHQUFRLGFBQ1IsRUFBUyxFQUFXLEVBQUksVUFFNUIsRUFBZ0IsT0FBTyxHQUFRLFNBQVMsRUFBUSxjQUNoRCxFQUFjLE9BQU8sSUFJN0IsUUFBUyxLQUNELEVBQVEsY0FDUixFQUFjLFNBQVMsRUFBUSxZQUFZLEtBQUssT0FBUSxVQUN4RCxFQUFjLFFBQVEsSUFJOUIsUUFBUyxLQUNELEVBQVEsY0FDUixFQUFpQixTQUFTLEVBQVEsZUFDbEMsRUFBYyxRQUFRLElBSTlCLFFBQVMsS0FDRCxFQUFRLEtBQ1IsRUFBYyxTQUFTLE9BSS9CLFFBQVMsR0FBVyxFQUFTLEdBQ3pCLEdBQUksRUFBUSxrQkFBbUIsQ0FDM0IsR0FBSSxFQUFJLFVBQVksRUFDaEIsT0FBTyxDQUVQLEdBQWdCLEVBQUksUUFHNUIsT0FBTyxFQUdYLFFBQVMsR0FBVSxHQUNmLEdBQUksR0FBUyxHQUFZLEVBQVEsZUFBZ0IsRUFBUSxFQUFRLFlBQWMsRUFBUSxXQUNuRixFQUFXLEdBQVksRUFBUSxpQkFBa0IsRUFDakQsRUFBUSxjQUFnQixFQUFRLGFBQ2hDLEVBQVMsR0FBWSxFQUFRLGVBQWdCLEVBQVEsRUFBUSxZQUFjLEVBQVEsVUFDdkYsS0FBSSxFQUFFLFNBQVUsR0FBZSxRQUFXLEVBSTFDLE1BREEsY0FBYSxFQUFZLFlBQ2xCLEVBQWMsSUFDakIsU0FBVSxFQUNWLE9BQVEsRUFDUixTQUFVLFdBQ04sRUFBWSxHQUNaLGFBQWEsR0FDVCxFQUFRLFVBQStCLFdBQW5CLEVBQVMsT0FDN0IsRUFBUSxXQUVaLEVBQVMsTUFBUSxTQUNqQixFQUFTLFFBQVUsR0FBSSxNQUN2QixFQUFRLE1BS3BCLFFBQVMsTUFDRCxFQUFRLFFBQVUsR0FBSyxFQUFRLGdCQUFrQixLQUNqRCxFQUFhLFdBQVcsRUFBVyxFQUFRLGlCQUMzQyxFQUFZLFlBQWMsV0FBVyxFQUFRLGlCQUM3QyxFQUFZLFNBQVUsR0FBSSxPQUFPLFVBQVksRUFBWSxhQUlqRSxRQUFTLEtBQ0wsYUFBYSxHQUNiLEVBQVksUUFBVSxFQUN0QixFQUFjLE1BQUssR0FBTSxHQUFNLEVBQVEsYUFDbEMsU0FBVSxFQUFRLGFBQWMsT0FBUSxFQUFRLGFBSXpELFFBQVMsS0FDTCxHQUFJLElBQWUsRUFBWSxTQUFXLEdBQUksT0FBTyxXQUFjLEVBQVksWUFBZSxHQUM5RixHQUFpQixNQUFNLEVBQWEsS0FwUHhDLEdBQUksR0FBVSxJQUNWLEVBQVksRUFBSSxXQUFhLEVBQVEsU0FPekMsSUFMcUMsbUJBQXpCLEdBQW1CLGtCQUMzQixFQUFVLEVBQUUsT0FBTyxFQUFTLEVBQUksaUJBQ2hDLEVBQVksRUFBSSxnQkFBZ0IsV0FBYSxJQUc3QyxFQUFXLEVBQVMsR0FBeEIsQ0FFQSxJQUVBLEVBQWEsRUFBYSxHQUFTLEVBRW5DLElBQUksR0FBYSxLQUNiLEVBQWdCLEVBQUUsVUFDbEIsRUFBZ0IsRUFBRSxVQUNsQixFQUFrQixFQUFFLFVBQ3BCLEVBQW1CLEVBQUUsVUFDckIsRUFBZ0IsRUFBRSxFQUFRLFdBQzFCLEdBQ0EsV0FBWSxLQUNaLFFBQVMsS0FDVCxZQUFhLE1BRWIsR0FDQSxRQUFTLEVBQ1QsTUFBTyxVQUNQLFVBQVcsR0FBSSxNQUNmLFFBQVMsRUFDVCxJQUFLLEVBZVQsT0FaQSxLQUVBLElBRUEsSUFFQSxFQUFRLEdBRUosRUFBUSxPQUFTLFNBQ2pCLFFBQVEsSUFBSSxHQUdULEdBMk1YLFFBQVMsS0FDTCxNQUFPLEdBQUUsVUFBVyxJQUFlLEVBQU8sU0FHOUMsUUFBUyxHQUFZLEdBQ1osSUFBYyxFQUFhLEtBQzVCLEVBQWMsR0FBRyxjQUdyQixFQUFjLFNBQ2QsRUFBZ0IsS0FDcUIsSUFBakMsRUFBVyxXQUFXLFNBQ3RCLEVBQVcsU0FDWCxFQUFnQixTQS9ieEIsR0FBSSxHQUNBLEVBc0JBLEVBckJBLEVBQVUsRUFDVixHQUNBLE1BQU8sUUFDUCxLQUFNLE9BQ04sUUFBUyxVQUNULFFBQVMsV0FHVCxHQUNBLE1BQU8sRUFDUCxPQUFRLEVBQ1IsTUFBTyxFQUNQLGFBQWMsRUFDZCxLQUFNLEVBQ04sV0FDQSxVQUFXLEVBQ1gsUUFBUyxFQUNULFFBQVMsUUFDVCxRQUFTLEVBS2IsT0FBTyxTQTRhQyxrQkFBWCxTQUF5QixPQUFPLElBQU0sT0FBUyxTQUFVLEVBQU0sR0FDOUMsbUJBQVgsU0FBMEIsT0FBTyxRQUN4QyxPQUFPLFFBQVUsRUFBUSxRQUFRLFdBRWpDLE9BQU8sT0FBUyxFQUFRLE9BQU87Ozs7O0FDemR2QyxHQUFJLGdCQUFpQixRQUFRLHdDQUM3QixVQUFTLGlCQUFpQixtQkFBb0IsU0FBUyxHQUN2RCxlQUFlLFlBQVksUUFBUyw4RUFDcEMsZUFBZSxZQUFZLGFBQWMseUZBQ3pDLGVBQWUsWUFBWSxnQkFBaUIsbTlEQUM1QyxlQUFlLFlBQVksY0FBZSw2RUFDMUMsZUFBZSxZQUFZLGlCQUFrQixnbUJBQzdDLGVBQWUsWUFBWSxjQUFlLHUyQkFDMUMsZUFBZSxZQUFZLFFBQVMsSUFDcEMsZUFBZSxZQUFZLFFBQVMsb0ZBQ3BDLGVBQWUsWUFBWSxpQkFBa0IsK29EQUM3QyxlQUFlLFlBQVksY0FBZSwweElBQzFDLGVBQWUsWUFBWSxPQUFRLDAyUEFDbkMsZUFBZSxZQUFZLFVBQVc7OztBQ2J0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdldBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QWdCLE9BQ2hCLFFBQVcsT0FDWCxnQkFBbUIsT0FDbkIsV0FBYyxRQUNkLFdBQWMsU0FDZCxXQUFjLFNBQ2QsV0FBYyxXQTRqQmhCLE9BQU8sUUFBVSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKmdsb2JhbCB3aW5kb3csIGdsb2JhbCovXHJcbnZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIilcclxudmFyIGFzc2VydCA9IHJlcXVpcmUoXCJhc3NlcnRcIilcclxuXHJcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZVxyXG52YXIgY29uc29sZVxyXG52YXIgdGltZXMgPSB7fVxyXG5cclxuaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNvbnNvbGUpIHtcclxuICAgIGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZVxyXG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmNvbnNvbGUpIHtcclxuICAgIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZVxyXG59IGVsc2Uge1xyXG4gICAgY29uc29sZSA9IHt9XHJcbn1cclxuXHJcbnZhciBmdW5jdGlvbnMgPSBbXHJcbiAgICBbbG9nLCBcImxvZ1wiXVxyXG4gICAgLCBbaW5mbywgXCJpbmZvXCJdXHJcbiAgICAsIFt3YXJuLCBcIndhcm5cIl1cclxuICAgICwgW2Vycm9yLCBcImVycm9yXCJdXHJcbiAgICAsIFt0aW1lLCBcInRpbWVcIl1cclxuICAgICwgW3RpbWVFbmQsIFwidGltZUVuZFwiXVxyXG4gICAgLCBbdHJhY2UsIFwidHJhY2VcIl1cclxuICAgICwgW2RpciwgXCJkaXJcIl1cclxuICAgICwgW2Fzc2VydCwgXCJhc3NlcnRcIl1cclxuXVxyXG5cclxuZm9yICh2YXIgaSA9IDA7IGkgPCBmdW5jdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB0dXBsZSA9IGZ1bmN0aW9uc1tpXVxyXG4gICAgdmFyIGYgPSB0dXBsZVswXVxyXG4gICAgdmFyIG5hbWUgPSB0dXBsZVsxXVxyXG5cclxuICAgIGlmICghY29uc29sZVtuYW1lXSkge1xyXG4gICAgICAgIGNvbnNvbGVbbmFtZV0gPSBmXHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY29uc29sZVxyXG5cclxuZnVuY3Rpb24gbG9nKCkge31cclxuXHJcbmZ1bmN0aW9uIGluZm8oKSB7XHJcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdhcm4oKSB7XHJcbiAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVycm9yKCkge1xyXG4gICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcclxufVxyXG5cclxuZnVuY3Rpb24gdGltZShsYWJlbCkge1xyXG4gICAgdGltZXNbbGFiZWxdID0gRGF0ZS5ub3coKVxyXG59XHJcblxyXG5mdW5jdGlvbiB0aW1lRW5kKGxhYmVsKSB7XHJcbiAgICB2YXIgdGltZSA9IHRpbWVzW2xhYmVsXVxyXG4gICAgaWYgKCF0aW1lKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCBsYWJlbDogXCIgKyBsYWJlbClcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gdGltZVxyXG4gICAgY29uc29sZS5sb2cobGFiZWwgKyBcIjogXCIgKyBkdXJhdGlvbiArIFwibXNcIilcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhY2UoKSB7XHJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKClcclxuICAgIGVyci5uYW1lID0gXCJUcmFjZVwiXHJcbiAgICBlcnIubWVzc2FnZSA9IHV0aWwuZm9ybWF0LmFwcGx5KG51bGwsIGFyZ3VtZW50cylcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyLnN0YWNrKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkaXIob2JqZWN0KSB7XHJcbiAgICBjb25zb2xlLmxvZyh1dGlsLmluc3BlY3Qob2JqZWN0KSArIFwiXFxuXCIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFzc2VydChleHByZXNzaW9uKSB7XHJcbiAgICBpZiAoIWV4cHJlc3Npb24pIHtcclxuICAgICAgICB2YXIgYXJyID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXHJcbiAgICAgICAgYXNzZXJ0Lm9rKGZhbHNlLCB1dGlsLmZvcm1hdC5hcHBseShudWxsLCBhcnIpKVxyXG4gICAgfVxyXG59XHJcbiIsIi8qXHJcbiAgIGV2b2wuY29sb3JwaWNrZXIgMy4yLjJcclxuICAgKGMpIDIwMTUgT2xpdmllciBHaXVsaWVyaVxyXG4gICBodHRwOi8vZXZvbHV0ZXVyLmdpdGh1Yi5pby9jb2xvcnBpY2tlci9cclxuKi9cclxuIWZ1bmN0aW9uKGEsYil7dmFyIGM9MCxkPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LGU9ZC5pbmRleE9mKFwiTVNJRSBcIik+MCxmPWU/XCItaWVcIjpcIlwiLGc9ZT8hMTovbW96aWxsYS8udGVzdChkLnRvTG93ZXJDYXNlKCkpJiYhL3dlYmtpdC8udGVzdChkLnRvTG93ZXJDYXNlKCkpLGg9W10saT1bXCJmZmZmZmZcIixcIjAwMDAwMFwiLFwiZWVlY2UxXCIsXCIxZjQ5N2RcIixcIjRmODFiZFwiLFwiYzA1MDRkXCIsXCI5YmJiNTlcIixcIjgwNjRhMlwiLFwiNGJhY2M2XCIsXCJmNzk2NDZcIl0saj1bXCJmMmYyZjJcIixcIjdmN2Y3ZlwiLFwiZGRkOWMzXCIsXCJjNmQ5ZjBcIixcImRiZTVmMVwiLFwiZjJkY2RiXCIsXCJlYmYxZGRcIixcImU1ZTBlY1wiLFwiZGJlZWYzXCIsXCJmZGVhZGFcIixcImQ4ZDhkOFwiLFwiNTk1OTU5XCIsXCJjNGJkOTdcIixcIjhkYjNlMlwiLFwiYjhjY2U0XCIsXCJlNWI5YjdcIixcImQ3ZTNiY1wiLFwiY2NjMWQ5XCIsXCJiN2RkZThcIixcImZiZDViNVwiLFwiYmZiZmJmXCIsXCIzZjNmM2ZcIixcIjkzODk1M1wiLFwiNTQ4ZGQ0XCIsXCI5NWIzZDdcIixcImQ5OTY5NFwiLFwiYzNkNjliXCIsXCJiMmEyYzdcIixcIjkyY2RkY1wiLFwiZmFjMDhmXCIsXCJhNWE1YTVcIixcIjI2MjYyNlwiLFwiNDk0NDI5XCIsXCIxNzM2NWRcIixcIjM2NjA5MlwiLFwiOTUzNzM0XCIsXCI3NjkyM2NcIixcIjVmNDk3YVwiLFwiMzE4NTliXCIsXCJlMzZjMDlcIixcIjdmN2Y3ZlwiLFwiMGMwYzBjXCIsXCIxZDFiMTBcIixcIjBmMjQzZVwiLFwiMjQ0MDYxXCIsXCI2MzI0MjNcIixcIjRmNjEyOFwiLFwiM2YzMTUxXCIsXCIyMDU4NjdcIixcIjk3NDgwNlwiXSxrPVtcImMwMDAwMFwiLFwiZmYwMDAwXCIsXCJmZmMwMDBcIixcImZmZmYwMFwiLFwiOTJkMDUwXCIsXCIwMGIwNTBcIixcIjAwYjBmMFwiLFwiMDA3MGMwXCIsXCIwMDIwNjBcIixcIjcwMzBhMFwiXSxsPVtbXCIwMDMzNjZcIixcIjMzNjY5OVwiLFwiMzM2NmNjXCIsXCIwMDMzOTlcIixcIjAwMDA5OVwiLFwiMDAwMGNjXCIsXCIwMDAwNjZcIl0sW1wiMDA2NjY2XCIsXCIwMDY2OTlcIixcIjAwOTljY1wiLFwiMDA2NmNjXCIsXCIwMDMzY2NcIixcIjAwMDBmZlwiLFwiMzMzM2ZmXCIsXCIzMzMzOTlcIl0sW1wiNjY5OTk5XCIsXCIwMDk5OTlcIixcIjMzY2NjY1wiLFwiMDBjY2ZmXCIsXCIwMDk5ZmZcIixcIjAwNjZmZlwiLFwiMzM2NmZmXCIsXCIzMzMzY2NcIixcIjY2NjY5OVwiXSxbXCIzMzk5NjZcIixcIjAwY2M5OVwiLFwiMDBmZmNjXCIsXCIwMGZmZmZcIixcIjMzY2NmZlwiLFwiMzM5OWZmXCIsXCI2Njk5ZmZcIixcIjY2NjZmZlwiLFwiNjYwMGZmXCIsXCI2NjAwY2NcIl0sW1wiMzM5OTMzXCIsXCIwMGNjNjZcIixcIjAwZmY5OVwiLFwiNjZmZmNjXCIsXCI2NmZmZmZcIixcIjY2Y2NmZlwiLFwiOTljY2ZmXCIsXCI5OTk5ZmZcIixcIjk5NjZmZlwiLFwiOTkzM2ZmXCIsXCI5OTAwZmZcIl0sW1wiMDA2NjAwXCIsXCIwMGNjMDBcIixcIjAwZmYwMFwiLFwiNjZmZjk5XCIsXCI5OWZmY2NcIixcImNjZmZmZlwiLFwiY2NjY2ZmXCIsXCJjYzk5ZmZcIixcImNjNjZmZlwiLFwiY2MzM2ZmXCIsXCJjYzAwZmZcIixcIjk5MDBjY1wiXSxbXCIwMDMzMDBcIixcIjAwOTkzM1wiLFwiMzNjYzMzXCIsXCI2NmZmNjZcIixcIjk5ZmY5OVwiLFwiY2NmZmNjXCIsXCJmZmZmZmZcIixcImZmY2NmZlwiLFwiZmY5OWZmXCIsXCJmZjY2ZmZcIixcImZmMDBmZlwiLFwiY2MwMGNjXCIsXCI2NjAwNjZcIl0sW1wiMzMzMzAwXCIsXCIwMDk5MDBcIixcIjY2ZmYzM1wiLFwiOTlmZjY2XCIsXCJjY2ZmOTlcIixcImZmZmZjY1wiLFwiZmZjY2NjXCIsXCJmZjk5Y2NcIixcImZmNjZjY1wiLFwiZmYzM2NjXCIsXCJjYzAwOTlcIixcIjk5MzM5OVwiXSxbXCIzMzY2MDBcIixcIjY2OTkwMFwiLFwiOTlmZjMzXCIsXCJjY2ZmNjZcIixcImZmZmY5OVwiLFwiZmZjYzk5XCIsXCJmZjk5OTlcIixcImZmNjY5OVwiLFwiZmYzMzk5XCIsXCJjYzMzOTlcIixcIjk5MDA5OVwiXSxbXCI2NjY2MzNcIixcIjk5Y2MwMFwiLFwiY2NmZjMzXCIsXCJmZmZmNjZcIixcImZmY2M2NlwiLFwiZmY5OTY2XCIsXCJmZjY2NjZcIixcImZmMDA2NlwiLFwiZDYwMDk0XCIsXCI5OTMzNjZcIl0sW1wiYTU4ODAwXCIsXCJjY2NjMDBcIixcImZmZmYwMFwiLFwiZmZjYzAwXCIsXCJmZjk5MzNcIixcImZmNjYwMFwiLFwiZmYwMDMzXCIsXCJjYzAwNjZcIixcIjY2MDAzM1wiXSxbXCI5OTY2MzNcIixcImNjOTkwMFwiLFwiZmY5OTAwXCIsXCJjYzY2MDBcIixcImZmMzMwMFwiLFwiZmYwMDAwXCIsXCJjYzAwMDBcIixcIjk5MDAzM1wiXSxbXCI2NjMzMDBcIixcIjk5NjYwMFwiLFwiY2MzMzAwXCIsXCI5OTMzMDBcIixcIjk5MDAwMFwiLFwiODAwMDAwXCIsXCI5OTMzMzNcIl1dLG09XCIjMDAwMGZmZmZcIixuPWZ1bmN0aW9uKGEpe3ZhciBiPWEudG9TdHJpbmcoMTYpO3JldHVybiAxPT1iLmxlbmd0aCYmKGI9XCIwXCIrYiksYn0sbz1mdW5jdGlvbihhKXtyZXR1cm4gbihOdW1iZXIoYSkpfSxwPWZ1bmN0aW9uKGEpe3ZhciBiPW4oYSk7cmV0dXJuIGIrYitifSxxPWZ1bmN0aW9uKGEpe2lmKGEubGVuZ3RoPjEwKXt2YXIgYj0xK2EuaW5kZXhPZihcIihcIiksYz1hLmluZGV4T2YoXCIpXCIpLGQ9YS5zdWJzdHJpbmcoYixjKS5zcGxpdChcIixcIik7cmV0dXJuW1wiI1wiLG8oZFswXSksbyhkWzFdKSxvKGRbMl0pXS5qb2luKFwiXCIpfXJldHVybiBhfTthLndpZGdldChcImV2b2wuY29sb3JwaWNrZXJcIix7dmVyc2lvbjpcIjMuMi4xXCIsb3B0aW9uczp7Y29sb3I6bnVsbCxzaG93T246XCJib3RoXCIsaGlkZUJ1dHRvbjohMSxkaXNwbGF5SW5kaWNhdG9yOiEwLHRyYW5zcGFyZW50Q29sb3I6ITEsaGlzdG9yeTohMCxkZWZhdWx0UGFsZXR0ZTpcInRoZW1lXCIsc3RyaW5nczpcIlRoZW1lIENvbG9ycyxTdGFuZGFyZCBDb2xvcnMsV2ViIENvbG9ycyxUaGVtZSBDb2xvcnMsQmFjayB0byBQYWxldHRlLEhpc3RvcnksTm8gaGlzdG9yeSB5ZXQuXCJ9LF9hY3RpdmU6ITEsX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXM7c3dpdGNoKHRoaXMuX3BhbGV0dGVJZHg9XCJ0aGVtZVwiPT10aGlzLm9wdGlvbnMuZGVmYXVsdFBhbGV0dGU/MToyLHRoaXMuX2lkPVwiZXZvLWNwXCIrYysrLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5vcHRpb25zLnNob3dPbj10aGlzLm9wdGlvbnMuaGlkZUJ1dHRvbj9cImZvY3VzXCI6dGhpcy5vcHRpb25zLnNob3dPbix0aGlzLmVsZW1lbnQuZ2V0KDApLnRhZ05hbWUpe2Nhc2VcIklOUFVUXCI6dmFyIGQ9dGhpcy5vcHRpb25zLmNvbG9yLGg9dGhpcy5lbGVtZW50LGk9KFwiZm9jdXNcIj09PXRoaXMub3B0aW9ucy5zaG93T24/XCJcIjpcImV2by1wb2ludGVyIFwiKStcImV2by1jb2xvcmluZFwiKyhnP1wiLWZmXCI6ZikrKHRoaXMub3B0aW9ucy5oaWRlQnV0dG9uP1wiIGV2by1oaWRkZW4tYnV0dG9uXCI6XCJcIiksaj1cIlwiO2lmKHRoaXMuX2lzUG9wdXA9ITAsdGhpcy5fcGFsZXR0ZT1udWxsLG51bGwhPT1kKWgudmFsKGQpO2Vsc2V7dmFyIGs9aC52YWwoKTtcIlwiIT09ayYmKGQ9dGhpcy5vcHRpb25zLmNvbG9yPWspfWQ9PT1tP2krPVwiIGV2by10cmFuc3BhcmVudFwiOmo9bnVsbCE9PWQ/XCJiYWNrZ3JvdW5kLWNvbG9yOlwiK2Q6XCJcIixoLmFkZENsYXNzKFwiY29sb3JQaWNrZXIgXCIrdGhpcy5faWQpLndyYXAoJzxkaXYgc3R5bGU9XCJ3aWR0aDonKyh0aGlzLm9wdGlvbnMuaGlkZUJ1dHRvbj90aGlzLmVsZW1lbnQud2lkdGgoKTp0aGlzLmVsZW1lbnQud2lkdGgoKSszMikrXCJweDtcIisoZT9cIm1hcmdpbi1ib3R0b206LTIxcHg7XCI6XCJcIikrKGc/XCJwYWRkaW5nOjFweCAwO1wiOlwiXCIpKydcIj48L2Rpdj4nKS5hZnRlcignPGRpdiBjbGFzcz1cIicraSsnXCIgc3R5bGU9XCInK2orJ1wiPjwvZGl2PicpLm9uKFwia2V5dXAgb25wYXN0ZVwiLGZ1bmN0aW9uKGMpe3ZhciBkPWEodGhpcykudmFsKCk7ZCE9Yi5vcHRpb25zLmNvbG9yJiZiLl9zZXRWYWx1ZShkLCEwKX0pO3ZhciBsPXRoaXMub3B0aW9ucy5zaG93T247KFwiYm90aFwiPT09bHx8XCJmb2N1c1wiPT09bCkmJmgub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yi5zaG93UGFsZXR0ZSgpfSksKFwiYm90aFwiPT09bHx8XCJidXR0b25cIj09PWwpJiZoLm5leHQoKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RvcFByb3BhZ2F0aW9uKCksYi5zaG93UGFsZXR0ZSgpLCExfSk7YnJlYWs7ZGVmYXVsdDp0aGlzLl9pc1BvcHVwPSExLHRoaXMuX3BhbGV0dGU9dGhpcy5lbGVtZW50Lmh0bWwodGhpcy5fcGFsZXR0ZUhUTUwoKSkuYXR0cihcImFyaWEtaGFzcG9wdXBcIixcInRydWVcIiksdGhpcy5fYmluZENvbG9ycygpfWlmKHRoaXMub3B0aW9ucy5oaXN0b3J5JiYoZCYmdGhpcy5fYWRkMkhpc3RvcnkoZCksdGhpcy5vcHRpb25zLmluaXRpYWxIaXN0b3J5KSl7dmFyIG49dGhpcy5vcHRpb25zLmluaXRpYWxIaXN0b3J5O2Zvcih2YXIgbyBpbiBuKXRoaXMuX2FkZDJIaXN0b3J5KG5bb10pfX0sX3BhbGV0dGVIVE1MOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcGFsZXR0ZUlkeD1NYXRoLmFicyh0aGlzLl9wYWxldHRlSWR4KSxiPXRoaXMub3B0aW9ucyxjPWIuc3RyaW5ncy5zcGxpdChcIixcIiksZD0nPGRpdiBjbGFzcz1cImV2by1wb3AnK2YrJyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbFwiJysodGhpcy5faXNQb3B1cD8nIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGVcIic6XCJcIikrXCI+PHNwYW4+XCIrdGhpc1tcIl9wYWxldHRlSFRNTFwiK2FdKCkrJzwvc3Bhbj48ZGl2IGNsYXNzPVwiZXZvLW1vcmVcIj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCI+JytjWzErYV0rXCI8L2E+XCI7cmV0dXJuIGIuaGlzdG9yeSYmKGQrPSc8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApXCIgY2xhc3M9XCJldm8taGlzdFwiPicrY1s1XStcIjwvYT5cIiksZCs9XCI8L2Rpdj5cIixiLmRpc3BsYXlJbmRpY2F0b3ImJihkKz10aGlzLl9jb2xvckluZEhUTUwodGhpcy5vcHRpb25zLmNvbG9yKSt0aGlzLl9jb2xvckluZEhUTUwoXCJcIikpLGQrPVwiPC9kaXY+XCJ9LF9jb2xvckluZEhUTUw6ZnVuY3Rpb24oYSl7dmFyIGI9ZT9cImV2by1jb2xvcmJveC1pZSBcIjpcIlwiLGM9XCJcIjtyZXR1cm4gYT9hPT09bT9iKz1cImV2by10cmFuc3BhcmVudFwiOmM9XCJiYWNrZ3JvdW5kLWNvbG9yOlwiK2E6Yz1cImRpc3BsYXk6bm9uZVwiLCc8ZGl2IGNsYXNzPVwiZXZvLWNvbG9yXCIgc3R5bGU9XCJmbG9hdDpsZWZ0XCI+PGRpdiBzdHlsZT1cIicrYysnXCIgY2xhc3M9XCInK2IrJ1wiPjwvZGl2PjxzcGFuPicrKGE/YTpcIlwiKStcIjwvc3Bhbj48L2Rpdj5cIn0sX3BhbGV0dGVIVE1MMTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm9wdGlvbnMsYj1hLnN0cmluZ3Muc3BsaXQoXCIsXCIpLGM9Jzx0ZCBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IycsZD1lPydcIj48ZGl2IHN0eWxlPVwid2lkdGg6MnB4O1wiPjwvZGl2PjwvdGQ+JzonXCI+PHNwYW4vPjwvdGQ+JyxnPSc8dHI+PHRoIGNvbHNwYW49XCIxMFwiIGNsYXNzPVwidWktd2lkZ2V0LWNvbnRlbnRcIj4nLGg9Jzx0YWJsZSBjbGFzcz1cImV2by1wYWxldHRlJytmKydcIj4nK2crYlswXStcIjwvdGg+PC90cj48dHI+XCIsbD0wOzEwPmw7bCsrKWgrPWMraVtsXStkO2ZvcihoKz1cIjwvdHI+XCIsZXx8KGgrPSc8dHI+PHRoIGNvbHNwYW49XCIxMFwiPjwvdGg+PC90cj4nKSxoKz0nPHRyIGNsYXNzPVwidG9wXCI+JyxsPTA7MTA+bDtsKyspaCs9YytqW2xdK2Q7Zm9yKHZhciBtPTE7ND5tO20rKylmb3IoaCs9JzwvdHI+PHRyIGNsYXNzPVwiaW5cIj4nLGw9MDsxMD5sO2wrKyloKz1jK2pbMTAqbStsXStkO2ZvcihoKz0nPC90cj48dHIgY2xhc3M9XCJib3R0b21cIj4nLGw9NDA7NTA+bDtsKyspaCs9YytqW2xdK2Q7Zm9yKGgrPVwiPC90cj5cIitnLGEudHJhbnNwYXJlbnRDb2xvciYmKGgrPSc8ZGl2IGNsYXNzPVwiZXZvLXRyYW5zcGFyZW50IGV2by10ci1ib3hcIj48L2Rpdj4nKSxoKz1iWzFdK1wiPC90aD48L3RyPjx0cj5cIixsPTA7MTA+bDtsKyspaCs9YytrW2xdK2Q7cmV0dXJuIGgrPVwiPC90cj48L3RhYmxlPlwifSxfcGFsZXR0ZUhUTUwyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGIsYz0nPHRkIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjojJyxkPWU/J1wiPjxkaXYgc3R5bGU9XCJ3aWR0aDo1cHg7XCI+PC9kaXY+PC90ZD4nOidcIj48c3Bhbi8+PC90ZD4nLGc9Jzx0YWJsZSBjbGFzcz1cImV2by1wYWxldHRlMicrZisnXCI+PHRyPicsaD1cIjwvdHI+PC90YWJsZT5cIixpPSc8ZGl2IGNsYXNzPVwiZXZvLXBhbGNlbnRlclwiPicsaj0wLGs9bC5sZW5ndGg7az5qO2orKyl7aSs9Zzt2YXIgbT1sW2pdO2ZvcihhPTAsYj1tLmxlbmd0aDtiPmE7YSsrKWkrPWMrbVthXStkO2krPWh9aSs9JzxkaXYgY2xhc3M9XCJldm8tc2VwXCIvPic7dmFyIG49XCJcIjtmb3IoaSs9ZyxhPTI1NTthPjEwO2EtPTEwKWkrPWMrcChhKStkLGEtPTEwLG4rPWMrcChhKStkO3JldHVybiBpKz1oK2crbitoK1wiPC9kaXY+XCJ9LF9zd2l0Y2hQYWxldHRlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX2VuYWJsZWQpe3ZhciBjLGQsZSxmPXRoaXMub3B0aW9ucy5zdHJpbmdzLnNwbGl0KFwiLFwiKTtpZihhKGIpLmhhc0NsYXNzKFwiZXZvLWhpc3RcIikpe3ZhciBnPVsnPHRhYmxlIGNsYXNzPVwiZXZvLXBhbGV0dGVcIj48dHI+PHRoIGNsYXNzPVwidWktd2lkZ2V0LWNvbnRlbnRcIj4nLGZbNV0sXCI8L3RoPjwvdHI+PC90cj48L3RhYmxlPlwiLCc8ZGl2IGNsYXNzPVwiZXZvLWNIaXN0XCI+J107aWYoMD09PWgubGVuZ3RoKWcucHVzaChcIjxwPiZuYnNwO1wiLGZbNl0sXCI8L3A+XCIpO2Vsc2UgZm9yKHZhciBpPWgubGVuZ3RoLTE7aT4tMTtpLS0pOT09PWhbaV0ubGVuZ3RoP2cucHVzaCgnPGRpdiBjbGFzcz1cImV2by10cmFuc3BhcmVudFwiPjwvZGl2PicpOmcucHVzaCgnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JyxoW2ldLCdcIj48L2Rpdj4nKTtnLnB1c2goXCI8L2Rpdj5cIiksYz0tdGhpcy5fcGFsZXR0ZUlkeCxkPWcuam9pbihcIlwiKSxlPWZbNF19ZWxzZSB0aGlzLl9wYWxldHRlSWR4PDA/KGM9LXRoaXMuX3BhbGV0dGVJZHgsdGhpcy5fcGFsZXR0ZS5maW5kKFwiLmV2by1oaXN0XCIpLnNob3coKSk6Yz0yPT10aGlzLl9wYWxldHRlSWR4PzE6MixkPXRoaXNbXCJfcGFsZXR0ZUhUTUxcIitjXSgpLGU9ZltjKzFdLHRoaXMuX3BhbGV0dGVJZHg9Yzt0aGlzLl9wYWxldHRlSWR4PWM7dmFyIGo9dGhpcy5fcGFsZXR0ZS5maW5kKFwiLmV2by1tb3JlXCIpLnByZXYoKS5odG1sKGQpLmVuZCgpLmNoaWxkcmVuKCkuZXEoMCkuaHRtbChlKTswPmMmJmoubmV4dCgpLmhpZGUoKX19LF9kb3duT3JVcFBvc2l0aW9uaW5nOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZWxlbWVudCxiPTA7bnVsbCE9PWEmJjEwMD5iOyl7aWYoXCJ2aXNpYmxlXCIhPWEuY3NzKFwib3ZlcmZsb3dcIikpe3ZhciBjPXRoaXMuX3BhbGV0dGUub2Zmc2V0KCkudG9wK3RoaXMuX3BhbGV0dGUuaGVpZ2h0KCksZD1hLm9mZnNldCgpLnRvcCthLmhlaWdodCgpLGU9dGhpcy5fcGFsZXR0ZS5vZmZzZXQoKS50b3AtdGhpcy5fcGFsZXR0ZS5oZWlnaHQoKS10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSxmPWEub2Zmc2V0KCkudG9wLGc9Yz5kJiZlPmY7Zz90aGlzLl9wYWxldHRlLmNzcyh7Ym90dG9tOnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpK1wicHhcIn0pOnRoaXMuX3BhbGV0dGUuY3NzKHtib3R0b206XCJhdXRvXCJ9KTticmVha31pZihcIkhUTUxcIj09YVswXS50YWdOYW1lKWJyZWFrO2E9YS5vZmZzZXRQYXJlbnQoKSxiKyt9fSxzaG93UGFsZXR0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX2VuYWJsZWQmJih0aGlzLl9hY3RpdmU9ITAsYShcIi5jb2xvclBpY2tlclwiKS5ub3QoXCIuXCIrdGhpcy5faWQpLmNvbG9ycGlja2VyKFwiaGlkZVBhbGV0dGVcIiksbnVsbD09PXRoaXMuX3BhbGV0dGUpKXt0aGlzLl9wYWxldHRlPXRoaXMuZWxlbWVudC5uZXh0KCkuYWZ0ZXIodGhpcy5fcGFsZXR0ZUhUTUwoKSkubmV4dCgpLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gYS5zdG9wUHJvcGFnYXRpb24oKSwhMX0pLHRoaXMuX2JpbmRDb2xvcnMoKTt2YXIgYj10aGlzO3RoaXMuX2lzUG9wdXAmJih0aGlzLl9kb3duT3JVcFBvc2l0aW9uaW5nKCksYShkb2N1bWVudC5ib2R5KS5vbihcImNsaWNrLlwiK2IuX2lkLGZ1bmN0aW9uKGEpe2EudGFyZ2V0IT1iLmVsZW1lbnQuZ2V0KDApJiZiLmhpZGVQYWxldHRlKCl9KS5vbihcImtleXVwLlwiK2IuX2lkLGZ1bmN0aW9uKGEpezI3PT09YS5rZXlDb2RlJiZiLmhpZGVQYWxldHRlKCl9KSl9cmV0dXJuIHRoaXN9LGhpZGVQYWxldHRlOmZ1bmN0aW9uKCl7aWYodGhpcy5faXNQb3B1cCYmdGhpcy5fcGFsZXR0ZSl7YShkb2N1bWVudC5ib2R5KS5vZmYoXCJjbGljay5cIit0aGlzLl9pZCk7dmFyIGI9dGhpczt0aGlzLl9wYWxldHRlLm9mZihcIm1vdXNlb3ZlciBjbGlja1wiLFwidGQsLmV2by10cmFuc3BhcmVudFwiKS5mYWRlT3V0KGZ1bmN0aW9uKCl7Yi5fcGFsZXR0ZS5yZW1vdmUoKSxiLl9wYWxldHRlPWIuX2NUeHQ9bnVsbH0pLmZpbmQoXCIuZXZvLW1vcmUgYVwiKS5vZmYoXCJjbGlja1wiKX1yZXR1cm4gdGhpc30sX2JpbmRDb2xvcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5fcGFsZXR0ZS5maW5kKFwiZGl2LmV2by1jb2xvclwiKSxlPWMuaGlzdG9yeT9cInRkLC5ldm8tY0hpc3Q+ZGl2XCI6XCJ0ZFwiO2MudHJhbnNwYXJlbnRDb2xvciYmKGUrPVwiLC5ldm8tdHJhbnNwYXJlbnRcIiksdGhpcy5fY1R4dDE9ZC5lcSgwKS5jaGlsZHJlbigpLmVxKDApLHRoaXMuX2NUeHQyPWQuZXEoMSkuY2hpbGRyZW4oKS5lcSgwKSx0aGlzLl9wYWxldHRlLm9uKFwiY2xpY2tcIixlLGZ1bmN0aW9uKGMpe2lmKGIuX2VuYWJsZWQpe3ZhciBkPWEodGhpcyk7Yi5fc2V0VmFsdWUoZC5oYXNDbGFzcyhcImV2by10cmFuc3BhcmVudFwiKT9tOnEoZC5hdHRyKFwic3R5bGVcIikuc3Vic3RyaW5nKDE3KSkpLGIuX2FjdGl2ZT0hMX19KS5vbihcIm1vdXNlb3ZlclwiLGUsZnVuY3Rpb24oYyl7aWYoYi5fZW5hYmxlZCl7dmFyIGQ9YSh0aGlzKSxlPWQuaGFzQ2xhc3MoXCJldm8tdHJhbnNwYXJlbnRcIik/bTpxKGQuYXR0cihcInN0eWxlXCIpLnN1YnN0cmluZygxNykpO2Iub3B0aW9ucy5kaXNwbGF5SW5kaWNhdG9yJiZiLl9zZXRDb2xvckluZChlLDIpLGIuX2FjdGl2ZSYmYi5lbGVtZW50LnRyaWdnZXIoXCJtb3VzZW92ZXIuY29sb3JcIixlKX19KS5maW5kKFwiLmV2by1tb3JlIGFcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5fc3dpdGNoUGFsZXR0ZSh0aGlzKX0pfSx2YWw6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/dGhpcy5vcHRpb25zLmNvbG9yOih0aGlzLl9zZXRWYWx1ZShhKSx0aGlzKX0sX3NldFZhbHVlOmZ1bmN0aW9uKGEsYil7YT1hLnJlcGxhY2UoLyAvZyxcIlwiKSx0aGlzLm9wdGlvbnMuY29sb3I9YSx0aGlzLl9pc1BvcHVwPyhifHx0aGlzLmhpZGVQYWxldHRlKCksdGhpcy5fc2V0Qm94Q29sb3IodGhpcy5lbGVtZW50LnZhbChhKS5uZXh0KCksYSkpOnRoaXMuX3NldENvbG9ySW5kKGEsMSksdGhpcy5vcHRpb25zLmhpc3RvcnkmJnRoaXMuX3BhbGV0dGVJZHg+MCYmdGhpcy5fYWRkMkhpc3RvcnkoYSksdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2UuY29sb3JcIixhKX0sX3NldENvbG9ySW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1tcIl9jVHh0XCIrYl07dGhpcy5fc2V0Qm94Q29sb3IoYyxhKSxjLm5leHQoKS5odG1sKGEpfSxfc2V0Qm94Q29sb3I6ZnVuY3Rpb24oYSxiKXtiPT09bT9hLmFkZENsYXNzKFwiZXZvLXRyYW5zcGFyZW50XCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKTphLnJlbW92ZUNsYXNzKFwiZXZvLXRyYW5zcGFyZW50XCIpLmF0dHIoXCJzdHlsZVwiLFwiYmFja2dyb3VuZC1jb2xvcjpcIitiKX0sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe1wiY29sb3JcIj09YT90aGlzLl9zZXRWYWx1ZShiLCEwKTp0aGlzLm9wdGlvbnNbYV09Yn0sX2FkZDJIaXN0b3J5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1oLmxlbmd0aCxjPTA7Yj5jO2MrKylpZihhPT1oW2NdKXJldHVybjtiPjI3JiZoLnNoaWZ0KCksaC5wdXNoKGEpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuaGlkZVBhbGV0dGUoKS52YWwoXCJcIil9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDtyZXR1cm4gdGhpcy5faXNQb3B1cD9hLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTphLmNzcyh7b3BhY2l0eTpcIjFcIixcInBvaW50ZXItZXZlbnRzXCI6XCJhdXRvXCJ9KSxcImZvY3VzXCIhPT10aGlzLm9wdGlvbnMuc2hvd09uJiZ0aGlzLmVsZW1lbnQubmV4dCgpLmFkZENsYXNzKFwiZXZvLXBvaW50ZXJcIiksYS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLl9lbmFibGVkPSEwLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMuX2lzUG9wdXA/YS5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpOih0aGlzLmhpZGVQYWxldHRlKCksYS5jc3Moe29wYWNpdHk6XCIwLjNcIixcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KSksXCJmb2N1c1wiIT09dGhpcy5vcHRpb25zLnNob3dPbiYmdGhpcy5lbGVtZW50Lm5leHQoKS5yZW1vdmVDbGFzcyhcImV2by1wb2ludGVyXCIpLGEuYXR0cihcImFyaWEtZGlzYWJsZWRcIixcInRydWVcIiksdGhpcy5fZW5hYmxlZD0hMSx0aGlzfSxpc0Rpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2VuYWJsZWR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXthKGRvY3VtZW50LmJvZHkpLm9mZihcImNsaWNrLlwiK3RoaXMuX2lkKSx0aGlzLl9wYWxldHRlJiYodGhpcy5fcGFsZXR0ZS5vZmYoXCJtb3VzZW92ZXIgY2xpY2tcIixcInRkLC5ldm8tY0hpc3Q+ZGl2LC5ldm8tdHJhbnNwYXJlbnRcIikuZmluZChcIi5ldm8tbW9yZSBhXCIpLm9mZihcImNsaWNrXCIpLHRoaXMuX2lzUG9wdXAmJnRoaXMuX3BhbGV0dGUucmVtb3ZlKCksdGhpcy5fcGFsZXR0ZT10aGlzLl9jVHh0PW51bGwpLHRoaXMuX2lzUG9wdXAmJnRoaXMuZWxlbWVudC5uZXh0KCkub2ZmKFwiY2xpY2tcIikucmVtb3ZlKCkuZW5kKCkub2ZmKFwiZm9jdXNcIikudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwiY29sb3JQaWNrZXIgXCIrdGhpcy5pZCkuZW1wdHkoKSxhLldpZGdldC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfX0pfShqUXVlcnkpOyIsIi8vICAgICBKYXZhU2NyaXB0IEV4cHJlc3Npb24gUGFyc2VyIChKU0VQKSA8JT0gdmVyc2lvbiAlPlxyXG4vLyAgICAgSlNFUCBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxyXG4vLyAgICAgaHR0cDovL2pzZXAuZnJvbS5zby9cclxuXHJcbi8qZ2xvYmFsIG1vZHVsZTogdHJ1ZSwgZXhwb3J0czogdHJ1ZSwgY29uc29sZTogdHJ1ZSAqL1xyXG4oZnVuY3Rpb24gKHJvb3QpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0Ly8gTm9kZSBUeXBlc1xyXG5cdC8vIC0tLS0tLS0tLS1cclxuXHRcclxuXHQvLyBUaGlzIGlzIHRoZSBmdWxsIHNldCBvZiB0eXBlcyB0aGF0IGFueSBKU0VQIG5vZGUgY2FuIGJlLlxyXG5cdC8vIFN0b3JlIHRoZW0gaGVyZSB0byBzYXZlIHNwYWNlIHdoZW4gbWluaWZpZWRcclxuXHR2YXIgQ09NUE9VTkQgPSAnQ29tcG91bmQnLFxyXG5cdFx0SURFTlRJRklFUiA9ICdJZGVudGlmaWVyJyxcclxuXHRcdE1FTUJFUl9FWFAgPSAnTWVtYmVyRXhwcmVzc2lvbicsXHJcblx0XHRMSVRFUkFMID0gJ0xpdGVyYWwnLFxyXG5cdFx0VEhJU19FWFAgPSAnVGhpc0V4cHJlc3Npb24nLFxyXG5cdFx0Q0FMTF9FWFAgPSAnQ2FsbEV4cHJlc3Npb24nLFxyXG5cdFx0VU5BUllfRVhQID0gJ1VuYXJ5RXhwcmVzc2lvbicsXHJcblx0XHRCSU5BUllfRVhQID0gJ0JpbmFyeUV4cHJlc3Npb24nLFxyXG5cdFx0TE9HSUNBTF9FWFAgPSAnTG9naWNhbEV4cHJlc3Npb24nLFxyXG5cdFx0Q09ORElUSU9OQUxfRVhQID0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbicsXHJcblx0XHRBUlJBWV9FWFAgPSAnQXJyYXlFeHByZXNzaW9uJyxcclxuXHJcblx0XHRQRVJJT0RfQ09ERSA9IDQ2LCAvLyAnLidcclxuXHRcdENPTU1BX0NPREUgID0gNDQsIC8vICcsJ1xyXG5cdFx0U1FVT1RFX0NPREUgPSAzOSwgLy8gc2luZ2xlIHF1b3RlXHJcblx0XHREUVVPVEVfQ09ERSA9IDM0LCAvLyBkb3VibGUgcXVvdGVzXHJcblx0XHRPUEFSRU5fQ09ERSA9IDQwLCAvLyAoXHJcblx0XHRDUEFSRU5fQ09ERSA9IDQxLCAvLyApXHJcblx0XHRPQlJBQ0tfQ09ERSA9IDkxLCAvLyBbXHJcblx0XHRDQlJBQ0tfQ09ERSA9IDkzLCAvLyBdXHJcblx0XHRRVU1BUktfQ09ERSA9IDYzLCAvLyA/XHJcblx0XHRTRU1DT0xfQ09ERSA9IDU5LCAvLyA7XHJcblx0XHRDT0xPTl9DT0RFICA9IDU4LCAvLyA6XHJcblxyXG5cdFx0dGhyb3dFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGluZGV4KSB7XHJcblx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlICsgJyBhdCBjaGFyYWN0ZXIgJyArIGluZGV4KTtcclxuXHRcdFx0ZXJyb3IuaW5kZXggPSBpbmRleDtcclxuXHRcdFx0ZXJyb3IuZGVzY3JpcHRpb24gPSBtZXNzYWdlO1xyXG5cdFx0XHR0aHJvdyBlcnJvcjtcclxuXHRcdH0sXHJcblxyXG5cdC8vIE9wZXJhdGlvbnNcclxuXHQvLyAtLS0tLS0tLS0tXHJcblx0XHJcblx0Ly8gU2V0IGB0YCB0byBgdHJ1ZWAgdG8gc2F2ZSBzcGFjZSAod2hlbiBtaW5pZmllZCwgbm90IGd6aXBwZWQpXHJcblx0XHR0ID0gdHJ1ZSxcclxuXHQvLyBVc2UgYSBxdWlja2x5LWFjY2Vzc2libGUgbWFwIHRvIHN0b3JlIGFsbCBvZiB0aGUgdW5hcnkgb3BlcmF0b3JzXHJcblx0Ly8gVmFsdWVzIGFyZSBzZXQgdG8gYHRydWVgIChpdCByZWFsbHkgZG9lc24ndCBtYXR0ZXIpXHJcblx0XHR1bmFyeV9vcHMgPSB7Jy0nOiB0LCAnISc6IHQsICd+JzogdCwgJysnOiB0fSxcclxuXHQvLyBBbHNvIHVzZSBhIG1hcCBmb3IgdGhlIGJpbmFyeSBvcGVyYXRpb25zIGJ1dCBzZXQgdGhlaXIgdmFsdWVzIHRvIHRoZWlyXHJcblx0Ly8gYmluYXJ5IHByZWNlZGVuY2UgZm9yIHF1aWNrIHJlZmVyZW5jZTpcclxuXHQvLyBzZWUgW09yZGVyIG9mIG9wZXJhdGlvbnNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3JkZXJfb2Zfb3BlcmF0aW9ucyNQcm9ncmFtbWluZ19sYW5ndWFnZSlcclxuXHRcdGJpbmFyeV9vcHMgPSB7XHJcblx0XHRcdCd8fCc6IDEsICcmJic6IDIsICd8JzogMywgICdeJzogNCwgICcmJzogNSxcclxuXHRcdFx0Jz09JzogNiwgJyE9JzogNiwgJz09PSc6IDYsICchPT0nOiA2LFxyXG5cdFx0XHQnPCc6IDcsICAnPic6IDcsICAnPD0nOiA3LCAgJz49JzogNywgXHJcblx0XHRcdCc8PCc6OCwgICc+Pic6IDgsICc+Pj4nOiA4LFxyXG5cdFx0XHQnKyc6IDksICctJzogOSxcclxuXHRcdFx0JyonOiAxMCwgJy8nOiAxMCwgJyUnOiAxMFxyXG5cdFx0fSxcclxuXHQvLyBHZXQgcmV0dXJuIHRoZSBsb25nZXN0IGtleSBsZW5ndGggb2YgYW55IG9iamVjdFxyXG5cdFx0Z2V0TWF4S2V5TGVuID0gZnVuY3Rpb24ob2JqKSB7XHJcblx0XHRcdHZhciBtYXhfbGVuID0gMCwgbGVuO1xyXG5cdFx0XHRmb3IodmFyIGtleSBpbiBvYmopIHtcclxuXHRcdFx0XHRpZigobGVuID0ga2V5Lmxlbmd0aCkgPiBtYXhfbGVuICYmIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRtYXhfbGVuID0gbGVuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbWF4X2xlbjtcclxuXHRcdH0sXHJcblx0XHRtYXhfdW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4odW5hcnlfb3BzKSxcclxuXHRcdG1heF9iaW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4oYmluYXJ5X29wcyksXHJcblx0Ly8gTGl0ZXJhbHNcclxuXHQvLyAtLS0tLS0tLS0tXHJcblx0Ly8gU3RvcmUgdGhlIHZhbHVlcyB0byByZXR1cm4gZm9yIHRoZSB2YXJpb3VzIGxpdGVyYWxzIHdlIG1heSBlbmNvdW50ZXJcclxuXHRcdGxpdGVyYWxzID0ge1xyXG5cdFx0XHQndHJ1ZSc6IHRydWUsXHJcblx0XHRcdCdmYWxzZSc6IGZhbHNlLFxyXG5cdFx0XHQnbnVsbCc6IG51bGxcclxuXHRcdH0sXHJcblx0Ly8gRXhjZXB0IGZvciBgdGhpc2AsIHdoaWNoIGlzIHNwZWNpYWwuIFRoaXMgY291bGQgYmUgY2hhbmdlZCB0byBzb21ldGhpbmcgbGlrZSBgJ3NlbGYnYCBhcyB3ZWxsXHJcblx0XHR0aGlzX3N0ciA9ICd0aGlzJyxcclxuXHQvLyBSZXR1cm5zIHRoZSBwcmVjZWRlbmNlIG9mIGEgYmluYXJ5IG9wZXJhdG9yIG9yIGAwYCBpZiBpdCBpc24ndCBhIGJpbmFyeSBvcGVyYXRvclxyXG5cdFx0YmluYXJ5UHJlY2VkZW5jZSA9IGZ1bmN0aW9uKG9wX3ZhbCkge1xyXG5cdFx0XHRyZXR1cm4gYmluYXJ5X29wc1tvcF92YWxdIHx8IDA7XHJcblx0XHR9LFxyXG5cdC8vIFV0aWxpdHkgZnVuY3Rpb24gKGdldHMgY2FsbGVkIGZyb20gbXVsdGlwbGUgcGxhY2VzKVxyXG5cdC8vIEFsc28gbm90ZSB0aGF0IGBhICYmIGJgIGFuZCBgYSB8fCBiYCBhcmUgKmxvZ2ljYWwqIGV4cHJlc3Npb25zLCBub3QgYmluYXJ5IGV4cHJlc3Npb25zXHJcblx0XHRjcmVhdGVCaW5hcnlFeHByZXNzaW9uID0gZnVuY3Rpb24gKG9wZXJhdG9yLCBsZWZ0LCByaWdodCkge1xyXG5cdFx0XHR2YXIgdHlwZSA9IChvcGVyYXRvciA9PT0gJ3x8JyB8fCBvcGVyYXRvciA9PT0gJyYmJykgPyBMT0dJQ0FMX0VYUCA6IEJJTkFSWV9FWFA7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0dHlwZTogdHlwZSxcclxuXHRcdFx0XHRvcGVyYXRvcjogb3BlcmF0b3IsXHJcblx0XHRcdFx0bGVmdDogbGVmdCxcclxuXHRcdFx0XHRyaWdodDogcmlnaHRcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHQvLyBgY2hgIGlzIGEgY2hhcmFjdGVyIGNvZGUgaW4gdGhlIG5leHQgdGhyZWUgZnVuY3Rpb25zXHJcblx0XHRpc0RlY2ltYWxEaWdpdCA9IGZ1bmN0aW9uKGNoKSB7XHJcblx0XHRcdHJldHVybiAoY2ggPj0gNDggJiYgY2ggPD0gNTcpOyAvLyAwLi4uOVxyXG5cdFx0fSxcclxuXHRcdGlzSWRlbnRpZmllclN0YXJ0ID0gZnVuY3Rpb24oY2gpIHtcclxuXHRcdFx0cmV0dXJuIChjaCA9PT0gMzYpIHx8IChjaCA9PT0gOTUpIHx8IC8vIGAkYCBhbmQgYF9gXHJcblx0XHRcdFx0XHQoY2ggPj0gNjUgJiYgY2ggPD0gOTApIHx8IC8vIEEuLi5aXHJcblx0XHRcdFx0XHQoY2ggPj0gOTcgJiYgY2ggPD0gMTIyKSB8fCAvLyBhLi4uelxyXG4gICAgICAgICAgICAgICAgICAgIChjaCA+PSAxMjggJiYgIWJpbmFyeV9vcHNbU3RyaW5nLmZyb21DaGFyQ29kZShjaCldKTsgLy8gYW55IG5vbi1BU0NJSSB0aGF0IGlzIG5vdCBhbiBvcGVyYXRvclxyXG5cdFx0fSxcclxuXHRcdGlzSWRlbnRpZmllclBhcnQgPSBmdW5jdGlvbihjaCkge1xyXG5cdFx0XHRyZXR1cm4gKGNoID09PSAzNikgfHwgKGNoID09PSA5NSkgfHwgLy8gYCRgIGFuZCBgX2BcclxuXHRcdFx0XHRcdChjaCA+PSA2NSAmJiBjaCA8PSA5MCkgfHwgLy8gQS4uLlpcclxuXHRcdFx0XHRcdChjaCA+PSA5NyAmJiBjaCA8PSAxMjIpIHx8IC8vIGEuLi56XHJcblx0XHRcdFx0XHQoY2ggPj0gNDggJiYgY2ggPD0gNTcpIHx8IC8vIDAuLi45XHJcbiAgICAgICAgICAgICAgICAgICAgKGNoID49IDEyOCAmJiAhYmluYXJ5X29wc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKV0pOyAvLyBhbnkgbm9uLUFTQ0lJIHRoYXQgaXMgbm90IGFuIG9wZXJhdG9yXHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFBhcnNpbmdcclxuXHRcdC8vIC0tLS0tLS1cclxuXHRcdC8vIGBleHByYCBpcyBhIHN0cmluZyB3aXRoIHRoZSBwYXNzZWQgaW4gZXhwcmVzc2lvblxyXG5cdFx0anNlcCA9IGZ1bmN0aW9uKGV4cHIpIHtcclxuXHRcdFx0Ly8gYGluZGV4YCBzdG9yZXMgdGhlIGNoYXJhY3RlciBudW1iZXIgd2UgYXJlIGN1cnJlbnRseSBhdCB3aGlsZSBgbGVuZ3RoYCBpcyBhIGNvbnN0YW50XHJcblx0XHRcdC8vIEFsbCBvZiB0aGUgZ29iYmxlcyBiZWxvdyB3aWxsIG1vZGlmeSBgaW5kZXhgIGFzIHdlIG1vdmUgYWxvbmdcclxuXHRcdFx0dmFyIGluZGV4ID0gMCxcclxuXHRcdFx0XHRjaGFyQXRGdW5jID0gZXhwci5jaGFyQXQsXHJcblx0XHRcdFx0Y2hhckNvZGVBdEZ1bmMgPSBleHByLmNoYXJDb2RlQXQsXHJcblx0XHRcdFx0ZXhwckkgPSBmdW5jdGlvbihpKSB7IHJldHVybiBjaGFyQXRGdW5jLmNhbGwoZXhwciwgaSk7IH0sXHJcblx0XHRcdFx0ZXhwcklDb2RlID0gZnVuY3Rpb24oaSkgeyByZXR1cm4gY2hhckNvZGVBdEZ1bmMuY2FsbChleHByLCBpKTsgfSxcclxuXHRcdFx0XHRsZW5ndGggPSBleHByLmxlbmd0aCxcclxuXHJcblx0XHRcdFx0Ly8gUHVzaCBgaW5kZXhgIHVwIHRvIHRoZSBuZXh0IG5vbi1zcGFjZSBjaGFyYWN0ZXJcclxuXHRcdFx0XHRnb2JibGVTcGFjZXMgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHZhciBjaCA9IGV4cHJJQ29kZShpbmRleCk7XHJcblx0XHRcdFx0XHQvLyBzcGFjZSBvciB0YWJcclxuXHRcdFx0XHRcdHdoaWxlKGNoID09PSAzMiB8fCBjaCA9PT0gOSkge1xyXG5cdFx0XHRcdFx0XHRjaCA9IGV4cHJJQ29kZSgrK2luZGV4KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdC8vIFRoZSBtYWluIHBhcnNpbmcgZnVuY3Rpb24uIE11Y2ggb2YgdGhpcyBjb2RlIGlzIGRlZGljYXRlZCB0byB0ZXJuYXJ5IGV4cHJlc3Npb25zXHJcblx0XHRcdFx0Z29iYmxlRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIHRlc3QgPSBnb2JibGVCaW5hcnlFeHByZXNzaW9uKCksXHJcblx0XHRcdFx0XHRcdGNvbnNlcXVlbnQsIGFsdGVybmF0ZTtcclxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xyXG5cdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gUVVNQVJLX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gVGVybmFyeSBleHByZXNzaW9uOiB0ZXN0ID8gY29uc2VxdWVudCA6IGFsdGVybmF0ZVxyXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0XHRjb25zZXF1ZW50ID0gZ29iYmxlRXhwcmVzc2lvbigpO1xyXG5cdFx0XHRcdFx0XHRpZighY29uc2VxdWVudCkge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIGV4cHJlc3Npb24nLCBpbmRleCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XHJcblx0XHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IENPTE9OX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0XHRcdGFsdGVybmF0ZSA9IGdvYmJsZUV4cHJlc3Npb24oKTtcclxuXHRcdFx0XHRcdFx0XHRpZighYWx0ZXJuYXRlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCBleHByZXNzaW9uJywgaW5kZXgpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogQ09ORElUSU9OQUxfRVhQLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGVzdDogdGVzdCxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnQsXHJcblx0XHRcdFx0XHRcdFx0XHRhbHRlcm5hdGU6IGFsdGVybmF0ZVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgOicsIGluZGV4KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRlc3Q7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gU2VhcmNoIGZvciB0aGUgb3BlcmF0aW9uIHBvcnRpb24gb2YgdGhlIHN0cmluZyAoZS5nLiBgK2AsIGA9PT1gKVxyXG5cdFx0XHRcdC8vIFN0YXJ0IGJ5IHRha2luZyB0aGUgbG9uZ2VzdCBwb3NzaWJsZSBiaW5hcnkgb3BlcmF0aW9ucyAoMyBjaGFyYWN0ZXJzOiBgPT09YCwgYCE9PWAsIGA+Pj5gKVxyXG5cdFx0XHRcdC8vIGFuZCBtb3ZlIGRvd24gZnJvbSAzIHRvIDIgdG8gMSBjaGFyYWN0ZXIgdW50aWwgYSBtYXRjaGluZyBiaW5hcnkgb3BlcmF0aW9uIGlzIGZvdW5kXHJcblx0XHRcdFx0Ly8gdGhlbiwgcmV0dXJuIHRoYXQgYmluYXJ5IG9wZXJhdGlvblxyXG5cdFx0XHRcdGdvYmJsZUJpbmFyeU9wID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcclxuXHRcdFx0XHRcdHZhciBiaW9wLCB0b19jaGVjayA9IGV4cHIuc3Vic3RyKGluZGV4LCBtYXhfYmlub3BfbGVuKSwgdGNfbGVuID0gdG9fY2hlY2subGVuZ3RoO1xyXG5cdFx0XHRcdFx0d2hpbGUodGNfbGVuID4gMCkge1xyXG5cdFx0XHRcdFx0XHRpZihiaW5hcnlfb3BzLmhhc093blByb3BlcnR5KHRvX2NoZWNrKSkge1xyXG5cdFx0XHRcdFx0XHRcdGluZGV4ICs9IHRjX2xlbjtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdG9fY2hlY2s7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSB0b19jaGVjay5zdWJzdHIoMCwgLS10Y19sZW4pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIFRoaXMgZnVuY3Rpb24gaXMgcmVzcG9uc2libGUgZm9yIGdvYmJsaW5nIGFuIGluZGl2aWR1YWwgZXhwcmVzc2lvbixcclxuXHRcdFx0XHQvLyBlLmcuIGAxYCwgYDErMmAsIGBhKyhiKjIpLU1hdGguc3FydCgyKWBcclxuXHRcdFx0XHRnb2JibGVCaW5hcnlFeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgY2hfaSwgbm9kZSwgYmlvcCwgcHJlYywgc3RhY2ssIGJpb3BfaW5mbywgbGVmdCwgcmlnaHQsIGk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gRmlyc3QsIHRyeSB0byBnZXQgdGhlIGxlZnRtb3N0IHRoaW5nXHJcblx0XHRcdFx0XHQvLyBUaGVuLCBjaGVjayB0byBzZWUgaWYgdGhlcmUncyBhIGJpbmFyeSBvcGVyYXRvciBvcGVyYXRpbmcgb24gdGhhdCBsZWZ0bW9zdCB0aGluZ1xyXG5cdFx0XHRcdFx0bGVmdCA9IGdvYmJsZVRva2VuKCk7XHJcblx0XHRcdFx0XHRiaW9wID0gZ29iYmxlQmluYXJ5T3AoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBJZiB0aGVyZSB3YXNuJ3QgYSBiaW5hcnkgb3BlcmF0b3IsIGp1c3QgcmV0dXJuIHRoZSBsZWZ0bW9zdCBub2RlXHJcblx0XHRcdFx0XHRpZighYmlvcCkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbGVmdDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIHdlIG5lZWQgdG8gc3RhcnQgYSBzdGFjayB0byBwcm9wZXJseSBwbGFjZSB0aGUgYmluYXJ5IG9wZXJhdGlvbnMgaW4gdGhlaXJcclxuXHRcdFx0XHRcdC8vIHByZWNlZGVuY2Ugc3RydWN0dXJlXHJcblx0XHRcdFx0XHRiaW9wX2luZm8gPSB7IHZhbHVlOiBiaW9wLCBwcmVjOiBiaW5hcnlQcmVjZWRlbmNlKGJpb3ApfTtcclxuXHJcblx0XHRcdFx0XHRyaWdodCA9IGdvYmJsZVRva2VuKCk7XHJcblx0XHRcdFx0XHRpZighcmlnaHQpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcihcIkV4cGVjdGVkIGV4cHJlc3Npb24gYWZ0ZXIgXCIgKyBiaW9wLCBpbmRleCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRzdGFjayA9IFtsZWZ0LCBiaW9wX2luZm8sIHJpZ2h0XTtcclxuXHJcblx0XHRcdFx0XHQvLyBQcm9wZXJseSBkZWFsIHdpdGggcHJlY2VkZW5jZSB1c2luZyBbcmVjdXJzaXZlIGRlc2NlbnRdKGh0dHA6Ly93d3cuZW5nci5tdW4uY2EvfnRoZW8vTWlzYy9leHBfcGFyc2luZy5odG0pXHJcblx0XHRcdFx0XHR3aGlsZSgoYmlvcCA9IGdvYmJsZUJpbmFyeU9wKCkpKSB7XHJcblx0XHRcdFx0XHRcdHByZWMgPSBiaW5hcnlQcmVjZWRlbmNlKGJpb3ApO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYocHJlYyA9PT0gMCkge1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJpb3BfaW5mbyA9IHsgdmFsdWU6IGJpb3AsIHByZWM6IHByZWMgfTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFJlZHVjZTogbWFrZSBhIGJpbmFyeSBleHByZXNzaW9uIGZyb20gdGhlIHRocmVlIHRvcG1vc3QgZW50cmllcy5cclxuXHRcdFx0XHRcdFx0d2hpbGUgKChzdGFjay5sZW5ndGggPiAyKSAmJiAocHJlYyA8PSBzdGFja1tzdGFjay5sZW5ndGggLSAyXS5wcmVjKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJpZ2h0ID0gc3RhY2sucG9wKCk7XHJcblx0XHRcdFx0XHRcdFx0YmlvcCA9IHN0YWNrLnBvcCgpLnZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdGxlZnQgPSBzdGFjay5wb3AoKTtcclxuXHRcdFx0XHRcdFx0XHRub2RlID0gY3JlYXRlQmluYXJ5RXhwcmVzc2lvbihiaW9wLCBsZWZ0LCByaWdodCk7XHJcblx0XHRcdFx0XHRcdFx0c3RhY2sucHVzaChub2RlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0bm9kZSA9IGdvYmJsZVRva2VuKCk7XHJcblx0XHRcdFx0XHRcdGlmKCFub2RlKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcihcIkV4cGVjdGVkIGV4cHJlc3Npb24gYWZ0ZXIgXCIgKyBiaW9wLCBpbmRleCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0c3RhY2sucHVzaChiaW9wX2luZm8sIG5vZGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGkgPSBzdGFjay5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdFx0bm9kZSA9IHN0YWNrW2ldO1xyXG5cdFx0XHRcdFx0d2hpbGUoaSA+IDEpIHtcclxuXHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIG5vZGUpOyBcclxuXHRcdFx0XHRcdFx0aSAtPSAyO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIG5vZGU7XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gQW4gaW5kaXZpZHVhbCBwYXJ0IG9mIGEgYmluYXJ5IGV4cHJlc3Npb246XHJcblx0XHRcdFx0Ly8gZS5nLiBgZm9vLmJhcihiYXopYCwgYDFgLCBgXCJhYmNcImAsIGAoYSAlIDIpYCAoYmVjYXVzZSBpdCdzIGluIHBhcmVudGhlc2lzKVxyXG5cdFx0XHRcdGdvYmJsZVRva2VuID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgY2gsIHRvX2NoZWNrLCB0Y19sZW47XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xyXG5cdFx0XHRcdFx0Y2ggPSBleHBySUNvZGUoaW5kZXgpO1xyXG5cclxuXHRcdFx0XHRcdGlmKGlzRGVjaW1hbERpZ2l0KGNoKSB8fCBjaCA9PT0gUEVSSU9EX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gQ2hhciBjb2RlIDQ2IGlzIGEgZG90IGAuYCB3aGljaCBjYW4gc3RhcnQgb2ZmIGEgbnVtZXJpYyBsaXRlcmFsXHJcblx0XHRcdFx0XHRcdHJldHVybiBnb2JibGVOdW1lcmljTGl0ZXJhbCgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmKGNoID09PSBTUVVPVEVfQ09ERSB8fCBjaCA9PT0gRFFVT1RFX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gU2luZ2xlIG9yIGRvdWJsZSBxdW90ZXNcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGdvYmJsZVN0cmluZ0xpdGVyYWwoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZihpc0lkZW50aWZpZXJTdGFydChjaCkgfHwgY2ggPT09IE9QQVJFTl9DT0RFKSB7IC8vIG9wZW4gcGFyZW50aGVzaXNcclxuXHRcdFx0XHRcdFx0Ly8gYGZvb2AsIGBiYXIuYmF6YFxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlVmFyaWFibGUoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY2ggPT09IE9CUkFDS19DT0RFKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBnb2JibGVBcnJheSgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSBleHByLnN1YnN0cihpbmRleCwgbWF4X3Vub3BfbGVuKTtcclxuXHRcdFx0XHRcdFx0dGNfbGVuID0gdG9fY2hlY2subGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHR3aGlsZSh0Y19sZW4gPiAwKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYodW5hcnlfb3BzLmhhc093blByb3BlcnR5KHRvX2NoZWNrKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggKz0gdGNfbGVuO1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogVU5BUllfRVhQLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvcGVyYXRvcjogdG9fY2hlY2ssXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFyZ3VtZW50OiBnb2JibGVUb2tlbigpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcmVmaXg6IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHRvX2NoZWNrID0gdG9fY2hlY2suc3Vic3RyKDAsIC0tdGNfbGVuKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ly8gUGFyc2Ugc2ltcGxlIG51bWVyaWMgbGl0ZXJhbHM6IGAxMmAsIGAzLjRgLCBgLjVgLiBEbyB0aGlzIGJ5IHVzaW5nIGEgc3RyaW5nIHRvXHJcblx0XHRcdFx0Ly8ga2VlcCB0cmFjayBvZiBldmVyeXRoaW5nIGluIHRoZSBudW1lcmljIGxpdGVyYWwgYW5kIHRoZW4gY2FsbGluZyBgcGFyc2VGbG9hdGAgb24gdGhhdCBzdHJpbmdcclxuXHRcdFx0XHRnb2JibGVOdW1lcmljTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIG51bWJlciA9ICcnLCBjaCwgY2hDb2RlO1xyXG5cdFx0XHRcdFx0d2hpbGUoaXNEZWNpbWFsRGlnaXQoZXhwcklDb2RlKGluZGV4KSkpIHtcclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmKGV4cHJJQ29kZShpbmRleCkgPT09IFBFUklPRF9DT0RFKSB7IC8vIGNhbiBzdGFydCB3aXRoIGEgZGVjaW1hbCBtYXJrZXJcclxuXHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xyXG5cclxuXHRcdFx0XHRcdFx0d2hpbGUoaXNEZWNpbWFsRGlnaXQoZXhwcklDb2RlKGluZGV4KSkpIHtcclxuXHRcdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XHJcblx0XHRcdFx0XHRpZihjaCA9PT0gJ2UnIHx8IGNoID09PSAnRScpIHsgLy8gZXhwb25lbnQgbWFya2VyXHJcblx0XHRcdFx0XHRcdG51bWJlciArPSBleHBySShpbmRleCsrKTtcclxuXHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCk7XHJcblx0XHRcdFx0XHRcdGlmKGNoID09PSAnKycgfHwgY2ggPT09ICctJykgeyAvLyBleHBvbmVudCBzaWduXHJcblx0XHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHdoaWxlKGlzRGVjaW1hbERpZ2l0KGV4cHJJQ29kZShpbmRleCkpKSB7IC8vZXhwb25lbnQgaXRzZWxmXHJcblx0XHRcdFx0XHRcdFx0bnVtYmVyICs9IGV4cHJJKGluZGV4KyspO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmKCFpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgtMSkpICkge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIGV4cG9uZW50ICgnICsgbnVtYmVyICsgZXhwckkoaW5kZXgpICsgJyknLCBpbmRleCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdGNoQ29kZSA9IGV4cHJJQ29kZShpbmRleCk7XHJcblx0XHRcdFx0XHQvLyBDaGVjayB0byBtYWtlIHN1cmUgdGhpcyBpc24ndCBhIHZhcmlhYmxlIG5hbWUgdGhhdCBzdGFydCB3aXRoIGEgbnVtYmVyICgxMjNhYmMpXHJcblx0XHRcdFx0XHRpZihpc0lkZW50aWZpZXJTdGFydChjaENvZGUpKSB7XHJcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1ZhcmlhYmxlIG5hbWVzIGNhbm5vdCBzdGFydCB3aXRoIGEgbnVtYmVyICgnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bnVtYmVyICsgZXhwckkoaW5kZXgpICsgJyknLCBpbmRleCk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYoY2hDb2RlID09PSBQRVJJT0RfQ09ERSkge1xyXG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIHBlcmlvZCcsIGluZGV4KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogcGFyc2VGbG9hdChudW1iZXIpLFxyXG5cdFx0XHRcdFx0XHRyYXc6IG51bWJlclxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHQvLyBQYXJzZXMgYSBzdHJpbmcgbGl0ZXJhbCwgc3RhcmluZyB3aXRoIHNpbmdsZSBvciBkb3VibGUgcXVvdGVzIHdpdGggYmFzaWMgc3VwcG9ydCBmb3IgZXNjYXBlIGNvZGVzXHJcblx0XHRcdFx0Ly8gZS5nLiBgXCJoZWxsbyB3b3JsZFwiYCwgYCd0aGlzIGlzXFxuSlNFUCdgXHJcblx0XHRcdFx0Z29iYmxlU3RyaW5nTGl0ZXJhbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIHN0ciA9ICcnLCBxdW90ZSA9IGV4cHJJKGluZGV4KyspLCBjbG9zZWQgPSBmYWxzZSwgY2g7XHJcblxyXG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCsrKTtcclxuXHRcdFx0XHRcdFx0aWYoY2ggPT09IHF1b3RlKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2xvc2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKGNoID09PSAnXFxcXCcpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBDaGVjayBmb3IgYWxsIG9mIHRoZSBjb21tb24gZXNjYXBlIGNvZGVzXHJcblx0XHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCsrKTtcclxuXHRcdFx0XHRcdFx0XHRzd2l0Y2goY2gpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ24nOiBzdHIgKz0gJ1xcbic7IGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAncic6IHN0ciArPSAnXFxyJzsgYnJlYWs7XHJcblx0XHRcdFx0XHRcdFx0XHRjYXNlICd0Jzogc3RyICs9ICdcXHQnOyBicmVhaztcclxuXHRcdFx0XHRcdFx0XHRcdGNhc2UgJ2InOiBzdHIgKz0gJ1xcYic7IGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnZic6IHN0ciArPSAnXFxmJzsgYnJlYWs7XHJcblx0XHRcdFx0XHRcdFx0XHRjYXNlICd2Jzogc3RyICs9ICdcXHgwQic7IGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdCA6IHN0ciArPSAnXFxcXCcgKyBjaDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0c3RyICs9IGNoO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYoIWNsb3NlZCkge1xyXG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmNsb3NlZCBxdW90ZSBhZnRlciBcIicrc3RyKydcIicsIGluZGV4KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogc3RyLFxyXG5cdFx0XHRcdFx0XHRyYXc6IHF1b3RlICsgc3RyICsgcXVvdGVcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQvLyBHb2JibGVzIG9ubHkgaWRlbnRpZmllcnNcclxuXHRcdFx0XHQvLyBlLmcuOiBgZm9vYCwgYF92YWx1ZWAsIGAkeDFgXHJcblx0XHRcdFx0Ly8gQWxzbywgdGhpcyBmdW5jdGlvbiBjaGVja3MgaWYgdGhhdCBpZGVudGlmaWVyIGlzIGEgbGl0ZXJhbDpcclxuXHRcdFx0XHQvLyAoZS5nLiBgdHJ1ZWAsIGBmYWxzZWAsIGBudWxsYCkgb3IgYHRoaXNgXHJcblx0XHRcdFx0Z29iYmxlSWRlbnRpZmllciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGNoID0gZXhwcklDb2RlKGluZGV4KSwgc3RhcnQgPSBpbmRleCwgaWRlbnRpZmllcjtcclxuXHJcblx0XHRcdFx0XHRpZihpc0lkZW50aWZpZXJTdGFydChjaCkpIHtcclxuXHRcdFx0XHRcdFx0aW5kZXgrKztcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgJyArIGV4cHJJKGluZGV4KSwgaW5kZXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHdoaWxlKGluZGV4IDwgbGVuZ3RoKSB7XHJcblx0XHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcclxuXHRcdFx0XHRcdFx0aWYoaXNJZGVudGlmaWVyUGFydChjaCkpIHtcclxuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZGVudGlmaWVyID0gZXhwci5zbGljZShzdGFydCwgaW5kZXgpO1xyXG5cclxuXHRcdFx0XHRcdGlmKGxpdGVyYWxzLmhhc093blByb3BlcnR5KGlkZW50aWZpZXIpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZTogTElURVJBTCxcclxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogbGl0ZXJhbHNbaWRlbnRpZmllcl0sXHJcblx0XHRcdFx0XHRcdFx0cmF3OiBpZGVudGlmaWVyXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYoaWRlbnRpZmllciA9PT0gdGhpc19zdHIpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHsgdHlwZTogVEhJU19FWFAgfTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0dHlwZTogSURFTlRJRklFUixcclxuXHRcdFx0XHRcdFx0XHRuYW1lOiBpZGVudGlmaWVyXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gR29iYmxlcyBhIGxpc3Qgb2YgYXJndW1lbnRzIHdpdGhpbiB0aGUgY29udGV4dCBvZiBhIGZ1bmN0aW9uIGNhbGxcclxuXHRcdFx0XHQvLyBvciBhcnJheSBsaXRlcmFsLiBUaGlzIGZ1bmN0aW9uIGFsc28gYXNzdW1lcyB0aGF0IHRoZSBvcGVuaW5nIGNoYXJhY3RlclxyXG5cdFx0XHRcdC8vIGAoYCBvciBgW2AgaGFzIGFscmVhZHkgYmVlbiBnb2JibGVkLCBhbmQgZ29iYmxlcyBleHByZXNzaW9ucyBhbmQgY29tbWFzXHJcblx0XHRcdFx0Ly8gdW50aWwgdGhlIHRlcm1pbmF0b3IgY2hhcmFjdGVyIGApYCBvciBgXWAgaXMgZW5jb3VudGVyZWQuXHJcblx0XHRcdFx0Ly8gZS5nLiBgZm9vKGJhciwgYmF6KWAsIGBteV9mdW5jKClgLCBvciBgW2JhciwgYmF6XWBcclxuXHRcdFx0XHRnb2JibGVBcmd1bWVudHMgPSBmdW5jdGlvbih0ZXJtaW5hdGlvbikge1xyXG5cdFx0XHRcdFx0dmFyIGNoX2ksIGFyZ3MgPSBbXSwgbm9kZSwgY2xvc2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcclxuXHRcdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XHJcblx0XHRcdFx0XHRcdGlmKGNoX2kgPT09IHRlcm1pbmF0aW9uKSB7IC8vIGRvbmUgcGFyc2luZ1xyXG5cdFx0XHRcdFx0XHRcdGNsb3NlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjaF9pID09PSBDT01NQV9DT0RFKSB7IC8vIGJldHdlZW4gZXhwcmVzc2lvbnNcclxuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVFeHByZXNzaW9uKCk7XHJcblx0XHRcdFx0XHRcdFx0aWYoIW5vZGUgfHwgbm9kZS50eXBlID09PSBDT01QT1VORCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgY29tbWEnLCBpbmRleCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChub2RlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFjbG9zZWQpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgJyArIFN0cmluZy5mcm9tQ2hhckNvZGUodGVybWluYXRpb24pLCBpbmRleCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gYXJncztcclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHQvLyBHb2JibGUgYSBub24tbGl0ZXJhbCB2YXJpYWJsZSBuYW1lLiBUaGlzIHZhcmlhYmxlIG5hbWUgbWF5IGluY2x1ZGUgcHJvcGVydGllc1xyXG5cdFx0XHRcdC8vIGUuZy4gYGZvb2AsIGBiYXIuYmF6YCwgYGZvb1snYmFyJ10uYmF6YFxyXG5cdFx0XHRcdC8vIEl0IGFsc28gZ29iYmxlcyBmdW5jdGlvbiBjYWxsczpcclxuXHRcdFx0XHQvLyBlLmcuIGBNYXRoLmFjb3Mob2JqLmFuZ2xlKWBcclxuXHRcdFx0XHRnb2JibGVWYXJpYWJsZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dmFyIGNoX2ksIG5vZGU7XHJcblx0XHRcdFx0XHRjaF9pID0gZXhwcklDb2RlKGluZGV4KTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xyXG5cdFx0XHRcdFx0XHRub2RlID0gZ29iYmxlR3JvdXAoKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVJZGVudGlmaWVyKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcclxuXHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xyXG5cdFx0XHRcdFx0d2hpbGUoY2hfaSA9PT0gUEVSSU9EX0NPREUgfHwgY2hfaSA9PT0gT0JSQUNLX0NPREUgfHwgY2hfaSA9PT0gT1BBUkVOX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0aW5kZXgrKztcclxuXHRcdFx0XHRcdFx0aWYoY2hfaSA9PT0gUEVSSU9EX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcclxuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogTUVNQkVSX0VYUCxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbXB1dGVkOiBmYWxzZSxcclxuXHRcdFx0XHRcdFx0XHRcdG9iamVjdDogbm9kZSxcclxuXHRcdFx0XHRcdFx0XHRcdHByb3BlcnR5OiBnb2JibGVJZGVudGlmaWVyKClcclxuXHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoY2hfaSA9PT0gT0JSQUNLX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogTUVNQkVSX0VYUCxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbXB1dGVkOiB0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0OiBub2RlLFxyXG5cdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IGdvYmJsZUV4cHJlc3Npb24oKVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XHJcblx0XHRcdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XHJcblx0XHRcdFx0XHRcdFx0aWYoY2hfaSAhPT0gQ0JSQUNLX0NPREUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkIFsnLCBpbmRleCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdGluZGV4Kys7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaF9pID09PSBPUEFSRU5fQ09ERSkge1xyXG5cdFx0XHRcdFx0XHRcdC8vIEEgZnVuY3Rpb24gY2FsbCBpcyBiZWluZyBtYWRlOyBnb2JibGUgYWxsIHRoZSBhcmd1bWVudHNcclxuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogQ0FMTF9FWFAsXHJcblx0XHRcdFx0XHRcdFx0XHQnYXJndW1lbnRzJzogZ29iYmxlQXJndW1lbnRzKENQQVJFTl9DT0RFKSxcclxuXHRcdFx0XHRcdFx0XHRcdGNhbGxlZTogbm9kZVxyXG5cdFx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XHJcblx0XHRcdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIG5vZGU7XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gUmVzcG9uc2libGUgZm9yIHBhcnNpbmcgYSBncm91cCBvZiB0aGluZ3Mgd2l0aGluIHBhcmVudGhlc2VzIGAoKWBcclxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBpdCBuZWVkcyB0byBnb2JibGUgdGhlIG9wZW5pbmcgcGFyZW50aGVzaXNcclxuXHRcdFx0XHQvLyBhbmQgdGhlbiB0cmllcyB0byBnb2JibGUgZXZlcnl0aGluZyB3aXRoaW4gdGhhdCBwYXJlbnRoZXNpcywgYXNzdW1pbmdcclxuXHRcdFx0XHQvLyB0aGF0IHRoZSBuZXh0IHRoaW5nIGl0IHNob3VsZCBzZWUgaXMgdGhlIGNsb3NlIHBhcmVudGhlc2lzLiBJZiBub3QsXHJcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXhwcmVzc2lvbiBwcm9iYWJseSBkb2Vzbid0IGhhdmUgYSBgKWBcclxuXHRcdFx0XHRnb2JibGVHcm91cCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aW5kZXgrKztcclxuXHRcdFx0XHRcdHZhciBub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpO1xyXG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XHJcblx0XHRcdFx0XHRpZihleHBySUNvZGUoaW5kZXgpID09PSBDUEFSRU5fQ09ERSkge1xyXG5cdFx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuY2xvc2VkICgnLCBpbmRleCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gUmVzcG9uc2libGUgZm9yIHBhcnNpbmcgQXJyYXkgbGl0ZXJhbHMgYFsxLCAyLCAzXWBcclxuXHRcdFx0XHQvLyBUaGlzIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBpdCBuZWVkcyB0byBnb2JibGUgdGhlIG9wZW5pbmcgYnJhY2tldFxyXG5cdFx0XHRcdC8vIGFuZCB0aGVuIHRyaWVzIHRvIGdvYmJsZSB0aGUgZXhwcmVzc2lvbnMgYXMgYXJndW1lbnRzLlxyXG5cdFx0XHRcdGdvYmJsZUFycmF5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpbmRleCsrO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0dHlwZTogQVJSQVlfRVhQLFxyXG5cdFx0XHRcdFx0XHRlbGVtZW50czogZ29iYmxlQXJndW1lbnRzKENCUkFDS19DT0RFKVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHRub2RlcyA9IFtdLCBjaF9pLCBub2RlO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xyXG5cdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xyXG5cclxuXHRcdFx0XHQvLyBFeHByZXNzaW9ucyBjYW4gYmUgc2VwYXJhdGVkIGJ5IHNlbWljb2xvbnMsIGNvbW1hcywgb3IganVzdCBpbmZlcnJlZCB3aXRob3V0IGFueVxyXG5cdFx0XHRcdC8vIHNlcGFyYXRvcnNcclxuXHRcdFx0XHRpZihjaF9pID09PSBTRU1DT0xfQ09ERSB8fCBjaF9pID09PSBDT01NQV9DT0RFKSB7XHJcblx0XHRcdFx0XHRpbmRleCsrOyAvLyBpZ25vcmUgc2VwYXJhdG9yc1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBUcnkgdG8gZ29iYmxlIGVhY2ggZXhwcmVzc2lvbiBpbmRpdmlkdWFsbHlcclxuXHRcdFx0XHRcdGlmKChub2RlID0gZ29iYmxlRXhwcmVzc2lvbigpKSkge1xyXG5cdFx0XHRcdFx0XHRub2Rlcy5wdXNoKG5vZGUpO1xyXG5cdFx0XHRcdFx0Ly8gSWYgd2Ugd2VyZW4ndCBhYmxlIHRvIGZpbmQgYSBiaW5hcnkgZXhwcmVzc2lvbiBhbmQgYXJlIG91dCBvZiByb29tLCB0aGVuXHJcblx0XHRcdFx0XHQvLyB0aGUgZXhwcmVzc2lvbiBwYXNzZWQgaW4gcHJvYmFibHkgaGFzIHRvbyBtdWNoXHJcblx0XHRcdFx0XHR9IGVsc2UgaWYoaW5kZXggPCBsZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5leHBlY3RlZCBcIicgKyBleHBySShpbmRleCkgKyAnXCInLCBpbmRleCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG9ubHkgb25lIGV4cHJlc3Npb24ganVzdCB0cnkgcmV0dXJuaW5nIHRoZSBleHByZXNzaW9uXHJcblx0XHRcdGlmKG5vZGVzLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRcdHJldHVybiBub2Rlc1swXTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0dHlwZTogQ09NUE9VTkQsXHJcblx0XHRcdFx0XHRib2R5OiBub2Rlc1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdC8vIFRvIGJlIGZpbGxlZCBpbiBieSB0aGUgdGVtcGxhdGVcclxuXHRqc2VwLnZlcnNpb24gPSAnPCU9IHZlcnNpb24gJT4nO1xyXG5cdGpzZXAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICdKYXZhU2NyaXB0IEV4cHJlc3Npb24gUGFyc2VyIChKU0VQKSB2JyArIGpzZXAudmVyc2lvbjsgfTtcclxuXHJcblx0LyoqXHJcblx0ICogQG1ldGhvZCBqc2VwLmFkZFVuYXJ5T3BcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BfbmFtZSBUaGUgbmFtZSBvZiB0aGUgdW5hcnkgb3AgdG8gYWRkXHJcblx0ICogQHJldHVybiBqc2VwXHJcblx0ICovXHJcblx0anNlcC5hZGRVbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSkge1xyXG5cdFx0bWF4X3Vub3BfbGVuID0gTWF0aC5tYXgob3BfbmFtZS5sZW5ndGgsIG1heF91bm9wX2xlbik7XHJcblx0XHR1bmFyeV9vcHNbb3BfbmFtZV0gPSB0OyByZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkQmluYXJ5T3BcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BfbmFtZSBUaGUgbmFtZSBvZiB0aGUgYmluYXJ5IG9wIHRvIGFkZFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBwcmVjZWRlbmNlIFRoZSBwcmVjZWRlbmNlIG9mIHRoZSBiaW5hcnkgb3AgKGNhbiBiZSBhIGZsb2F0KVxyXG5cdCAqIEByZXR1cm4ganNlcFxyXG5cdCAqL1xyXG5cdGpzZXAuYWRkQmluYXJ5T3AgPSBmdW5jdGlvbihvcF9uYW1lLCBwcmVjZWRlbmNlKSB7XHJcblx0XHRtYXhfYmlub3BfbGVuID0gTWF0aC5tYXgob3BfbmFtZS5sZW5ndGgsIG1heF9iaW5vcF9sZW4pO1xyXG5cdFx0YmluYXJ5X29wc1tvcF9uYW1lXSA9IHByZWNlZGVuY2U7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIGpzZXAuYWRkTGl0ZXJhbFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsX25hbWUgVGhlIG5hbWUgb2YgdGhlIGxpdGVyYWwgdG8gYWRkXHJcblx0ICogQHBhcmFtIHsqfSBsaXRlcmFsX3ZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbGl0ZXJhbFxyXG5cdCAqIEByZXR1cm4ganNlcFxyXG5cdCAqL1xyXG5cdGpzZXAuYWRkTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxfbmFtZSwgbGl0ZXJhbF92YWx1ZSkge1xyXG5cdFx0bGl0ZXJhbHNbbGl0ZXJhbF9uYW1lXSA9IGxpdGVyYWxfdmFsdWU7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlVW5hcnlPcFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSB1bmFyeSBvcCB0byByZW1vdmVcclxuXHQgKiBAcmV0dXJuIGpzZXBcclxuXHQgKi9cclxuXHRqc2VwLnJlbW92ZVVuYXJ5T3AgPSBmdW5jdGlvbihvcF9uYW1lKSB7XHJcblx0XHRkZWxldGUgdW5hcnlfb3BzW29wX25hbWVdO1xyXG5cdFx0aWYob3BfbmFtZS5sZW5ndGggPT09IG1heF91bm9wX2xlbikge1xyXG5cdFx0XHRtYXhfdW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4odW5hcnlfb3BzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVCaW5hcnlPcFxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBiaW5hcnkgb3AgdG8gcmVtb3ZlXHJcblx0ICogQHJldHVybiBqc2VwXHJcblx0ICovXHJcblx0anNlcC5yZW1vdmVCaW5hcnlPcCA9IGZ1bmN0aW9uKG9wX25hbWUpIHtcclxuXHRcdGRlbGV0ZSBiaW5hcnlfb3BzW29wX25hbWVdO1xyXG5cdFx0aWYob3BfbmFtZS5sZW5ndGggPT09IG1heF9iaW5vcF9sZW4pIHtcclxuXHRcdFx0bWF4X2Jpbm9wX2xlbiA9IGdldE1heEtleUxlbihiaW5hcnlfb3BzKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVMaXRlcmFsXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGxpdGVyYWxfbmFtZSBUaGUgbmFtZSBvZiB0aGUgbGl0ZXJhbCB0byByZW1vdmVcclxuXHQgKiBAcmV0dXJuIGpzZXBcclxuXHQgKi9cclxuXHRqc2VwLnJlbW92ZUxpdGVyYWwgPSBmdW5jdGlvbihsaXRlcmFsX25hbWUpIHtcclxuXHRcdGRlbGV0ZSBsaXRlcmFsc1tsaXRlcmFsX25hbWVdO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0Ly8gSW4gZGVza3RvcCBlbnZpcm9ubWVudHMsIGhhdmUgYSB3YXkgdG8gcmVzdG9yZSB0aGUgb2xkIHZhbHVlIGZvciBganNlcGBcclxuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHR2YXIgb2xkX2pzZXAgPSByb290LmpzZXA7XHJcblx0XHQvLyBUaGUgc3RhciBvZiB0aGUgc2hvdyEgSXQncyBhIGZ1bmN0aW9uIVxyXG5cdFx0cm9vdC5qc2VwID0ganNlcDtcclxuXHRcdC8vIEFuZCBhIGNvdXJ0ZW91cyBmdW5jdGlvbiB3aWxsaW5nIHRvIG1vdmUgb3V0IG9mIHRoZSB3YXkgZm9yIG90aGVyIHNpbWlsYXJseS1uYW1lZCBvYmplY3RzIVxyXG5cdFx0anNlcC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmKHJvb3QuanNlcCA9PT0ganNlcCkge1xyXG5cdFx0XHRcdHJvb3QuanNlcCA9IG9sZF9qc2VwO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBqc2VwO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gSW4gTm9kZS5KUyBlbnZpcm9ubWVudHNcclxuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG5cdFx0XHRleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBqc2VwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZXhwb3J0cy5wYXJzZSA9IGpzZXA7XHJcblx0XHR9XHJcblx0fVxyXG59KHRoaXMpKTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWFrZUp1aWNlQ2xpZW50KGp1aWNlQ2xpZW50KSB7XG5cbmp1aWNlQ2xpZW50Lmlnbm9yZWRQc2V1ZG9zID0gWydob3ZlcicsICdhY3RpdmUnLCAnZm9jdXMnLCAndmlzaXRlZCcsICdsaW5rJ107XG5qdWljZUNsaWVudC53aWR0aEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LmhlaWdodEVsZW1lbnRzID0gWydUQUJMRScsICdURCcsICdJTUcnXTtcbmp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMgPSBbJ1RBQkxFJywgJ1REJywgJ1RIJywgJ1RSJywgJ1REJywgJ0NBUFRJT04nLCAnQ09MR1JPVVAnLCAnQ09MJywgJ1RIRUFEJywgJ1RCT0RZJywgJ1RGT09UJ107XG5qdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cyA9IFsgJ0hFQUQnLCAnVElUTEUnLCAnQkFTRScsICdMSU5LJywgJ1NUWUxFJywgJ01FVEEnLCAnU0NSSVBUJywgJ05PU0NSSVBUJyBdO1xuanVpY2VDbGllbnQuc3R5bGVUb0F0dHJpYnV0ZSA9IHtcbiAgJ2JhY2tncm91bmQtY29sb3InOiAnYmdjb2xvcicsXG4gICdiYWNrZ3JvdW5kLWltYWdlJzogJ2JhY2tncm91bmQnLFxuICAndGV4dC1hbGlnbic6ICdhbGlnbicsXG4gICd2ZXJ0aWNhbC1hbGlnbic6ICd2YWxpZ24nXG59O1xuanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzID0gW107XG5cbmp1aWNlQ2xpZW50Lmp1aWNlRG9jdW1lbnQgPSBqdWljZURvY3VtZW50O1xuanVpY2VDbGllbnQuaW5saW5lRG9jdW1lbnQgPSBpbmxpbmVEb2N1bWVudDtcblxuZnVuY3Rpb24gaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKSB7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBydWxlcyA9IHV0aWxzLnBhcnNlQ1NTKGNzcyk7XG4gIHZhciBlZGl0ZWRFbGVtZW50cyA9IFtdO1xuICB2YXIgc3R5bGVBdHRyaWJ1dGVOYW1lID0gJ3N0eWxlJztcbiAgXG4gIGlmIChvcHRpb25zLnN0eWxlQXR0cmlidXRlTmFtZSkge1xuICAgIHN0eWxlQXR0cmlidXRlTmFtZSA9IG9wdGlvbnMuc3R5bGVBdHRyaWJ1dGVOYW1lO1xuICB9XG5cbiAgcnVsZXMuZm9yRWFjaChoYW5kbGVSdWxlKTtcbiAgZWRpdGVkRWxlbWVudHMuZm9yRWFjaChzZXRTdHlsZUF0dHJzKTtcblxuICBpZiAob3B0aW9ucy5pbmxpbmVQc2V1ZG9FbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goaW5saW5lUHNldWRvRWxlbWVudHMpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlXaWR0aEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ3dpZHRoJyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hcHBseUhlaWdodEF0dHJpYnV0ZXMpIHtcbiAgICBlZGl0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzZXREaW1lbnNpb25BdHRycyhlbCwgJ2hlaWdodCcpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50cykge1xuICAgIGVkaXRlZEVsZW1lbnRzLmZvckVhY2goc2V0QXR0cmlidXRlc09uVGFibGVFbGVtZW50cyk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyAmJiBvcHRpb25zLmV4dHJhQ3NzKSB7XG4gICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KG9wdGlvbnMuZXh0cmFDc3MsIHtcbiAgICAgIG1lZGlhUXVlcmllczogb3B0aW9ucy5wcmVzZXJ2ZU1lZGlhUXVlcmllcyxcbiAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgIH0pO1xuICAgIGlmIChwcmVzZXJ2ZWRUZXh0KSB7XG4gICAgICB2YXIgJGFwcGVuZFRvID0gbnVsbDtcbiAgICAgIGlmIChvcHRpb25zLmluc2VydFByZXNlcnZlZEV4dHJhQ3NzICE9PSB0cnVlKSB7XG4gICAgICAgICRhcHBlbmRUbyA9ICQob3B0aW9ucy5pbnNlcnRQcmVzZXJ2ZWRFeHRyYUNzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYXBwZW5kVG8gPSAkKCdoZWFkJyk7XG4gICAgICAgIGlmICghJGFwcGVuZFRvLmxlbmd0aCkgeyAkYXBwZW5kVG8gPSAkKCdib2R5Jyk7IH1cbiAgICAgICAgaWYgKCEkYXBwZW5kVG8ubGVuZ3RoKSB7ICRhcHBlbmRUbyA9ICQucm9vdCgpOyB9XG4gICAgICB9XG5cbiAgICAgICRhcHBlbmRUby5maXJzdCgpLmFwcGVuZCgnPHN0eWxlPicgKyBwcmVzZXJ2ZWRUZXh0ICsgJzwvc3R5bGU+Jyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUnVsZShydWxlKSB7XG4gICAgdmFyIHNlbCA9IHJ1bGVbMF07XG4gICAgdmFyIHN0eWxlID0gcnVsZVsxXTtcbiAgICB2YXIgc2VsZWN0b3IgPSBuZXcgdXRpbHMuU2VsZWN0b3Ioc2VsKTtcbiAgICB2YXIgcGFyc2VkU2VsZWN0b3IgPSBzZWxlY3Rvci5wYXJzZWQoKTtcbiAgICB2YXIgcHNldWRvRWxlbWVudFR5cGUgPSBnZXRQc2V1ZG9FbGVtZW50VHlwZShwYXJzZWRTZWxlY3Rvcik7XG5cbiAgICAvLyBza2lwIHJ1bGUgaWYgdGhlIHNlbGVjdG9yIGhhcyBhbnkgcHNldWRvcyB3aGljaCBhcmUgaWdub3JlZFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkU2VsZWN0b3IubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzdWJTZWwgPSBwYXJzZWRTZWxlY3RvcltpXTtcbiAgICAgIGlmIChzdWJTZWwucHNldWRvcykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN1YlNlbC5wc2V1ZG9zLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgdmFyIHN1YlNlbFBzZXVkbyA9IHN1YlNlbC5wc2V1ZG9zW2pdO1xuICAgICAgICAgIGlmIChqdWljZUNsaWVudC5pZ25vcmVkUHNldWRvcy5pbmRleE9mKHN1YlNlbFBzZXVkby5uYW1lKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBzZXVkb0VsZW1lbnRUeXBlKSB7XG4gICAgICB2YXIgbGFzdCA9IHBhcnNlZFNlbGVjdG9yW3BhcnNlZFNlbGVjdG9yLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHBzZXVkb3MgPSBsYXN0LnBzZXVkb3M7XG4gICAgICBsYXN0LnBzZXVkb3MgPSBmaWx0ZXJFbGVtZW50UHNldWRvcyhsYXN0LnBzZXVkb3MpO1xuICAgICAgc2VsID0gcGFyc2VkU2VsZWN0b3IudG9TdHJpbmcoKTtcbiAgICAgIGxhc3QucHNldWRvcyA9IHBzZXVkb3M7XG4gICAgfVxuXG4gICAgdmFyIGVscztcbiAgICB0cnkge1xuICAgICAgZWxzID0gJChzZWwpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gc2tpcCBpbnZhbGlkIHNlbGVjdG9yXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzO1xuXG4gICAgICBpZiAoZWwubmFtZSAmJiBqdWljZUNsaWVudC5ub25WaXN1YWxFbGVtZW50cy5pbmRleE9mKGVsLm5hbWUudG9VcHBlckNhc2UoKSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwc2V1ZG9FbGVtZW50VHlwZSkge1xuICAgICAgICB2YXIgcHNldWRvRWxQcm9wTmFtZSA9ICdwc2V1ZG8nICsgcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgIHZhciBwc2V1ZG9FbCA9IGVsW3BzZXVkb0VsUHJvcE5hbWVdO1xuICAgICAgICBpZiAoIXBzZXVkb0VsKSB7XG4gICAgICAgICAgcHNldWRvRWwgPSBlbFtwc2V1ZG9FbFByb3BOYW1lXSA9ICQoJzxzcGFuIC8+JykuZ2V0KDApO1xuICAgICAgICAgIHBzZXVkb0VsLnBzZXVkb0VsZW1lbnRUeXBlID0gcHNldWRvRWxlbWVudFR5cGU7XG4gICAgICAgICAgcHNldWRvRWwucHNldWRvRWxlbWVudFBhcmVudCA9IGVsO1xuICAgICAgICAgIGVsW3BzZXVkb0VsUHJvcE5hbWVdID0gcHNldWRvRWw7XG4gICAgICAgIH1cbiAgICAgICAgZWwgPSBwc2V1ZG9FbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbC5zdHlsZVByb3BzKSB7XG4gICAgICAgIGVsLnN0eWxlUHJvcHMgPSB7fTtcblxuICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgaW5saW5lIHN0eWxlcywgZmFrZSBzZWxlY3RvciB3aXRoIHRvcG1vc3Qgc3BlY2lmaWNpdHlcbiAgICAgICAgaWYgKCQoZWwpLmF0dHIoc3R5bGVBdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgIHZhciBjc3NUZXh0ID0gJyogeyAnICsgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUpICsgJyB9ICc7XG4gICAgICAgICAgYWRkUHJvcHModXRpbHMucGFyc2VDU1MoY3NzVGV4dClbMF1bMV0sIG5ldyB1dGlscy5TZWxlY3RvcignPHN0eWxlPicsIHRydWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IHdlIG5lZWQgdG8gY29tcGlsZSBzdHlsZT1cIlwiIGF0dHIgZm9yXG4gICAgICAgIGVkaXRlZEVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwcm9wZXJ0aWVzXG4gICAgICBmdW5jdGlvbiBhZGRQcm9wcyhzdHlsZSwgc2VsZWN0b3IpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHlsZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoc3R5bGVbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHN0eWxlW2ldLm5hbWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZVtpXS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBpbXBvcnRhbnQgPSBzdHlsZVtpXS52YWx1ZS5tYXRjaCgvIWltcG9ydGFudCQvKSAhPT0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbXBvcnRhbnQgJiYgIW9wdGlvbnMucHJlc2VydmVJbXBvcnRhbnQpIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzKiFpbXBvcnRhbnQkLywgJycpO1xuICAgICAgICAgICAgLy8gYWRkcyBsaW5lIG51bWJlciBhbmQgY29sdW1uIG51bWJlciBmb3IgdGhlIHByb3BlcnRpZXMgYXMgXCJhZGRpdGlvbmFsUHJpb3JpdHlcIiB0byB0aGUgXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIGJlY2F1c2UgaW4gQ1NTIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBhZmZlY3QgdGhlIHByaW9yaXR5LlxuICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxQcmlvcml0eSA9IFtzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5saW5lLCBzdHlsZVtpXS5wb3NpdGlvbi5zdGFydC5jb2xdO1xuICAgICAgICAgICAgdmFyIHByb3AgPSBuZXcgdXRpbHMuUHJvcGVydHkobmFtZSwgdmFsdWUsIHNlbGVjdG9yLCBpbXBvcnRhbnQgPyAyIDogMCwgYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZyA9IGVsLnN0eWxlUHJvcHNbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIGlmIHByb3BlcnR5IG5hbWUgaXMgbm90IGluIHRoZSBleGNsdWRlZCBwcm9wZXJ0aWVzIGFycmF5XG4gICAgICAgICAgICBpZiAoanVpY2VDbGllbnQuZXhjbHVkZWRQcm9wZXJ0aWVzLmluZGV4T2YobmFtZSkgPCAwKSB7XG4gICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5jb21wYXJlKHByb3ApID09PSBwcm9wIHx8ICFleGlzdGluZykge1xuICAgICAgICAgICAgICAgIC8vIGRlbGV0aW5nIGEgcHJvcGVydHkgbGV0IHVzIGNoYW5nZSB0aGUgb3JkZXIgKG1vdmUgaXQgdG8gdGhlIGVuZCBpbiB0aGUgc2V0U3R5bGVBdHRycyBsb29wKVxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5zZWxlY3RvciAhPT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbC5zdHlsZVByb3BzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIG1ha2UgXCJwcm9wXCIgYSBzcGVjaWFsIGNvbXBvc2VkIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICAgcHJvcC5uZXh0UHJvcCA9IGV4aXN0aW5nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsLnN0eWxlUHJvcHNbbmFtZV0gPSBwcm9wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFkZFByb3BzKHN0eWxlLCBzZWxlY3Rvcik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdHlsZUF0dHJzKGVsKSB7XG4gICAgdmFyIGwgPSBPYmplY3Qua2V5cyhlbC5zdHlsZVByb3BzKS5sZW5ndGg7XG4gICAgdmFyIHByb3BzID0gW107XG4gICAgLy8gSGVyZSB3ZSBsb29wIGVhY2ggcHJvcGVydHkgYW5kIG1ha2Ugc3VyZSB0byBcImV4cGFuZFwiXG4gICAgLy8gbGlua2VkIFwibmV4dFByb3BcIiBwcm9wZXJ0aWVzIGhhcHBlbmluZyB3aGVuIHRoZSBzYW1lIHByb3BlcnR5XG4gICAgLy8gaXMgZGVjbGFyZWQgbXVsdGlwbGUgdGltZXMgaW4gdGhlIHNhbWUgc2VsZWN0b3IuXG4gICAgT2JqZWN0LmtleXMoZWwuc3R5bGVQcm9wcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBucCA9IGVsLnN0eWxlUHJvcHNba2V5XTtcbiAgICAgIHdoaWxlICh0eXBlb2YgbnAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3BzLnB1c2gobnApO1xuICAgICAgICBucCA9IG5wLm5leHRQcm9wO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHNvcnQgcHJvcGVydGllcyBieSB0aGVpciBvcmlnaW5hdGluZyBzZWxlY3RvcidzIHNwZWNpZmljaXR5IHNvIHRoYXRcbiAgICAvLyBwcm9wcyBsaWtlIFwicGFkZGluZ1wiIGFuZCBcInBhZGRpbmctYm90dG9tXCIgYXJlIHJlc29sdmVkIGFzIGV4cGVjdGVkLlxuICAgIHByb3BzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIGEuY29tcGFyZUZ1bmMoYik7XG4gICAgfSk7XG4gICAgdmFyIHN0cmluZyA9IHByb3BzXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgLy8gQ29udGVudCBiZWNvbWVzIHRoZSBpbm5lckhUTUwgb2YgcHNldWRvIGVsZW1lbnRzLCBub3QgdXNlZCBhcyBhXG4gICAgICAgIC8vIHN0eWxlIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBwcm9wLnByb3AgIT09ICdjb250ZW50JztcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHByb3AucHJvcCArICc6ICcgKyBwcm9wLnZhbHVlLnJlcGxhY2UoL1tcIl0vZywgJ1xcJycpICsgJzsnO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcgJyk7XG4gICAgaWYgKHN0cmluZykge1xuICAgICAgJChlbCkuYXR0cihzdHlsZUF0dHJpYnV0ZU5hbWUsIHN0cmluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5saW5lUHNldWRvRWxlbWVudHMoZWwpIHtcbiAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgJiYgZWwuc3R5bGVQcm9wcy5jb250ZW50KSB7XG4gICAgICB2YXIgcGFyc2VkID0gcGFyc2VDb250ZW50KGVsLnN0eWxlUHJvcHMuY29udGVudC52YWx1ZSk7XG4gICAgICBpZiAocGFyc2VkLmltZykge1xuICAgICAgICBlbC5uYW1lID0gJ2ltZyc7XG4gICAgICAgICQoZWwpLmF0dHIoJ3NyYycsIHBhcnNlZC5pbWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChlbCkudGV4dChwYXJzZWQpO1xuICAgICAgfVxuICAgICAgdmFyIHBhcmVudCA9IGVsLnBzZXVkb0VsZW1lbnRQYXJlbnQ7XG4gICAgICBpZiAoZWwucHNldWRvRWxlbWVudFR5cGUgPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICQocGFyZW50KS5wcmVwZW5kKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQocGFyZW50KS5hcHBlbmQoZWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERpbWVuc2lvbkF0dHJzKGVsLCBkaW1lbnNpb24pIHtcbiAgICBpZiAoIWVsLm5hbWUpIHsgcmV0dXJuOyB9XG4gICAgdmFyIGVsTmFtZSA9IGVsLm5hbWUudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoanVpY2VDbGllbnRbZGltZW5zaW9uICsgJ0VsZW1lbnRzJ10uaW5kZXhPZihlbE5hbWUpID4gLTEpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gZWwuc3R5bGVQcm9wcykge1xuICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS5wcm9wID09PSBkaW1lbnNpb24pIHtcbiAgICAgICAgICBpZiAoZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvcHgvKSkge1xuICAgICAgICAgICAgdmFyIHB4U2l6ZSA9IGVsLnN0eWxlUHJvcHNbaV0udmFsdWUucmVwbGFjZSgncHgnLCAnJyk7XG4gICAgICAgICAgICAkKGVsKS5hdHRyKGRpbWVuc2lvbiwgcHhTaXplKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGp1aWNlQ2xpZW50LnRhYmxlRWxlbWVudHMuaW5kZXhPZihlbE5hbWUpID4gLTEgJiYgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZS5tYXRjaCgvXFwlLykpIHtcbiAgICAgICAgICAgICQoZWwpLmF0dHIoZGltZW5zaW9uLCBlbC5zdHlsZVByb3BzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzT25UYWJsZUVsZW1lbnRzKGVsKSB7XG4gICAgaWYgKCFlbC5uYW1lKSB7IHJldHVybjsgfVxuICAgIHZhciBlbE5hbWUgPSBlbC5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIHN0eWxlUHJvcHMgPSBPYmplY3Qua2V5cyhqdWljZUNsaWVudC5zdHlsZVRvQXR0cmlidXRlKTtcblxuICAgIGlmIChqdWljZUNsaWVudC50YWJsZUVsZW1lbnRzLmluZGV4T2YoZWxOYW1lKSA+IC0xKSB7XG4gICAgICBmb3IgKHZhciBpIGluIGVsLnN0eWxlUHJvcHMpIHtcbiAgICAgICAgaWYgKHN0eWxlUHJvcHMuaW5kZXhPZihlbC5zdHlsZVByb3BzW2ldLnByb3ApID4gLTEpIHtcbiAgICAgICAgICAkKGVsKS5hdHRyKGp1aWNlQ2xpZW50LnN0eWxlVG9BdHRyaWJ1dGVbZWwuc3R5bGVQcm9wc1tpXS5wcm9wXSwgZWwuc3R5bGVQcm9wc1tpXS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VDb250ZW50KGNvbnRlbnQpIHtcbiAgaWYgKGNvbnRlbnQgPT09ICdub25lJyB8fCBjb250ZW50ID09PSAnbm9ybWFsJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBpbWFnZVVybE1hdGNoID0gY29udGVudC5tYXRjaCgvXlxccyp1cmxcXHMqXFwoXFxzKiguKj8pXFxzKlxcKVxccyokL2kpO1xuICBpZiAoaW1hZ2VVcmxNYXRjaCkge1xuICAgIHZhciB1cmwgPSBpbWFnZVVybE1hdGNoWzFdLnJlcGxhY2UoL15bJ1wiXXxbJ1wiXSQvZywgJycpO1xuICAgIHJldHVybiB7IGltZzogdXJsIH07XG4gIH1cblxuICAvLyBOYWl2ZSBwYXJzaW5nLCBhc3N1bWUgd2VsbC1mb3JtZWQgdmFsdWVcbiAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSwgY29udGVudC5sZW5ndGggLSAxKTtcbiAgLy8gTmFpdmUgdW5lc2NhcGUsIGFzc3VtZSBubyB1bmljb2RlIGNoYXIgY29kZXNcbiAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vLyBSZXR1cm4gXCJiZWZvcmVcIiBvciBcImFmdGVyXCIgaWYgdGhlIGdpdmVuIHNlbGVjdG9yIGlzIGEgcHNldWRvIGVsZW1lbnQgKGUuZy4sXG4vLyBhOjphZnRlcikuXG5mdW5jdGlvbiBnZXRQc2V1ZG9FbGVtZW50VHlwZShzZWxlY3Rvcikge1xuICBpZiAoc2VsZWN0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBzZXVkb3MgPSBzZWxlY3RvcltzZWxlY3Rvci5sZW5ndGggLSAxXS5wc2V1ZG9zO1xuICBpZiAoIXBzZXVkb3MpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBzZXVkb3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG9zW2ldKSkge1xuICAgICAgcmV0dXJuIHBzZXVkb3NbaV0ubmFtZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNQc2V1ZG9FbGVtZW50TmFtZShwc2V1ZG8pIHtcbiAgcmV0dXJuIHBzZXVkby5uYW1lID09PSAnYmVmb3JlJyB8fCBwc2V1ZG8ubmFtZSA9PT0gJ2FmdGVyJztcbn1cblxuZnVuY3Rpb24gZmlsdGVyRWxlbWVudFBzZXVkb3MocHNldWRvcykge1xuICByZXR1cm4gcHNldWRvcy5maWx0ZXIoZnVuY3Rpb24ocHNldWRvKSB7XG4gICAgcmV0dXJuICFpc1BzZXVkb0VsZW1lbnROYW1lKHBzZXVkbyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBqdWljZURvY3VtZW50KCQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IHV0aWxzLmdldERlZmF1bHRPcHRpb25zKG9wdGlvbnMpO1xuICB2YXIgY3NzID0gZXh0cmFjdENzc0Zyb21Eb2N1bWVudCgkLCBvcHRpb25zKTtcbiAgY3NzICs9ICdcXG4nICsgb3B0aW9ucy5leHRyYUNzcztcbiAgaW5saW5lRG9jdW1lbnQoJCwgY3NzLCBvcHRpb25zKTtcbiAgcmV0dXJuICQ7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgc3R5bGVzTGlzdCA9ICQoJ3N0eWxlJyk7XG4gIHZhciBzdHlsZURhdGFMaXN0LCBzdHlsZURhdGEsIHN0eWxlRWxlbWVudDtcbiAgc3R5bGVzTGlzdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgIHN0eWxlRWxlbWVudCA9IHRoaXM7XG4gICAgc3R5bGVEYXRhTGlzdCA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGlmIChzdHlsZURhdGFMaXN0Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdHlsZURhdGEgPSBzdHlsZURhdGFMaXN0WzBdLmRhdGE7XG4gICAgaWYgKG9wdGlvbnMuYXBwbHlTdHlsZVRhZ3MgJiYgJChzdHlsZUVsZW1lbnQpLmF0dHIoJ2RhdGEtZW1iZWQnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXN1bHRzLnB1c2goc3R5bGVEYXRhKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucmVtb3ZlU3R5bGVUYWdzICYmICQoc3R5bGVFbGVtZW50KS5hdHRyKCdkYXRhLWVtYmVkJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHByZXNlcnZlZFRleHQgPSB1dGlscy5nZXRQcmVzZXJ2ZWRUZXh0KHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSwge1xuICAgICAgICBtZWRpYVF1ZXJpZXM6IG9wdGlvbnMucHJlc2VydmVNZWRpYVF1ZXJpZXMsXG4gICAgICAgIGZvbnRGYWNlczogb3B0aW9ucy5wcmVzZXJ2ZUZvbnRGYWNlc1xuICAgICAgfSk7XG4gICAgICBpZiAocHJlc2VydmVkVGV4dCkge1xuICAgICAgICBzdHlsZUVsZW1lbnQuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgPSBwcmVzZXJ2ZWRUZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChzdHlsZUVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAkKHN0eWxlRWxlbWVudCkucmVtb3ZlQXR0cignZGF0YS1lbWJlZCcpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RDc3NGcm9tRG9jdW1lbnQoJCwgb3B0aW9ucykge1xuICB2YXIgcmVzdWx0cyA9IGdldFN0eWxlc0RhdGEoJCwgb3B0aW9ucyk7XG4gIHZhciBjc3MgPSByZXN1bHRzLmpvaW4oJ1xcbicpO1xuICByZXR1cm4gY3NzO1xufVxuXG5yZXR1cm4ganVpY2VDbGllbnQ7XG5cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQcm9wZXJ0eTtcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBDU1MgcHJvcGVydHkgY29uc3RydWN0b3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBwYXJhbSB7U2VsZWN0b3J9IHNlbGVjdG9yIHRoZSBwcm9wZXJ0eSBvcmlnaW5hdGVzIGZyb21cbiAqIEBwYXJhbSB7SW50ZWdlcn0gcHJpb3JpdHkgMCBmb3Igbm9ybWFsIHByb3BlcnRpZXMsIDIgZm9yICFpbXBvcnRhbnQgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB7QXJyYXl9IGFkZGl0aW9uYWwgYXJyYXkgb2YgaW50ZWdlcnMgcmVwcmVzZW50aW5nIG1vcmUgZGV0YWlsZWQgcHJpb3JpdGllcyAoc29ydGluZylcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUHJvcGVydHkocHJvcCwgdmFsdWUsIHNlbGVjdG9yLCBwcmlvcml0eSwgYWRkaXRpb25hbFByaW9yaXR5KSB7XG4gIHRoaXMucHJvcCA9IHByb3A7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHkgfHwgMDtcbiAgdGhpcy5hZGRpdGlvbmFsUHJpb3JpdHkgPSBhZGRpdGlvbmFsUHJpb3JpdHkgfHwgW107XG59XG5cbi8qKlxuICogQ29tcGFyZXMgd2l0aCBhbm90aGVyIFByb3BlcnR5IGJhc2VkIG9uIFNlbGVjdG9yI3NwZWNpZmljaXR5LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmVGdW5jID0gZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgdmFyIGEgPSBbXTtcbiAgYS5wdXNoLmFwcGx5KGEsIHRoaXMuc2VsZWN0b3Iuc3BlY2lmaWNpdHkoKSk7XG4gIGEucHVzaC5hcHBseShhLCB0aGlzLmFkZGl0aW9uYWxQcmlvcml0eSk7XG4gIGFbMF0gKz0gdGhpcy5wcmlvcml0eTtcbiAgdmFyIGIgPSBbXTtcbiAgYi5wdXNoLmFwcGx5KGIsIHByb3BlcnR5LnNlbGVjdG9yLnNwZWNpZmljaXR5KCkpO1xuICBiLnB1c2guYXBwbHkoYiwgcHJvcGVydHkuYWRkaXRpb25hbFByaW9yaXR5KTtcbiAgYlswXSArPSBwcm9wZXJ0eS5wcmlvcml0eTtcbiAgcmV0dXJuIHV0aWxzLmNvbXBhcmVGdW5jKGEsIGIpO1xufTtcblxuUHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICB2YXIgd2lubmVyID0gdGhpcy5jb21wYXJlRnVuYyhwcm9wZXJ0eSk7XG4gIGlmICh3aW5uZXIgPT09IDEpIHJldHVybiB0aGlzO1xuICByZXR1cm4gcHJvcGVydHk7XG59O1xuXG5cbi8qKlxuICogUmV0dXJucyBDU1MgcHJvcGVydHlcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblByb3BlcnR5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9wICsgJzogJyArIHRoaXMudmFsdWUucmVwbGFjZSgvWydcIl0rL2csICcnKSArICc7Jztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBwYXJzZXIgPSByZXF1aXJlKCdzbGljay9wYXJzZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gU2VsZWN0b3I7XG5cbi8qKlxuICogQ1NTIHNlbGVjdG9yIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvciB0ZXh0XG4gKiBAcGFyYW0ge0FycmF5fSBvcHRpb25hbGx5LCBwcmVjYWxjdWxhdGVkIHNwZWNpZmljaXR5XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFNlbGVjdG9yKHRleHQsIHN0eWxlQXR0cmlidXRlKSB7XG4gIHRoaXMudGV4dCA9IHRleHQ7XG4gIHRoaXMuc3BlYyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5zdHlsZUF0dHJpYnV0ZSA9IHN0eWxlQXR0cmlidXRlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEdldCBwYXJzZWQgc2VsZWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5TZWxlY3Rvci5wcm90b3R5cGUucGFyc2VkID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy50b2tlbnMpIHsgdGhpcy50b2tlbnMgPSBwYXJzZSh0aGlzLnRleHQpOyB9XG4gIHJldHVybiB0aGlzLnRva2Vucztcbn07XG5cbi8qKlxuICogTGF6eSBzcGVjaWZpY2l0eSBnZXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNlbGVjdG9yLnByb3RvdHlwZS5zcGVjaWZpY2l0eSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3R5bGVBdHRyaWJ1dGUgPSB0aGlzLnN0eWxlQXR0cmlidXRlO1xuICBpZiAoIXRoaXMuc3BlYykgeyB0aGlzLnNwZWMgPSBzcGVjaWZpY2l0eSh0aGlzLnRleHQsIHRoaXMucGFyc2VkKCkpOyB9XG4gIHJldHVybiB0aGlzLnNwZWM7XG5cbiAgZnVuY3Rpb24gc3BlY2lmaWNpdHkodGV4dCwgcGFyc2VkKSB7XG4gICAgdmFyIGV4cHJlc3Npb25zID0gcGFyc2VkIHx8IHBhcnNlKHRleHQpO1xuICAgIHZhciBzcGVjID0gW3N0eWxlQXR0cmlidXRlID8gMSA6IDAsIDAsIDAsIDBdO1xuICAgIHZhciBub3RzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cHJlc3Npb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zW2ldO1xuICAgICAgdmFyIHBzZXVkb3MgPSBleHByZXNzaW9uLnBzZXVkb3M7XG5cbiAgICAgIC8vIGlkIGF3YXJkcyBhIHBvaW50IGluIHRoZSBzZWNvbmQgY29sdW1uXG4gICAgICBpZiAoZXhwcmVzc2lvbi5pZCkgeyBzcGVjWzFdKys7IH1cblxuICAgICAgLy8gY2xhc3NlcyBhbmQgYXR0cmlidXRlcyBhd2FyZCBhIHBvaW50IGVhY2ggaW4gdGhlIHRoaXJkIGNvbHVtblxuICAgICAgaWYgKGV4cHJlc3Npb24uYXR0cmlidXRlcykgeyBzcGVjWzJdICs9IGV4cHJlc3Npb24uYXR0cmlidXRlcy5sZW5ndGg7IH1cbiAgICAgIGlmIChleHByZXNzaW9uLmNsYXNzTGlzdCkgeyBzcGVjWzJdICs9IGV4cHJlc3Npb24uY2xhc3NMaXN0Lmxlbmd0aDsgfVxuXG4gICAgICAvLyB0YWcgYXdhcmRzIGEgcG9pbnQgaW4gdGhlIGZvdXJ0aCBjb2x1bW5cbiAgICAgIGlmIChleHByZXNzaW9uLnRhZyAmJiBleHByZXNzaW9uLnRhZyAhPT0gJyonKSB7IHNwZWNbM10rKzsgfVxuXG4gICAgICAvLyBwc2V1ZG9zIGF3YXJkIGEgcG9pbnQgZWFjaCBpbiB0aGUgZm91cnRoIGNvbHVtblxuICAgICAgaWYgKHBzZXVkb3MpIHtcbiAgICAgICAgc3BlY1szXSArPSBwc2V1ZG9zLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHBzZXVkb3MubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICBpZiAocHNldWRvc1twXS5uYW1lID09PSAnbm90Jykge1xuICAgICAgICAgICAgbm90cy5wdXNoKHBzZXVkb3NbcF0udmFsdWUpO1xuICAgICAgICAgICAgc3BlY1szXS0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGlpID0gbm90cy5sZW5ndGg7IGlpLS07KSB7XG4gICAgICB2YXIgbm90ID0gc3BlY2lmaWNpdHkobm90c1tpaV0pO1xuICAgICAgZm9yICh2YXIgamogPSA0OyBqai0tOykgeyBzcGVjW2pqXSArPSBub3RbampdOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNwZWM7XG4gIH1cbn07XG5cbi8qKlxuICogUGFyc2VzIGEgc2VsZWN0b3IgYW5kIHJldHVybnMgdGhlIHRva2Vucy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3JcbiAqIEBhcGkgcHJpdmF0ZS5cbiAqL1xuXG5mdW5jdGlvbiBwYXJzZSh0ZXh0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHBhcnNlcih0ZXh0KVswXTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIG1lbnNjaCA9IHJlcXVpcmUoJ21lbnNjaCcpO1xudmFyIG93biA9IHt9Lmhhc093blByb3BlcnR5O1xudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBTZWxlY3RvciA9IHJlcXVpcmUoJy4vc2VsZWN0b3InKTtcbnZhciBQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vcHJvcGVydHknKTtcblxuZXhwb3J0cy5TZWxlY3RvciA9IFNlbGVjdG9yO1xuZXhwb3J0cy5Qcm9wZXJ0eSA9IFByb3BlcnR5O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHNlbGVjdG9ycy5cbiAqXG4gKiBAbGljZW5zZSBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSAtIE1JVFxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yVGV4dCBmcm9tIG1lbnNjaFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmV4dHJhY3QgPSBmdW5jdGlvbiBleHRyYWN0KHNlbGVjdG9yVGV4dCkge1xuICB2YXIgYXR0ciA9IDA7XG4gIHZhciBzZWxzID0gW107XG4gIHZhciBzZWwgPSAnJztcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHNlbGVjdG9yVGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgYyA9IHNlbGVjdG9yVGV4dC5jaGFyQXQoaSk7XG5cbiAgICBpZiAoYXR0cikge1xuICAgICAgaWYgKCddJyA9PT0gYyB8fCAnKScgPT09IGMpIHsgYXR0ci0tOyB9XG4gICAgICBzZWwgKz0gYztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCcsJyA9PT0gYykge1xuICAgICAgICBzZWxzLnB1c2goc2VsKTtcbiAgICAgICAgc2VsID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJ1snID09PSBjIHx8ICcoJyA9PT0gYykgeyBhdHRyKys7IH1cbiAgICAgICAgaWYgKHNlbC5sZW5ndGggfHwgKGMgIT09ICcsJyAmJiBjICE9PSAnXFxuJyAmJiBjICE9PSAnICcpKSB7IHNlbCArPSBjOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbC5sZW5ndGgpIHtcbiAgICBzZWxzLnB1c2goc2VsKTtcbiAgfVxuXG4gIHJldHVybiBzZWxzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcGFyc2UgdHJlZSBmb3IgYSBDU1Mgc291cmNlLlxuICogSWYgaXQgZW5jb3VudGVycyBtdWx0aXBsZSBzZWxlY3RvcnMgc2VwYXJhdGVkIGJ5IGEgY29tbWEsIGl0IHNwbGl0cyB0aGVcbiAqIHRyZWUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBzb3VyY2VcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wYXJzZUNTUyA9IGZ1bmN0aW9uKGNzcykge1xuICB2YXIgcGFyc2VkID0gbWVuc2NoLnBhcnNlKGNzcywge3Bvc2l0aW9uOiB0cnVlLCBjb21tZW50czogdHJ1ZX0pO1xuICB2YXIgcnVsZXMgPSB0eXBlb2YgcGFyc2VkLnN0eWxlc2hlZXQgIT0gJ3VuZGVmaW5lZCcgJiYgcGFyc2VkLnN0eWxlc2hlZXQucnVsZXMgPyBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA6IFtdO1xuICB2YXIgcmV0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBydWxlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBydWxlID0gcnVsZXNbaV07XG4gICAgICB2YXIgc2VsZWN0b3JzID0gcnVsZS5zZWxlY3RvcnM7XG5cbiAgICAgIGZvciAodmFyIGlpID0gMCwgbGwgPSBzZWxlY3RvcnMubGVuZ3RoOyBpaSA8IGxsOyBpaSsrKSB7XG4gICAgICAgIHJldC5wdXNoKFtzZWxlY3RvcnNbaWldLCBydWxlLmRlY2xhcmF0aW9uc10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgcHJlc2VydmVkIHRleHQgZm9yIGEgQ1NTIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzIHNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5nZXRQcmVzZXJ2ZWRUZXh0ID0gZnVuY3Rpb24oY3NzLCBvcHRpb25zKSB7XG4gIHZhciBwYXJzZWQgPSBtZW5zY2gucGFyc2UoY3NzLCB7cG9zaXRpb246IHRydWUsIGNvbW1lbnRzOiB0cnVlfSk7XG4gIHZhciBydWxlcyA9IHR5cGVvZiBwYXJzZWQuc3R5bGVzaGVldCAhPSAndW5kZWZpbmVkJyAmJiBwYXJzZWQuc3R5bGVzaGVldC5ydWxlcyA/IHBhcnNlZC5zdHlsZXNoZWV0LnJ1bGVzIDogW107XG4gIHZhciBwcmVzZXJ2ZWQgPSBbXTtcbiAgdmFyIGxhc3RTdGFydCA9IG51bGw7XG5cbiAgZm9yICh2YXIgaSA9IHJ1bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKChvcHRpb25zLmZvbnRGYWNlcyAmJiBydWxlc1tpXS50eXBlID09PSAnZm9udC1mYWNlJykgfHxcbiAgICAgICAgKG9wdGlvbnMubWVkaWFRdWVyaWVzICYmIHJ1bGVzW2ldLnR5cGUgPT09ICdtZWRpYScpKSB7XG4gICAgICBwcmVzZXJ2ZWQucHVzaChcbiAgICAgICAgbWVuc2NoLnN0cmluZ2lmeShcbiAgICAgICAgICB7IHN0eWxlc2hlZXQ6IHsgcnVsZXM6IFsgcnVsZXNbaV0gXSB9fSxcbiAgICAgICAgICB7IGNvbW1lbnRzOiBmYWxzZSwgaW5kZW50YXRpb246ICcgICcgfVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuXG4gIGlmIChwcmVzZXJ2ZWQubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBvcy5FT0wrcHJlc2VydmVkLmpvaW4ob3MuRU9MKStvcy5FT0w7XG59O1xuXG5leHBvcnRzLm5vcm1hbGl6ZUxpbmVFbmRpbmdzID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpLnJlcGxhY2UoL1xcbi9nLCAnXFxyXFxuJyk7XG59O1xuXG5cbi8qKlxuICogQ29tcGFyZXMgdHdvIHNwZWNpZmljaXR5IHZlY3RvcnMsIHJldHVybmluZyB0aGUgd2lubmluZyBvbmUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gdmVjdG9yIGFcbiAqIEBwYXJhbSB7QXJyYXl9IHZlY3RvciBiXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb21wYXJlRnVuYyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIG1pbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspIHtcbiAgICBpZiAoYVtpXSA9PT0gYltpXSkgeyBjb250aW51ZTsgfVxuICAgIGlmIChhW2ldID4gYltpXSkgeyByZXR1cm4gMTsgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIHJldHVybiBhLmxlbmd0aC1iLmxlbmd0aDtcbn07XG5cbmV4cG9ydHMuY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGV4cG9ydHMuY29tcGFyZUZ1bmMoYSwgYikgPT0gMSA/IGEgOiBiO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBmdW5jdGlvbihvYmosIHNyYykge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKG93bi5jYWxsKHNyYywga2V5KSkge1xuICAgICAgb2JqW2tleV0gPSBzcmNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydHMuZ2V0RGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciByZXN1bHQgPSBleHBvcnRzLmV4dGVuZCh7XG4gICAgZXh0cmFDc3M6ICcnLFxuICAgIGluc2VydFByZXNlcnZlZEV4dHJhQ3NzOiB0cnVlLFxuICAgIGFwcGx5U3R5bGVUYWdzOiB0cnVlLFxuICAgIHJlbW92ZVN0eWxlVGFnczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZU1lZGlhUXVlcmllczogdHJ1ZSxcbiAgICBwcmVzZXJ2ZUZvbnRGYWNlczogdHJ1ZSxcbiAgICBhcHBseVdpZHRoQXR0cmlidXRlczogdHJ1ZSxcbiAgICBhcHBseUhlaWdodEF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXBwbHlBdHRyaWJ1dGVzVGFibGVFbGVtZW50czogdHJ1ZSxcbiAgICB1cmw6ICcnXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHJlc3VsdC53ZWJSZXNvdXJjZXMgPSByZXN1bHQud2ViUmVzb3VyY2VzIHx8IHt9O1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiLy8ga25vY2tvdXQtc29ydGFibGUgMC4xNS4wIHwgKGMpIDIwMTYgUnlhbiBOaWVtZXllciB8ICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXHJcbiFmdW5jdGlvbihhKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtcImtub2Nrb3V0XCIsXCJqcXVlcnlcIixcImpxdWVyeS11aS9zb3J0YWJsZVwiLFwianF1ZXJ5LXVpL2RyYWdnYWJsZVwiXSxhKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKXt2YXIgYj1yZXF1aXJlKFwia25vY2tvdXRcIiksYz1yZXF1aXJlKFwianF1ZXJ5XCIpO3JlcXVpcmUoXCJqcXVlcnktdWkvc29ydGFibGVcIikscmVxdWlyZShcImpxdWVyeS11aS9kcmFnZ2FibGVcIiksYShiLGMpfWVsc2UgYSh3aW5kb3cua28sd2luZG93LmpRdWVyeSl9KGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJrb19zb3J0SXRlbVwiLGQ9XCJrb19zb3VyY2VJbmRleFwiLGU9XCJrb19zb3J0TGlzdFwiLGY9XCJrb19wYXJlbnRMaXN0XCIsZz1cImtvX2RyYWdJdGVtXCIsaD1hLnV0aWxzLnVud3JhcE9ic2VydmFibGUsaT1hLnV0aWxzLmRvbURhdGEuZ2V0LGo9YS51dGlscy5kb21EYXRhLnNldCxrPWIudWkmJmIudWkudmVyc2lvbixsPWsmJmsuaW5kZXhPZihcIjEuNi5cIikmJmsuaW5kZXhPZihcIjEuNy5cIikmJihrLmluZGV4T2YoXCIxLjguXCIpfHxcIjEuOC4yNFwiPT09ayksbT1mdW5jdGlvbihiLGQpe2EudXRpbHMuYXJyYXlGb3JFYWNoKGIsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJihqKGEsYyxkKSxqKGEsZixpKGEucGFyZW50Tm9kZSxlKSkpfSl9LG49ZnVuY3Rpb24oYixjKXt2YXIgZCxlPXt9LGY9aChiKCkpfHx7fTtyZXR1cm4gZi5kYXRhPyhlW2NdPWYuZGF0YSxlLm5hbWU9Zi50ZW1wbGF0ZSk6ZVtjXT1iKCksYS51dGlscy5hcnJheUZvckVhY2goW1wiYWZ0ZXJBZGRcIixcImFmdGVyUmVuZGVyXCIsXCJhc1wiLFwiYmVmb3JlUmVtb3ZlXCIsXCJpbmNsdWRlRGVzdHJveWVkXCIsXCJ0ZW1wbGF0ZUVuZ2luZVwiLFwidGVtcGxhdGVPcHRpb25zXCIsXCJub2Rlc1wiXSxmdW5jdGlvbihiKXtmLmhhc093blByb3BlcnR5KGIpP2VbYl09ZltiXTphLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZS5oYXNPd25Qcm9wZXJ0eShiKSYmKGVbYl09YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGVbYl0pfSksXCJmb3JlYWNoXCI9PT1jJiYoZS5hZnRlclJlbmRlcj8oZD1lLmFmdGVyUmVuZGVyLGUuYWZ0ZXJSZW5kZXI9ZnVuY3Rpb24oYSxiKXttLmNhbGwoYixhLGIpLGQuY2FsbChiLGEsYil9KTplLmFmdGVyUmVuZGVyPW0pLGV9LG89ZnVuY3Rpb24oYSxiKXt2YXIgYz1oKGIpO2lmKGMpZm9yKHZhciBkPTA7YT5kO2QrKyljW2RdJiZoKGNbZF0uX2Rlc3Ryb3kpJiZhKys7cmV0dXJuIGF9LHA9ZnVuY3Rpb24oYyxkKXt2YXIgZSxmO2Q/KGY9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCksZiYmKGU9bmV3IGEudGVtcGxhdGVTb3VyY2VzLmRvbUVsZW1lbnQoZiksZS50ZXh0KGIudHJpbShlLnRleHQoKSkpKSk6YihjKS5jb250ZW50cygpLmVhY2goZnVuY3Rpb24oKXt0aGlzJiYxIT09dGhpcy5ub2RlVHlwZSYmYy5yZW1vdmVDaGlsZCh0aGlzKX0pfTthLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZT17aW5pdDpmdW5jdGlvbihrLG0scSxyLHMpe3ZhciB0LHUsdj1iKGspLHc9aChtKCkpfHx7fSx4PW4obSxcImZvcmVhY2hcIikseT17fTtwKGsseC5uYW1lKSxiLmV4dGVuZCghMCx5LGEuYmluZGluZ0hhbmRsZXJzLnNvcnRhYmxlKSx3Lm9wdGlvbnMmJnkub3B0aW9ucyYmKGEudXRpbHMuZXh0ZW5kKHkub3B0aW9ucyx3Lm9wdGlvbnMpLGRlbGV0ZSB3Lm9wdGlvbnMpLGEudXRpbHMuZXh0ZW5kKHksdykseS5jb25uZWN0Q2xhc3MmJihhLmlzT2JzZXJ2YWJsZSh5LmFsbG93RHJvcCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHkuYWxsb3dEcm9wKT9hLmNvbXB1dGVkKHtyZWFkOmZ1bmN0aW9uKCl7dmFyIGI9aCh5LmFsbG93RHJvcCksYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiP2IuY2FsbCh0aGlzLHguZm9yZWFjaCk6YjthLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhrLHkuY29ubmVjdENsYXNzLGMpfSxkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6a30sdGhpcyk6YS51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3Moayx5LmNvbm5lY3RDbGFzcyx5LmFsbG93RHJvcCksYS5iaW5kaW5nSGFuZGxlcnMudGVtcGxhdGUuaW5pdChrLGZ1bmN0aW9uKCl7cmV0dXJuIHh9LHEscixzKSx0PXkub3B0aW9ucy5zdGFydCx1PXkub3B0aW9ucy51cGRhdGUseS5vcHRpb25zLmhlbHBlcnx8KHkub3B0aW9ucy5oZWxwZXI9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYy5pcyhcInRyXCIpJiZjLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe2IodGhpcykud2lkdGgoYih0aGlzKS53aWR0aCgpKX0pLGN9KTt2YXIgej1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG0sbj15Lm9wdGlvbnMucmVjZWl2ZTt2LnNvcnRhYmxlKGEudXRpbHMuZXh0ZW5kKHkub3B0aW9ucyx7c3RhcnQ6ZnVuY3Rpb24oYixjKXt2YXIgZT1jLml0ZW1bMF07aihlLGQsYS51dGlscy5hcnJheUluZGV4T2YoYy5pdGVtLnBhcmVudCgpLmNoaWxkcmVuKCksZSkpLGMuaXRlbS5maW5kKFwiaW5wdXQ6Zm9jdXNcIikuY2hhbmdlKCksdCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlY2VpdmU6ZnVuY3Rpb24oYSxiKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuLmNhbGwodGhpcyxhLGIpLG09aShiLml0ZW1bMF0sZyksbSYmKG0uY2xvbmUmJihtPW0uY2xvbmUoKSkseS5kcmFnZ2VkJiYobT15LmRyYWdnZWQuY2FsbCh0aGlzLG0sYSxiKXx8bSkpfSx1cGRhdGU6ZnVuY3Rpb24oZyxrKXt2YXIgbixwLHEscixzLHQ9ay5pdGVtWzBdLHY9ay5pdGVtLnBhcmVudCgpWzBdLHc9aSh0LGMpfHxtO2lmKHd8fGIodCkucmVtb3ZlKCksbT1udWxsLHcmJnRoaXM9PT12fHwhbCYmYi5jb250YWlucyh0aGlzLHYpKXtpZihuPWkodCxmKSxxPWkodCxkKSxwPWkodC5wYXJlbnROb2RlLGUpLHI9YS51dGlscy5hcnJheUluZGV4T2Yoay5pdGVtLnBhcmVudCgpLmNoaWxkcmVuKCksdCkseC5pbmNsdWRlRGVzdHJveWVkfHwocT1vKHEsbikscj1vKHIscCkpLCh5LmJlZm9yZU1vdmV8fHkuYWZ0ZXJNb3ZlKSYmKHM9e2l0ZW06dyxzb3VyY2VQYXJlbnQ6bixzb3VyY2VQYXJlbnROb2RlOm4mJmsuc2VuZGVyfHx0LnBhcmVudE5vZGUsc291cmNlSW5kZXg6cSx0YXJnZXRQYXJlbnQ6cCx0YXJnZXRJbmRleDpyLGNhbmNlbERyb3A6ITF9LHkuYmVmb3JlTW92ZSYmeS5iZWZvcmVNb3ZlLmNhbGwodGhpcyxzLGcsaykpLG4/YihuPT09cD90aGlzOmsuc2VuZGVyfHx0aGlzKS5zb3J0YWJsZShcImNhbmNlbFwiKTpiKHQpLnJlbW92ZSgpLHMmJnMuY2FuY2VsRHJvcClyZXR1cm47aWYoeS5oYXNPd25Qcm9wZXJ0eShcInN0cmF0ZWd5TW92ZVwiKSYmeS5zdHJhdGVneU1vdmUhPT0hMSl7aWYocj49MClpZihuKWlmKG4hPT1wKW4uc3BsaWNlKHEsMSkscC5zcGxpY2UociwwLHcpLGoodCxjLG51bGwpLGsuaXRlbS5yZW1vdmUoKTtlbHNle3ZhciB6PWgobik7bi52YWx1ZVdpbGxNdXRhdGUmJm4udmFsdWVXaWxsTXV0YXRlKCksei5zcGxpY2UocSwxKSx6LnNwbGljZShyLDAsdyksbi52YWx1ZUhhc011dGF0ZWQmJm4udmFsdWVIYXNNdXRhdGVkKCl9ZWxzZSBwLnNwbGljZShyLDAsdyksaih0LGMsbnVsbCksay5pdGVtLnJlbW92ZSgpfWVsc2Ugcj49MCYmKG4mJihuLnNwbGljZShxLDEpLGEucHJvY2Vzc0FsbERlZmVycmVkQmluZGluZ1VwZGF0ZXMmJmEucHJvY2Vzc0FsbERlZmVycmVkQmluZGluZ1VwZGF0ZXMoKSxhLm9wdGlvbnMmJmEub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEudGFza3MucnVuRWFybHkoKSkscC5zcGxpY2UociwwLHcpKSxqKHQsYyxudWxsKTthLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzJiZhLnByb2Nlc3NBbGxEZWZlcnJlZEJpbmRpbmdVcGRhdGVzKCkseS5hZnRlck1vdmUmJnkuYWZ0ZXJNb3ZlLmNhbGwodGhpcyxzLGcsayl9dSYmdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNvbm5lY3RXaXRoOnkuY29ubmVjdENsYXNzP1wiLlwiK3kuY29ubmVjdENsYXNzOiExfSkpLHZvaWQgMCE9PXkuaXNFbmFibGVkJiZhLmNvbXB1dGVkKHtyZWFkOmZ1bmN0aW9uKCl7di5zb3J0YWJsZShoKHkuaXNFbmFibGVkKT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiKX0sZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOmt9KX0sMCk7cmV0dXJuIGEudXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhrLGZ1bmN0aW9uKCl7KHYuZGF0YShcInVpLXNvcnRhYmxlXCIpfHx2LmRhdGEoXCJzb3J0YWJsZVwiKSkmJnYuc29ydGFibGUoXCJkZXN0cm95XCIpLGEudXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGsseS5jb25uZWN0Q2xhc3MsITEpLGNsZWFyVGltZW91dCh6KX0pLHtjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxmLGcpe3ZhciBoPW4oYyxcImZvcmVhY2hcIik7aihiLGUsaC5mb3JlYWNoKSxhLmJpbmRpbmdIYW5kbGVycy50ZW1wbGF0ZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiBofSxkLGYsZyl9LGNvbm5lY3RDbGFzczpcImtvX2NvbnRhaW5lclwiLGFsbG93RHJvcDohMCxhZnRlck1vdmU6bnVsbCxiZWZvcmVNb3ZlOm51bGwsb3B0aW9uczp7fX0sYS5iaW5kaW5nSGFuZGxlcnMuZHJhZ2dhYmxlPXtpbml0OmZ1bmN0aW9uKGMsZCxlLGYsaSl7dmFyIGs9aChkKCkpfHx7fSxsPWsub3B0aW9uc3x8e30sbT1hLnV0aWxzLmV4dGVuZCh7fSxhLmJpbmRpbmdIYW5kbGVycy5kcmFnZ2FibGUub3B0aW9ucyksbz1uKGQsXCJkYXRhXCIpLHA9ay5jb25uZWN0Q2xhc3N8fGEuYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS5jb25uZWN0Q2xhc3MscT12b2lkIDAhPT1rLmlzRW5hYmxlZD9rLmlzRW5hYmxlZDphLmJpbmRpbmdIYW5kbGVycy5kcmFnZ2FibGUuaXNFbmFibGVkO3JldHVybiBrPVwiZGF0YVwiaW4gaz9rLmRhdGE6ayxqKGMsZyxrKSxhLnV0aWxzLmV4dGVuZChtLGwpLG0uY29ubmVjdFRvU29ydGFibGU9cD9cIi5cIitwOiExLGIoYykuZHJhZ2dhYmxlKG0pLHZvaWQgMCE9PXEmJmEuY29tcHV0ZWQoe3JlYWQ6ZnVuY3Rpb24oKXtiKGMpLmRyYWdnYWJsZShoKHEpP1wiZW5hYmxlXCI6XCJkaXNhYmxlXCIpfSxkaXNwb3NlV2hlbk5vZGVJc1JlbW92ZWQ6Y30pLGEudXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhjLGZ1bmN0aW9uKCl7YihjKS5kcmFnZ2FibGUoXCJkZXN0cm95XCIpfSksYS5iaW5kaW5nSGFuZGxlcnMudGVtcGxhdGUuaW5pdChjLGZ1bmN0aW9uKCl7cmV0dXJuIG99LGUsZixpKX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7dmFyIGc9bihjLFwiZGF0YVwiKTtyZXR1cm4gYS5iaW5kaW5nSGFuZGxlcnMudGVtcGxhdGUudXBkYXRlKGIsZnVuY3Rpb24oKXtyZXR1cm4gZ30sZCxlLGYpfSxjb25uZWN0Q2xhc3M6YS5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuY29ubmVjdENsYXNzLG9wdGlvbnM6e2hlbHBlcjpcImNsb25lXCJ9fX0pOyIsIi8vIEtub2Nrb3V0IFVuZG9NYW5hZ2VyIHYwLjIgfCAoYykgMjAxNSBTdGVmYW5vIEJhZ25hcmFcclxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlKSBcclxuLy8gcmVxdWlyZXMgXCJrby53YXRjaFwiIG1ldGhvZCBmcm9tIGtub2Nrb3V0LnJlYWN0b3JcclxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcbiAgLy8gTW9kdWxlIHN5c3RlbXMgbWFnaWMgZGFuY2UuXHJcbiAgaWYgKHR5cGVvZiByZXF1aXJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgLy8gQ29tbW9uSlMgb3IgTm9kZTogaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJrbm9ja291dFwiKSwgcmVxdWlyZShcImtub2Nrb3V0anMtcmVhY3RvclwiKSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lW1wiYW1kXCJdKSB7XHJcbiAgICAvLyBBTUQgYW5vbnltb3VzIG1vZHVsZSB3aXRoIGhhcmQtY29kZWQgZGVwZW5kZW5jeSBvbiBcImtub2Nrb3V0XCJcclxuICAgIGRlZmluZShbXCJrbm9ja291dFwiLCBcImtub2Nrb3V0anMtcmVhY3RvclwiLCBcImV4cG9ydHNcIl0sIGZhY3RvcnkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyA8c2NyaXB0PiB0YWc6IHVzZSB0aGUgZ2xvYmFsIGBrb2Agb2JqZWN0XHJcbiAgICBmYWN0b3J5KGtvLCBrby53YXRjaCk7XHJcbiAgfVxyXG59KGZ1bmN0aW9uIChrbywgcmVhY3RvcikgeyBcclxuXHJcbiAgLy8vIDxzdW1tYXJ5PlxyXG4gIC8vLyAgICAgVHJhY2sgbGFzdCBcImxldmVsc1wiIGNoYW5nZXMgd2l0aGluIHRoZSBjaGFpbmVkIG9ic2VydmFibGUgZG93biB0byBhbnkgZ2l2ZW4gbGV2ZWwgYW5kXHJcbiAgLy8vICAgICBzdXBwb3J0cyB1bmRvaW5nL3JlZG9pbmcgdGhlIGNoYW5nZXMuXHJcbiAgLy8vIDwvc3VtbWFyeT5cclxuICAvLy8gPHBhcmFtIG5hbWU9XCJvcHRpb25zXCIgdHlwZT1cIm9iamVjdFwiPlxyXG4gIC8vLyAgICAgeyBsZXZlbHM6IDIgfSAtPiBSZW1lbWJlciBvbmx5IGxhc3QgXCJsZXZlbHNcIiBjaGFuZ2VzPGJyLz5cclxuICAvLy8gICAgIHsgdW5kb0xhYmVsOiBcIlVuZG8gaXQgKCNDT1VOVCkhXCIgfSAtPiBEZWZpbmUgYSBsYWJlbCBmb3IgdGhlIHVuZG8gY29tbWFuZC4gXCIjQ09VTlQjXCIgc2VxdWVuY2Ugd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBzdGFjayBsZW5ndGguPGJyLz5cclxuICAvLy8gICAgIHsgcmVkb0xhYmVsOiBcIlJlZG8gaXQgKCNDT1VOVCkhXCIgfSAtPiBEZWZpbmUgYSBsYWJlbCBmb3IgdGhlIHJlZG8gY29tbWFuZC4gXCIjQ09VTlQjXCIgc2VxdWVuY2Ugd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBzdGFjayBsZW5ndGguPGJyLz5cclxuICAvLy8gPC9wYXJhbT5cclxuICB2YXIgdW5kb01hbmFnZXIgPSBmdW5jdGlvbiAobW9kZWwsIG9wdGlvbnMpIHtcclxuICAgIHZhciB1bmRvU3RhY2sgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIHZhciByZWRvU3RhY2sgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIHZhciBsYXN0UHVzaGVkU3RhY2s7XHJcbiAgICB2YXIgU1RBVEVfRE9JTkcgPSAwO1xyXG4gICAgdmFyIFNUQVRFX1VORE9JTkcgPSAxO1xyXG4gICAgdmFyIFNUQVRFX1JFRE9JTkcgPSAyO1xyXG4gICAgdmFyIHN0YXRlID0gU1RBVEVfRE9JTkc7XHJcblxyXG4gICAgdmFyIE1PREVfTk9STUFMID0gMDsgLy8gYWRkIHRvIHN0YWNrIGV2ZXJ5IGNoYW5nZVxyXG4gICAgdmFyIE1PREVfSUdOT1JFID0gMTsgLy8gZG8gbm90IGFkZCBhbnl0aGluZyB0byB0aGUgc3RhY2tcclxuICAgIHZhciBNT0RFX09OQ0UgPSAyOyAvLyBvbmx5IG9uZSBzZXF1ZW50aWFsIGNoYW5nZSBmb3IgZWFjaCBwcm9wZXJ0eSBpcyBhZGRlZCB0byB0aGUgc3RhY2tcclxuICAgIHZhciBNT0RFX01FUkdFID0gMzsgLy8gbWVyZ2UgbmV4dCBjaGFuZ2Ugd2l0aCB0aGUgbGFzdCBvbmVcclxuICAgIHZhciBtb2RlID0gTU9ERV9OT1JNQUw7XHJcblxyXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICBsZXZlbHM6IDEwMCxcclxuICAgICAgdW5kb0xhYmVsOiBcInVuZG8gKCNDT1VOVCMpXCIsXHJcbiAgICAgIHJlZG9MYWJlbDogXCJyZWRvICgjQ09VTlQjKVwiXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ29iamVjdCcpIHtcclxuICAgICAgb3B0aW9ucyA9IGtvLnV0aWxzLmV4dGVuZChkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICB2YXIgX3B1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbiAgICAgIC8vIGR1cmFudGUgVU5ETy9SRURPIGxhdm9yaWFtbyBzZW1wcmUgaW4gbm9ybWFsZVxyXG4gICAgICBpZiAoc3RhdGUgPT0gU1RBVEVfVU5ET0lORykge1xyXG4gICAgICAgIF9wdXNoSW50KGFjdGlvbiwgcmVkb1N0YWNrKTtcclxuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSBTVEFURV9SRURPSU5HKSB7XHJcbiAgICAgICAgX3B1c2hJbnQoYWN0aW9uLCB1bmRvU3RhY2spO1xyXG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IFNUQVRFX0RPSU5HKSB7XHJcbiAgICAgICAgX3B1c2hJbnQoYWN0aW9uLCB1bmRvU3RhY2spO1xyXG4gICAgICAgIHJlZG9TdGFjay5yZW1vdmVBbGwoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIF90cnlNZXJnZSA9IGZ1bmN0aW9uIChwcmV2LCBuZXdBY3Rpb24pIHtcclxuICAgICAgaWYgKHR5cGVvZiBwcmV2Lm1lcmdlZEFjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gcHJldi5tZXJnZWRBY3Rpb24obmV3QWN0aW9uKTtcclxuICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX3B1c2hJbnQgPSBmdW5jdGlvbiAoYWN0aW9uLCBteVN0YWNrKSB7XHJcbiAgICAgIC8qIGdlc3Rpb25lIGRlbCBtZXJnZSBkaSBhemlvbmk6IHNlIGwndWx0aW1hIGF6aW9uZSBuZWxsbyBzdGFjayBoYSB1biBtZXRvZG8gXCJtZXJnZWRBY3Rpb25cIlxyXG4gICAgICAgICBwcm92aWFtbyBhZCBpbnZvY2FybG8gZSBzZSBjaSByZXN0aXR1aXNjZSB1bmEgZnVuemlvbmUgbGEgdXNpYW1vIGFsIHBvc3RvIGRpIGVudHJhbWJlICovXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiVVJcIiwgXCJfcHVzaEludFwiLCBteVN0YWNrKCkubGVuZ3RoID4gMCA/IHR5cGVvZiBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdLm1lcmdlZEFjdGlvbiA6IFwiRU1QVFlcIik7XHJcbiAgICAgIGlmIChteVN0YWNrKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHZhciBtZXJnZWQgPSBfdHJ5TWVyZ2UobXlTdGFjaygpW215U3RhY2soKS5sZW5ndGggLSAxXSwgYWN0aW9uKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiX3B1c2hJbnQubWVyZ2VkXCIsIG1lcmdlZCwgXCJNVlwiLCB0eXBlb2YgYWN0aW9uLm1lcmdlYWJsZU1vdmUsIFwiTUFcIiwgdHlwZW9mIGFjdGlvbi5tZXJnZWFibGVBY3Rpb24sIFwiTU1cIiwgdHlwZW9mIGFjdGlvbi5tZXJnZU1lKTtcclxuICAgICAgICBpZiAobWVyZ2VkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdID0gbWVyZ2VkO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAobXlTdGFjaygpLmxlbmd0aCA+PSBvcHRpb25zLmxldmVscykgbXlTdGFjay5zaGlmdCgpO1xyXG4gICAgICBsYXN0UHVzaGVkU3RhY2sgPSBteVN0YWNrO1xyXG4gICAgICBteVN0YWNrLnB1c2goYWN0aW9uKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIHZhciBfeGRvQ29tbWFuZCA9IGZ1bmN0aW9uKGxhYmVsLCB3b3JrU3RhdGUsIHN0YWNrKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZToga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShsYWJlbCkucmVwbGFjZSgvI0NPVU5UIy8sIHN0YWNrKCkubGVuZ3RoKTtcclxuICAgICAgICB9KSxcclxuICAgICAgICBlbmFibGVkOiBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBzdGFjaygpLmxlbmd0aCAhPT0gMDtcclxuICAgICAgICB9KSxcclxuICAgICAgICBleGVjdXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBhY3Rpb24gPSBzdGFjay5wb3AoKTtcclxuICAgICAgICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgdmFyIHByZXZTdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IHdvcmtTdGF0ZTtcclxuICAgICAgICAgICAgdmFyIG9sZE1vZGUgPSBtb2RlO1xyXG4gICAgICAgICAgICBtb2RlID0gTU9ERV9NRVJHRTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJYRE9cIiwgXCJiZWZvcmVcIiwgbGFiZWwpO1xyXG4gICAgICAgICAgICBhY3Rpb24oKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJYRE9cIiwgXCJhZnRlclwiLCBsYWJlbCk7XHJcbiAgICAgICAgICAgIF9yZW1vdmVNZXJnZWRBY3Rpb24obGFzdFB1c2hlZFN0YWNrKTtcclxuICAgICAgICAgICAgbW9kZSA9IG9sZE1vZGU7XHJcbiAgICAgICAgICAgIHN0YXRlID0gcHJldlN0YXRlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX3JlbW92ZU1lcmdlZEFjdGlvbiA9IGZ1bmN0aW9uKG15U3RhY2spIHtcclxuICAgICAgaWYgKHR5cGVvZiBteVN0YWNrID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIlVuZXhwZWN0ZWQgb3BlcmF0aW9uOiBzdGFjayBjbGVhbmVyIGNhbGxlZCB3aXRoIHVuZGVmaW5lZCBzdGFja1wiO1xyXG4gICAgICBcclxuICAgICAgaWYgKG15U3RhY2soKS5sZW5ndGggPiAwICYmIHR5cGVvZiBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdLm1lcmdlZEFjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlJlbW92aW5nIG1lcmdlZEFjdGlvbiBmcm9tIHN0YWNrXCIpO1xyXG4gICAgICAgIGRlbGV0ZSBteVN0YWNrKClbbXlTdGFjaygpLmxlbmd0aCAtIDFdLm1lcmdlZEFjdGlvbjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX2NvbWJpbmVkRnVuY3Rpb24gPSBmdW5jdGlvbihmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICAgIHZhciByZXMgPSAoZnVuY3Rpb24oZjEsIGYyKSB7XHJcbiAgICAgICAgZjEoKTtcclxuICAgICAgICBmMigpO1xyXG4gICAgICB9KS5iaW5kKHVuZGVmaW5lZCwgZmlyc3QsIHNlY29uZCk7XHJcbiAgICAgIGlmICh0eXBlb2YgZmlyc3QubWVyZ2VkQWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJlcy5tZXJnZWRBY3Rpb24gPSBmaXJzdC5tZXJnZWRBY3Rpb247XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlcztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGV4ZWN1dGVVbmRvQWN0aW9uID0gZnVuY3Rpb24oY2hpbGQsIHZhbHVlLCBpdGVtKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXhlY3V0ZVVuZG9BY3Rpb25cIiwgY2hpbGQsIHZhbHVlLCBpdGVtKTtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBjaGlsZCh2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXRlbSkge1xyXG4gICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgIGNoaWxkLnNwbGljZShpdGVtLmluZGV4LCAwLCBpdGVtLnZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09ICdhZGRlZCcpIHtcclxuICAgICAgICAgIGNoaWxkLnNwbGljZShpdGVtLmluZGV4LCAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgXCJVbnN1cHByb3RlZCBpdGVtLnN0YXR1czogXCIraXRlbS5zdGF0dXM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCBjb25kaXRpb246IG5vIGl0ZW0gYW5kIG5vIGNoaWxkLm9sZFZhbHVlcyFcIjtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbWFrZVVuZG9BY3Rpb25EZWZhdWx0ID0gZnVuY3Rpb24odW5kb0Z1bmMsIHBhcmVudHMsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pIHtcclxuICAgICAgcmV0dXJuIHVuZG9GdW5jLmJpbmQodW5kZWZpbmVkLCBjaGlsZCwgb2xkVmFsLCBpdGVtKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG1ha2VVbmRvQWN0aW9uID0gbWFrZVVuZG9BY3Rpb25EZWZhdWx0O1xyXG5cclxuICAgIHZhciBjaGFuZ2VQdXNoZXIgPSBmdW5jdGlvbihwYXJlbnRzLCBjaGlsZCwgaXRlbSkge1xyXG4gICAgICB2YXIgb2xkVmFsID0gdHlwZW9mIGNoaWxkLm9sZFZhbHVlcyAhPSAndW5kZWZpbmVkJyA/IGNoaWxkLm9sZFZhbHVlc1swXSA6IHVuZGVmaW5lZDtcclxuICAgICAgdmFyIGFjdCA9IG1ha2VVbmRvQWN0aW9uKGV4ZWN1dGVVbmRvQWN0aW9uLCBwYXJlbnRzLCBjaGlsZCwgb2xkVmFsLCBpdGVtKTtcclxuXHJcbiAgICAgIGlmIChtb2RlID09IE1PREVfSUdOT1JFKSByZXR1cm47XHJcblxyXG4gICAgICBpZiAobW9kZSA9PSBNT0RFX01FUkdFKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJVUlwiLCBcIm1lcmdlbW9kZVwiKTtcclxuICAgICAgICBpZiAodHlwZW9mIGFjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGFjdC5tZXJnZWRBY3Rpb24gPSBmdW5jdGlvbihuZXdBY3Rpb24pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdBY3Rpb24ubWVyZ2VNZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbmV3QWN0aW9uLm1lcmdlTWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gX2NvbWJpbmVkRnVuY3Rpb24obmV3QWN0aW9uLCB0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIGFjdC5tZXJnZU1lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhY3QgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICBpZiAoY2hpbGQub2xkVmFsdWVzICYmIG1vZGUgPT0gTU9ERV9PTkNFKSB7XHJcbiAgICAgICAgICAgIGFjdC5tZXJnZWRBY3Rpb24gPSBmdW5jdGlvbihvbGRDaGlsZCwgb2xkSXRlbSwgbmV3QWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdBY3Rpb24ubWVyZ2VhYmxlQWN0aW9uID09ICdvYmplY3QnICYmIG9sZENoaWxkID09IG5ld0FjdGlvbi5tZXJnZWFibGVBY3Rpb24uY2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVVJcIiwgXCJpZ25vcmUgdXBkYXRlIGZvciBwcm9wZXJ0eSBpbiBNT0RFX09OQ0VcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0uYmluZChhY3QsIGNoaWxkLCBpdGVtKTtcclxuICAgICAgICAgICAgYWN0Lm1lcmdlYWJsZUFjdGlvbiA9IHsgY2hpbGQ6IGNoaWxkLCBpdGVtOiBpdGVtIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlVSXCIsIFwiaXRlbS5zdGF0dXNcIiwgaXRlbS5zdGF0dXMpO1xyXG4gICAgICAgICAgLy8gXCJpdGVtXCIgaXMgdmFsdWVkIHdoZW4gYW4gaXRlbSBpcyBhZGRlZC9yZW1vdmVkL3JldGVpbmVkIGluIGFuIGFycmF5XHJcbiAgICAgICAgICAvLyBzb21ldGltZXMgS08gZGV0ZWN0IFwibW92ZXNcIiBhbmQgYWRkIGEgXCJtb3ZlZFwiIHByb3BlcnR5IHdpdGggdGhlIGluZGV4IGJ1dFxyXG4gICAgICAgICAgLy8gdGhpcyBkb2Vzbid0IGhhcHBlbiBmb3IgZXhhbXBsZSB1c2luZyBrbm9ja291dC1zb3J0YWJsZSBvciB3aGVuIG1vdmluZyBvYmplY3RzXHJcbiAgICAgICAgICAvLyBiZXR3ZWVuIGFycmF5cy5cclxuICAgICAgICAgIC8vIFNvIHRoaXMgZW5kcyB1cCBoYW5kbGluZyB0aGlzIHdpdGggXCJtZXJnZWFibGVNb3ZlXCIgYW5kIFwibWVyZ2VkQWN0aW9uXCI6IFxyXG4gICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5zdGF0dXMgPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gc2Ugc29ubyBpbiBNT0RFID0gTUVSR0UgZGV2byBtZXR0ZWVyIHVuYSBmdW56aW9uZSBkaSBtZXJnZSBjaGUgYWNjZXR0YSB0dXR0by5cclxuICAgICAgICAgICAgLy8gYWx0cmltZW50aSBsYXNjaW8gcXVlc3RhLlxyXG4gICAgICAgICAgICBhY3QubWVyZ2VkQWN0aW9uID0gZnVuY3Rpb24ob2xkQ2hpbGQsIG9sZEl0ZW0sIG5ld0FjdGlvbikge1xyXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVVJcIiwgXCJhY3QubWVyZ2VkQWN0aW9uXCIsIHR5cGVvZiBuZXdBY3Rpb24ubWVyZ2VhYmxlTW92ZSk7XHJcbiAgICAgICAgICAgICAgLy8gYSBkZWxldGVkIGFjdGlvbiBpcyBhYmxlIHRvIG1lcmdlIHdpdGggYSBhZGRlZCBhY3Rpb24gaWYgdGhleSBhcHBseSB0byB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgIC8vIG9iamVjdC5cclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld0FjdGlvbi5tZXJnZWFibGVNb3ZlID09ICdvYmplY3QnICYmIG9sZEl0ZW0udmFsdWUgPT0gbmV3QWN0aW9uLm1lcmdlYWJsZU1vdmUuaXRlbS52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhpcyBjYXNlIEkgc2ltcGx5IHJldHVybiBhIHNpbmdsZSBhY3Rpb24gcnVubmluZyBib3RoIGFjdGlvbnMgaW4gc2VxdWVuY2UsXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdheSB0aGUgXCJ1bmRvXCIgd2lsbCBuZWVkIHRvIHVuZG8gb25seSBvbmNlIGZvciBhIFwibW92ZVwiIG9wZXJhdGlvbi5cclxuICAgICAgICAgICAgICAgIHJldHVybiBfY29tYmluZWRGdW5jdGlvbihuZXdBY3Rpb24sIHRoaXMpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVSXCIsIFwibm90IG1lcmdlYWJsZVwiLCB0eXBlb2YgbmV3QWN0aW9uLm1lcmdlYWJsZU1vdmUpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0uYmluZChhY3QsIGNoaWxkLCBpdGVtKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpdGVtICYmIGl0ZW0uc3RhdHVzID09ICdhZGRlZCcpIHtcclxuICAgICAgICAgICAgLy8gYWRkIGEgbWVyZ2VhYmxlTW92ZSBwcm9wZXJ0eSB0aGF0IHdpbGwgYmUgdXNlZCBieSB0aGUgbmV4dCBhY3Rpb24gXCJtZXJnZWRBY3Rpb25cIiB0byBzZWUgaWYgdGhpcyBhY3Rpb25cclxuICAgICAgICAgICAgLy8gY2FuIGJlIG1lcmdlZC5cclxuICAgICAgICAgICAgYWN0Lm1lcmdlYWJsZU1vdmUgPSB7IGNoaWxkOiBjaGlsZCwgaXRlbTogaXRlbSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIGFjdCAhPT0gJ3VuZGVmaW5lZCcpIF9wdXNoKGFjdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciByZWFjdG9yT3B0aW9ucyA9IHsgZGVwdGg6IC0xLCBvbGRWYWx1ZXM6IDEsIG11dGFibGU6IHRydWUsIC8qIHRhZ1BhcmVudHNXaXRoTmFtZTogdHJ1ZSAqLyB0YWdGaWVsZHM6IHRydWUgfTtcclxuXHJcbiAgICB2YXIgY29udGV4dCA9IHt9O1xyXG4gICAgdmFyIHJlYWN0ID0gdHlwZW9mIHJlYWN0b3IgPT0gJ2Z1bmN0aW9uJyA/IHJlYWN0b3IgOiBrby53YXRjaDtcclxuICAgIHZhciByZXMgPSByZWFjdChtb2RlbCwgcmVhY3Rvck9wdGlvbnMsIGNoYW5nZVB1c2hlciwgY29udGV4dCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHVzaDogX3B1c2gsIFxyXG4gICAgICB1bmRvQ29tbWFuZDogX3hkb0NvbW1hbmQob3B0aW9ucy51bmRvTGFiZWwsIFNUQVRFX1VORE9JTkcsIHVuZG9TdGFjayksXHJcbiAgICAgIHJlZG9Db21tYW5kOiBfeGRvQ29tbWFuZChvcHRpb25zLnJlZG9MYWJlbCwgU1RBVEVfUkVET0lORywgcmVkb1N0YWNrKSxcclxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB1bmRvU3RhY2sucmVtb3ZlQWxsKCk7IHJlZG9TdGFjay5yZW1vdmVBbGwoKTsgfSxcclxuICAgICAgLy8gc2V0TW9kZTogZnVuY3Rpb24obmV3TW9kZSkgeyBtb2RlID0gbmV3TW9kZTsgX3JlbW92ZU1lcmdlZEFjdGlvbih1bmRvU3RhY2spOyB9LFxyXG4gICAgICBzZXRNb2RlT25jZTogZnVuY3Rpb24oKSB7IG1vZGUgPSBNT0RFX09OQ0U7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcclxuICAgICAgc2V0TW9kZU1lcmdlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfTUVSR0U7IF9yZW1vdmVNZXJnZWRBY3Rpb24odW5kb1N0YWNrKTsgfSxcclxuICAgICAgc2V0TW9kZU5vcm1hbDogZnVuY3Rpb24oKSB7IG1vZGUgPSBNT0RFX05PUk1BTDsgX3JlbW92ZU1lcmdlZEFjdGlvbih1bmRvU3RhY2spOyB9LFxyXG4gICAgICBzZXRNb2RlSWdub3JlOiBmdW5jdGlvbigpIHsgbW9kZSA9IE1PREVfSUdOT1JFOyBfcmVtb3ZlTWVyZ2VkQWN0aW9uKHVuZG9TdGFjayk7IH0sXHJcbiAgICAgIHNldFVuZG9BY3Rpb25NYWtlcjogZnVuY3Rpb24obWFrZXIpIHsgbWFrZVVuZG9BY3Rpb24gPSBtYWtlcjsgfSxcclxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7IC8qIGtvLnVud2F0Y2gobW9kZWwsIHJlYWN0b3JPcHRpb25zLCBjaGFuZ2VQdXNoZXIpOyAqLyByZXMuZGlzcG9zZSgpOyB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB1bmRvTWFuYWdlcjtcclxuICBcclxufSkpOyIsIi8vIEtub2Nrb3V0IEZhc3QgTWFwcGluZyB2MC4xXHJcbi8vIExpY2Vuc2U6IE1JVCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXHJcblxyXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuXHQvLyBNb2R1bGUgc3lzdGVtcyBtYWdpYyBkYW5jZS5cclxuXHJcblx0aWYgKHR5cGVvZiByZXF1aXJlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0Ly8gQ29tbW9uSlMgb3IgTm9kZTogaGFyZC1jb2RlZCBkZXBlbmRlbmN5IG9uIFwia25vY2tvdXRcIlxyXG5cdFx0ZmFjdG9yeShyZXF1aXJlKFwia25vY2tvdXRcIiksIGV4cG9ydHMpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZVtcImFtZFwiXSkge1xyXG5cdFx0Ly8gQU1EIGFub255bW91cyBtb2R1bGUgd2l0aCBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gXCJrbm9ja291dFwiXHJcblx0XHRkZWZpbmUoW1wia25vY2tvdXRcIiwgXCJleHBvcnRzXCJdLCBmYWN0b3J5KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gPHNjcmlwdD4gdGFnOiB1c2UgdGhlIGdsb2JhbCBga29gIG9iamVjdCwgYXR0YWNoaW5nIGEgYHdyYXBgIHByb3BlcnR5XHJcblx0XHRmYWN0b3J5KGtvLCBrby53cmFwID0ge30pO1xyXG5cdH1cclxufShmdW5jdGlvbiAoa28sIGV4cG9ydHMpIHtcclxuICAgIFxyXG4gICAgLy8gdGhpcyBmdW5jdGlvbiBtaW1pY3Mga28ubWFwcGluZ1xyXG4gICAgZXhwb3J0cy5mcm9tSlMgPSBmdW5jdGlvbihqc09iamVjdCwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxyXG4gICAge1xyXG4gICAgICAgIHJlc2V0KCk7XHJcblx0cmV0dXJuIHdyYXAoanNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcyBmdW5jdGlvbiB1bndyYXBzIHRoZSBvdXRlciBmb3IgYXNzaWduaW5nIHRoZSByZXN1bHQgdG8gYW4gb2JzZXJ2YWJsZVxyXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9TdGV2ZVNhbmRlcnNvbi9rbm9ja291dC9pc3N1ZXMvNTE3XHJcbiAgICBleHBvcnRzLnVwZGF0ZUZyb21KUyA9IGZ1bmN0aW9uKG9ic2VydmFibGUsIGpzT2JqZWN0LCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpXHJcbiAgICB7XHJcbiAgICAgICAgcmVzZXQoKTtcclxuXHRyZXR1cm4gb2JzZXJ2YWJsZShrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHdyYXAoanNPYmplY3QsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cykpKTtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnRzLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb25TdHJpbmcsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cykge1xyXG5cdHZhciBwYXJzZWQgPSBrby51dGlscy5wYXJzZUpzb24oanNvblN0cmluZyk7XHJcblx0YXJndW1lbnRzWzBdID0gcGFyc2VkO1xyXG5cdHJldHVybiBleHBvcnRzLmZyb21KUy5hcHBseSh0aGlzLCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgZXhwb3J0cy50b0pTID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcclxuXHRyZXR1cm4gdW53cmFwKG9ic2VydmFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydHMudG9KU09OID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcclxuXHR2YXIgcGxhaW5KYXZhU2NyaXB0T2JqZWN0ID0gZXhwb3J0cy50b0pTKG9ic2VydmFibGUpO1xyXG5cdHJldHVybiBrby51dGlscy5zdHJpbmdpZnlKc29uKHBsYWluSmF2YVNjcmlwdE9iamVjdCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHR5cGVPZih2YWx1ZSkge1xyXG5cdHZhciBzID0gdHlwZW9mIHZhbHVlO1xyXG5cdGlmIChzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PSBEYXRlKVxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSAnZGF0ZSc7XHJcblx0XHRlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09ICdbb2JqZWN0IEFycmF5XScpXHJcbiAgICAgICAgICAgICAgICAgICAgcyA9ICdhcnJheSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblx0XHRzID0gJ251bGwnO1xyXG4gICAgICAgICAgICB9XHJcblx0fVxyXG5cdHJldHVybiBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVud3JhcHBpbmdcclxuICAgIGZ1bmN0aW9uIHVud3JhcE9iamVjdChvKVxyXG4gICAge1xyXG5cdHZhciB0ID0ge307XHJcblxyXG5cdGZvciAodmFyIGsgaW4gbylcclxuXHR7XHJcblx0ICAgIHZhciB2ID0gb1trXTtcclxuXHJcblx0ICAgIGlmIChrby5pc0NvbXB1dGVkKHYpKVxyXG5cdFx0Y29udGludWU7XHJcblxyXG5cdCAgICB0W2tdID0gdW53cmFwKHYpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW53cmFwQXJyYXkoYSlcclxuICAgIHtcclxuXHR2YXIgciA9IFtdO1xyXG5cclxuXHRpZiAoIWEgfHwgYS5sZW5ndGggPT0gMClcclxuXHQgICAgcmV0dXJuIHI7XHJcblx0XHJcblx0Zm9yICh2YXIgaSA9IDAsIGwgPSBhLmxlbmd0aDsgaSA8IGw7ICsraSlcclxuXHQgICAgci5wdXNoKHVud3JhcChhW2ldKSk7XHJcblxyXG5cdHJldHVybiByO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVud3JhcCh2KVxyXG4gICAge1xyXG5cdHZhciBpc09ic2VydmFibGUgPSBrby5pc09ic2VydmFibGUodik7XHJcblxyXG5cdGlmIChpc09ic2VydmFibGUpXHJcblx0e1xyXG5cdCAgICB2YXIgdmFsID0gdigpO1xyXG5cclxuXHQgICAgcmV0dXJuIHVud3JhcCh2YWwpO1xyXG5cdH1cclxuXHRlbHNlXHJcblx0e1xyXG5cdCAgICBpZiAodHlwZU9mKHYpID09IFwiYXJyYXlcIilcclxuXHQgICAge1xyXG5cdFx0cmV0dXJuIHVud3JhcEFycmF5KHYpO1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2UgaWYgKHR5cGVPZih2KSA9PSBcIm9iamVjdFwiKVxyXG5cdCAgICB7XHJcblx0XHRyZXR1cm4gdW53cmFwT2JqZWN0KHYpO1xyXG5cdCAgICB9XHJcblx0ICAgIGVsc2VcclxuXHQgICAge1xyXG5cdFx0cmV0dXJuIHY7XHJcblx0ICAgIH1cclxuXHR9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXQoKVxyXG4gICAge1xyXG4gICAgICAgIHBhcmVudHMgPSBbe29iajogbnVsbCwgd3JhcHBlZDogbnVsbCwgbHZsOiBcIlwifV07XHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbiAgICAvLyB3cmFwcGluZ1xyXG5cclxuICAgIGZ1bmN0aW9uIHdyYXBPYmplY3QobywgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGNoZWNrIGZvciBpbmZpbml0ZSByZWN1cnNpb25cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgaWYgKHBhcmVudHNbaV0ub2JqID09PSBvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50c1tpXS53cmFwcGVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHR2YXIgdCA9IHt9O1xyXG5cclxuXHRmb3IgKHZhciBrIGluIG8pXHJcblx0e1xyXG5cdCAgICB2YXIgdiA9IG9ba107XHJcblxyXG4gICAgICAgICAgICBwYXJlbnRzLnB1c2goe29iajogbywgd3JhcHBlZDogdCwgbHZsOiBjdXJyZW50THZsKCkgKyBcIi9cIiArIGt9KTtcclxuXHJcblx0ICAgIHRba10gPSB3cmFwKHYsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cyk7XHJcblxyXG4gICAgICAgICAgICBwYXJlbnRzLnBvcCgpO1xyXG5cdH1cclxuXHJcblx0aWYgKGNvbXB1dGVkRnVuY3Rpb25zICYmIGNvbXB1dGVkRnVuY3Rpb25zW2N1cnJlbnRMdmwoKV0pXHJcblx0ICAgIHQgPSBjb21wdXRlZEZ1bmN0aW9uc1tjdXJyZW50THZsKCldKHQpO1xyXG5cclxuICAgICAgICBpZiAoaGFzRVM1UGx1Z2luKCkpXHJcbiAgICAgICAgICAgIGtvLnRyYWNrKHQpO1xyXG5cclxuXHRpZiAob2JzZXJ2YWJsZU9iamVjdHMpIHJldHVybiBrby5vYnNlcnZhYmxlKHQpO1xyXG5cdHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdyYXBBcnJheShhLCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpXHJcbiAgICB7XHJcblx0dmFyIHIgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuXHJcblx0aWYgKCFhIHx8IGEubGVuZ3RoID09IDApXHJcblx0ICAgIHJldHVybiByO1xyXG5cclxuXHRmb3IgKHZhciBpID0gMCwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgKytpKVxyXG5cdCAgICByLnB1c2god3JhcChhW2ldLCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpKTtcclxuXHJcblx0cmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYSBzdGFjaywgdXNlZCBmb3IgdHdvIHB1cnBvc2VzOlxyXG4gICAgLy8gIC0gY2lyY3VsYXIgcmVmZXJlbmNlIGNoZWNraW5nXHJcbiAgICAvLyAgLSBjb21wdXRlZCBmdW5jdGlvbnNcclxuICAgIHZhciBwYXJlbnRzO1xyXG5cclxuICAgIGZ1bmN0aW9uIGN1cnJlbnRMdmwoKVxyXG4gICAge1xyXG5cdHJldHVybiBwYXJlbnRzW3BhcmVudHMubGVuZ3RoLTFdLmx2bDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3cmFwKHYsIGNvbXB1dGVkRnVuY3Rpb25zLCBvYnNlcnZhYmxlT2JqZWN0cylcclxuICAgIHtcclxuXHRpZiAodHlwZU9mKHYpID09IFwiYXJyYXlcIilcclxuXHR7XHJcblx0ICAgIHJldHVybiB3cmFwQXJyYXkodiwgY29tcHV0ZWRGdW5jdGlvbnMsIG9ic2VydmFibGVPYmplY3RzKTtcclxuXHR9XHJcblx0ZWxzZSBpZiAodHlwZU9mKHYpID09IFwib2JqZWN0XCIpXHJcblx0e1xyXG5cdCAgICByZXR1cm4gd3JhcE9iamVjdCh2LCBjb21wdXRlZEZ1bmN0aW9ucywgb2JzZXJ2YWJsZU9iamVjdHMpO1xyXG5cdH1cclxuXHRlbHNlXHJcblx0e1xyXG4gICAgICAgICAgICBpZiAoIWhhc0VTNVBsdWdpbigpICYmIHR5cGVvZiB2ICE9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgICB7XHJcblx0ICAgICAgICB2YXIgdCA9IGtvLm9ic2VydmFibGUoKTtcclxuXHQgICAgICAgIHQodik7XHJcblx0ICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuXHR9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzRVM1UGx1Z2luKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4ga28udHJhY2sgIT0gbnVsbDtcclxuICAgIH1cclxufSkpO1xyXG4iLCIvLyBEZWVwIG9ic2VydmVyIHBsdWdpbiBmb3IgS25vY2tvdXQgaHR0cDovL2tub2Nrb3V0anMuY29tL1xyXG4vLyAoYykgWmlhZCBKZWVyb2J1cmtoYW5cclxuLy8gTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuLy8gVmVyc2lvbiAxLjMuOFxyXG47IChmdW5jdGlvbiAoZmFjdG9yeSkge1xyXG4gICAgLy8gQ29tbW9uSlNcclxuICAgIGlmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmYWN0b3J5KHJlcXVpcmUoJ2tub2Nrb3V0JykpO1xyXG4gICAgICAgIC8vIEFNRFxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydrbm9ja291dCddLCBmYWN0b3J5KTtcclxuICAgICAgICAvLyBOb3JtYWwgc2NyaXB0IHRhZ1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmYWN0b3J5KHdpbmRvdy5rbyk7XHJcbiAgICB9XHJcbn0oZnVuY3Rpb24gKGtvKSB7XHJcbmtvLnN1YnNjcmliYWJsZS5mblsnd2F0Y2gnXSA9IGZ1bmN0aW9uICh0YXJnZXRPckNhbGxiYWNrLCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIHRoZSBjaGFpbmVkIG9ic2VydmFibGUgZG93biB0byBhbnkgZ2l2ZW4gbGV2ZWwuIFxyXG4gICAgLy8vIDwvc3VtbWFyeT5cclxuICAgIC8vLyA8cGFyYW0gbmFtZT1cInRhcmdldE9yQ2FsbGJhY2tcIj5cclxuICAgIC8vLyAgICAgIFRoZSBzdWJzY3JpcHRpb24gY2FsbGJhY2sgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN1YnNjcmliYWJsZXMgdG8gYmUgd2F0Y2hlZC5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgZmFsc2UgLT4gRGlzYWJsZXMgdHJhY2tpbmcgb24gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlICBjYWxsYmFjayBmdW5jdGlvbiBjYWxsZWQgZHVyaW5nIGNoYW5nZXMuIEFueSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gdGhlIGNoYWluZWQgb2JzZXJ2YWJsZS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIHZhciB0YXJnZXRUeXBlID0gdHlwZW9mIHRhcmdldE9yQ2FsbGJhY2s7XHJcblxyXG4gICAgaWYgKHRhcmdldFR5cGUgPT09ICdib29sZWFuJyB8fCB0YXJnZXRUeXBlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIC8vIFR1cm4gb24gb3Igb2ZmIHRoZSB3YXRjaGVyIGZvciB0aGUgc3BlY2lmaWVkIHRhcmdldCBhbG9uZyB3aXRoIGFueSBvZiBpdHMgY2hpbGRyZW4uXHJcbiAgICAgICAga28ud2F0Y2godGhpcywgeyBlbmFibGVkOiB0YXJnZXRPckNhbGxiYWNrICE9PSBmYWxzZSB9KTtcclxuICAgIH0gZWxzZSBpZiAodGFyZ2V0VHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0T3JDYWxsYmFjaykpIHtcclxuICAgICAgICAvLyBUYXJnZXQgdGhlIGNoYWluZWQgc3Vic2NyaWJhYmxlIGl0c2VsZiBpZiBubyB0YXJnZXQgc3Vic2NyaWJhYmxlIG9yIG9iamVjdCB3YXMgcGFzc2VkLlxyXG4gICAgICAgIGtvLndhdGNoKHRoaXMsIG9wdGlvbnMgfHwge30sIHRhcmdldE9yQ2FsbGJhY2ssIGNvbnRleHQgfHwgdGhpcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGtvLndhdGNoKHRhcmdldE9yQ2FsbGJhY2ssIG9wdGlvbnMsIGV2YWx1YXRvckNhbGxiYWNrLCBjb250ZXh0IHx8IHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxua29bJ3dhdGNoJ10gPSBmdW5jdGlvbiAodGFyZ2V0LCBvcHRpb25zLCBldmFsdWF0b3JDYWxsYmFjaywgY29udGV4dCkge1xyXG4gICAgLy8vIDxzdW1tYXJ5PlxyXG4gICAgLy8vICAgICBUcmFjayBhbmQgbWFuYWdlIGNoYW5nZXMgd2l0aGluIGEgc3BlY2lmaWMgdGFyZ2V0IG9iamVjdCBkb3duIHRvIGFueSBnaXZlbiBsZXZlbC5cclxuICAgIC8vLyA8L3N1bW1hcnk+XHJcbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0YXJnZXRcIj5cclxuICAgIC8vLyAgICAgQW4gb2JqZWN0IG9yIGZ1bmN0aW9uIGNvbnRhaW5pbmcgdGhlIHRhcmdldGVkIHN1YnNjcmliYWJsZShzKS5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiIHR5cGU9XCJvYmplY3RcIj5cclxuICAgIC8vLyAgICAgeyBkZXB0aDogMiB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcyBkb3duIHRvIHRoZSAybmQgbGV2ZWwoZGVmYXVsdCBpcyAxKS48YnIvPlxyXG4gICAgLy8vICAgICB7IGRlcHRoOiAtMSB9IC0+IFRyYWNrIGFsbCBuZXN0ZWQgc3Vic2NyaWJhYmxlcy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGU6IFsuLi5dIH0gLT4gUHJvcGVydHkgb3IgYXJyYXkgb2YgcHJvcGVydGllcyB0byBiZSBpZ25vcmVkLjxici8+XHJcbiAgICAvLy8gICAgIHsgaGlkZUFycmF5czogdHJ1ZSB9IC0+IElnbm9yZSBhbGwgbmVzdGVkIGFycmF5cy48YnIvPlxyXG4gICAgLy8vICAgICB7IGhpZGVXcmFwcGVkVmFsdWVzOiB0cnVlIH0gLT4gSWdub3JlIG9ic2VydmFibGVzIHdyYXBwZWQgdW5kZXIgeWV0IGFub3RoZXIgcGFyZW50IG9ic2VydmFibGUuPGJyLz5cclxuICAgIC8vLyAgICAgeyBtdXRhYmxlOiB0cnVlIH0gLT4gRHluYW1pY2FsbHkgYWRhcHQgdG8gY2hhbmdlcyBtYWRlIHRvIHRoZSB0YXJnZXQgc3RydWN0dXJlIHRocm91Z2ggYW55IHN1YnNjcmliYWJsZS48YnIvPlxyXG4gICAgLy8vICAgICB7IHdhdGNoZWRPbmx5OiB0cnVlIH0gLT4gV2F0Y2ggb25seSBzdWJzY3JpYmFibGVzIHRhZ2dlZCB3aXRoIC53YXRjaCgpLjxici8+XHJcbiAgICAvLy8gICAgIHsgYmVmb3JlV2F0Y2g6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkKSB7Li4ufSB9IC0+IEZ1bmN0aW9uIGNhbGxlZCBwcmlvciB0byBjcmVhdGluZyBhIHN1YnNjcmlwdGlvbi4gUmV0dXJuaW5nIGZhbHNlIGFib3J0cyB0aGUgb3BlcmF0aW9uIGFuZCBpZ25vcmVzIGl0cyBjaGlsZHJlbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHdyYXA6IHRydWUgfSAtPiBXcmFwIGFsbCBmaWVsZHMgaW50byBvYnNlcnZhYmxlcy4gVGhpcyBoYXBwZW5zIG9uIHRoZSBmbHkgZm9yIG5ldyBhcnJheSBpdGVtcyhvciBjaGlsZCBvYmplY3RzIHdoZW4gbXV0YWJsZSBpcyBzZXQgdG8gdHJ1ZSkuPGJyLz5cclxuICAgIC8vLyAgICAgeyBiZWZvcmVXcmFwOiBmdW5jdGlvbihwYXJlbnRzLCBmaWVsZCwgdmFsdWUpIHsuLi59IH0gLT4gRnVuY3Rpb24gY2FsbGVkIHByaW9yIHRvIHdyYXBwaW5nIGEgdmFsdWUgaW50byBhbiBvYnNlcnZhYmxlLiBSZXR1cm5pbmcgZmFsc2UgbGVhdmVzIGl0IGFzIGl0IGlzLjxici8+XHJcbiAgICAvLy8gICAgIHsgdGFnRmllbGRzOiB0cnVlIH0gLT4gQWRkIHRoZSBwcm9wZXJ0eSAnX2ZpZWxkTmFtZScgdW5kZXIgZWFjaCBwcm9wZXJ0eSBmb3IgdGV4dHVhbCBpZGVudGlmaWNhdGlvbi48YnIvPlxyXG4gICAgLy8vICAgICB7IHRhZ0ZpZWxkczogJ3BhcmVudHNPbmx5JyB9IC0+IFNhbWUgYXMgYWJvdmUgZXhjZXB0IHRoYXQgaXQgaXMgbGltaXRlZCB0byBwYXJlbnQgcHJvcGVydGllcyBvbmx5Ljxici8+XHJcbiAgICAvLy8gICAgIHsgb2xkVmFsdWVzOiAzIH0gLT4gS2VlcCB0aGUgbGFzdCB0aHJlZSB2YWx1ZXMgZm9yIGVhY2ggc3Vic2NyaWJhYmxlIHVuZGVyIHRoZSBwcm9wZXJ0eSAnb2xkVmFsdWVzJy48YnIvPlxyXG4gICAgLy8vICAgICB7IHNlYWw6IHRydWUgfSAtPiBQcmV2ZW50IGFueSBzdWJzZXF1ZW50IHdhdGNoZXIgZnJvbSB3YXRjaGluZyB0aGUgdGFyZ2V0IGFnYWluLjxici8+XHJcbiAgICAvLy8gICAgIHsgdW5sb29wOiB0cnVlIH0gLT4gQXZvaWQgY2lyY3VsYXIgcGF0aHMgdGhyb3VnaCB0aGUgdXNlIG9mIGEgYnJlYWRjcnVtYiBwcm9wZXJ0eSAnX3dhdGNoZXInIHNldCBhdCBlYWNoIG5vZGUgbGV2ZWwuPGJyLz5cclxuICAgIC8vLyAgICAgeyBnZXR0ZXI6IGZ1bmN0aW9uKHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgey4uLn0gfSAtPiBGdW5jdGlvbiB1c2VkIHRvIHJldHJpZXZlIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmcm9tIHRoZSBnaXZlbiBjaGlsZC4gRmFsc2UgY2FuIGJlIHJldHVybmVkIHRvIGlnbm9yZSB0aGUgcHJvcGVydHkuPGJyLz5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiZXZhbHVhdG9yQ2FsbGJhY2tcIiB0eXBlPVwiZnVuY3Rpb25cIj5cclxuICAgIC8vLyAgICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZCBkdXJpbmcgY2hhbmdlcy5cclxuICAgIC8vLyA8L3BhcmFtPlxyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGV2YWx1YXRvckNhbGxiYWNrO1xyXG4gICAgICAgIGV2YWx1YXRvckNhbGxiYWNrID0gb3B0aW9ucztcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcclxuXHJcbiAgICBmdW5jdGlvbiB3YXRjaENoaWxkcmVuKGNoaWxkLCBwYXJlbnQsIGdyYW5kUGFyZW50cywgdW53YXRjaCwga2VlcE9mZlBhcmVudExpc3QsIGZpZWxkTmFtZSkge1xyXG4gICAgICAgIGlmIChjaGlsZCAmJiBvcHRpb25zLmRlcHRoICE9PSAwICYmIChvcHRpb25zLmRlcHRoID09PSAtMSB8fCBncmFuZFBhcmVudHMubGVuZ3RoIDwgKG9wdGlvbnMuZGVwdGggfHwgMSkpKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBQcm9jZWVkIG9uIHdhdGNoZWQgY2hpbGRyZW4gb25seSB3aGVuIGluIHdhdGNoZWQtb25seSBtb2RlLlxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53YXRjaGVkT25seSAmJiAhY2hpbGQud2F0Y2hhYmxlICYmIGNoaWxkICE9IHRhcmdldClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgdGhlIHRhcmdldCBhcyBmYWxzZSBwcmV2ZW50cyBpdCBmcm9tIGJlaW5nIHdhdGNoZWQgbGF0ZXIgb24uXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVuYWJsZWQgPT09IGZhbHNlIHx8IG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIGNoaWxkLndhdGNoYWJsZSA9IG9wdGlvbnMuZW5hYmxlZDtcclxuXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSB3YXRjaC1kaXNhYmxlZCBvYmplY3RzLlxyXG4gICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc3Vic2VxdWVudCB3YXRjaGVycyBmcm9tIHdhdGNoaW5nIHRoZSB0YXJnZXQgd2hlbiBzZWFsZWQuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlYWwgPT09IHRydWUpXHJcbiAgICAgICAgICAgICAgICBjaGlsZC53YXRjaGFibGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIC8vIEJ5cGFzcyBjaXJjdWxhciByZWZlcmVuY2VzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaGlkZGVuIG9iamVjdHMuIEFsc28gYXBwbGllcyB0byBhbnkgb2YgdGhlaXIgY2hpbGRyZW4uXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrby51dGlscy5hcnJheUluZGV4T2Yob3B0aW9ucy5oaWRlLCBjaGlsZCkgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHBhcmVudHMuIFVzaW5nIGEgZnJlc2ggYXJyYXkgc28gaXQgaXMgbm90IHJlZmVyZW5jZWQgaW4gdGhlIG5leHQgcmVjdXJzaW9uIGlmIGFueS5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRzID0gW10uY29uY2F0KGdyYW5kUGFyZW50cywgcGFyZW50ICYmIHBhcmVudCAhPT0gdGFyZ2V0ID8gcGFyZW50IDogW10pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZFsnbm90aWZ5U3Vic2NyaWJlcnMnXSA9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhcmdldCBpcyBhIHN1YnNjcmliYWJsZS4gV2F0Y2ggaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmFsdWF0b3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlZCA9PT0gdHJ1ZSAmJiBjaGlsZC53YXRjaGFibGUgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2FraW5nIHVwIGFuIGV4aXN0aW5nIHdhdGNoZXIuIExldCdzIG5vdCBhZGQgYW5vdGhlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2ggfHwgIW9wdGlvbnMuYmVmb3JlV2F0Y2ggfHwgb3B0aW9ucy5iZWZvcmVXYXRjaC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBmaWVsZE5hbWUpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0FycmF5ID0gdHlwZW9mIGNoaWxkLnBvcCA9PT0gJ2Z1bmN0aW9uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVud2F0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zZVdhdGNoZXIoY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbldhdGNoZXIoY2hpbGQsIGlzQXJyYXksIHBhcmVudHMsIGtlZXBPZmZQYXJlbnRMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoQ2hpbGRyZW4oY2hpbGQoKSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlV3JhcHBlZFZhbHVlcyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3YXRjaENoaWxkcmVuKGNoaWxkKCksIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY2hpbGQpID09PSAnW29iamVjdCBPYmplY3RdJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKGNoaWxkLCBmdW5jdGlvbiAocHJvcGVydHksIHN1Yikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViID0gb3B0aW9ucy5nZXR0ZXIgPyBvcHRpb25zLmdldHRlci5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBwcm9wZXJ0eSkgOiBzdWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXcmFwIHNpbXBsZSBvYmplY3RzIGFuZCBhcnJheXMgaW50byBvYnNlcnZhYmxlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgJiYgdHlwZSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5iZWZvcmVXcmFwIHx8IG9wdGlvbnMuYmVmb3JlV3JhcC5jYWxsKGNvbnRleHQsIHBhcmVudHMsIGNoaWxkLCBzdWIpICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YiA9IGNoaWxkW3Byb3BlcnR5XSA9IHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBrby5vYnNlcnZhYmxlQXJyYXkoc3ViKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGtvLm9ic2VydmFibGUoc3ViKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudW5sb29wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuX3dhdGNoZXIgPSB1bndhdGNoID8gdW5kZWZpbmVkIDogY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NoaWxkcmVuID0gd2F0Y2hDaGlsZHJlbihzdWIsIGtlZXBPZmZQYXJlbnRMaXN0ID8gbnVsbCA6IGNoaWxkLCBwYXJlbnRzLCB1bndhdGNoLCBudWxsLCBwcm9wZXJ0eSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRhZ0ZpZWxkcyAmJiBzdWIuX2ZpZWxkTmFtZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hpbGRyZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChvcHRpb25zLnRhZ0ZpZWxkcyAhPT0gJ3BhcmVudHNPbmx5JyAmJiB0eXBlb2Ygc3ViID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBzdWIgPT09ICdvYmplY3QnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5fZmllbGROYW1lID0gcHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vICdbb2JqZWN0IEFycmF5XSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZUFycmF5cyAhPT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGQubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbihjaGlsZFtpXSwga2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQsIHBhcmVudHMsIHVud2F0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3Vic2NyaXB0aW9ucyBhcmUgc3RvcmVkIHVuZGVyIGVpdGhlciB0aGUgX3N1YnNjcmlwdGlvbnMgZmllbGQgZm9yIHRoZSBkZWJ1ZyB2ZXJzaW9uXHJcbiAgICAvLyBvciB0aGUgRiwgSCBvciBNIGZpZWxkcyB3aGVuIG1pbmlmaWVkIGRlcGVuZGluZyBvbiB0aGUgdmVyc2lvbiB1c2VkLlxyXG4gICAgLy8gTk9URTogd2UgdXNlZCB0byB1c2Uga28uREVCVUcgdG8gZGV0ZWN0IHRoZSBkZWJ1ZyB2ZXJzaW9uYnV0IGl0IHdhcyByZW1vdmVkIGluIDMuNC4wKyxcclxuICAgIC8vICAgICAgIHNvIHdlIG5vdyBjaGVjayB0aGUgZXhpc3RlbmNlIG9mIGEgXCJzdWJzY3JpcHRpb25cIiBmdW5jdGlvbi5cclxuICAgIHZhciBzdWJzY3JpcHRpb25zRmllbGQ7XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyB8fCBrby52ZXJzaW9uKSB7XHJcbiAgICAgICAgY2FzZSB0cnVlOiBzdWJzY3JpcHRpb25zRmllbGQgPSAnX3N1YnNjcmlwdGlvbnMnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4wLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0YnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4xLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0gnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4yLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ00nOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy4zLjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0cnOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjBcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBjYXNlIFwiMy40LjFcIjogc3Vic2NyaXB0aW9uc0ZpZWxkID0gJ0snOyBicmVhaztcclxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBcIlVuc3VwcG9ydGVkIEtub2Nrb3V0IHZlcnNpb24uIE9ubHkgdjMuMC4wIHRvIHYzLjQuMSBhcmUgc3VwcG9ydGVkIHdoZW4gbWluaWZpZWQuIEN1cnJlbnQgdmVyc2lvbiBpcyBcIiArIGtvLnZlcnNpb247XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzcG9zZVdhdGNoZXIoY2hpbGQpIHtcclxuICAgICAgICB2YXIgc3Vic2MgPSBjaGlsZFtzdWJzY3JpcHRpb25zRmllbGRdO1xyXG5cclxuICAgICAgICBpZiAoc3Vic2MpIHtcclxuICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZSlcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdWJzYy5jaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmNoYW5nZVtpXS5fd2F0Y2hlciA9PT0gY29udGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2MuY2hhbmdlW2ldLmRpc3Bvc2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2UgJiYgKG9wdGlvbnMubXV0YWJsZSB8fCBvcHRpb25zLm9sZFZhbHVlcyA+IDApKVxyXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBjbGVhbiB1cCBhbnkgYmVmb3JlLWNoYW5nZSBzdWJzY3JpcHRpb25zIHVzZWQgZm9yIHRyYWNraW5nIG9sZCB2YWx1ZXMuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYmVmb3JlQ2hhbmdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzYy5iZWZvcmVDaGFuZ2VbaV0uX3dhdGNoZXIgPT09IGNvbnRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjLmJlZm9yZUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3Vic2MuYXJyYXlDaGFuZ2UpXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc3Vic2MuYXJyYXlDaGFuZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjLmFycmF5Q2hhbmdlW2ldLl93YXRjaGVyID09PSBjb250ZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzYy5hcnJheUNoYW5nZVtpXS5kaXNwb3NlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJTdWJzY3JpcHRpb25zIGZpZWxkICguXCIgKyBzdWJzY3JpcHRpb25zRmllbGQgKyBcIikgbm90IGRlZmluZWQgZm9yIG9ic2VydmFibGUgY2hpbGQgXCIgKyAoY2hpbGQuX2ZpZWxkTmFtZSB8fCBcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXNzaWduV2F0Y2hlcihjaGlsZCwgaXNBcnJheSwgcGFyZW50cywga2VlcE9mZlBhcmVudExpc3QpIHtcclxuICAgICAgICBpZiAoaXNBcnJheSkge1xyXG4gICAgICAgICAgICAvLyBDaGlsZCBpcyBhbiBvYnNlcnZhYmxlIGFycmF5LiBXYXRjaCBhbGwgY2hhbmdlcyB3aXRoaW4gaXQuXHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoY2hhbmdlcykge1xyXG4gICAgICAgICAgICAgICAga28udXRpbHMuYXJyYXlGb3JFYWNoKGNoYW5nZXMsIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gZXZhbHVhdG9yQ2FsbGJhY2suY2FsbChjb250ZXh0LCBwYXJlbnRzLCBjaGlsZCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQocmV0dXJuVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0ubW92ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlZCBvciBicmFuZCBuZXcgaXRlbS4gVW53YXRjaCBvciB3YXRjaCBpdCBhY2NvcmRpbmdseS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGl0ZW0udmFsdWUsIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMsIGl0ZW0uc3RhdHVzID09PSAnZGVsZXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAnYXJyYXlDaGFuZ2UnKS5fd2F0Y2hlciA9IGNvbnRleHQ7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQud2F0Y2hhYmxlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGV2YWx1YXRvckNhbGxiYWNrLmNhbGwoY29udGV4dCwgcGFyZW50cywgY2hpbGQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuVmFsdWUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dChyZXR1cm5WYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIGNoaWxkKCkgPT09ICdvYmplY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYXRjaCB0aGUgbmV3IGNvbWVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKGNoaWxkKCksIChrZWVwT2ZmUGFyZW50TGlzdCA/IG51bGwgOiBjaGlsZCksIHBhcmVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSwgbnVsbCwgJ2NoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9sZFZhbHVlcyA+IDAgfHwgb3B0aW9ucy5tdXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJzY3JpYmUoZnVuY3Rpb24gKG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub2xkVmFsdWVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb2xkIHZhbHVlIHRvIGhpc3RvcnkgbGlzdCBiZWZvcmUgZXZlcnkgdXBkYXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gKGNoaWxkWydvbGRWYWx1ZXMnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGlsZFsnb2xkVmFsdWVzJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2hpbGRbJ29sZFZhbHVlcyddID0gW10pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnVuc2hpZnQob2xkVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHZhbHVlcy5sZW5ndGggPiBvcHRpb25zLm9sZFZhbHVlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm11dGFibGUgJiYgdHlwZW9mIG9sZFZhbHVlID09PSAnb2JqZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoZSBvbGQgY2hpbGQgb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaENoaWxkcmVuKG9sZFZhbHVlLCAoa2VlcE9mZlBhcmVudExpc3QgPyBudWxsIDogY2hpbGQpLCBwYXJlbnRzLCBmYWxzZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCwgJ2JlZm9yZUNoYW5nZScpLl93YXRjaGVyID0gY29udGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2UgYSBjb21wdXRlZCB3aGVuIHRhcmdldGluZyBhIG5vbi13YXRjaGFibGUgZnVuY3Rpb24uXHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyAmJiAha28uaXNTdWJzY3JpYmFibGUodGFyZ2V0KSlcclxuICAgICAgICByZXR1cm4ga28uY29tcHV0ZWQodGFyZ2V0LCBldmFsdWF0b3JDYWxsYmFjaywgb3B0aW9ucyk7XHJcblxyXG4gICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2F0Y2hDaGlsZHJlbih0YXJnZXQsIG51bGwsIFtdLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxufSkpOyIsIm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgbGV4ICA6IHJlcXVpcmUoJy4vbGliL2xleGVyJyksXHJcbiAgICBwYXJzZTogcmVxdWlyZSgnLi9saWIvcGFyc2VyJyksXHJcbiAgICBzdHJpbmdpZnk6IHJlcXVpcmUoJy4vbGliL3N0cmluZ2lmeScpXHJcbn07XHJcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGRlYnVnO1xyXG5cclxuZnVuY3Rpb24gZGVidWcobGFiZWwpIHtcclxuICByZXR1cm4gX2RlYnVnLmJpbmQobnVsbCwgbGFiZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfZGVidWcobGFiZWwpIHtcclxuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuICBhcmdzLnVuc2hpZnQoJ1snICsgbGFiZWwgKyAnXScpO1xyXG4gIHByb2Nlc3Muc3RkZXJyLndyaXRlKGFyZ3Muam9pbignICcpICsgJ1xcbicpO1xyXG59IiwidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cclxudmFyIFRJTUVSID0gZmFsc2U7IC8vIGB0cnVlYCB0byB0aW1lIGNhbGxzIHRvIGBsZXgoKWAgYW5kIHByaW50IHRoZSByZXN1bHRzLlxyXG5cclxudmFyIGRlYnVnID0gcmVxdWlyZSgnLi9kZWJ1ZycpKCdsZXgnKTtcclxuXHJcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGxleDtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0IGEgQ1NTIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGxleGljYWwgdG9rZW5zLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzIENTU1xyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGxleGljYWwgdG9rZW5zXHJcbiAqL1xyXG5mdW5jdGlvbiBsZXgoY3NzKSB7XHJcbiAgdmFyIHN0YXJ0OyAvLyBEZWJ1ZyB0aW1lciBzdGFydC5cclxuXHJcbiAgdmFyIGJ1ZmZlciA9ICcnOyAgICAgIC8vIENoYXJhY3RlciBhY2N1bXVsYXRvclxyXG4gIHZhciBjaDsgICAgICAgICAgICAgICAvLyBDdXJyZW50IGNoYXJhY3RlclxyXG4gIHZhciBjb2x1bW4gPSAwOyAgICAgICAvLyBDdXJyZW50IHNvdXJjZSBjb2x1bW4gbnVtYmVyXHJcbiAgdmFyIGN1cnNvciA9IC0xOyAgICAgIC8vIEN1cnJlbnQgc291cmNlIGN1cnNvciBwb3NpdGlvblxyXG4gIHZhciBkZXB0aCA9IDA7ICAgICAgICAvLyBDdXJyZW50IG5lc3RpbmcgZGVwdGhcclxuICB2YXIgbGluZSA9IDE7ICAgICAgICAgLy8gQ3VycmVudCBzb3VyY2UgbGluZSBudW1iZXJcclxuICB2YXIgc3RhdGUgPSAnYmVmb3JlLXNlbGVjdG9yJzsgLy8gQ3VycmVudCBzdGF0ZVxyXG4gIHZhciBzdGFjayA9IFtzdGF0ZV07ICAvLyBTdGF0ZSBzdGFja1xyXG4gIHZhciB0b2tlbiA9IHt9OyAgICAgICAvLyBDdXJyZW50IHRva2VuXHJcbiAgdmFyIHRva2VucyA9IFtdOyAgICAgIC8vIFRva2VuIGFjY3VtdWxhdG9yXHJcblxyXG4gIC8vIFN1cHBvcnRlZCBALXJ1bGVzLCBpbiByb3VnaGx5IGRlc2NlbmRpbmcgb3JkZXIgb2YgdXNhZ2UgcHJvYmFiaWxpdHkuXHJcbiAgdmFyIGF0UnVsZXMgPSBbXHJcbiAgICAnbWVkaWEnLFxyXG4gICAgJ2tleWZyYW1lcycsXHJcbiAgICB7IG5hbWU6ICctd2Via2l0LWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctd2Via2l0LScgfSxcclxuICAgIHsgbmFtZTogJy1tb3ota2V5ZnJhbWVzJywgdHlwZTogJ2tleWZyYW1lcycsIHByZWZpeDogJy1tb3otJyB9LFxyXG4gICAgeyBuYW1lOiAnLW1zLWtleWZyYW1lcycsIHR5cGU6ICdrZXlmcmFtZXMnLCBwcmVmaXg6ICctbXMtJyB9LFxyXG4gICAgeyBuYW1lOiAnLW8ta2V5ZnJhbWVzJywgdHlwZTogJ2tleWZyYW1lcycsIHByZWZpeDogJy1vLScgfSxcclxuICAgICdmb250LWZhY2UnLFxyXG4gICAgeyBuYW1lOiAnaW1wb3J0Jywgc3RhdGU6ICdiZWZvcmUtYXQtdmFsdWUnIH0sXHJcbiAgICB7IG5hbWU6ICdjaGFyc2V0Jywgc3RhdGU6ICdiZWZvcmUtYXQtdmFsdWUnIH0sXHJcbiAgICAnc3VwcG9ydHMnLFxyXG4gICAgJ3ZpZXdwb3J0JyxcclxuICAgIHsgbmFtZTogJ25hbWVzcGFjZScsIHN0YXRlOiAnYmVmb3JlLWF0LXZhbHVlJyB9LFxyXG4gICAgJ2RvY3VtZW50JyxcclxuICAgIHsgbmFtZTogJy1tb3otZG9jdW1lbnQnLCB0eXBlOiAnZG9jdW1lbnQnLCBwcmVmaXg6ICctbW96LScgfSxcclxuICAgICdwYWdlJ1xyXG4gIF07XHJcblxyXG4gIC8vIC0tIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgLyoqXHJcbiAgICogQWR2YW5jZSB0aGUgY2hhcmFjdGVyIGN1cnNvciBhbmQgcmV0dXJuIHRoZSBuZXh0IGNoYXJhY3Rlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXh0IGNoYXJhY3Rlci5cclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRDaCgpIHtcclxuICAgIHNraXAoKTtcclxuICAgIHJldHVybiBjc3NbY3Vyc29yXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgc3RhdGUgYXQgdGhlIGdpdmVuIGluZGV4IGluIHRoZSBzdGFjay5cclxuICAgKiBUaGUgc3RhY2sgaXMgTElGTyBzbyBpbmRleGluZyBpcyBmcm9tIHRoZSByaWdodC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5kZXg9MF0gSW5kZXggdG8gcmV0dXJuLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZ2V0U3RhdGUoaW5kZXgpIHtcclxuICAgIHJldHVybiBpbmRleCA/IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDEgLSBpbmRleF0gOiBzdGF0ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvb2sgYWhlYWQgZm9yIGEgc3RyaW5nIGJlZ2lubmluZyBmcm9tIHRoZSBuZXh0IHBvc2l0aW9uLiBUaGUgc3RyaW5nXHJcbiAgICogYmVpbmcgbG9va2VkIGZvciBtdXN0IHN0YXJ0IGF0IHRoZSBuZXh0IHBvc2l0aW9uLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGxvb2sgZm9yLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSBzdHJpbmcgd2FzIGZvdW5kLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzTmV4dFN0cmluZyhzdHIpIHtcclxuICAgIHZhciBzdGFydCA9IGN1cnNvciArIDE7XHJcbiAgICByZXR1cm4gKHN0ciA9PT0gY3NzLnNsaWNlKHN0YXJ0LCBzdGFydCArIHN0ci5sZW5ndGgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbmQgdGhlIHN0YXJ0IHBvc2l0aW9uIG9mIGEgc3Vic3RyaW5nIGJlZ2lubmluZyBmcm9tIHRoZSBuZXh0XHJcbiAgICogcG9zaXRpb24uIFRoZSBzdHJpbmcgYmVpbmcgbG9va2VkIGZvciBtYXkgYmVnaW4gYW55d2hlcmUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdWJzdHJpbmcgdG8gbG9vayBmb3IuXHJcbiAgICogQHJldHVybnMge051bWJlcnxmYWxzZX0gVGhlIHBvc2l0aW9uLCBvciBgZmFsc2VgIGlmIG5vdCBmb3VuZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBmaW5kKHN0cikge1xyXG4gICAgdmFyIHBvcyA9IGNzcy5zbGljZShjdXJzb3IpLmluZGV4T2Yoc3RyKTtcclxuXHJcbiAgICByZXR1cm4gcG9zID4gMCA/IHBvcyA6IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBjaGFyYWN0ZXIgaXMgbmV4dC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjaCBDaGFyYWN0ZXIuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIGNoYXJhY3RlciBpcyBuZXh0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzTmV4dENoYXIoY2gpIHtcclxuICAgIHJldHVybiBjaCA9PT0gcGVlaygxKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgY2hhcmFjdGVyIGF0IHRoZSBnaXZlbiBjdXJzb3Igb2Zmc2V0LiBUaGUgb2Zmc2V0IGlzIHJlbGF0aXZlXHJcbiAgICogdG8gdGhlIGN1cnNvciwgc28gbmVnYXRpdmUgdmFsdWVzIG1vdmUgYmFja3dhcmRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvZmZzZXQ9MV0gQ3Vyc29yIG9mZnNldC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBDaGFyYWN0ZXIuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGVlayhvZmZzZXQpIHtcclxuICAgIHJldHVybiBjc3NbY3Vyc29yICsgKG9mZnNldCB8fCAxKV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgdGhlIGN1cnJlbnQgc3RhdGUgZnJvbSB0aGUgc3RhY2sgYW5kIHNldCB0aGUgbmV3IGN1cnJlbnQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVtb3ZlZCBzdGF0ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBwb3BTdGF0ZSgpIHtcclxuICAgIHZhciByZW1vdmVkID0gc3RhY2sucG9wKCk7XHJcbiAgICBzdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgIHJldHVybiByZW1vdmVkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBjdXJyZW50IHN0YXRlIGFuZCBhZGQgaXQgdG8gdGhlIHN0YWNrLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5ld1N0YXRlIFRoZSBuZXcgc3RhdGUuXHJcbiAgICogQHJldHVybnMge051bWJlcn0gVGhlIG5ldyBzdGFjayBsZW5ndGguXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcHVzaFN0YXRlKG5ld1N0YXRlKSB7XHJcbiAgICBzdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgc3RhY2sucHVzaChzdGF0ZSk7XHJcblxyXG4gICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcGxhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aCBhIG5ldyBzdGF0ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuZXdTdGF0ZSBUaGUgbmV3IHN0YXRlLlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXBsYWNlZCBzdGF0ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUobmV3U3RhdGUpIHtcclxuICAgIHZhciBwcmV2aW91c1N0YXRlID0gc3RhdGU7XHJcbiAgICBzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9IHN0YXRlID0gbmV3U3RhdGU7XHJcblxyXG4gICAgcmV0dXJuIHByZXZpb3VzU3RhdGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb3ZlIHRoZSBjaGFyYWN0ZXIgY3Vyc29yLiBQb3NpdGl2ZSBudW1iZXJzIG1vdmUgdGhlIGN1cnNvciBmb3J3YXJkLlxyXG4gICAqIE5lZ2F0aXZlIG51bWJlcnMgYXJlIG5vdCBzdXBwb3J0ZWQhXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge051bWJlcn0gW249MV0gTnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gc2tpcC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBza2lwKG4pIHtcclxuICAgIGlmICgobiB8fCAxKSA9PSAxKSB7XHJcbiAgICAgIGlmIChjc3NbY3Vyc29yXSA9PSAnXFxuJykge1xyXG4gICAgICAgIGxpbmUrKztcclxuICAgICAgICBjb2x1bW4gPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbHVtbisrO1xyXG4gICAgICB9XHJcbiAgICAgIGN1cnNvcisrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHNraXBTdHIgPSBjc3Muc2xpY2UoY3Vyc29yLCBjdXJzb3IgKyBuKS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgIGlmIChza2lwU3RyLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBsaW5lICs9IHNraXBTdHIubGVuZ3RoIC0gMTtcclxuICAgICAgICBjb2x1bW4gPSAxO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbHVtbiArPSBza2lwU3RyW3NraXBTdHIubGVuZ3RoIC0gMV0ubGVuZ3RoO1xyXG4gICAgICBjdXJzb3IgPSBjdXJzb3IgKyBuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIHRoZSBjdXJyZW50IHRva2VuIHRvIHRoZSBwaWxlIGFuZCByZXNldCB0aGUgYnVmZmVyLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFkZFRva2VuKCkge1xyXG4gICAgdG9rZW4uZW5kID0ge1xyXG4gICAgICBsaW5lOiBsaW5lLFxyXG4gICAgICBjb2w6IGNvbHVtblxyXG4gICAgfTtcclxuXHJcbiAgICBERUJVRyAmJiBkZWJ1ZygnYWRkVG9rZW46JywgSlNPTi5zdHJpbmdpZnkodG9rZW4sIG51bGwsIDIpKTtcclxuXHJcbiAgICB0b2tlbnMucHVzaCh0b2tlbik7XHJcblxyXG4gICAgYnVmZmVyID0gJyc7XHJcbiAgICB0b2tlbiA9IHt9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBjdXJyZW50IHRva2VuLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVG9rZW4gdHlwZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpbml0aWFsaXplVG9rZW4odHlwZSkge1xyXG4gICAgdG9rZW4gPSB7XHJcbiAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgIHN0YXJ0OiB7XHJcbiAgICAgICAgbGluZTogbGluZSxcclxuICAgICAgICBjb2wgOiBjb2x1bW5cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIC0tIE1haW4gTG9vcCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgLypcclxuICBUaGUgbWFpbiBsb29wIGlzIGEgc3RhdGUgbWFjaGluZSB0aGF0IHJlYWRzIGluIG9uZSBjaGFyYWN0ZXIgYXQgYSB0aW1lLFxyXG4gIGFuZCBkZXRlcm1pbmVzIHdoYXQgdG8gZG8gYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGNoYXJhY3Rlci5cclxuICBUaGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc2VyaWVzIG9mIG5lc3RlZCBgc3dpdGNoYCBzdGF0ZW1lbnRzIGFuZCB0aGVcclxuICBjYXNlIG9yZGVycyBoYXZlIGJlZW4gbWlsZGx5IG9wdGltaXplZCBiYXNlZCBvbiByb3VnaCBwcm9iYWJpbGl0aWVzXHJcbiAgY2FsY3VsYXRlZCBieSBwcm9jZXNzaW5nIGEgc21hbGwgc2FtcGxlIG9mIHJlYWwtd29ybGQgQ1NTLlxyXG5cclxuICBGdXJ0aGVyIG9wdGltaXphdGlvbiAoc3VjaCBhcyBhIGRpc3BhdGNoIHRhYmxlKSBzaG91bGRuJ3QgYmUgbmVjZXNzYXJ5XHJcbiAgc2luY2UgdGhlIHRvdGFsIG51bWJlciBvZiBjYXNlcyBpcyB2ZXJ5IGxvdy5cclxuICAqL1xyXG5cclxuICBUSU1FUiAmJiAoc3RhcnQgPSBEYXRlLm5vdygpKTtcclxuXHJcbiAgd2hpbGUgKGNoID0gZ2V0Q2goKSkge1xyXG4gICAgREVCVUcgJiYgZGVidWcoY2gsIGdldFN0YXRlKCkpO1xyXG5cclxuICAgIC8vIGNvbHVtbiArPSAxO1xyXG5cclxuICAgIHN3aXRjaCAoY2gpIHtcclxuICAgIC8vIFNwYWNlXHJcbiAgICBjYXNlICcgJzpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ3NlbGVjdG9yJzpcclxuICAgICAgY2FzZSAndmFsdWUnOlxyXG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XHJcbiAgICAgIGNhc2UgJ2F0LWdyb3VwJzpcclxuICAgICAgY2FzZSAnYXQtdmFsdWUnOlxyXG4gICAgICBjYXNlICdjb21tZW50JzpcclxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XHJcbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICAvLyBOZXdsaW5lIG9yIHRhYlxyXG4gICAgY2FzZSAnXFxuJzpcclxuICAgIGNhc2UgJ1xcdCc6XHJcbiAgICBjYXNlICdcXHInOlxyXG4gICAgY2FzZSAnXFxmJzpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ3ZhbHVlJzpcclxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxyXG4gICAgICBjYXNlICdhdC1ncm91cCc6XHJcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxyXG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcclxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XHJcbiAgICAgIGNhc2UgJ3NlbGVjdG9yJzpcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdhdC12YWx1ZSc6XHJcbiAgICAgICAgLy8gVG9rZW5pemUgYW4gQC1ydWxlIGlmIGEgc2VtaS1jb2xvbiB3YXMgb21pdHRlZC5cclxuICAgICAgICBpZiAoJ1xcbicgPT09IGNoKSB7XHJcbiAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJ1ZmZlci50cmltKCk7XHJcbiAgICAgICAgICBhZGRUb2tlbigpO1xyXG4gICAgICAgICAgcG9wU3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGlmICgnXFxuJyA9PT0gY2gpIHtcclxuICAgICAgLy8gICBjb2x1bW4gPSAwO1xyXG4gICAgICAvLyAgIGxpbmUgKz0gMTtcclxuICAgICAgLy8gfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlICc6JzpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICAgIHRva2VuLm5hbWUgPSBidWZmZXIudHJpbSgpO1xyXG4gICAgICAgIGJ1ZmZlciA9ICcnO1xyXG5cclxuICAgICAgICByZXBsYWNlU3RhdGUoJ2JlZm9yZS12YWx1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYmVmb3JlLXNlbGVjdG9yJzpcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcblxyXG4gICAgICAgIGluaXRpYWxpemVUb2tlbignc2VsZWN0b3InKTtcclxuICAgICAgICBwdXNoU3RhdGUoJ3NlbGVjdG9yJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxyXG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICBjYXNlICc7JzpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxyXG4gICAgICBjYXNlICd2YWx1ZSc6XHJcbiAgICAgICAgLy8gVG9rZW5pemUgYSBkZWNsYXJhdGlvblxyXG4gICAgICAgIC8vIGlmIHZhbHVlIGlzIGVtcHR5IHNraXAgdGhlIGRlY2xhcmF0aW9uXHJcbiAgICAgICAgaWYgKGJ1ZmZlci50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdG9rZW4udmFsdWUgPSBidWZmZXIudHJpbSgpLFxyXG4gICAgICAgICAgYWRkVG9rZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVwbGFjZVN0YXRlKCdiZWZvcmUtbmFtZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAndmFsdWUtcGFyZW4nOlxyXG4gICAgICAgIC8vIEluc2lnbmlmaWNhbnQgc2VtaS1jb2xvblxyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2F0LXZhbHVlJzpcclxuICAgICAgICAvLyBUb2tlbml6ZSBhbiBALXJ1bGVcclxuICAgICAgICB0b2tlbi52YWx1ZSA9IGJ1ZmZlci50cmltKCk7XHJcbiAgICAgICAgYWRkVG9rZW4oKTtcclxuICAgICAgICBwb3BTdGF0ZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYmVmb3JlLW5hbWUnOlxyXG4gICAgICAgIC8vIEV4dHJhbmVvdXMgc2VtaS1jb2xvblxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAneyc6XHJcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xyXG4gICAgICBjYXNlICdzZWxlY3Rvcic6XHJcbiAgICAgICAgLy8gSWYgdGhlIHNlcXVlbmNlIGlzIGBcXHtgIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGJyYWNlIHNob3VsZCBiZSBlc2NhcGVkLlxyXG4gICAgICAgIGlmIChwZWVrKC0xKSA9PT0gJ1xcXFwnKSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUb2tlbml6ZSBhIHNlbGVjdG9yXHJcbiAgICAgICAgdG9rZW4udGV4dCA9IGJ1ZmZlci50cmltKCk7XHJcbiAgICAgICAgYWRkVG9rZW4oKTtcclxuICAgICAgICByZXBsYWNlU3RhdGUoJ2JlZm9yZS1uYW1lJyk7XHJcbiAgICAgICAgZGVwdGggPSBkZXB0aCArIDE7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdhdC1ncm91cCc6XHJcbiAgICAgICAgLy8gVG9rZW5pemUgYW4gQC1ncm91cFxyXG4gICAgICAgIHRva2VuLm5hbWUgPSBidWZmZXIudHJpbSgpO1xyXG5cclxuICAgICAgICAvLyBYWFg6IEAtcnVsZXMgYXJlIHN0YXJ0aW5nIHRvIGdldCBoYWlyeVxyXG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ2ZvbnQtZmFjZSc6XHJcbiAgICAgICAgY2FzZSAndmlld3BvcnQnIDpcclxuICAgICAgICBjYXNlICdwYWdlJyAgICAgOlxyXG4gICAgICAgICAgcHVzaFN0YXRlKCdiZWZvcmUtbmFtZScpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBwdXNoU3RhdGUoJ2JlZm9yZS1zZWxlY3RvcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkVG9rZW4oKTtcclxuICAgICAgICBkZXB0aCA9IGRlcHRoICsgMTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ25hbWUnOlxyXG4gICAgICBjYXNlICdhdC1ydWxlJzpcclxuICAgICAgICAvLyBUb2tlbml6ZSBhIGRlY2xhcmF0aW9uIG9yIGFuIEAtcnVsZVxyXG4gICAgICAgIHRva2VuLm5hbWUgPSBidWZmZXIudHJpbSgpO1xyXG4gICAgICAgIGFkZFRva2VuKCk7XHJcbiAgICAgICAgcHVzaFN0YXRlKCdiZWZvcmUtbmFtZScpO1xyXG4gICAgICAgIGRlcHRoID0gZGVwdGggKyAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnY29tbWVudCc6XHJcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxyXG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcclxuICAgICAgICAvLyBJZ25vcmUgYnJhY2VzIGluIGNvbW1lbnRzIGFuZCBzdHJpbmdzXHJcbiAgICAgICAgYnVmZmVyICs9IGNoO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxyXG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIGNhc2UgJ30nOlxyXG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcclxuICAgICAgY2FzZSAnYmVmb3JlLW5hbWUnOlxyXG4gICAgICBjYXNlICduYW1lJzpcclxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcclxuICAgICAgY2FzZSAndmFsdWUnOlxyXG4gICAgICAgIC8vIElmIHRoZSBidWZmZXIgY29udGFpbnMgYW55dGhpbmcsIGl0IGlzIGEgdmFsdWVcclxuICAgICAgICBpZiAoYnVmZmVyKSB7XHJcbiAgICAgICAgICB0b2tlbi52YWx1ZSA9IGJ1ZmZlci50cmltKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB0b2tlbiBoYXMgYSBuYW1lIGFuZCBhIHZhbHVlIGl0IHNob3VsZCBiZSB0b2tlbml6ZWQuXHJcbiAgICAgICAgaWYgKHRva2VuLm5hbWUgJiYgdG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgIGFkZFRva2VuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMZWF2ZSB0aGUgYmxvY2tcclxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ2VuZCcpO1xyXG4gICAgICAgIGFkZFRva2VuKCk7XHJcbiAgICAgICAgcG9wU3RhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gV2UgbWlnaHQgbmVlZCB0byBsZWF2ZSBhZ2Fpbi5cclxuICAgICAgICAvLyBYWFg6IFdoYXQgYWJvdXQgMyBsZXZlbHMgZGVlcD9cclxuICAgICAgICBpZiAoJ2F0LWdyb3VwJyA9PT0gZ2V0U3RhdGUoKSkge1xyXG4gICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdhdC1ncm91cC1lbmQnKTtcclxuICAgICAgICAgIGFkZFRva2VuKCk7XHJcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGVwdGggPiAwKSB7XHJcbiAgICAgICAgICBkZXB0aCA9IGRlcHRoIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYXQtZ3JvdXAnOlxyXG4gICAgICBjYXNlICdiZWZvcmUtc2VsZWN0b3InOlxyXG4gICAgICBjYXNlICdzZWxlY3Rvcic6XHJcbiAgICAgICAgLy8gSWYgdGhlIHNlcXVlbmNlIGlzIGBcXH1gIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGJyYWNlIHNob3VsZCBiZSBlc2NhcGVkLlxyXG4gICAgICAgIGlmIChwZWVrKC0xKSA9PT0gJ1xcXFwnKSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGVwdGggPiAwKSB7XHJcbiAgICAgICAgICAvLyBMZWF2ZSBibG9jayBpZiBpbiBhbiBhdC1ncm91cFxyXG4gICAgICAgICAgaWYgKCdhdC1ncm91cCcgPT09IGdldFN0YXRlKDEpKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemVUb2tlbignYXQtZ3JvdXAtZW5kJyk7XHJcbiAgICAgICAgICAgIGFkZFRva2VuKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZGVwdGggPiAxKSB7XHJcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRlcHRoID4gMCkge1xyXG4gICAgICAgICAgZGVwdGggPSBkZXB0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZG91YmxlLXN0cmluZyc6XHJcbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxyXG4gICAgICBjYXNlICdjb21tZW50JzpcclxuICAgICAgICAvLyBJZ25vcmUgYnJhY2VzIGluIGNvbW1lbnRzIGFuZCBzdHJpbmdzLlxyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgLy8gU3RyaW5nc1xyXG4gICAgY2FzZSAnXCInOlxyXG4gICAgY2FzZSBcIidcIjpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxyXG4gICAgICAgIGlmICgnXCInID09PSBjaCAmJiAnXFxcXCcgIT09IHBlZWsoLTEpKSB7XHJcbiAgICAgICAgICBwb3BTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3NpbmdsZS1zdHJpbmcnOlxyXG4gICAgICAgIGlmIChcIidcIiA9PT0gY2ggJiYgJ1xcXFwnICE9PSBwZWVrKC0xKSkge1xyXG4gICAgICAgICAgcG9wU3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdiZWZvcmUtYXQtdmFsdWUnOlxyXG4gICAgICAgIHJlcGxhY2VTdGF0ZSgnYXQtdmFsdWUnKTtcclxuICAgICAgICBwdXNoU3RhdGUoJ1wiJyA9PT0gY2ggPyAnZG91YmxlLXN0cmluZycgOiAnc2luZ2xlLXN0cmluZycpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcclxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XHJcbiAgICAgICAgcHVzaFN0YXRlKCdcIicgPT09IGNoID8gJ2RvdWJsZS1zdHJpbmcnIDogJ3NpbmdsZS1zdHJpbmcnKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxyXG4gICAgICAgIC8vIElnbm9yZSBzdHJpbmdzIHdpdGhpbiBjb21tZW50cy5cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaWYgKCdcXFxcJyAhPT0gcGVlaygtMSkpIHtcclxuICAgICAgICAgIHB1c2hTdGF0ZSgnXCInID09PSBjaCA/ICdkb3VibGUtc3RyaW5nJyA6ICdzaW5nbGUtc3RyaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIC8vIENvbW1lbnRzXHJcbiAgICBjYXNlICcvJzpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxyXG4gICAgICBjYXNlICdkb3VibGUtc3RyaW5nJzpcclxuICAgICAgY2FzZSAnc2luZ2xlLXN0cmluZyc6XHJcbiAgICAgICAgLy8gSWdub3JlXHJcbiAgICAgICAgYnVmZmVyICs9IGNoO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcclxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxyXG4gICAgICBjYXNlICduYW1lJzpcclxuICAgICAgY2FzZSAndmFsdWUnOlxyXG4gICAgICAgIGlmIChpc05leHRDaGFyKCcqJykpIHtcclxuICAgICAgICAgIC8vIElnbm9yZSBjb21tZW50cyBpbiBzZWxlY3RvcnMsIHByb3BlcnRpZXMgYW5kIHZhbHVlcy4gVGhleSBhcmVcclxuICAgICAgICAgIC8vIGRpZmZpY3VsdCB0byByZXByZXNlbnQgaW4gdGhlIEFTVC5cclxuICAgICAgICAgIHZhciBwb3MgPSBmaW5kKCcqLycpO1xyXG5cclxuICAgICAgICAgIGlmIChwb3MpIHtcclxuICAgICAgICAgICAgc2tpcChwb3MgKyAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGdldFN0YXRlKCkgPT0gJ2JlZm9yZS12YWx1ZScpIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcclxuICAgICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGlmIChpc05leHRDaGFyKCcqJykpIHtcclxuICAgICAgICAgIC8vIENyZWF0ZSBhIGNvbW1lbnQgdG9rZW5cclxuICAgICAgICAgIGluaXRpYWxpemVUb2tlbignY29tbWVudCcpO1xyXG4gICAgICAgICAgcHVzaFN0YXRlKCdjb21tZW50Jyk7XHJcbiAgICAgICAgICBza2lwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgYnVmZmVyICs9IGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuXHJcbiAgICAvLyBDb21tZW50IGVuZCBvciB1bml2ZXJzYWwgc2VsZWN0b3JcclxuICAgIGNhc2UgJyonOlxyXG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcclxuICAgICAgY2FzZSAnY29tbWVudCc6XHJcbiAgICAgICAgaWYgKGlzTmV4dENoYXIoJy8nKSkge1xyXG4gICAgICAgICAgLy8gVG9rZW5pemUgYSBjb21tZW50XHJcbiAgICAgICAgICB0b2tlbi50ZXh0ID0gYnVmZmVyOyAvLyBEb24ndCB0cmltKCkhXHJcbiAgICAgICAgICBza2lwKCk7XHJcbiAgICAgICAgICBhZGRUb2tlbigpO1xyXG4gICAgICAgICAgcG9wU3RhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnYmVmb3JlLXNlbGVjdG9yJzpcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdzZWxlY3RvcicpO1xyXG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XHJcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgYnVmZmVyICs9IGNoO1xyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgIC8vIEAtcnVsZXNcclxuICAgIGNhc2UgJ0AnOlxyXG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcclxuICAgICAgY2FzZSAnY29tbWVudCc6XHJcbiAgICAgIGNhc2UgJ2RvdWJsZS1zdHJpbmcnOlxyXG4gICAgICBjYXNlICdzaW5nbGUtc3RyaW5nJzpcclxuICAgICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2JlZm9yZS12YWx1ZSc6XHJcbiAgICAgICAgcmVwbGFjZVN0YXRlKCd2YWx1ZScpO1xyXG4gICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBzdXBwb3J0ZWQgQC1ydWxlcyBhbmQgYXR0ZW1wdCB0byB0b2tlbml6ZSBvbmUuXHJcbiAgICAgICAgdmFyIHRva2VuaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBuYW1lO1xyXG4gICAgICAgIHZhciBydWxlO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBqID0gMCwgbGVuID0gYXRSdWxlcy5sZW5ndGg7ICF0b2tlbml6ZWQgJiYgaiA8IGxlbjsgKytqKSB7XHJcbiAgICAgICAgICBydWxlID0gYXRSdWxlc1tqXTtcclxuICAgICAgICAgIG5hbWUgPSBydWxlLm5hbWUgfHwgcnVsZTtcclxuXHJcbiAgICAgICAgICBpZiAoIWlzTmV4dFN0cmluZyhuYW1lKSkgeyBjb250aW51ZTsgfVxyXG5cclxuICAgICAgICAgIHRva2VuaXplZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgaW5pdGlhbGl6ZVRva2VuKG5hbWUpO1xyXG4gICAgICAgICAgcHVzaFN0YXRlKHJ1bGUuc3RhdGUgfHwgJ2F0LWdyb3VwJyk7XHJcbiAgICAgICAgICBza2lwKG5hbWUubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICBpZiAocnVsZS5wcmVmaXgpIHtcclxuICAgICAgICAgICAgdG9rZW4ucHJlZml4ID0gcnVsZS5wcmVmaXg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHJ1bGUudHlwZSkge1xyXG4gICAgICAgICAgICB0b2tlbi50eXBlID0gcnVsZS50eXBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0b2tlbml6ZWQpIHtcclxuICAgICAgICAgIC8vIEtlZXAgb24gdHJ1Y2tpbicgQW1lcmljYSFcclxuICAgICAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgLy8gUGFyZW50aGVzZXMgYXJlIHRyYWNrZWQgdG8gZGlzYW1iaWd1YXRlIHNlbWktY29sb25zLCBzdWNoIGFzIHdpdGhpbiBhXHJcbiAgICAvLyBkYXRhIFVSSS5cclxuICAgIGNhc2UgJygnOlxyXG4gICAgICBzd2l0Y2ggKGdldFN0YXRlKCkpIHtcclxuICAgICAgY2FzZSAndmFsdWUnOlxyXG4gICAgICAgIHB1c2hTdGF0ZSgndmFsdWUtcGFyZW4nKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcclxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgY2FzZSAnKSc6XHJcbiAgICAgIHN3aXRjaCAoZ2V0U3RhdGUoKSkge1xyXG4gICAgICBjYXNlICd2YWx1ZS1wYXJlbic6XHJcbiAgICAgICAgcG9wU3RhdGUoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYmVmb3JlLXZhbHVlJzpcclxuICAgICAgICByZXBsYWNlU3RhdGUoJ3ZhbHVlJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJ1ZmZlciArPSBjaDtcclxuICAgICAgYnJlYWs7XHJcblxyXG4gICAgZGVmYXVsdDpcclxuICAgICAgc3dpdGNoIChnZXRTdGF0ZSgpKSB7XHJcbiAgICAgIGNhc2UgJ2JlZm9yZS1zZWxlY3Rvcic6XHJcbiAgICAgICAgaW5pdGlhbGl6ZVRva2VuKCdzZWxlY3RvcicpO1xyXG4gICAgICAgIHB1c2hTdGF0ZSgnc2VsZWN0b3InKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2JlZm9yZS1uYW1lJzpcclxuICAgICAgICBpbml0aWFsaXplVG9rZW4oJ3Byb3BlcnR5Jyk7XHJcbiAgICAgICAgcmVwbGFjZVN0YXRlKCduYW1lJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdiZWZvcmUtdmFsdWUnOlxyXG4gICAgICAgIHJlcGxhY2VTdGF0ZSgndmFsdWUnKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2JlZm9yZS1hdC12YWx1ZSc6XHJcbiAgICAgICAgcmVwbGFjZVN0YXRlKCdhdC12YWx1ZScpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBidWZmZXIgKz0gY2g7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgVElNRVIgJiYgZGVidWcoJ3JhbiBpbicsIChEYXRlLm5vdygpIC0gc3RhcnQpICsgJ21zJyk7XHJcblxyXG4gIHJldHVybiB0b2tlbnM7XHJcbn1cclxuIiwidmFyIERFQlVHID0gZmFsc2U7IC8vIGB0cnVlYCB0byBwcmludCBkZWJ1Z2dpbmcgaW5mby5cclxudmFyIFRJTUVSID0gZmFsc2U7IC8vIGB0cnVlYCB0byB0aW1lIGNhbGxzIHRvIGBwYXJzZSgpYCBhbmQgcHJpbnQgdGhlIHJlc3VsdHMuXHJcblxyXG52YXIgZGVidWcgPSByZXF1aXJlKCcuL2RlYnVnJykoJ3BhcnNlJyk7XHJcbnZhciBsZXggPSByZXF1aXJlKCcuL2xleGVyJyk7XHJcblxyXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBwYXJzZTtcclxuXHJcbnZhciBfY29tbWVudHM7ICAgLy8gV2hldGhlciBjb21tZW50cyBhcmUgYWxsb3dlZC5cclxudmFyIF9kZXB0aDsgICAgICAvLyBDdXJyZW50IGJsb2NrIG5lc3RpbmcgZGVwdGguXHJcbnZhciBfcG9zaXRpb247ICAgLy8gV2hldGhlciB0byBpbmNsdWRlIGxpbmUvY29sdW1uIHBvc2l0aW9uLlxyXG52YXIgX3Rva2VuczsgICAgIC8vIEFycmF5IG9mIGxleGljYWwgdG9rZW5zLlxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBDU1Mgc3RyaW5nIG9yIGFycmF5IG9mIGxleGljYWwgdG9rZW5zIGludG8gYSBgc3RyaW5naWZ5YC1hYmxlIEFTVC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGNzcyBDU1Mgc3RyaW5nIG9yIGFycmF5IG9mIGxleGljYWwgdG9rZW5cclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbW1lbnRzPWZhbHNlXSBhbGxvdyBjb21tZW50IG5vZGVzIGluIHRoZSBBU1RcclxuICogQHJldHVybnMge09iamVjdH0gYHN0cmluZ2lmeWAtYWJsZSBBU1RcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlKGNzcywgb3B0aW9ucykge1xyXG4gIHZhciBzdGFydDsgLy8gRGVidWcgdGltZXIgc3RhcnQuXHJcblxyXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XHJcbiAgX2NvbW1lbnRzID0gISFvcHRpb25zLmNvbW1lbnRzO1xyXG4gIF9wb3NpdGlvbiA9ICEhb3B0aW9ucy5wb3NpdGlvbjtcclxuXHJcbiAgX2RlcHRoID0gMDtcclxuXHJcbiAgLy8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgdGhlIGdpdmVuIHRva2Vucywgb3IgdGhlIGxleCgpJ2QgQ1NTIHN0cmluZy5cclxuICBfdG9rZW5zID0gQXJyYXkuaXNBcnJheShjc3MpID8gY3NzLnNsaWNlKCkgOiBsZXgoY3NzKTtcclxuXHJcbiAgdmFyIHJ1bGU7XHJcbiAgdmFyIHJ1bGVzID0gW107XHJcbiAgdmFyIHRva2VuO1xyXG5cclxuICBUSU1FUiAmJiAoc3RhcnQgPSBEYXRlLm5vdygpKTtcclxuXHJcbiAgd2hpbGUgKCh0b2tlbiA9IG5leHQoKSkpIHtcclxuICAgIHJ1bGUgPSBwYXJzZVRva2VuKHRva2VuKTtcclxuICAgIHJ1bGUgJiYgcnVsZXMucHVzaChydWxlKTtcclxuICB9XHJcblxyXG4gIFRJTUVSICYmIGRlYnVnKCdyYW4gaW4nLCAoRGF0ZS5ub3coKSAtIHN0YXJ0KSArICdtcycpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXHJcbiAgICBzdHlsZXNoZWV0OiB7XHJcbiAgICAgIHJ1bGVzOiBydWxlc1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbi8vIC0tIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLyoqXHJcbiAqIEJ1aWxkIGFuIEFTVCBub2RlIGZyb20gYSBsZXhpY2FsIHRva2VuLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gbGV4aWNhbCB0b2tlblxyXG4gKiBAcGFyYW0ge09iamVjdH0gW292ZXJyaWRlXSBvYmplY3QgaGFzaCBvZiBwcm9wZXJ0aWVzIHRoYXQgb3ZlcnJpZGUgdGhvc2VcclxuICogICBhbHJlYWR5IGluIHRoZSB0b2tlbiwgb3IgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSB0b2tlbi5cclxuICogQHJldHVybnMge09iamVjdH0gQVNUIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIGFzdE5vZGUodG9rZW4sIG92ZXJyaWRlKSB7XHJcbiAgb3ZlcnJpZGUgfHwgKG92ZXJyaWRlID0ge30pO1xyXG5cclxuICB2YXIga2V5O1xyXG4gIHZhciBrZXlzID0gWyd0eXBlJywgJ25hbWUnLCAndmFsdWUnXTtcclxuICB2YXIgbm9kZSA9IHt9O1xyXG5cclxuICAvLyBBdm9pZGluZyBbXS5mb3JFYWNoIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xyXG4gICAga2V5ID0ga2V5c1tpXTtcclxuXHJcbiAgICBpZiAodG9rZW5ba2V5XSkge1xyXG4gICAgICBub2RlW2tleV0gPSBvdmVycmlkZVtrZXldIHx8IHRva2VuW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBrZXlzID0gT2JqZWN0LmtleXMob3ZlcnJpZGUpO1xyXG5cclxuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xyXG4gICAga2V5ID0ga2V5c1tpXTtcclxuXHJcbiAgICBpZiAoIW5vZGVba2V5XSkge1xyXG4gICAgICBub2RlW2tleV0gPSBvdmVycmlkZVtrZXldO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKF9wb3NpdGlvbikge1xyXG4gICAgbm9kZS5wb3NpdGlvbiA9IHtcclxuICAgICAgc3RhcnQ6IHRva2VuLnN0YXJ0LFxyXG4gICAgICBlbmQ6IHRva2VuLmVuZFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIERFQlVHICYmIGRlYnVnKCdhc3ROb2RlOicsIEpTT04uc3RyaW5naWZ5KG5vZGUsIG51bGwsIDIpKTtcclxuXHJcbiAgcmV0dXJuIG5vZGU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgYSBsZXhpY2FsIHRva2VuIGZyb20gdGhlIHN0YWNrIGFuZCByZXR1cm4gdGhlIHJlbW92ZWQgdG9rZW4uXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IGxleGljYWwgdG9rZW5cclxuICovXHJcbmZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgdmFyIHRva2VuID0gX3Rva2Vucy5zaGlmdCgpO1xyXG4gIERFQlVHICYmIGRlYnVnKCduZXh0OicsIEpTT04uc3RyaW5naWZ5KHRva2VuLCBudWxsLCAyKSk7XHJcbiAgcmV0dXJuIHRva2VuO1xyXG59XHJcblxyXG4vLyAtLSBQYXJzZSogRnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYW4gQC1ncm91cCBsZXhpY2FsIHRva2VuIHRvIGFuIEFTVCBub2RlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gQC1ncm91cCBsZXhpY2FsIHRva2VuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEAtZ3JvdXAgQVNUIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlQXRHcm91cCh0b2tlbikge1xyXG4gIF9kZXB0aCA9IF9kZXB0aCArIDE7XHJcblxyXG4gIC8vIEFzIHRoZSBALWdyb3VwIHRva2VuIGlzIGFzc2VtYmxlZCwgcmVsZXZhbnQgdG9rZW4gdmFsdWVzIGFyZSBjYXB0dXJlZCBoZXJlXHJcbiAgLy8gdGVtcG9yYXJpbHkuIFRoZXkgd2lsbCBsYXRlciBiZSB1c2VkIGFzIGB0b2tlbml6ZSgpYCBvdmVycmlkZXMuXHJcbiAgdmFyIG92ZXJyaWRlcyA9IHt9O1xyXG5cclxuICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICBjYXNlICdmb250LWZhY2UnOlxyXG4gIGNhc2UgJ3ZpZXdwb3J0JyA6XHJcbiAgICBvdmVycmlkZXMuZGVjbGFyYXRpb25zID0gcGFyc2VEZWNsYXJhdGlvbnMoKTtcclxuICAgIGJyZWFrO1xyXG5cclxuICBjYXNlICdwYWdlJzpcclxuICAgIG92ZXJyaWRlcy5wcmVmaXggPSB0b2tlbi5wcmVmaXg7XHJcbiAgICBvdmVycmlkZXMuZGVjbGFyYXRpb25zID0gcGFyc2VEZWNsYXJhdGlvbnMoKTtcclxuICAgIGJyZWFrO1xyXG5cclxuICBkZWZhdWx0OlxyXG4gICAgb3ZlcnJpZGVzLnByZWZpeCA9IHRva2VuLnByZWZpeDtcclxuICAgIG92ZXJyaWRlcy5ydWxlcyA9IHBhcnNlUnVsZXMoKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBhc3ROb2RlKHRva2VuLCBvdmVycmlkZXMpO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydCBhbiBAaW1wb3J0IGxleGljYWwgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBAaW1wb3J0IGxleGljYWwgdG9rZW5cclxuICogQHJldHVybnMge09iamVjdH0gQGltcG9ydCBBU1Qgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VBdEltcG9ydCh0b2tlbikge1xyXG4gIHJldHVybiBhc3ROb2RlKHRva2VuKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYW4gQGNoYXJzZXQgdG9rZW4gdG8gYW4gQVNUIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBAY2hhcnNldCBsZXhpY2FsIHRva2VuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IEBjaGFyc2V0IG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlQ2hhcnNldCh0b2tlbikge1xyXG4gIHJldHVybiBhc3ROb2RlKHRva2VuKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBjb21tZW50IHRva2VuIHRvIGFuIEFTVCBOb2RlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdG9rZW4gY29tbWVudCBsZXhpY2FsIHRva2VuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IGNvbW1lbnQgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VDb21tZW50KHRva2VuKSB7XHJcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4sIHt0ZXh0OiB0b2tlbi50ZXh0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlTmFtZXNwYWNlKHRva2VuKSB7XHJcbiAgcmV0dXJuIGFzdE5vZGUodG9rZW4pO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydCBhIHByb3BlcnR5IGxleGljYWwgdG9rZW4gdG8gYSBwcm9wZXJ0eSBBU1Qgbm9kZS5cclxuICpcclxuICogQHJldHVybnMge09iamVjdH0gcHJvcGVydHkgbm9kZVxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VQcm9wZXJ0eSh0b2tlbikge1xyXG4gIHJldHVybiBhc3ROb2RlKHRva2VuKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBzZWxlY3RvciBsZXhpY2FsIHRva2VuIHRvIGEgc2VsZWN0b3IgQVNUIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b2tlbiBzZWxlY3RvciBsZXhpY2FsIHRva2VuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNlbGVjdG9yIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlU2VsZWN0b3IodG9rZW4pIHtcclxuICBmdW5jdGlvbiB0cmltKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci50cmltKCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXN0Tm9kZSh0b2tlbiwge1xyXG4gICAgdHlwZTogJ3J1bGUnLFxyXG4gICAgc2VsZWN0b3JzOiB0b2tlbi50ZXh0LnNwbGl0KCcsJykubWFwKHRyaW0pLFxyXG4gICAgZGVjbGFyYXRpb25zOiBwYXJzZURlY2xhcmF0aW9ucyh0b2tlbilcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBsZXhpY2FsIHRva2VuIHRvIGFuIEFTVCBub2RlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fHVuZGVmaW5lZH0gQVNUIG5vZGVcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlVG9rZW4odG9rZW4pIHtcclxuICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAvLyBDYXNlcyBhcmUgbGlzdGVkIGluIHJvdWdobHkgZGVzY2VuZGluZyBvcmRlciBvZiBwcm9iYWJpbGl0eS5cclxuICBjYXNlICdwcm9wZXJ0eSc6IHJldHVybiBwYXJzZVByb3BlcnR5KHRva2VuKTtcclxuXHJcbiAgY2FzZSAnc2VsZWN0b3InOiByZXR1cm4gcGFyc2VTZWxlY3Rvcih0b2tlbik7XHJcblxyXG4gIGNhc2UgJ2F0LWdyb3VwLWVuZCc6IF9kZXB0aCA9IF9kZXB0aCAtIDE7IHJldHVybjtcclxuXHJcbiAgY2FzZSAnbWVkaWEnICAgICA6XHJcbiAgY2FzZSAna2V5ZnJhbWVzJyA6cmV0dXJuIHBhcnNlQXRHcm91cCh0b2tlbik7XHJcblxyXG4gIGNhc2UgJ2NvbW1lbnQnOiBpZiAoX2NvbW1lbnRzKSB7IHJldHVybiBwYXJzZUNvbW1lbnQodG9rZW4pOyB9IGJyZWFrO1xyXG5cclxuICBjYXNlICdjaGFyc2V0JzogcmV0dXJuIHBhcnNlQ2hhcnNldCh0b2tlbik7XHJcbiAgY2FzZSAnaW1wb3J0JzogcmV0dXJuIHBhcnNlQXRJbXBvcnQodG9rZW4pO1xyXG5cclxuICBjYXNlICduYW1lc3BhY2UnOiByZXR1cm4gcGFyc2VOYW1lc3BhY2UodG9rZW4pO1xyXG5cclxuICBjYXNlICdmb250LWZhY2UnOlxyXG4gIGNhc2UgJ3N1cHBvcnRzJyA6XHJcbiAgY2FzZSAndmlld3BvcnQnIDpcclxuICBjYXNlICdkb2N1bWVudCcgOlxyXG4gIGNhc2UgJ3BhZ2UnICAgICA6IHJldHVybiBwYXJzZUF0R3JvdXAodG9rZW4pO1xyXG4gIH1cclxuXHJcbiAgREVCVUcgJiYgZGVidWcoJ3BhcnNlVG9rZW46IHVuZXhwZWN0ZWQgdG9rZW46JywgSlNPTi5zdHJpbmdpZnkodG9rZW4pKTtcclxufVxyXG5cclxuLy8gLS0gUGFyc2UgSGVscGVyIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8qKlxyXG4gKiBJdGVyYXRpdmVseSBwYXJzZXMgbGV4aWNhbCB0b2tlbnMgZnJvbSB0aGUgc3RhY2sgaW50byBBU1Qgbm9kZXMgdW50aWwgYVxyXG4gKiBjb25kaXRpb25hbCBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAsIGF0IHdoaWNoIHBvaW50IGl0ZXJhdGlvbiB0ZXJtaW5hdGVzXHJcbiAqIGFuZCBhbnkgQVNUIG5vZGVzIGNvbGxlY3RlZCBhcmUgcmV0dXJuZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbmRpdGlvbkZuXHJcbiAqICAgQHBhcmFtIHtPYmplY3R9IHRva2VuIHRoZSBsZXhpY2FsIHRva2VuIGJlaW5nIHBhcnNlZFxyXG4gKiAgIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHRva2VuIHNob3VsZCBiZSBwYXJzZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXHJcbiAqIEByZXR1cm4ge0FycmF5fSBBU1Qgbm9kZXNcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlVG9rZW5zV2hpbGUoY29uZGl0aW9uRm4pIHtcclxuICB2YXIgbm9kZTtcclxuICB2YXIgbm9kZXMgPSBbXTtcclxuICB2YXIgdG9rZW47XHJcblxyXG4gIHdoaWxlICgodG9rZW4gPSBuZXh0KCkpICYmIChjb25kaXRpb25GbiAmJiBjb25kaXRpb25Gbih0b2tlbikpKSB7XHJcbiAgICBub2RlID0gcGFyc2VUb2tlbih0b2tlbik7XHJcbiAgICBub2RlICYmIG5vZGVzLnB1c2gobm9kZSk7XHJcbiAgfVxyXG5cclxuICAvLyBQbGFjZSBhbiB1bnVzZWQgbm9uLWBlbmRgIGxleGljYWwgdG9rZW4gYmFjayBvbnRvIHRoZSBzdGFjay5cclxuICBpZiAodG9rZW4gJiYgdG9rZW4udHlwZSAhPT0gJ2VuZCcpIHtcclxuICAgIF90b2tlbnMudW5zaGlmdCh0b2tlbik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbm9kZXM7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0IGEgc2VyaWVzIG9mIHRva2VucyBpbnRvIGEgc2VxdWVuY2Ugb2YgZGVjbGFyYXRpb24gQVNUIG5vZGVzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IGRlY2xhcmF0aW9uIG5vZGVzXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZURlY2xhcmF0aW9ucygpIHtcclxuICByZXR1cm4gcGFyc2VUb2tlbnNXaGlsZShmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHJldHVybiAodG9rZW4udHlwZSA9PT0gJ3Byb3BlcnR5JyB8fCB0b2tlbi50eXBlID09PSAnY29tbWVudCcpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydCBhIHNlcmllcyBvZiB0b2tlbnMgaW50byBhIHNlcXVlbmNlIG9mIHJ1bGUgbm9kZXMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gcnVsZSBub2Rlc1xyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VSdWxlcygpIHtcclxuICByZXR1cm4gcGFyc2VUb2tlbnNXaGlsZShmdW5jdGlvbiAoKSB7IHJldHVybiBfZGVwdGg7IH0pO1xyXG59XHJcbiIsInZhciBERUJVRyA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gcHJpbnQgZGVidWdnaW5nIGluZm8uXHJcbnZhciBUSU1FUiA9IGZhbHNlOyAvLyBgdHJ1ZWAgdG8gdGltZSBjYWxscyB0byBgc3RyaW5naWZ5KClgIGFuZCBwcmludCB0aGUgcmVzdWx0cy5cclxuXHJcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJy4vZGVidWcnKSgnc3RyaW5naWZ5Jyk7XHJcblxyXG52YXIgX2NvbW1lbnRzOyAgICAgIC8vIFdoZXRoZXIgY29tbWVudHMgYXJlIGFsbG93ZWQgaW4gdGhlIHN0cmluZ2lmaWVkIENTUy5cclxudmFyIF9jb21wcmVzczsgICAgICAvLyBXaGV0aGVyIHRoZSBzdHJpbmdpZmllZCBDU1Mgc2hvdWxkIGJlIGNvbXByZXNzZWQuXHJcbnZhciBfaW5kZW50YXRpb247ICAgLy8gSW5kZW50YXRpb24gb3B0aW9uIHZhbHVlLlxyXG52YXIgX247ICAgICAgICAgICAgIC8vIENvbXByZXNzaW9uLWF3YXJlIG5ld2xpbmUgY2hhcmFjdGVyLlxyXG52YXIgX3M7ICAgICAgICAgICAgIC8vIENvbXByZXNzaW9uLWF3YXJlIHNwYWNlIGNoYXJhY3Rlci5cclxuXHJcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeTtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0IGEgYHN0cmluZ2lmeWAtYWJsZSBBU1QgaW50byBhIENTUyBzdHJpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBgc3RyaW5naWZ5YC1hYmxlIEFTVFxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29tbWVudHM9ZmFsc2VdIGFsbG93IGNvbW1lbnRzIGluIHRoZSBDU1NcclxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5jb21wcmVzcz1mYWxzZV0gY29tcHJlc3Mgd2hpdGVzcGFjZVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaW5kZW50YXRpb249JyddIGluZGVudGF0aW9uIHNlcXVlbmNlXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9IENTU1xyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5KGFzdCwgb3B0aW9ucykge1xyXG4gIHZhciBzdGFydDsgLy8gRGVidWcgdGltZXIgc3RhcnQuXHJcblxyXG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XHJcbiAgX2luZGVudGF0aW9uID0gb3B0aW9ucy5pbmRlbnRhdGlvbiB8fCAnJztcclxuICBfY29tcHJlc3MgPSAhIW9wdGlvbnMuY29tcHJlc3M7XHJcbiAgX2NvbW1lbnRzID0gISFvcHRpb25zLmNvbW1lbnRzO1xyXG5cclxuICBpZiAoX2NvbXByZXNzKSB7XHJcbiAgICBfbiA9IF9zID0gJyc7XHJcbiAgfSBlbHNlIHtcclxuICAgIF9uID0gJ1xcbic7XHJcbiAgICBfcyA9ICcgJztcclxuICB9XHJcblxyXG4gIFRJTUVSICYmIChzdGFydCA9IERhdGUubm93KCkpO1xyXG5cclxuICB2YXIgY3NzID0gcmVkdWNlKGFzdC5zdHlsZXNoZWV0LnJ1bGVzLCBzdHJpbmdpZnlOb2RlKS5qb2luKCdcXG4nKS50cmltKCk7XHJcblxyXG4gIFRJTUVSICYmIGRlYnVnKCdyYW4gaW4nLCAoRGF0ZS5ub3coKSAtIHN0YXJ0KSArICdtcycpO1xyXG5cclxuICByZXR1cm4gY3NzO1xyXG59XHJcblxyXG4vLyAtLSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8qKlxyXG4gKiBNb2RpZnkgdGhlIGluZGVudGF0aW9uIGxldmVsLCBvciByZXR1cm4gYSBjb21wcmVzc2lvbi1hd2FyZSBzZXF1ZW5jZSBvZlxyXG4gKiBzcGFjZXMgZXF1YWwgdG8gdGhlIGN1cnJlbnQgaW5kZW50YXRpb24gbGV2ZWwuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbbGV2ZWw9dW5kZWZpbmVkXSBpbmRlbnRhdGlvbiBsZXZlbCBtb2RpZmllclxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzZXF1ZW5jZSBvZiBzcGFjZXNcclxuICovXHJcbmZ1bmN0aW9uIGluZGVudChsZXZlbCkge1xyXG4gIHRoaXMubGV2ZWwgfHwgKHRoaXMubGV2ZWwgPSAxKTtcclxuXHJcbiAgaWYgKGxldmVsKSB7XHJcbiAgICB0aGlzLmxldmVsICs9IGxldmVsO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKF9jb21wcmVzcykgeyByZXR1cm4gJyc7IH1cclxuXHJcbiAgcmV0dXJuIEFycmF5KHRoaXMubGV2ZWwpLmpvaW4oX2luZGVudGF0aW9uIHx8ICcnKTtcclxufVxyXG5cclxuLy8gLS0gU3RyaW5naWZ5IEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZnkgYW4gQC1ydWxlIEFTVCBub2RlLlxyXG4gKlxyXG4gKiBVc2UgYHN0cmluZ2lmeUF0R3JvdXAoKWAgd2hlbiBkZWFsaW5nIHdpdGggQC1ncm91cHMgdGhhdCBtYXkgY29udGFpbiBibG9ja3NcclxuICogc3VjaCBhcyBAbWVkaWEuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEAtcnVsZSB0eXBlLiBFLmcuLCBpbXBvcnQsIGNoYXJzZXRcclxuICogQHJldHVybnMge1N0cmluZ30gU3RyaW5naWZpZWQgQC1ydWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlBdFJ1bGUobm9kZSkge1xyXG4gIHJldHVybiAnQCcgKyBub2RlLnR5cGUgKyAnICcgKyBub2RlLnZhbHVlICsgJzsnICsgX247XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZnkgYW4gQC1ncm91cCBBU1Qgbm9kZS5cclxuICpcclxuICogVXNlIGBzdHJpbmdpZnlBdFJ1bGUoKWAgd2hlbiBkZWFsaW5nIHdpdGggQC1ydWxlcyB0aGF0IG1heSBub3QgY29udGFpbiBibG9ja3NcclxuICogc3VjaCBhcyBAaW1wb3J0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBALWdyb3VwIEFTVCBub2RlXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlBdEdyb3VwKG5vZGUpIHtcclxuICB2YXIgbGFiZWwgPSAnJztcclxuICB2YXIgcHJlZml4ID0gbm9kZS5wcmVmaXggfHwgJyc7XHJcblxyXG4gIGlmIChub2RlLm5hbWUpIHtcclxuICAgIGxhYmVsID0gJyAnICsgbm9kZS5uYW1lO1xyXG4gIH1cclxuXHJcbiAgLy8gRklYTUU6IEAtcnVsZSBjb25kaXRpb25hbCBsb2dpYyBpcyBsZWFraW5nIGV2ZXJ5d2hlcmUuXHJcbiAgdmFyIGNob21wID0gbm9kZS50eXBlICE9PSAncGFnZSc7XHJcblxyXG4gIHJldHVybiAnQCcgKyBwcmVmaXggKyBub2RlLnR5cGUgKyBsYWJlbCArIF9zICsgc3RyaW5naWZ5QmxvY2sobm9kZSwgY2hvbXApICsgX247XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZnkgYSBjb21tZW50IEFTVCBub2RlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBjb21tZW50IEFTVCBub2RlXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlDb21tZW50KG5vZGUpIHtcclxuICBpZiAoIV9jb21tZW50cykgeyByZXR1cm4gJyc7IH1cclxuXHJcbiAgcmV0dXJuICcvKicgKyAobm9kZS50ZXh0IHx8ICcnKSArICcqLycgKyBfbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cmluZ2lmeSBhIHJ1bGUgQVNUIG5vZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIHJ1bGUgQVNUIG5vZGVcclxuICogQHJldHVybnMge1N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVJ1bGUobm9kZSkge1xyXG4gIHZhciBsYWJlbDtcclxuXHJcbiAgaWYgKG5vZGUuc2VsZWN0b3JzKSB7XHJcbiAgICBsYWJlbCA9IG5vZGUuc2VsZWN0b3JzLmpvaW4oJywnICsgX24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsYWJlbCA9ICdAJyArIG5vZGUudHlwZTtcclxuICAgIGxhYmVsICs9IG5vZGUubmFtZSA/ICcgJyArIG5vZGUubmFtZSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGluZGVudCgpICsgbGFiZWwgKyBfcyArIHN0cmluZ2lmeUJsb2NrKG5vZGUpICsgX247XHJcbn1cclxuXHJcblxyXG4vLyAtLSBTdHJpbmdpZnkgSGVscGVyIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLyoqXHJcbiAqIFJlZHVjZSBhbiBhcnJheSBieSBhcHBseWluZyBhIGZ1bmN0aW9uIHRvIGVhY2ggaXRlbSBhbmQgcmV0YWluaW5nIHRoZSB0cnV0aHlcclxuICogcmVzdWx0cy5cclxuICpcclxuICogV2hlbiBgaXRlbS50eXBlYCBpcyBgJ2NvbW1lbnQnYCBgc3RyaW5naWZ5Q29tbWVudGAgd2lsbCBiZSBhcHBsaWVkIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIGFycmF5IHRvIHJlZHVjZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5XHJcbiAqICAgQHJldHVybnMge01peGVkfSBUcnV0aHkgdmFsdWVzIHdpbGwgYmUgcmV0YWluZWQsIGZhbHN5IHZhbHVlcyBvbWl0dGVkXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gcmV0YWluZWQgcmVzdWx0c1xyXG4gKi9cclxuZnVuY3Rpb24gcmVkdWNlKGl0ZW1zLCBmbikge1xyXG4gIHJldHVybiBpdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdHMsIGl0ZW0pIHtcclxuICAgIHZhciByZXN1bHQgPSAoaXRlbS50eXBlID09PSAnY29tbWVudCcpID8gc3RyaW5naWZ5Q29tbWVudChpdGVtKSA6IGZuKGl0ZW0pO1xyXG4gICAgcmVzdWx0ICYmIHJlc3VsdHMucHVzaChyZXN1bHQpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgfSwgW10pO1xyXG59XHJcblxyXG4vKipcclxuICogU3RyaW5naWZ5IGFuIEFTVCBub2RlIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCByZXByZXNlbnRzIGEgYmxvY2sgb2ZcclxuICogZGVjbGFyYXRpb25zIG9yIG90aGVyIEAtZ3JvdXAgY29udGVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIEFTVCBub2RlXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xyXG4vLyBGSVhNRTogY2hvbXAgc2hvdWxkIG5vdCBiZSBhIG1hZ2ljIGJvb2xlYW4gcGFyYW1ldGVyXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeUJsb2NrKG5vZGUsIGNob21wKSB7XHJcbiAgdmFyIGNoaWxkcmVuID0gbm9kZS5kZWNsYXJhdGlvbnM7XHJcbiAgdmFyIGZuID0gc3RyaW5naWZ5RGVjbGFyYXRpb247XHJcblxyXG4gIGlmIChub2RlLnJ1bGVzKSB7XHJcbiAgICBjaGlsZHJlbiA9IG5vZGUucnVsZXM7XHJcbiAgICBmbiA9IHN0cmluZ2lmeVJ1bGU7XHJcbiAgfVxyXG5cclxuICBjaGlsZHJlbiA9IHN0cmluZ2lmeUNoaWxkcmVuKGNoaWxkcmVuLCBmbik7XHJcbiAgY2hpbGRyZW4gJiYgKGNoaWxkcmVuID0gX24gKyBjaGlsZHJlbiArIChjaG9tcCA/ICcnIDogX24pKTtcclxuXHJcbiAgcmV0dXJuICd7JyArIGNoaWxkcmVuICsgaW5kZW50KCkgKyAnfSc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdHJpbmdpZnkgYW4gYXJyYXkgb2YgY2hpbGQgQVNUIG5vZGVzIGJ5IGNhbGxpbmcgdGhlIGdpdmVuIHN0cmluZ2lmeSBmdW5jdGlvblxyXG4gKiBvbmNlIGZvciBlYWNoIGNoaWxkLCBhbmQgY29uY2F0ZW5hdGluZyB0aGUgcmVzdWx0cy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gY2hpbGRyZW4gYG5vZGUucnVsZXNgIG9yIGBub2RlLmRlY2xhcmF0aW9uc2BcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gc3RyaW5naWZ5IGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpbmdpZnlDaGlsZHJlbihjaGlsZHJlbiwgZm4pIHtcclxuICBpZiAoIWNoaWxkcmVuKSB7IHJldHVybiAnJzsgfVxyXG5cclxuICBpbmRlbnQoMSk7XHJcbiAgdmFyIHJlc3VsdHMgPSByZWR1Y2UoY2hpbGRyZW4sIGZuKTtcclxuICBpbmRlbnQoLTEpO1xyXG5cclxuICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7IHJldHVybiAnJzsgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0cy5qb2luKF9uKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cmluZ2lmeSBhIGRlY2xhcmF0aW9uIEFTVCBub2RlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbm9kZSBkZWNsYXJhdGlvbiBBU1Qgbm9kZVxyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5RGVjbGFyYXRpb24obm9kZSkge1xyXG4gIGlmIChub2RlLnR5cGUgPT09ICdwcm9wZXJ0eScpIHtcclxuICAgIHJldHVybiBzdHJpbmdpZnlQcm9wZXJ0eShub2RlKTtcclxuICB9XHJcblxyXG4gIERFQlVHICYmIGRlYnVnKCdzdHJpbmdpZnlEZWNsYXJhdGlvbjogdW5leHBlY3RlZCBub2RlOicsIEpTT04uc3RyaW5naWZ5KG5vZGUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cmluZ2lmeSBhbiBBU1Qgbm9kZS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgQVNUIG5vZGVcclxuICogQHJldHVybnMge1N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeU5vZGUobm9kZSkge1xyXG4gIHN3aXRjaCAobm9kZS50eXBlKSB7XHJcbiAgLy8gQ2FzZXMgYXJlIGxpc3RlZCBpbiByb3VnaGx5IGRlc2NlbmRpbmcgb3JkZXIgb2YgcHJvYmFiaWxpdHkuXHJcbiAgY2FzZSAncnVsZSc6IHJldHVybiBzdHJpbmdpZnlSdWxlKG5vZGUpO1xyXG5cclxuICBjYXNlICdtZWRpYScgICAgOlxyXG4gIGNhc2UgJ2tleWZyYW1lcyc6IHJldHVybiBzdHJpbmdpZnlBdEdyb3VwKG5vZGUpO1xyXG5cclxuICBjYXNlICdjb21tZW50JzogcmV0dXJuIHN0cmluZ2lmeUNvbW1lbnQobm9kZSk7XHJcblxyXG4gIGNhc2UgJ2ltcG9ydCcgICA6XHJcbiAgY2FzZSAnY2hhcnNldCcgIDpcclxuICBjYXNlICduYW1lc3BhY2UnOiByZXR1cm4gc3RyaW5naWZ5QXRSdWxlKG5vZGUpO1xyXG5cclxuICBjYXNlICdmb250LWZhY2UnOlxyXG4gIGNhc2UgJ3N1cHBvcnRzJyA6XHJcbiAgY2FzZSAndmlld3BvcnQnIDpcclxuICBjYXNlICdkb2N1bWVudCcgOlxyXG4gIGNhc2UgJ3BhZ2UnICAgICA6IHJldHVybiBzdHJpbmdpZnlBdEdyb3VwKG5vZGUpO1xyXG4gIH1cclxuXHJcbiAgREVCVUcgJiYgZGVidWcoJ3N0cmluZ2lmeU5vZGU6IHVuZXhwZWN0ZWQgbm9kZTogJyArIEpTT04uc3RyaW5naWZ5KG5vZGUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0cmluZ2lmeSBhbiBBU1QgcHJvcGVydHkgbm9kZS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG5vZGUgQVNUIHByb3BlcnR5IG5vZGVcclxuICogQHJldHVybnMge1N0cmluZ31cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeVByb3BlcnR5KG5vZGUpIHtcclxuICB2YXIgbmFtZSA9IG5vZGUubmFtZSA/IG5vZGUubmFtZSArICc6JyArIF9zIDogJyc7XHJcblxyXG4gIHJldHVybiBpbmRlbnQoKSArIG5hbWUgKyBub2RlLnZhbHVlICsgJzsnO1xyXG59XHJcbiIsIi8qXG5TbGljayBQYXJzZXJcbiAtIG9yaWdpbmFsbHkgY3JlYXRlZCBieSB0aGUgYWxtaWdodHkgVGhvbWFzIEF5bG90dCA8QHN1YnRsZWdyYWRpZW50PiAoaHR0cDovL3N1YnRsZWdyYWRpZW50LmNvbSlcbiovXCJ1c2Ugc3RyaWN0XCJcblxuLy8gTm90YWJsZSBjaGFuZ2VzIGZyb20gU2xpY2suUGFyc2VyIDEuMC54XG5cbi8vIFRoZSBwYXJzZXIgbm93IHVzZXMgMiBjbGFzc2VzOiBFeHByZXNzaW9ucyBhbmQgRXhwcmVzc2lvblxuLy8gYG5ldyBFeHByZXNzaW9uc2AgcHJvZHVjZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgY29udGFpbmluZyBhIGxpc3Qgb2YgRXhwcmVzc2lvbiBvYmplY3RzXG4vLyAtIEV4cHJlc3Npb25zOjp0b1N0cmluZygpIHByb2R1Y2VzIGEgY2xlYW5lZCB1cCBleHByZXNzaW9ucyBzdHJpbmdcbi8vIGBuZXcgRXhwcmVzc2lvbmAgcHJvZHVjZXMgYW4gYXJyYXktbGlrZSBvYmplY3Rcbi8vIC0gRXhwcmVzc2lvbjo6dG9TdHJpbmcoKSBwcm9kdWNlcyBhIGNsZWFuZWQgdXAgZXhwcmVzc2lvbiBzdHJpbmdcbi8vIFRoZSBvbmx5IGV4cG9zZWQgbWV0aG9kIGlzIHBhcnNlLCB3aGljaCBwcm9kdWNlcyBhIChjYWNoZWQpIGBuZXcgRXhwcmVzc2lvbnNgIGluc3RhbmNlXG4vLyBwYXJzZWQucmF3IGlzIG5vIGxvbmdlciBwcmVzZW50LCB1c2UgLnRvU3RyaW5nKClcbi8vIHBhcnNlZC5leHByZXNzaW9uIGlzIG5vdyB1c2VsZXNzLCBqdXN0IHVzZSB0aGUgaW5kaWNlc1xuLy8gcGFyc2VkLnJldmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkIGZvciBub3csIGR1ZSB0byBpdHMgYXBwYXJlbnQgdXNlbGVzc25lc3Ncbi8vIE90aGVyIGNoYW5nZXMgaW4gdGhlIEV4cHJlc3Npb25zIG9iamVjdDpcbi8vIC0gY2xhc3NOYW1lcyBhcmUgbm93IHVuaXF1ZSwgYW5kIHNhdmUgYm90aCBlc2NhcGVkIGFuZCB1bmVzY2FwZWQgdmFsdWVzXG4vLyAtIGF0dHJpYnV0ZXMgbm93IHNhdmUgYm90aCBlc2NhcGVkIGFuZCB1bmVzY2FwZWQgdmFsdWVzXG4vLyAtIHBzZXVkb3Mgbm93IHNhdmUgYm90aCBlc2NhcGVkIGFuZCB1bmVzY2FwZWQgdmFsdWVzXG5cbnZhciBlc2NhcGVSZSAgID0gLyhbLS4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdKS9nLFxuICAgIHVuZXNjYXBlUmUgPSAvXFxcXC9nXG5cbnZhciBlc2NhcGUgPSBmdW5jdGlvbihzdHJpbmcpe1xuICAgIC8vIFhSZWdFeHAgdjIuMC4wLWJldGEtM1xuICAgIC8vIMKrIGh0dHBzOi8vZ2l0aHViLmNvbS9zbGV2aXRoYW4vWFJlZ0V4cC9ibG9iL21hc3Rlci9zcmMveHJlZ2V4cC5qc1xuICAgIHJldHVybiAoc3RyaW5nICsgXCJcIikucmVwbGFjZShlc2NhcGVSZSwgJ1xcXFwkMScpXG59XG5cbnZhciB1bmVzY2FwZSA9IGZ1bmN0aW9uKHN0cmluZyl7XG4gICAgcmV0dXJuIChzdHJpbmcgKyBcIlwiKS5yZXBsYWNlKHVuZXNjYXBlUmUsICcnKVxufVxuXG52YXIgc2xpY2tSZSA9IFJlZ0V4cChcbi8qXG4jIS91c3IvYmluL2VudiBydWJ5XG5wdXRzIFwiXFx0XFx0XCIgKyBEQVRBLnJlYWQuZ3N1YigvXFwoXFw/eFxcKXxcXHMrIy4qJHxcXHMrfFxcXFwkfFxcXFxuLywnJylcbl9fRU5EX19cbiAgICBcIig/eCleKD86XFxcbiAgICAgIFxcXFxzKiAoICwgKSBcXFxccyogICAgICAgICAgICAgICAjIFNlcGFyYXRvciAgICAgICAgICBcXG5cXFxuICAgIHwgXFxcXHMqICggPGNvbWJpbmF0b3I+KyApIFxcXFxzKiAgICMgQ29tYmluYXRvciAgICAgICAgIFxcblxcXG4gICAgfCAgICAgICggXFxcXHMrICkgICAgICAgICAgICAgICAgICMgQ29tYmluYXRvckNoaWxkcmVuIFxcblxcXG4gICAgfCAgICAgICggPHVuaWNvZGU+KyB8IFxcXFwqICkgICAgICMgVGFnICAgICAgICAgICAgICAgIFxcblxcXG4gICAgfCBcXFxcIyAgKCA8dW5pY29kZT4rICAgICAgICkgICAgICMgSUQgICAgICAgICAgICAgICAgIFxcblxcXG4gICAgfCBcXFxcLiAgKCA8dW5pY29kZT4rICAgICAgICkgICAgICMgQ2xhc3NOYW1lICAgICAgICAgIFxcblxcXG4gICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIEF0dHJpYnV0ZSAgICAgICAgICBcXG5cXFxuICAgIFxcXFxbICBcXFxuICAgICAgICBcXFxccyogKDx1bmljb2RlMT4rKSAgKD86ICBcXFxuICAgICAgICAgICAgXFxcXHMqIChbKl4kIX58XT89KSAgKD86ICBcXFxuICAgICAgICAgICAgICAgIFxcXFxzKiAoPzpcXFxuICAgICAgICAgICAgICAgICAgICAoW1xcXCInXT8pKC4qPylcXFxcOSBcXFxuICAgICAgICAgICAgICAgIClcXFxuICAgICAgICAgICAgKSAgXFxcbiAgICAgICAgKT8gIFxcXFxzKiAgXFxcbiAgICBcXFxcXSg/IVxcXFxdKSBcXG5cXFxuICAgIHwgICA6KyAoIDx1bmljb2RlPisgKSg/OlxcXG4gICAgXFxcXCggKD86XFxcbiAgICAgICAgKD86KFtcXFwiJ10pKFteXFxcXDEyXSopXFxcXDEyKXwoKD86XFxcXChbXildK1xcXFwpfFteKCldKikrKVxcXG4gICAgKSBcXFxcKVxcXG4gICAgKT9cXFxuICAgIClcIlxuKi9cblwiXig/OlxcXFxzKigsKVxcXFxzKnxcXFxccyooPGNvbWJpbmF0b3I+KylcXFxccyp8KFxcXFxzKyl8KDx1bmljb2RlPit8XFxcXCopfFxcXFwjKDx1bmljb2RlPispfFxcXFwuKDx1bmljb2RlPispfFxcXFxbXFxcXHMqKDx1bmljb2RlMT4rKSg/OlxcXFxzKihbKl4kIX58XT89KSg/OlxcXFxzKig/OihbXFxcIiddPykoLio/KVxcXFw5KSkpP1xcXFxzKlxcXFxdKD8hXFxcXF0pfCg6KykoPHVuaWNvZGU+KykoPzpcXFxcKCg/Oig/OihbXFxcIiddKShbXlxcXFwxM10qKVxcXFwxMyl8KCg/OlxcXFwoW14pXStcXFxcKXxbXigpXSopKykpXFxcXCkpPylcIlxuICAgIC5yZXBsYWNlKC88Y29tYmluYXRvcj4vLCAnWycgKyBlc2NhcGUoXCI+K35gIUAkJV4mPXt9XFxcXDs8L1wiKSArICddJylcbiAgICAucmVwbGFjZSgvPHVuaWNvZGU+L2csICcoPzpbXFxcXHdcXFxcdTAwYTEtXFxcXHVGRkZGLV18XFxcXFxcXFxbXlxcXFxzMC05YS1mXSknKVxuICAgIC5yZXBsYWNlKC88dW5pY29kZTE+L2csICcoPzpbOlxcXFx3XFxcXHUwMGExLVxcXFx1RkZGRi1dfFxcXFxcXFxcW15cXFxcczAtOWEtZl0pJylcbilcblxuLy8gUGFydFxuXG52YXIgUGFydCA9IGZ1bmN0aW9uIFBhcnQoY29tYmluYXRvcil7XG4gICAgdGhpcy5jb21iaW5hdG9yID0gY29tYmluYXRvciB8fCBcIiBcIlxuICAgIHRoaXMudGFnID0gXCIqXCJcbn1cblxuUGFydC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpe1xuXG4gICAgaWYgKCF0aGlzLnJhdyl7XG5cbiAgICAgICAgdmFyIHhwciA9IFwiXCIsIGssIHBhcnRcblxuICAgICAgICB4cHIgKz0gdGhpcy50YWcgfHwgXCIqXCJcbiAgICAgICAgaWYgKHRoaXMuaWQpIHhwciArPSBcIiNcIiArIHRoaXMuaWRcbiAgICAgICAgaWYgKHRoaXMuY2xhc3NlcykgeHByICs9IFwiLlwiICsgdGhpcy5jbGFzc0xpc3Quam9pbihcIi5cIilcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlcykgZm9yIChrID0gMDsgcGFydCA9IHRoaXMuYXR0cmlidXRlc1trKytdOyl7XG4gICAgICAgICAgICB4cHIgKz0gXCJbXCIgKyBwYXJ0Lm5hbWUgKyAocGFydC5vcGVyYXRvciA/IHBhcnQub3BlcmF0b3IgKyAnXCInICsgcGFydC52YWx1ZSArICdcIicgOiAnJykgKyBcIl1cIlxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBzZXVkb3MpIGZvciAoayA9IDA7IHBhcnQgPSB0aGlzLnBzZXVkb3NbaysrXTspe1xuICAgICAgICAgICAgeHByICs9IFwiOlwiICsgcGFydC5uYW1lXG4gICAgICAgICAgICBpZiAocGFydC52YWx1ZSkgeHByICs9IFwiKFwiICsgcGFydC52YWx1ZSArIFwiKVwiXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJhdyA9IHhwclxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucmF3XG59XG5cbi8vIEV4cHJlc3Npb25cblxudmFyIEV4cHJlc3Npb24gPSBmdW5jdGlvbiBFeHByZXNzaW9uKCl7XG4gICAgdGhpcy5sZW5ndGggPSAwXG59XG5cbkV4cHJlc3Npb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKXtcblxuICAgIGlmICghdGhpcy5yYXcpe1xuXG4gICAgICAgIHZhciB4cHIgPSBcIlwiXG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGJpdDsgYml0ID0gdGhpc1tqKytdOyl7XG4gICAgICAgICAgICBpZiAoaiAhPT0gMSkgeHByICs9IFwiIFwiXG4gICAgICAgICAgICBpZiAoYml0LmNvbWJpbmF0b3IgIT09IFwiIFwiKSB4cHIgKz0gYml0LmNvbWJpbmF0b3IgKyBcIiBcIlxuICAgICAgICAgICAgeHByICs9IGJpdFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yYXcgPSB4cHJcblxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJhd1xufVxuXG52YXIgcmVwbGFjZXIgPSBmdW5jdGlvbihcbiAgICByYXdNYXRjaCxcblxuICAgIHNlcGFyYXRvcixcbiAgICBjb21iaW5hdG9yLFxuICAgIGNvbWJpbmF0b3JDaGlsZHJlbixcblxuICAgIHRhZ05hbWUsXG4gICAgaWQsXG4gICAgY2xhc3NOYW1lLFxuXG4gICAgYXR0cmlidXRlS2V5LFxuICAgIGF0dHJpYnV0ZU9wZXJhdG9yLFxuICAgIGF0dHJpYnV0ZVF1b3RlLFxuICAgIGF0dHJpYnV0ZVZhbHVlLFxuXG4gICAgcHNldWRvTWFya2VyLFxuICAgIHBzZXVkb0NsYXNzLFxuICAgIHBzZXVkb1F1b3RlLFxuICAgIHBzZXVkb0NsYXNzUXVvdGVkVmFsdWUsXG4gICAgcHNldWRvQ2xhc3NWYWx1ZVxuKXtcblxuICAgIHZhciBleHByZXNzaW9uLCBjdXJyZW50XG5cbiAgICBpZiAoc2VwYXJhdG9yIHx8ICF0aGlzLmxlbmd0aCl7XG4gICAgICAgIGV4cHJlc3Npb24gPSB0aGlzW3RoaXMubGVuZ3RoKytdID0gbmV3IEV4cHJlc3Npb25cbiAgICAgICAgaWYgKHNlcGFyYXRvcikgcmV0dXJuICcnXG4gICAgfVxuXG4gICAgaWYgKCFleHByZXNzaW9uKSBleHByZXNzaW9uID0gdGhpc1t0aGlzLmxlbmd0aCAtIDFdXG5cbiAgICBpZiAoY29tYmluYXRvciB8fCBjb21iaW5hdG9yQ2hpbGRyZW4gfHwgIWV4cHJlc3Npb24ubGVuZ3RoKXtcbiAgICAgICAgY3VycmVudCA9IGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGgrK10gPSBuZXcgUGFydChjb21iaW5hdG9yKVxuICAgIH1cblxuICAgIGlmICghY3VycmVudCkgY3VycmVudCA9IGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGggLSAxXVxuXG4gICAgaWYgKHRhZ05hbWUpe1xuXG4gICAgICAgIGN1cnJlbnQudGFnID0gdW5lc2NhcGUodGFnTmFtZSlcblxuICAgIH0gZWxzZSBpZiAoaWQpe1xuXG4gICAgICAgIGN1cnJlbnQuaWQgPSB1bmVzY2FwZShpZClcblxuICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lKXtcblxuICAgICAgICB2YXIgdW5lc2NhcGVkID0gdW5lc2NhcGUoY2xhc3NOYW1lKVxuXG4gICAgICAgIHZhciBjbGFzc2VzID0gY3VycmVudC5jbGFzc2VzIHx8IChjdXJyZW50LmNsYXNzZXMgPSB7fSlcbiAgICAgICAgaWYgKCFjbGFzc2VzW3VuZXNjYXBlZF0pe1xuICAgICAgICAgICAgY2xhc3Nlc1t1bmVzY2FwZWRdID0gZXNjYXBlKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIHZhciBjbGFzc0xpc3QgPSBjdXJyZW50LmNsYXNzTGlzdCB8fCAoY3VycmVudC5jbGFzc0xpc3QgPSBbXSlcbiAgICAgICAgICAgIGNsYXNzTGlzdC5wdXNoKHVuZXNjYXBlZClcbiAgICAgICAgICAgIGNsYXNzTGlzdC5zb3J0KClcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChwc2V1ZG9DbGFzcyl7XG5cbiAgICAgICAgcHNldWRvQ2xhc3NWYWx1ZSA9IHBzZXVkb0NsYXNzVmFsdWUgfHwgcHNldWRvQ2xhc3NRdW90ZWRWYWx1ZVxuXG4gICAgICAgIDsoY3VycmVudC5wc2V1ZG9zIHx8IChjdXJyZW50LnBzZXVkb3MgPSBbXSkpLnB1c2goe1xuICAgICAgICAgICAgdHlwZSAgICAgICAgIDogcHNldWRvTWFya2VyLmxlbmd0aCA9PSAxID8gJ2NsYXNzJyA6ICdlbGVtZW50JyxcbiAgICAgICAgICAgIG5hbWUgICAgICAgICA6IHVuZXNjYXBlKHBzZXVkb0NsYXNzKSxcbiAgICAgICAgICAgIGVzY2FwZWROYW1lICA6IGVzY2FwZShwc2V1ZG9DbGFzcyksXG4gICAgICAgICAgICB2YWx1ZSAgICAgICAgOiBwc2V1ZG9DbGFzc1ZhbHVlID8gdW5lc2NhcGUocHNldWRvQ2xhc3NWYWx1ZSkgOiBudWxsLFxuICAgICAgICAgICAgZXNjYXBlZFZhbHVlIDogcHNldWRvQ2xhc3NWYWx1ZSA/IGVzY2FwZShwc2V1ZG9DbGFzc1ZhbHVlKSA6IG51bGxcbiAgICAgICAgfSlcblxuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlS2V5KXtcblxuICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZVZhbHVlID8gZXNjYXBlKGF0dHJpYnV0ZVZhbHVlKSA6IG51bGxcblxuICAgICAgICA7KGN1cnJlbnQuYXR0cmlidXRlcyB8fCAoY3VycmVudC5hdHRyaWJ1dGVzID0gW10pKS5wdXNoKHtcbiAgICAgICAgICAgIG9wZXJhdG9yICAgICA6IGF0dHJpYnV0ZU9wZXJhdG9yLFxuICAgICAgICAgICAgbmFtZSAgICAgICAgIDogdW5lc2NhcGUoYXR0cmlidXRlS2V5KSxcbiAgICAgICAgICAgIGVzY2FwZWROYW1lICA6IGVzY2FwZShhdHRyaWJ1dGVLZXkpLFxuICAgICAgICAgICAgdmFsdWUgICAgICAgIDogYXR0cmlidXRlVmFsdWUgPyB1bmVzY2FwZShhdHRyaWJ1dGVWYWx1ZSkgOiBudWxsLFxuICAgICAgICAgICAgZXNjYXBlZFZhbHVlIDogYXR0cmlidXRlVmFsdWUgPyBlc2NhcGUoYXR0cmlidXRlVmFsdWUpIDogbnVsbFxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgcmV0dXJuICcnXG5cbn1cblxuLy8gRXhwcmVzc2lvbnNcblxudmFyIEV4cHJlc3Npb25zID0gZnVuY3Rpb24gRXhwcmVzc2lvbnMoZXhwcmVzc2lvbil7XG4gICAgdGhpcy5sZW5ndGggPSAwXG5cbiAgICB2YXIgc2VsZiA9IHRoaXNcblxuICAgIHZhciBvcmlnaW5hbCA9IGV4cHJlc3Npb24sIHJlcGxhY2VkXG5cbiAgICB3aGlsZSAoZXhwcmVzc2lvbil7XG4gICAgICAgIHJlcGxhY2VkID0gZXhwcmVzc2lvbi5yZXBsYWNlKHNsaWNrUmUsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxuICAgICAgICB9KVxuICAgICAgICBpZiAocmVwbGFjZWQgPT09IGV4cHJlc3Npb24pIHRocm93IG5ldyBFcnJvcihvcmlnaW5hbCArICcgaXMgYW4gaW52YWxpZCBleHByZXNzaW9uJylcbiAgICAgICAgZXhwcmVzc2lvbiA9IHJlcGxhY2VkXG4gICAgfVxufVxuXG5FeHByZXNzaW9ucy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpe1xuICAgIGlmICghdGhpcy5yYXcpe1xuICAgICAgICB2YXIgZXhwcmVzc2lvbnMgPSBbXVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgZXhwcmVzc2lvbjsgZXhwcmVzc2lvbiA9IHRoaXNbaSsrXTspIGV4cHJlc3Npb25zLnB1c2goZXhwcmVzc2lvbilcbiAgICAgICAgdGhpcy5yYXcgPSBleHByZXNzaW9ucy5qb2luKFwiLCBcIilcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yYXdcbn1cblxudmFyIGNhY2hlID0ge31cblxudmFyIHBhcnNlID0gZnVuY3Rpb24oZXhwcmVzc2lvbil7XG4gICAgaWYgKGV4cHJlc3Npb24gPT0gbnVsbCkgcmV0dXJuIG51bGxcbiAgICBleHByZXNzaW9uID0gKCcnICsgZXhwcmVzc2lvbikucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG4gICAgcmV0dXJuIGNhY2hlW2V4cHJlc3Npb25dIHx8IChjYWNoZVtleHByZXNzaW9uXSA9IG5ldyBFeHByZXNzaW9ucyhleHByZXNzaW9uKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVxuIiwiLy8gVGlueUNvbG9yIHYxLjQuMVxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmdyaW5zL1RpbnlDb2xvclxyXG4vLyBCcmlhbiBHcmluc3RlYWQsIE1JVCBMaWNlbnNlXHJcblxyXG4oZnVuY3Rpb24oTWF0aCkge1xyXG5cclxudmFyIHRyaW1MZWZ0ID0gL15cXHMrLyxcclxuICAgIHRyaW1SaWdodCA9IC9cXHMrJC8sXHJcbiAgICB0aW55Q291bnRlciA9IDAsXHJcbiAgICBtYXRoUm91bmQgPSBNYXRoLnJvdW5kLFxyXG4gICAgbWF0aE1pbiA9IE1hdGgubWluLFxyXG4gICAgbWF0aE1heCA9IE1hdGgubWF4LFxyXG4gICAgbWF0aFJhbmRvbSA9IE1hdGgucmFuZG9tO1xyXG5cclxuZnVuY3Rpb24gdGlueWNvbG9yIChjb2xvciwgb3B0cykge1xyXG5cclxuICAgIGNvbG9yID0gKGNvbG9yKSA/IGNvbG9yIDogJyc7XHJcbiAgICBvcHRzID0gb3B0cyB8fCB7IH07XHJcblxyXG4gICAgLy8gSWYgaW5wdXQgaXMgYWxyZWFkeSBhIHRpbnljb2xvciwgcmV0dXJuIGl0c2VsZlxyXG4gICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgdGlueWNvbG9yKSB7XHJcbiAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICAvLyBJZiB3ZSBhcmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGNhbGwgdXNpbmcgbmV3IGluc3RlYWRcclxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiB0aW55Y29sb3IpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aW55Y29sb3IoY29sb3IsIG9wdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZ2IgPSBpbnB1dFRvUkdCKGNvbG9yKTtcclxuICAgIHRoaXMuX29yaWdpbmFsSW5wdXQgPSBjb2xvcixcclxuICAgIHRoaXMuX3IgPSByZ2IucixcclxuICAgIHRoaXMuX2cgPSByZ2IuZyxcclxuICAgIHRoaXMuX2IgPSByZ2IuYixcclxuICAgIHRoaXMuX2EgPSByZ2IuYSxcclxuICAgIHRoaXMuX3JvdW5kQSA9IG1hdGhSb3VuZCgxMDAqdGhpcy5fYSkgLyAxMDAsXHJcbiAgICB0aGlzLl9mb3JtYXQgPSBvcHRzLmZvcm1hdCB8fCByZ2IuZm9ybWF0O1xyXG4gICAgdGhpcy5fZ3JhZGllbnRUeXBlID0gb3B0cy5ncmFkaWVudFR5cGU7XHJcblxyXG4gICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cclxuICAgIC8vIFBvdGVudGlhbGx5IGxvc2UgYSBsaXR0bGUgYml0IG9mIHByZWNpc2lvbiBoZXJlLCBidXQgd2lsbCBmaXggaXNzdWVzIHdoZXJlXHJcbiAgICAvLyAuNSBnZXRzIGludGVycHJldGVkIGFzIGhhbGYgb2YgdGhlIHRvdGFsLCBpbnN0ZWFkIG9mIGhhbGYgb2YgMVxyXG4gICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxyXG4gICAgaWYgKHRoaXMuX3IgPCAxKSB7IHRoaXMuX3IgPSBtYXRoUm91bmQodGhpcy5fcik7IH1cclxuICAgIGlmICh0aGlzLl9nIDwgMSkgeyB0aGlzLl9nID0gbWF0aFJvdW5kKHRoaXMuX2cpOyB9XHJcbiAgICBpZiAodGhpcy5fYiA8IDEpIHsgdGhpcy5fYiA9IG1hdGhSb3VuZCh0aGlzLl9iKTsgfVxyXG5cclxuICAgIHRoaXMuX29rID0gcmdiLm9rO1xyXG4gICAgdGhpcy5fdGNfaWQgPSB0aW55Q291bnRlcisrO1xyXG59XHJcblxyXG50aW55Y29sb3IucHJvdG90eXBlID0ge1xyXG4gICAgaXNEYXJrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCkgPCAxMjg7XHJcbiAgICB9LFxyXG4gICAgaXNMaWdodDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzRGFyaygpO1xyXG4gICAgfSxcclxuICAgIGlzVmFsaWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9vaztcclxuICAgIH0sXHJcbiAgICBnZXRPcmlnaW5hbElucHV0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX29yaWdpbmFsSW5wdXQ7XHJcbiAgICB9LFxyXG4gICAgZ2V0Rm9ybWF0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybWF0O1xyXG4gICAgfSxcclxuICAgIGdldEFscGhhOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYTtcclxuICAgIH0sXHJcbiAgICBnZXRCcmlnaHRuZXNzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL2h0dHA6Ly93d3cudzMub3JnL1RSL0FFUlQjY29sb3ItY29udHJhc3RcclxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xyXG4gICAgICAgIHJldHVybiAocmdiLnIgKiAyOTkgKyByZ2IuZyAqIDU4NyArIHJnYi5iICogMTE0KSAvIDEwMDA7XHJcbiAgICB9LFxyXG4gICAgZ2V0THVtaW5hbmNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvL2h0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcclxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xyXG4gICAgICAgIHZhciBSc1JHQiwgR3NSR0IsIEJzUkdCLCBSLCBHLCBCO1xyXG4gICAgICAgIFJzUkdCID0gcmdiLnIvMjU1O1xyXG4gICAgICAgIEdzUkdCID0gcmdiLmcvMjU1O1xyXG4gICAgICAgIEJzUkdCID0gcmdiLmIvMjU1O1xyXG5cclxuICAgICAgICBpZiAoUnNSR0IgPD0gMC4wMzkyOCkge1IgPSBSc1JHQiAvIDEyLjkyO30gZWxzZSB7UiA9IE1hdGgucG93KCgoUnNSR0IgKyAwLjA1NSkgLyAxLjA1NSksIDIuNCk7fVxyXG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7RyA9IEdzUkdCIC8gMTIuOTI7fSBlbHNlIHtHID0gTWF0aC5wb3coKChHc1JHQiArIDAuMDU1KSAvIDEuMDU1KSwgMi40KTt9XHJcbiAgICAgICAgaWYgKEJzUkdCIDw9IDAuMDM5MjgpIHtCID0gQnNSR0IgLyAxMi45Mjt9IGVsc2Uge0IgPSBNYXRoLnBvdygoKEJzUkdCICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO31cclxuICAgICAgICByZXR1cm4gKDAuMjEyNiAqIFIpICsgKDAuNzE1MiAqIEcpICsgKDAuMDcyMiAqIEIpO1xyXG4gICAgfSxcclxuICAgIHNldEFscGhhOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2EgPSBib3VuZEFscGhhKHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9yb3VuZEEgPSBtYXRoUm91bmQoMTAwKnRoaXMuX2EpIC8gMTAwO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuICAgIHRvSHN2OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaHN2ID0gcmdiVG9Ic3YodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogaHN2LmggKiAzNjAsIHM6IGhzdi5zLCB2OiBoc3YudiwgYTogdGhpcy5fYSB9O1xyXG4gICAgfSxcclxuICAgIHRvSHN2U3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaHN2ID0gcmdiVG9Ic3YodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XHJcbiAgICAgICAgdmFyIGggPSBtYXRoUm91bmQoaHN2LmggKiAzNjApLCBzID0gbWF0aFJvdW5kKGhzdi5zICogMTAwKSwgdiA9IG1hdGhSb3VuZChoc3YudiAqIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cclxuICAgICAgICAgIFwiaHN2KFwiICArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIHYgKyBcIiUpXCIgOlxyXG4gICAgICAgICAgXCJoc3ZhKFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSwgXCIrIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xyXG4gICAgfSxcclxuICAgIHRvSHNsOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogaHNsLmggKiAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCwgYTogdGhpcy5fYSB9O1xyXG4gICAgfSxcclxuICAgIHRvSHNsU3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYik7XHJcbiAgICAgICAgdmFyIGggPSBtYXRoUm91bmQoaHNsLmggKiAzNjApLCBzID0gbWF0aFJvdW5kKGhzbC5zICogMTAwKSwgbCA9IG1hdGhSb3VuZChoc2wubCAqIDEwMCk7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cclxuICAgICAgICAgIFwiaHNsKFwiICArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUpXCIgOlxyXG4gICAgICAgICAgXCJoc2xhKFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgbCArIFwiJSwgXCIrIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xyXG4gICAgfSxcclxuICAgIHRvSGV4OiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJnYlRvSGV4KHRoaXMuX3IsIHRoaXMuX2csIHRoaXMuX2IsIGFsbG93M0NoYXIpO1xyXG4gICAgfSxcclxuICAgIHRvSGV4U3RyaW5nOiBmdW5jdGlvbihhbGxvdzNDaGFyKSB7XHJcbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXgoYWxsb3czQ2hhcik7XHJcbiAgICB9LFxyXG4gICAgdG9IZXg4OiBmdW5jdGlvbihhbGxvdzRDaGFyKSB7XHJcbiAgICAgICAgcmV0dXJuIHJnYmFUb0hleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCB0aGlzLl9hLCBhbGxvdzRDaGFyKTtcclxuICAgIH0sXHJcbiAgICB0b0hleDhTdHJpbmc6IGZ1bmN0aW9uKGFsbG93NENoYXIpIHtcclxuICAgICAgICByZXR1cm4gJyMnICsgdGhpcy50b0hleDgoYWxsb3c0Q2hhcik7XHJcbiAgICB9LFxyXG4gICAgdG9SZ2I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7IHI6IG1hdGhSb3VuZCh0aGlzLl9yKSwgZzogbWF0aFJvdW5kKHRoaXMuX2cpLCBiOiBtYXRoUm91bmQodGhpcy5fYiksIGE6IHRoaXMuX2EgfTtcclxuICAgIH0sXHJcbiAgICB0b1JnYlN0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cclxuICAgICAgICAgIFwicmdiKFwiICArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiKVwiIDpcclxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZCh0aGlzLl9yKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9nKSArIFwiLCBcIiArIG1hdGhSb3VuZCh0aGlzLl9iKSArIFwiLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xyXG4gICAgfSxcclxuICAgIHRvUGVyY2VudGFnZVJnYjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fciwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgZzogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fZywgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYjogbWF0aFJvdW5kKGJvdW5kMDEodGhpcy5fYiwgMjU1KSAqIDEwMCkgKyBcIiVcIiwgYTogdGhpcy5fYSB9O1xyXG4gICAgfSxcclxuICAgIHRvUGVyY2VudGFnZVJnYlN0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hID09IDEpID9cclxuICAgICAgICAgIFwicmdiKFwiICArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlKVwiIDpcclxuICAgICAgICAgIFwicmdiYShcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX3IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2csIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIG1hdGhSb3VuZChib3VuZDAxKHRoaXMuX2IsIDI1NSkgKiAxMDApICsgXCIlLCBcIiArIHRoaXMuX3JvdW5kQSArIFwiKVwiO1xyXG4gICAgfSxcclxuICAgIHRvTmFtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2EgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNwYXJlbnRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9hIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGV4TmFtZXNbcmdiVG9IZXgodGhpcy5fciwgdGhpcy5fZywgdGhpcy5fYiwgdHJ1ZSldIHx8IGZhbHNlO1xyXG4gICAgfSxcclxuICAgIHRvRmlsdGVyOiBmdW5jdGlvbihzZWNvbmRDb2xvcikge1xyXG4gICAgICAgIHZhciBoZXg4U3RyaW5nID0gJyMnICsgcmdiYVRvQXJnYkhleCh0aGlzLl9yLCB0aGlzLl9nLCB0aGlzLl9iLCB0aGlzLl9hKTtcclxuICAgICAgICB2YXIgc2Vjb25kSGV4OFN0cmluZyA9IGhleDhTdHJpbmc7XHJcbiAgICAgICAgdmFyIGdyYWRpZW50VHlwZSA9IHRoaXMuX2dyYWRpZW50VHlwZSA/IFwiR3JhZGllbnRUeXBlID0gMSwgXCIgOiBcIlwiO1xyXG5cclxuICAgICAgICBpZiAoc2Vjb25kQ29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIHMgPSB0aW55Y29sb3Ioc2Vjb25kQ29sb3IpO1xyXG4gICAgICAgICAgICBzZWNvbmRIZXg4U3RyaW5nID0gJyMnICsgcmdiYVRvQXJnYkhleChzLl9yLCBzLl9nLCBzLl9iLCBzLl9hKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChcIitncmFkaWVudFR5cGUrXCJzdGFydENvbG9yc3RyPVwiK2hleDhTdHJpbmcrXCIsZW5kQ29sb3JzdHI9XCIrc2Vjb25kSGV4OFN0cmluZytcIilcIjtcclxuICAgIH0sXHJcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdFNldCA9ICEhZm9ybWF0O1xyXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCB0aGlzLl9mb3JtYXQ7XHJcblxyXG4gICAgICAgIHZhciBmb3JtYXR0ZWRTdHJpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGFzQWxwaGEgPSB0aGlzLl9hIDwgMSAmJiB0aGlzLl9hID49IDA7XHJcbiAgICAgICAgdmFyIG5lZWRzQWxwaGFGb3JtYXQgPSAhZm9ybWF0U2V0ICYmIGhhc0FscGhhICYmIChmb3JtYXQgPT09IFwiaGV4XCIgfHwgZm9ybWF0ID09PSBcImhleDZcIiB8fCBmb3JtYXQgPT09IFwiaGV4M1wiIHx8IGZvcm1hdCA9PT0gXCJoZXg0XCIgfHwgZm9ybWF0ID09PSBcImhleDhcIiB8fCBmb3JtYXQgPT09IFwibmFtZVwiKTtcclxuXHJcbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcclxuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBcInRyYW5zcGFyZW50XCIsIGFsbCBvdGhlciBub24tYWxwaGEgZm9ybWF0c1xyXG4gICAgICAgICAgICAvLyB3aWxsIHJldHVybiByZ2JhIHdoZW4gdGhlcmUgaXMgdHJhbnNwYXJlbmN5LlxyXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSBcIm5hbWVcIiAmJiB0aGlzLl9hID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b05hbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcInJnYlwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9SZ2JTdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJwcmdiXCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b1BlcmNlbnRhZ2VSZ2JTdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXhcIiB8fCBmb3JtYXQgPT09IFwiaGV4NlwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXhTdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXgzXCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleFN0cmluZyh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gXCJoZXg0XCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaGV4OFwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9IZXg4U3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwibmFtZVwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9OYW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwiaHNsXCIpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZm9ybWF0ID09PSBcImhzdlwiKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZyA9IHRoaXMudG9Ic3ZTdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWRTdHJpbmcgfHwgdGhpcy50b0hleFN0cmluZygpO1xyXG4gICAgfSxcclxuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGlueWNvbG9yKHRoaXMudG9TdHJpbmcoKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIF9hcHBseU1vZGlmaWNhdGlvbjogZnVuY3Rpb24oZm4sIGFyZ3MpIHtcclxuICAgICAgICB2YXIgY29sb3IgPSBmbi5hcHBseShudWxsLCBbdGhpc10uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncykpKTtcclxuICAgICAgICB0aGlzLl9yID0gY29sb3IuX3I7XHJcbiAgICAgICAgdGhpcy5fZyA9IGNvbG9yLl9nO1xyXG4gICAgICAgIHRoaXMuX2IgPSBjb2xvci5fYjtcclxuICAgICAgICB0aGlzLnNldEFscGhhKGNvbG9yLl9hKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBsaWdodGVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24obGlnaHRlbiwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBicmlnaHRlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGJyaWdodGVuLCBhcmd1bWVudHMpO1xyXG4gICAgfSxcclxuICAgIGRhcmtlbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGRhcmtlbiwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBkZXNhdHVyYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oZGVzYXR1cmF0ZSwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBzYXR1cmF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKHNhdHVyYXRlLCBhcmd1bWVudHMpO1xyXG4gICAgfSxcclxuICAgIGdyZXlzY2FsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5TW9kaWZpY2F0aW9uKGdyZXlzY2FsZSwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBzcGluOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlNb2RpZmljYXRpb24oc3BpbiwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcblxyXG4gICAgX2FwcGx5Q29tYmluYXRpb246IGZ1bmN0aW9uKGZuLCBhcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIFt0aGlzXS5jb25jYXQoW10uc2xpY2UuY2FsbChhcmdzKSkpO1xyXG4gICAgfSxcclxuICAgIGFuYWxvZ291czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24oYW5hbG9nb3VzLCBhcmd1bWVudHMpO1xyXG4gICAgfSxcclxuICAgIGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKGNvbXBsZW1lbnQsIGFyZ3VtZW50cyk7XHJcbiAgICB9LFxyXG4gICAgbW9ub2Nocm9tYXRpYzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24obW9ub2Nocm9tYXRpYywgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICBzcGxpdGNvbXBsZW1lbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBseUNvbWJpbmF0aW9uKHNwbGl0Y29tcGxlbWVudCwgYXJndW1lbnRzKTtcclxuICAgIH0sXHJcbiAgICB0cmlhZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGx5Q29tYmluYXRpb24odHJpYWQsIGFyZ3VtZW50cyk7XHJcbiAgICB9LFxyXG4gICAgdGV0cmFkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBwbHlDb21iaW5hdGlvbih0ZXRyYWQsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyBJZiBpbnB1dCBpcyBhbiBvYmplY3QsIGZvcmNlIDEgaW50byBcIjEuMFwiIHRvIGhhbmRsZSByYXRpb3MgcHJvcGVybHlcclxuLy8gU3RyaW5nIGlucHV0IHJlcXVpcmVzIFwiMS4wXCIgYXMgaW5wdXQsIHNvIDEgd2lsbCBiZSB0cmVhdGVkIGFzIDFcclxudGlueWNvbG9yLmZyb21SYXRpbyA9IGZ1bmN0aW9uKGNvbG9yLCBvcHRzKSB7XHJcbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICB2YXIgbmV3Q29sb3IgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpIGluIGNvbG9yKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2xvci5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IFwiYVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29sb3JbaV0gPSBjb2xvcltpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbG9yW2ldID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvcltpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29sb3IgPSBuZXdDb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yLCBvcHRzKTtcclxufTtcclxuXHJcbi8vIEdpdmVuIGEgc3RyaW5nIG9yIG9iamVjdCwgY29udmVydCB0aGF0IGlucHV0IHRvIFJHQlxyXG4vLyBQb3NzaWJsZSBzdHJpbmcgaW5wdXRzOlxyXG4vL1xyXG4vLyAgICAgXCJyZWRcIlxyXG4vLyAgICAgXCIjZjAwXCIgb3IgXCJmMDBcIlxyXG4vLyAgICAgXCIjZmYwMDAwXCIgb3IgXCJmZjAwMDBcIlxyXG4vLyAgICAgXCIjZmYwMDAwMDBcIiBvciBcImZmMDAwMDAwXCJcclxuLy8gICAgIFwicmdiIDI1NSAwIDBcIiBvciBcInJnYiAoMjU1LCAwLCAwKVwiXHJcbi8vICAgICBcInJnYiAxLjAgMCAwXCIgb3IgXCJyZ2IgKDEsIDAsIDApXCJcclxuLy8gICAgIFwicmdiYSAoMjU1LCAwLCAwLCAxKVwiIG9yIFwicmdiYSAyNTUsIDAsIDAsIDFcIlxyXG4vLyAgICAgXCJyZ2JhICgxLjAsIDAsIDAsIDEpXCIgb3IgXCJyZ2JhIDEuMCwgMCwgMCwgMVwiXHJcbi8vICAgICBcImhzbCgwLCAxMDAlLCA1MCUpXCIgb3IgXCJoc2wgMCAxMDAlIDUwJVwiXHJcbi8vICAgICBcImhzbGEoMCwgMTAwJSwgNTAlLCAxKVwiIG9yIFwiaHNsYSAwIDEwMCUgNTAlLCAxXCJcclxuLy8gICAgIFwiaHN2KDAsIDEwMCUsIDEwMCUpXCIgb3IgXCJoc3YgMCAxMDAlIDEwMCVcIlxyXG4vL1xyXG5mdW5jdGlvbiBpbnB1dFRvUkdCKGNvbG9yKSB7XHJcblxyXG4gICAgdmFyIHJnYiA9IHsgcjogMCwgZzogMCwgYjogMCB9O1xyXG4gICAgdmFyIGEgPSAxO1xyXG4gICAgdmFyIHMgPSBudWxsO1xyXG4gICAgdmFyIHYgPSBudWxsO1xyXG4gICAgdmFyIGwgPSBudWxsO1xyXG4gICAgdmFyIG9rID0gZmFsc2U7XHJcbiAgICB2YXIgZm9ybWF0ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb2xvciA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgY29sb3IgPSBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbG9yID09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IucikgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IuZykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IuYikpIHtcclxuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XHJcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9ybWF0ID0gU3RyaW5nKGNvbG9yLnIpLnN1YnN0cigtMSkgPT09IFwiJVwiID8gXCJwcmdiXCIgOiBcInJnYlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5oKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5zKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci52KSkge1xyXG4gICAgICAgICAgICBzID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5zKTtcclxuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XHJcbiAgICAgICAgICAgIHJnYiA9IGhzdlRvUmdiKGNvbG9yLmgsIHMsIHYpO1xyXG4gICAgICAgICAgICBvayA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcm1hdCA9IFwiaHN2XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRDU1NVbml0KGNvbG9yLmgpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLnMpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmwpKSB7XHJcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xyXG4gICAgICAgICAgICBsID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5sKTtcclxuICAgICAgICAgICAgcmdiID0gaHNsVG9SZ2IoY29sb3IuaCwgcywgbCk7XHJcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9ybWF0ID0gXCJoc2xcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb2xvci5oYXNPd25Qcm9wZXJ0eShcImFcIikpIHtcclxuICAgICAgICAgICAgYSA9IGNvbG9yLmE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGEgPSBib3VuZEFscGhhKGEpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb2s6IG9rLFxyXG4gICAgICAgIGZvcm1hdDogY29sb3IuZm9ybWF0IHx8IGZvcm1hdCxcclxuICAgICAgICByOiBtYXRoTWluKDI1NSwgbWF0aE1heChyZ2IuciwgMCkpLFxyXG4gICAgICAgIGc6IG1hdGhNaW4oMjU1LCBtYXRoTWF4KHJnYi5nLCAwKSksXHJcbiAgICAgICAgYjogbWF0aE1pbigyNTUsIG1hdGhNYXgocmdiLmIsIDApKSxcclxuICAgICAgICBhOiBhXHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuLy8gQ29udmVyc2lvbiBGdW5jdGlvbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIGByZ2JUb0hzbGAsIGByZ2JUb0hzdmAsIGBoc2xUb1JnYmAsIGBoc3ZUb1JnYmAgbW9kaWZpZWQgZnJvbTpcclxuLy8gPGh0dHA6Ly9tamlqYWNrc29uLmNvbS8yMDA4LzAyL3JnYi10by1oc2wtYW5kLXJnYi10by1oc3YtY29sb3ItbW9kZWwtY29udmVyc2lvbi1hbGdvcml0aG1zLWluLWphdmFzY3JpcHQ+XHJcblxyXG4vLyBgcmdiVG9SZ2JgXHJcbi8vIEhhbmRsZSBib3VuZHMgLyBwZXJjZW50YWdlIGNoZWNraW5nIHRvIGNvbmZvcm0gdG8gQ1NTIGNvbG9yIHNwZWNcclxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtY29sb3IvPlxyXG4vLyAqQXNzdW1lczoqIHIsIGcsIGIgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXHJcbi8vICpSZXR1cm5zOiogeyByLCBnLCBiIH0gaW4gWzAsIDI1NV1cclxuZnVuY3Rpb24gcmdiVG9SZ2IociwgZywgYil7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHI6IGJvdW5kMDEociwgMjU1KSAqIDI1NSxcclxuICAgICAgICBnOiBib3VuZDAxKGcsIDI1NSkgKiAyNTUsXHJcbiAgICAgICAgYjogYm91bmQwMShiLCAyNTUpICogMjU1XHJcbiAgICB9O1xyXG59XHJcblxyXG4vLyBgcmdiVG9Ic2xgXHJcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuXHJcbi8vICpBc3N1bWVzOiogciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiBbMCwgMjU1XSBvciBbMCwgMV1cclxuLy8gKlJldHVybnM6KiB7IGgsIHMsIGwgfSBpbiBbMCwxXVxyXG5mdW5jdGlvbiByZ2JUb0hzbChyLCBnLCBiKSB7XHJcblxyXG4gICAgciA9IGJvdW5kMDEociwgMjU1KTtcclxuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XHJcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xyXG5cclxuICAgIHZhciBtYXggPSBtYXRoTWF4KHIsIGcsIGIpLCBtaW4gPSBtYXRoTWluKHIsIGcsIGIpO1xyXG4gICAgdmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XHJcblxyXG4gICAgaWYobWF4ID09IG1pbikge1xyXG4gICAgICAgIGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGQgPSBtYXggLSBtaW47XHJcbiAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xyXG4gICAgICAgIHN3aXRjaChtYXgpIHtcclxuICAgICAgICAgICAgY2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaCAvPSA2O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIGw6IGwgfTtcclxufVxyXG5cclxuLy8gYGhzbFRvUmdiYFxyXG4vLyBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLlxyXG4vLyAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgbCBhcmUgY29udGFpbmVkIFswLCAxXSBvciBbMCwgMTAwXVxyXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cclxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xyXG4gICAgdmFyIHIsIGcsIGI7XHJcblxyXG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKTtcclxuICAgIHMgPSBib3VuZDAxKHMsIDEwMCk7XHJcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xyXG5cclxuICAgIGZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xyXG4gICAgICAgIGlmKHQgPCAwKSB0ICs9IDE7XHJcbiAgICAgICAgaWYodCA+IDEpIHQgLT0gMTtcclxuICAgICAgICBpZih0IDwgMS82KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcclxuICAgICAgICBpZih0IDwgMS8yKSByZXR1cm4gcTtcclxuICAgICAgICBpZih0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xyXG4gICAgICAgIHJldHVybiBwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHMgPT09IDApIHtcclxuICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XHJcbiAgICAgICAgdmFyIHAgPSAyICogbCAtIHE7XHJcbiAgICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEvMyk7XHJcbiAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XHJcbiAgICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEvMyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgcjogciAqIDI1NSwgZzogZyAqIDI1NSwgYjogYiAqIDI1NSB9O1xyXG59XHJcblxyXG4vLyBgcmdiVG9Ic3ZgXHJcbi8vIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU1ZcclxuLy8gKkFzc3VtZXM6KiByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gb3IgWzAsIDFdXHJcbi8vICpSZXR1cm5zOiogeyBoLCBzLCB2IH0gaW4gWzAsMV1cclxuZnVuY3Rpb24gcmdiVG9Ic3YociwgZywgYikge1xyXG5cclxuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XHJcbiAgICBnID0gYm91bmQwMShnLCAyNTUpO1xyXG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcclxuXHJcbiAgICB2YXIgbWF4ID0gbWF0aE1heChyLCBnLCBiKSwgbWluID0gbWF0aE1pbihyLCBnLCBiKTtcclxuICAgIHZhciBoLCBzLCB2ID0gbWF4O1xyXG5cclxuICAgIHZhciBkID0gbWF4IC0gbWluO1xyXG4gICAgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4O1xyXG5cclxuICAgIGlmKG1heCA9PSBtaW4pIHtcclxuICAgICAgICBoID0gMDsgLy8gYWNocm9tYXRpY1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc3dpdGNoKG1heCkge1xyXG4gICAgICAgICAgICBjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGggLz0gNjtcclxuICAgIH1cclxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIHY6IHYgfTtcclxufVxyXG5cclxuLy8gYGhzdlRvUmdiYFxyXG4vLyBDb252ZXJ0cyBhbiBIU1YgY29sb3IgdmFsdWUgdG8gUkdCLlxyXG4vLyAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgdiBhcmUgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMTAwXVxyXG4vLyAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIHRoZSBzZXQgWzAsIDI1NV1cclxuIGZ1bmN0aW9uIGhzdlRvUmdiKGgsIHMsIHYpIHtcclxuXHJcbiAgICBoID0gYm91bmQwMShoLCAzNjApICogNjtcclxuICAgIHMgPSBib3VuZDAxKHMsIDEwMCk7XHJcbiAgICB2ID0gYm91bmQwMSh2LCAxMDApO1xyXG5cclxuICAgIHZhciBpID0gTWF0aC5mbG9vcihoKSxcclxuICAgICAgICBmID0gaCAtIGksXHJcbiAgICAgICAgcCA9IHYgKiAoMSAtIHMpLFxyXG4gICAgICAgIHEgPSB2ICogKDEgLSBmICogcyksXHJcbiAgICAgICAgdCA9IHYgKiAoMSAtICgxIC0gZikgKiBzKSxcclxuICAgICAgICBtb2QgPSBpICUgNixcclxuICAgICAgICByID0gW3YsIHEsIHAsIHAsIHQsIHZdW21vZF0sXHJcbiAgICAgICAgZyA9IFt0LCB2LCB2LCBxLCBwLCBwXVttb2RdLFxyXG4gICAgICAgIGIgPSBbcCwgcCwgdCwgdiwgdiwgcV1bbW9kXTtcclxuXHJcbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XHJcbn1cclxuXHJcbi8vIGByZ2JUb0hleGBcclxuLy8gQ29udmVydHMgYW4gUkdCIGNvbG9yIHRvIGhleFxyXG4vLyBBc3N1bWVzIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XVxyXG4vLyBSZXR1cm5zIGEgMyBvciA2IGNoYXJhY3RlciBoZXhcclxuZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYiwgYWxsb3czQ2hhcikge1xyXG5cclxuICAgIHZhciBoZXggPSBbXHJcbiAgICAgICAgcGFkMihtYXRoUm91bmQocikudG9TdHJpbmcoMTYpKSxcclxuICAgICAgICBwYWQyKG1hdGhSb3VuZChnKS50b1N0cmluZygxNikpLFxyXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKGIpLnRvU3RyaW5nKDE2KSlcclxuICAgIF07XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgMyBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXHJcbiAgICBpZiAoYWxsb3czQ2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSkge1xyXG4gICAgICAgIHJldHVybiBoZXhbMF0uY2hhckF0KDApICsgaGV4WzFdLmNoYXJBdCgwKSArIGhleFsyXS5jaGFyQXQoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhleC5qb2luKFwiXCIpO1xyXG59XHJcblxyXG4vLyBgcmdiYVRvSGV4YFxyXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHBsdXMgYWxwaGEgdHJhbnNwYXJlbmN5IHRvIGhleFxyXG4vLyBBc3N1bWVzIHIsIGcsIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxyXG4vLyBhIGluIFswLCAxXS4gUmV0dXJucyBhIDQgb3IgOCBjaGFyYWN0ZXIgcmdiYSBoZXhcclxuZnVuY3Rpb24gcmdiYVRvSGV4KHIsIGcsIGIsIGEsIGFsbG93NENoYXIpIHtcclxuXHJcbiAgICB2YXIgaGV4ID0gW1xyXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXHJcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcclxuICAgICAgICBwYWQyKG1hdGhSb3VuZChiKS50b1N0cmluZygxNikpLFxyXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSlcclxuICAgIF07XHJcblxyXG4gICAgLy8gUmV0dXJuIGEgNCBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXHJcbiAgICBpZiAoYWxsb3c0Q2hhciAmJiBoZXhbMF0uY2hhckF0KDApID09IGhleFswXS5jaGFyQXQoMSkgJiYgaGV4WzFdLmNoYXJBdCgwKSA9PSBoZXhbMV0uY2hhckF0KDEpICYmIGhleFsyXS5jaGFyQXQoMCkgPT0gaGV4WzJdLmNoYXJBdCgxKSAmJiBoZXhbM10uY2hhckF0KDApID09IGhleFszXS5jaGFyQXQoMSkpIHtcclxuICAgICAgICByZXR1cm4gaGV4WzBdLmNoYXJBdCgwKSArIGhleFsxXS5jaGFyQXQoMCkgKyBoZXhbMl0uY2hhckF0KDApICsgaGV4WzNdLmNoYXJBdCgwKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaGV4LmpvaW4oXCJcIik7XHJcbn1cclxuXHJcbi8vIGByZ2JhVG9BcmdiSGV4YFxyXG4vLyBDb252ZXJ0cyBhbiBSR0JBIGNvbG9yIHRvIGFuIEFSR0IgSGV4OCBzdHJpbmdcclxuLy8gUmFyZWx5IHVzZWQsIGJ1dCByZXF1aXJlZCBmb3IgXCJ0b0ZpbHRlcigpXCJcclxuZnVuY3Rpb24gcmdiYVRvQXJnYkhleChyLCBnLCBiLCBhKSB7XHJcblxyXG4gICAgdmFyIGhleCA9IFtcclxuICAgICAgICBwYWQyKGNvbnZlcnREZWNpbWFsVG9IZXgoYSkpLFxyXG4gICAgICAgIHBhZDIobWF0aFJvdW5kKHIpLnRvU3RyaW5nKDE2KSksXHJcbiAgICAgICAgcGFkMihtYXRoUm91bmQoZykudG9TdHJpbmcoMTYpKSxcclxuICAgICAgICBwYWQyKG1hdGhSb3VuZChiKS50b1N0cmluZygxNikpXHJcbiAgICBdO1xyXG5cclxuICAgIHJldHVybiBoZXguam9pbihcIlwiKTtcclxufVxyXG5cclxuLy8gYGVxdWFsc2BcclxuLy8gQ2FuIGJlIGNhbGxlZCB3aXRoIGFueSB0aW55Y29sb3IgaW5wdXRcclxudGlueWNvbG9yLmVxdWFscyA9IGZ1bmN0aW9uIChjb2xvcjEsIGNvbG9yMikge1xyXG4gICAgaWYgKCFjb2xvcjEgfHwgIWNvbG9yMikgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IxKS50b1JnYlN0cmluZygpID09IHRpbnljb2xvcihjb2xvcjIpLnRvUmdiU3RyaW5nKCk7XHJcbn07XHJcblxyXG50aW55Y29sb3IucmFuZG9tID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGlueWNvbG9yLmZyb21SYXRpbyh7XHJcbiAgICAgICAgcjogbWF0aFJhbmRvbSgpLFxyXG4gICAgICAgIGc6IG1hdGhSYW5kb20oKSxcclxuICAgICAgICBiOiBtYXRoUmFuZG9tKClcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8vIE1vZGlmaWNhdGlvbiBGdW5jdGlvbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBUaGFua3MgdG8gbGVzcy5qcyBmb3Igc29tZSBvZiB0aGUgYmFzaWNzIGhlcmVcclxuLy8gPGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGhlYWQvbGVzcy5qcy9ibG9iL21hc3Rlci9saWIvbGVzcy9mdW5jdGlvbnMuanM+XHJcblxyXG5mdW5jdGlvbiBkZXNhdHVyYXRlKGNvbG9yLCBhbW91bnQpIHtcclxuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xyXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcclxuICAgIGhzbC5zIC09IGFtb3VudCAvIDEwMDtcclxuICAgIGhzbC5zID0gY2xhbXAwMShoc2wucyk7XHJcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdHVyYXRlKGNvbG9yLCBhbW91bnQpIHtcclxuICAgIGFtb3VudCA9IChhbW91bnQgPT09IDApID8gMCA6IChhbW91bnQgfHwgMTApO1xyXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcclxuICAgIGhzbC5zICs9IGFtb3VudCAvIDEwMDtcclxuICAgIGhzbC5zID0gY2xhbXAwMShoc2wucyk7XHJcbiAgICByZXR1cm4gdGlueWNvbG9yKGhzbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdyZXlzY2FsZShjb2xvcikge1xyXG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGVzYXR1cmF0ZSgxMDApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsaWdodGVuIChjb2xvciwgYW1vdW50KSB7XHJcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcclxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XHJcbiAgICBoc2wubCArPSBhbW91bnQgLyAxMDA7XHJcbiAgICBoc2wubCA9IGNsYW1wMDEoaHNsLmwpO1xyXG4gICAgcmV0dXJuIHRpbnljb2xvcihoc2wpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBicmlnaHRlbihjb2xvciwgYW1vdW50KSB7XHJcbiAgICBhbW91bnQgPSAoYW1vdW50ID09PSAwKSA/IDAgOiAoYW1vdW50IHx8IDEwKTtcclxuICAgIHZhciByZ2IgPSB0aW55Y29sb3IoY29sb3IpLnRvUmdiKCk7XHJcbiAgICByZ2IuciA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5yIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XHJcbiAgICByZ2IuZyA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5nIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XHJcbiAgICByZ2IuYiA9IG1hdGhNYXgoMCwgbWF0aE1pbigyNTUsIHJnYi5iIC0gbWF0aFJvdW5kKDI1NSAqIC0gKGFtb3VudCAvIDEwMCkpKSk7XHJcbiAgICByZXR1cm4gdGlueWNvbG9yKHJnYik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhcmtlbiAoY29sb3IsIGFtb3VudCkge1xyXG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCAxMCk7XHJcbiAgICB2YXIgaHNsID0gdGlueWNvbG9yKGNvbG9yKS50b0hzbCgpO1xyXG4gICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xyXG4gICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcclxuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcclxufVxyXG5cclxuLy8gU3BpbiB0YWtlcyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGFtb3VudCB3aXRoaW4gWy0zNjAsIDM2MF0gaW5kaWNhdGluZyB0aGUgY2hhbmdlIG9mIGh1ZS5cclxuLy8gVmFsdWVzIG91dHNpZGUgb2YgdGhpcyByYW5nZSB3aWxsIGJlIHdyYXBwZWQgaW50byB0aGlzIHJhbmdlLlxyXG5mdW5jdGlvbiBzcGluKGNvbG9yLCBhbW91bnQpIHtcclxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XHJcbiAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcclxuICAgIGhzbC5oID0gaHVlIDwgMCA/IDM2MCArIGh1ZSA6IGh1ZTtcclxuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcclxufVxyXG5cclxuLy8gQ29tYmluYXRpb24gRnVuY3Rpb25zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBUaGFua3MgdG8galF1ZXJ5IHhDb2xvciBmb3Igc29tZSBvZiB0aGUgaWRlYXMgYmVoaW5kIHRoZXNlXHJcbi8vIDxodHRwczovL2dpdGh1Yi5jb20vaW5mdXNpb24valF1ZXJ5LXhjb2xvci9ibG9iL21hc3Rlci9qcXVlcnkueGNvbG9yLmpzPlxyXG5cclxuZnVuY3Rpb24gY29tcGxlbWVudChjb2xvcikge1xyXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcclxuICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcclxuICAgIHJldHVybiB0aW55Y29sb3IoaHNsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJpYWQoY29sb3IpIHtcclxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XHJcbiAgICB2YXIgaCA9IGhzbC5oO1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxyXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMTIwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pLFxyXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjQwKSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sIH0pXHJcbiAgICBdO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZXRyYWQoY29sb3IpIHtcclxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XHJcbiAgICB2YXIgaCA9IGhzbC5oO1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICB0aW55Y29sb3IoY29sb3IpLFxyXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgOTApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXHJcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAxODApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSksXHJcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyAyNzApICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSlcclxuICAgIF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwbGl0Y29tcGxlbWVudChjb2xvcikge1xyXG4gICAgdmFyIGhzbCA9IHRpbnljb2xvcihjb2xvcikudG9Ic2woKTtcclxuICAgIHZhciBoID0gaHNsLmg7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIHRpbnljb2xvcihjb2xvciksXHJcbiAgICAgICAgdGlueWNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubH0pLFxyXG4gICAgICAgIHRpbnljb2xvcih7IGg6IChoICsgMjE2KSAlIDM2MCwgczogaHNsLnMsIGw6IGhzbC5sfSlcclxuICAgIF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFuYWxvZ291cyhjb2xvciwgcmVzdWx0cywgc2xpY2VzKSB7XHJcbiAgICByZXN1bHRzID0gcmVzdWx0cyB8fCA2O1xyXG4gICAgc2xpY2VzID0gc2xpY2VzIHx8IDMwO1xyXG5cclxuICAgIHZhciBoc2wgPSB0aW55Y29sb3IoY29sb3IpLnRvSHNsKCk7XHJcbiAgICB2YXIgcGFydCA9IDM2MCAvIHNsaWNlcztcclxuICAgIHZhciByZXQgPSBbdGlueWNvbG9yKGNvbG9yKV07XHJcblxyXG4gICAgZm9yIChoc2wuaCA9ICgoaHNsLmggLSAocGFydCAqIHJlc3VsdHMgPj4gMSkpICsgNzIwKSAlIDM2MDsgLS1yZXN1bHRzOyApIHtcclxuICAgICAgICBoc2wuaCA9IChoc2wuaCArIHBhcnQpICUgMzYwO1xyXG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcihoc2wpKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vbm9jaHJvbWF0aWMoY29sb3IsIHJlc3VsdHMpIHtcclxuICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IDY7XHJcbiAgICB2YXIgaHN2ID0gdGlueWNvbG9yKGNvbG9yKS50b0hzdigpO1xyXG4gICAgdmFyIGggPSBoc3YuaCwgcyA9IGhzdi5zLCB2ID0gaHN2LnY7XHJcbiAgICB2YXIgcmV0ID0gW107XHJcbiAgICB2YXIgbW9kaWZpY2F0aW9uID0gMSAvIHJlc3VsdHM7XHJcblxyXG4gICAgd2hpbGUgKHJlc3VsdHMtLSkge1xyXG4gICAgICAgIHJldC5wdXNoKHRpbnljb2xvcih7IGg6IGgsIHM6IHMsIHY6IHZ9KSk7XHJcbiAgICAgICAgdiA9ICh2ICsgbW9kaWZpY2F0aW9uKSAlIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5cclxuLy8gVXRpbGl0eSBGdW5jdGlvbnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG50aW55Y29sb3IubWl4ID0gZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGFtb3VudCkge1xyXG4gICAgYW1vdW50ID0gKGFtb3VudCA9PT0gMCkgPyAwIDogKGFtb3VudCB8fCA1MCk7XHJcblxyXG4gICAgdmFyIHJnYjEgPSB0aW55Y29sb3IoY29sb3IxKS50b1JnYigpO1xyXG4gICAgdmFyIHJnYjIgPSB0aW55Y29sb3IoY29sb3IyKS50b1JnYigpO1xyXG5cclxuICAgIHZhciBwID0gYW1vdW50IC8gMTAwO1xyXG5cclxuICAgIHZhciByZ2JhID0ge1xyXG4gICAgICAgIHI6ICgocmdiMi5yIC0gcmdiMS5yKSAqIHApICsgcmdiMS5yLFxyXG4gICAgICAgIGc6ICgocmdiMi5nIC0gcmdiMS5nKSAqIHApICsgcmdiMS5nLFxyXG4gICAgICAgIGI6ICgocmdiMi5iIC0gcmdiMS5iKSAqIHApICsgcmdiMS5iLFxyXG4gICAgICAgIGE6ICgocmdiMi5hIC0gcmdiMS5hKSAqIHApICsgcmdiMS5hXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB0aW55Y29sb3IocmdiYSk7XHJcbn07XHJcblxyXG5cclxuLy8gUmVhZGFiaWxpdHkgRnVuY3Rpb25zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvMjAwOC9SRUMtV0NBRzIwLTIwMDgxMjExLyNjb250cmFzdC1yYXRpb2RlZiAoV0NBRyBWZXJzaW9uIDIpXHJcblxyXG4vLyBgY29udHJhc3RgXHJcbi8vIEFuYWx5emUgdGhlIDIgY29sb3JzIGFuZCByZXR1cm5zIHRoZSBjb2xvciBjb250cmFzdCBkZWZpbmVkIGJ5IChXQ0FHIFZlcnNpb24gMilcclxudGlueWNvbG9yLnJlYWRhYmlsaXR5ID0gZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcclxuICAgIHZhciBjMSA9IHRpbnljb2xvcihjb2xvcjEpO1xyXG4gICAgdmFyIGMyID0gdGlueWNvbG9yKGNvbG9yMik7XHJcbiAgICByZXR1cm4gKE1hdGgubWF4KGMxLmdldEx1bWluYW5jZSgpLGMyLmdldEx1bWluYW5jZSgpKSswLjA1KSAvIChNYXRoLm1pbihjMS5nZXRMdW1pbmFuY2UoKSxjMi5nZXRMdW1pbmFuY2UoKSkrMC4wNSk7XHJcbn07XHJcblxyXG4vLyBgaXNSZWFkYWJsZWBcclxuLy8gRW5zdXJlIHRoYXQgZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvciBjb21iaW5hdGlvbnMgbWVldCBXQ0FHMiBndWlkZWxpbmVzLlxyXG4vLyBUaGUgdGhpcmQgYXJndW1lbnQgaXMgYW4gb3B0aW9uYWwgT2JqZWN0LlxyXG4vLyAgICAgIHRoZSAnbGV2ZWwnIHByb3BlcnR5IHN0YXRlcyAnQUEnIG9yICdBQUEnIC0gaWYgbWlzc2luZyBvciBpbnZhbGlkLCBpdCBkZWZhdWx0cyB0byAnQUEnO1xyXG4vLyAgICAgIHRoZSAnc2l6ZScgcHJvcGVydHkgc3RhdGVzICdsYXJnZScgb3IgJ3NtYWxsJyAtIGlmIG1pc3Npbmcgb3IgaW52YWxpZCwgaXQgZGVmYXVsdHMgdG8gJ3NtYWxsJy5cclxuLy8gSWYgdGhlIGVudGlyZSBvYmplY3QgaXMgYWJzZW50LCBpc1JlYWRhYmxlIGRlZmF1bHRzIHRvIHtsZXZlbDpcIkFBXCIsc2l6ZTpcInNtYWxsXCJ9LlxyXG5cclxuLy8gKkV4YW1wbGUqXHJcbi8vICAgIHRpbnljb2xvci5pc1JlYWRhYmxlKFwiIzAwMFwiLCBcIiMxMTFcIikgPT4gZmFsc2VcclxuLy8gICAgdGlueWNvbG9yLmlzUmVhZGFibGUoXCIjMDAwXCIsIFwiIzExMVwiLHtsZXZlbDpcIkFBXCIsc2l6ZTpcImxhcmdlXCJ9KSA9PiBmYWxzZVxyXG50aW55Y29sb3IuaXNSZWFkYWJsZSA9IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCB3Y2FnMikge1xyXG4gICAgdmFyIHJlYWRhYmlsaXR5ID0gdGlueWNvbG9yLnJlYWRhYmlsaXR5KGNvbG9yMSwgY29sb3IyKTtcclxuICAgIHZhciB3Y2FnMlBhcm1zLCBvdXQ7XHJcblxyXG4gICAgb3V0ID0gZmFsc2U7XHJcblxyXG4gICAgd2NhZzJQYXJtcyA9IHZhbGlkYXRlV0NBRzJQYXJtcyh3Y2FnMik7XHJcbiAgICBzd2l0Y2ggKHdjYWcyUGFybXMubGV2ZWwgKyB3Y2FnMlBhcm1zLnNpemUpIHtcclxuICAgICAgICBjYXNlIFwiQUFzbWFsbFwiOlxyXG4gICAgICAgIGNhc2UgXCJBQUFsYXJnZVwiOlxyXG4gICAgICAgICAgICBvdXQgPSByZWFkYWJpbGl0eSA+PSA0LjU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJBQWxhcmdlXCI6XHJcbiAgICAgICAgICAgIG91dCA9IHJlYWRhYmlsaXR5ID49IDM7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJBQUFzbWFsbFwiOlxyXG4gICAgICAgICAgICBvdXQgPSByZWFkYWJpbGl0eSA+PSA3O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcblxyXG59O1xyXG5cclxuLy8gYG1vc3RSZWFkYWJsZWBcclxuLy8gR2l2ZW4gYSBiYXNlIGNvbG9yIGFuZCBhIGxpc3Qgb2YgcG9zc2libGUgZm9yZWdyb3VuZCBvciBiYWNrZ3JvdW5kXHJcbi8vIGNvbG9ycyBmb3IgdGhhdCBiYXNlLCByZXR1cm5zIHRoZSBtb3N0IHJlYWRhYmxlIGNvbG9yLlxyXG4vLyBPcHRpb25hbGx5IHJldHVybnMgQmxhY2sgb3IgV2hpdGUgaWYgdGhlIG1vc3QgcmVhZGFibGUgY29sb3IgaXMgdW5yZWFkYWJsZS5cclxuLy8gKkV4YW1wbGUqXHJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUodGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiMxMjNcIiwgW1wiIzEyNFwiLCBcIiMxMjVcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczpmYWxzZX0pLnRvSGV4U3RyaW5nKCk7IC8vIFwiIzExMjI1NVwiXHJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUodGlueWNvbG9yLm1vc3RSZWFkYWJsZShcIiMxMjNcIiwgW1wiIzEyNFwiLCBcIiMxMjVcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlfSkudG9IZXhTdHJpbmcoKTsgIC8vIFwiI2ZmZmZmZlwiXHJcbi8vICAgIHRpbnljb2xvci5tb3N0UmVhZGFibGUoXCIjYTgwMTVhXCIsIFtcIiNmYWYzZjNcIl0se2luY2x1ZGVGYWxsYmFja0NvbG9yczp0cnVlLGxldmVsOlwiQUFBXCIsc2l6ZTpcImxhcmdlXCJ9KS50b0hleFN0cmluZygpOyAvLyBcIiNmYWYzZjNcIlxyXG4vLyAgICB0aW55Y29sb3IubW9zdFJlYWRhYmxlKFwiI2E4MDE1YVwiLCBbXCIjZmFmM2YzXCJdLHtpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSxsZXZlbDpcIkFBQVwiLHNpemU6XCJzbWFsbFwifSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjZmZmZmZmXCJcclxudGlueWNvbG9yLm1vc3RSZWFkYWJsZSA9IGZ1bmN0aW9uKGJhc2VDb2xvciwgY29sb3JMaXN0LCBhcmdzKSB7XHJcbiAgICB2YXIgYmVzdENvbG9yID0gbnVsbDtcclxuICAgIHZhciBiZXN0U2NvcmUgPSAwO1xyXG4gICAgdmFyIHJlYWRhYmlsaXR5O1xyXG4gICAgdmFyIGluY2x1ZGVGYWxsYmFja0NvbG9ycywgbGV2ZWwsIHNpemUgO1xyXG4gICAgYXJncyA9IGFyZ3MgfHwge307XHJcbiAgICBpbmNsdWRlRmFsbGJhY2tDb2xvcnMgPSBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycyA7XHJcbiAgICBsZXZlbCA9IGFyZ3MubGV2ZWw7XHJcbiAgICBzaXplID0gYXJncy5zaXplO1xyXG5cclxuICAgIGZvciAodmFyIGk9IDA7IGkgPCBjb2xvckxpc3QubGVuZ3RoIDsgaSsrKSB7XHJcbiAgICAgICAgcmVhZGFiaWxpdHkgPSB0aW55Y29sb3IucmVhZGFiaWxpdHkoYmFzZUNvbG9yLCBjb2xvckxpc3RbaV0pO1xyXG4gICAgICAgIGlmIChyZWFkYWJpbGl0eSA+IGJlc3RTY29yZSkge1xyXG4gICAgICAgICAgICBiZXN0U2NvcmUgPSByZWFkYWJpbGl0eTtcclxuICAgICAgICAgICAgYmVzdENvbG9yID0gdGlueWNvbG9yKGNvbG9yTGlzdFtpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aW55Y29sb3IuaXNSZWFkYWJsZShiYXNlQ29sb3IsIGJlc3RDb2xvciwge1wibGV2ZWxcIjpsZXZlbCxcInNpemVcIjpzaXplfSkgfHwgIWluY2x1ZGVGYWxsYmFja0NvbG9ycykge1xyXG4gICAgICAgIHJldHVybiBiZXN0Q29sb3I7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycz1mYWxzZTtcclxuICAgICAgICByZXR1cm4gdGlueWNvbG9yLm1vc3RSZWFkYWJsZShiYXNlQ29sb3IsW1wiI2ZmZlwiLCBcIiMwMDBcIl0sYXJncyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuLy8gQmlnIExpc3Qgb2YgQ29sb3JzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yPlxyXG52YXIgbmFtZXMgPSB0aW55Y29sb3IubmFtZXMgPSB7XHJcbiAgICBhbGljZWJsdWU6IFwiZjBmOGZmXCIsXHJcbiAgICBhbnRpcXVld2hpdGU6IFwiZmFlYmQ3XCIsXHJcbiAgICBhcXVhOiBcIjBmZlwiLFxyXG4gICAgYXF1YW1hcmluZTogXCI3ZmZmZDRcIixcclxuICAgIGF6dXJlOiBcImYwZmZmZlwiLFxyXG4gICAgYmVpZ2U6IFwiZjVmNWRjXCIsXHJcbiAgICBiaXNxdWU6IFwiZmZlNGM0XCIsXHJcbiAgICBibGFjazogXCIwMDBcIixcclxuICAgIGJsYW5jaGVkYWxtb25kOiBcImZmZWJjZFwiLFxyXG4gICAgYmx1ZTogXCIwMGZcIixcclxuICAgIGJsdWV2aW9sZXQ6IFwiOGEyYmUyXCIsXHJcbiAgICBicm93bjogXCJhNTJhMmFcIixcclxuICAgIGJ1cmx5d29vZDogXCJkZWI4ODdcIixcclxuICAgIGJ1cm50c2llbm5hOiBcImVhN2U1ZFwiLFxyXG4gICAgY2FkZXRibHVlOiBcIjVmOWVhMFwiLFxyXG4gICAgY2hhcnRyZXVzZTogXCI3ZmZmMDBcIixcclxuICAgIGNob2NvbGF0ZTogXCJkMjY5MWVcIixcclxuICAgIGNvcmFsOiBcImZmN2Y1MFwiLFxyXG4gICAgY29ybmZsb3dlcmJsdWU6IFwiNjQ5NWVkXCIsXHJcbiAgICBjb3Juc2lsazogXCJmZmY4ZGNcIixcclxuICAgIGNyaW1zb246IFwiZGMxNDNjXCIsXHJcbiAgICBjeWFuOiBcIjBmZlwiLFxyXG4gICAgZGFya2JsdWU6IFwiMDAwMDhiXCIsXHJcbiAgICBkYXJrY3lhbjogXCIwMDhiOGJcIixcclxuICAgIGRhcmtnb2xkZW5yb2Q6IFwiYjg4NjBiXCIsXHJcbiAgICBkYXJrZ3JheTogXCJhOWE5YTlcIixcclxuICAgIGRhcmtncmVlbjogXCIwMDY0MDBcIixcclxuICAgIGRhcmtncmV5OiBcImE5YTlhOVwiLFxyXG4gICAgZGFya2toYWtpOiBcImJkYjc2YlwiLFxyXG4gICAgZGFya21hZ2VudGE6IFwiOGIwMDhiXCIsXHJcbiAgICBkYXJrb2xpdmVncmVlbjogXCI1NTZiMmZcIixcclxuICAgIGRhcmtvcmFuZ2U6IFwiZmY4YzAwXCIsXHJcbiAgICBkYXJrb3JjaGlkOiBcIjk5MzJjY1wiLFxyXG4gICAgZGFya3JlZDogXCI4YjAwMDBcIixcclxuICAgIGRhcmtzYWxtb246IFwiZTk5NjdhXCIsXHJcbiAgICBkYXJrc2VhZ3JlZW46IFwiOGZiYzhmXCIsXHJcbiAgICBkYXJrc2xhdGVibHVlOiBcIjQ4M2Q4YlwiLFxyXG4gICAgZGFya3NsYXRlZ3JheTogXCIyZjRmNGZcIixcclxuICAgIGRhcmtzbGF0ZWdyZXk6IFwiMmY0ZjRmXCIsXHJcbiAgICBkYXJrdHVycXVvaXNlOiBcIjAwY2VkMVwiLFxyXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIixcclxuICAgIGRlZXBwaW5rOiBcImZmMTQ5M1wiLFxyXG4gICAgZGVlcHNreWJsdWU6IFwiMDBiZmZmXCIsXHJcbiAgICBkaW1ncmF5OiBcIjY5Njk2OVwiLFxyXG4gICAgZGltZ3JleTogXCI2OTY5NjlcIixcclxuICAgIGRvZGdlcmJsdWU6IFwiMWU5MGZmXCIsXHJcbiAgICBmaXJlYnJpY2s6IFwiYjIyMjIyXCIsXHJcbiAgICBmbG9yYWx3aGl0ZTogXCJmZmZhZjBcIixcclxuICAgIGZvcmVzdGdyZWVuOiBcIjIyOGIyMlwiLFxyXG4gICAgZnVjaHNpYTogXCJmMGZcIixcclxuICAgIGdhaW5zYm9ybzogXCJkY2RjZGNcIixcclxuICAgIGdob3N0d2hpdGU6IFwiZjhmOGZmXCIsXHJcbiAgICBnb2xkOiBcImZmZDcwMFwiLFxyXG4gICAgZ29sZGVucm9kOiBcImRhYTUyMFwiLFxyXG4gICAgZ3JheTogXCI4MDgwODBcIixcclxuICAgIGdyZWVuOiBcIjAwODAwMFwiLFxyXG4gICAgZ3JlZW55ZWxsb3c6IFwiYWRmZjJmXCIsXHJcbiAgICBncmV5OiBcIjgwODA4MFwiLFxyXG4gICAgaG9uZXlkZXc6IFwiZjBmZmYwXCIsXHJcbiAgICBob3RwaW5rOiBcImZmNjliNFwiLFxyXG4gICAgaW5kaWFucmVkOiBcImNkNWM1Y1wiLFxyXG4gICAgaW5kaWdvOiBcIjRiMDA4MlwiLFxyXG4gICAgaXZvcnk6IFwiZmZmZmYwXCIsXHJcbiAgICBraGFraTogXCJmMGU2OGNcIixcclxuICAgIGxhdmVuZGVyOiBcImU2ZTZmYVwiLFxyXG4gICAgbGF2ZW5kZXJibHVzaDogXCJmZmYwZjVcIixcclxuICAgIGxhd25ncmVlbjogXCI3Y2ZjMDBcIixcclxuICAgIGxlbW9uY2hpZmZvbjogXCJmZmZhY2RcIixcclxuICAgIGxpZ2h0Ymx1ZTogXCJhZGQ4ZTZcIixcclxuICAgIGxpZ2h0Y29yYWw6IFwiZjA4MDgwXCIsXHJcbiAgICBsaWdodGN5YW46IFwiZTBmZmZmXCIsXHJcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogXCJmYWZhZDJcIixcclxuICAgIGxpZ2h0Z3JheTogXCJkM2QzZDNcIixcclxuICAgIGxpZ2h0Z3JlZW46IFwiOTBlZTkwXCIsXHJcbiAgICBsaWdodGdyZXk6IFwiZDNkM2QzXCIsXHJcbiAgICBsaWdodHBpbms6IFwiZmZiNmMxXCIsXHJcbiAgICBsaWdodHNhbG1vbjogXCJmZmEwN2FcIixcclxuICAgIGxpZ2h0c2VhZ3JlZW46IFwiMjBiMmFhXCIsXHJcbiAgICBsaWdodHNreWJsdWU6IFwiODdjZWZhXCIsXHJcbiAgICBsaWdodHNsYXRlZ3JheTogXCI3ODlcIixcclxuICAgIGxpZ2h0c2xhdGVncmV5OiBcIjc4OVwiLFxyXG4gICAgbGlnaHRzdGVlbGJsdWU6IFwiYjBjNGRlXCIsXHJcbiAgICBsaWdodHllbGxvdzogXCJmZmZmZTBcIixcclxuICAgIGxpbWU6IFwiMGYwXCIsXHJcbiAgICBsaW1lZ3JlZW46IFwiMzJjZDMyXCIsXHJcbiAgICBsaW5lbjogXCJmYWYwZTZcIixcclxuICAgIG1hZ2VudGE6IFwiZjBmXCIsXHJcbiAgICBtYXJvb246IFwiODAwMDAwXCIsXHJcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiBcIjY2Y2RhYVwiLFxyXG4gICAgbWVkaXVtYmx1ZTogXCIwMDAwY2RcIixcclxuICAgIG1lZGl1bW9yY2hpZDogXCJiYTU1ZDNcIixcclxuICAgIG1lZGl1bXB1cnBsZTogXCI5MzcwZGJcIixcclxuICAgIG1lZGl1bXNlYWdyZWVuOiBcIjNjYjM3MVwiLFxyXG4gICAgbWVkaXVtc2xhdGVibHVlOiBcIjdiNjhlZVwiLFxyXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFwiMDBmYTlhXCIsXHJcbiAgICBtZWRpdW10dXJxdW9pc2U6IFwiNDhkMWNjXCIsXHJcbiAgICBtZWRpdW12aW9sZXRyZWQ6IFwiYzcxNTg1XCIsXHJcbiAgICBtaWRuaWdodGJsdWU6IFwiMTkxOTcwXCIsXHJcbiAgICBtaW50Y3JlYW06IFwiZjVmZmZhXCIsXHJcbiAgICBtaXN0eXJvc2U6IFwiZmZlNGUxXCIsXHJcbiAgICBtb2NjYXNpbjogXCJmZmU0YjVcIixcclxuICAgIG5hdmFqb3doaXRlOiBcImZmZGVhZFwiLFxyXG4gICAgbmF2eTogXCIwMDAwODBcIixcclxuICAgIG9sZGxhY2U6IFwiZmRmNWU2XCIsXHJcbiAgICBvbGl2ZTogXCI4MDgwMDBcIixcclxuICAgIG9saXZlZHJhYjogXCI2YjhlMjNcIixcclxuICAgIG9yYW5nZTogXCJmZmE1MDBcIixcclxuICAgIG9yYW5nZXJlZDogXCJmZjQ1MDBcIixcclxuICAgIG9yY2hpZDogXCJkYTcwZDZcIixcclxuICAgIHBhbGVnb2xkZW5yb2Q6IFwiZWVlOGFhXCIsXHJcbiAgICBwYWxlZ3JlZW46IFwiOThmYjk4XCIsXHJcbiAgICBwYWxldHVycXVvaXNlOiBcImFmZWVlZVwiLFxyXG4gICAgcGFsZXZpb2xldHJlZDogXCJkYjcwOTNcIixcclxuICAgIHBhcGF5YXdoaXA6IFwiZmZlZmQ1XCIsXHJcbiAgICBwZWFjaHB1ZmY6IFwiZmZkYWI5XCIsXHJcbiAgICBwZXJ1OiBcImNkODUzZlwiLFxyXG4gICAgcGluazogXCJmZmMwY2JcIixcclxuICAgIHBsdW06IFwiZGRhMGRkXCIsXHJcbiAgICBwb3dkZXJibHVlOiBcImIwZTBlNlwiLFxyXG4gICAgcHVycGxlOiBcIjgwMDA4MFwiLFxyXG4gICAgcmViZWNjYXB1cnBsZTogXCI2NjMzOTlcIixcclxuICAgIHJlZDogXCJmMDBcIixcclxuICAgIHJvc3licm93bjogXCJiYzhmOGZcIixcclxuICAgIHJveWFsYmx1ZTogXCI0MTY5ZTFcIixcclxuICAgIHNhZGRsZWJyb3duOiBcIjhiNDUxM1wiLFxyXG4gICAgc2FsbW9uOiBcImZhODA3MlwiLFxyXG4gICAgc2FuZHlicm93bjogXCJmNGE0NjBcIixcclxuICAgIHNlYWdyZWVuOiBcIjJlOGI1N1wiLFxyXG4gICAgc2Vhc2hlbGw6IFwiZmZmNWVlXCIsXHJcbiAgICBzaWVubmE6IFwiYTA1MjJkXCIsXHJcbiAgICBzaWx2ZXI6IFwiYzBjMGMwXCIsXHJcbiAgICBza3libHVlOiBcIjg3Y2VlYlwiLFxyXG4gICAgc2xhdGVibHVlOiBcIjZhNWFjZFwiLFxyXG4gICAgc2xhdGVncmF5OiBcIjcwODA5MFwiLFxyXG4gICAgc2xhdGVncmV5OiBcIjcwODA5MFwiLFxyXG4gICAgc25vdzogXCJmZmZhZmFcIixcclxuICAgIHNwcmluZ2dyZWVuOiBcIjAwZmY3ZlwiLFxyXG4gICAgc3RlZWxibHVlOiBcIjQ2ODJiNFwiLFxyXG4gICAgdGFuOiBcImQyYjQ4Y1wiLFxyXG4gICAgdGVhbDogXCIwMDgwODBcIixcclxuICAgIHRoaXN0bGU6IFwiZDhiZmQ4XCIsXHJcbiAgICB0b21hdG86IFwiZmY2MzQ3XCIsXHJcbiAgICB0dXJxdW9pc2U6IFwiNDBlMGQwXCIsXHJcbiAgICB2aW9sZXQ6IFwiZWU4MmVlXCIsXHJcbiAgICB3aGVhdDogXCJmNWRlYjNcIixcclxuICAgIHdoaXRlOiBcImZmZlwiLFxyXG4gICAgd2hpdGVzbW9rZTogXCJmNWY1ZjVcIixcclxuICAgIHllbGxvdzogXCJmZjBcIixcclxuICAgIHllbGxvd2dyZWVuOiBcIjlhY2QzMlwiXHJcbn07XHJcblxyXG4vLyBNYWtlIGl0IGVhc3kgdG8gYWNjZXNzIGNvbG9ycyB2aWEgYGhleE5hbWVzW2hleF1gXHJcbnZhciBoZXhOYW1lcyA9IHRpbnljb2xvci5oZXhOYW1lcyA9IGZsaXAobmFtZXMpO1xyXG5cclxuXHJcbi8vIFV0aWxpdGllc1xyXG4vLyAtLS0tLS0tLS1cclxuXHJcbi8vIGB7ICduYW1lMSc6ICd2YWwxJyB9YCBiZWNvbWVzIGB7ICd2YWwxJzogJ25hbWUxJyB9YFxyXG5mdW5jdGlvbiBmbGlwKG8pIHtcclxuICAgIHZhciBmbGlwcGVkID0geyB9O1xyXG4gICAgZm9yICh2YXIgaSBpbiBvKSB7XHJcbiAgICAgICAgaWYgKG8uaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgZmxpcHBlZFtvW2ldXSA9IGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZsaXBwZWQ7XHJcbn1cclxuXHJcbi8vIFJldHVybiBhIHZhbGlkIGFscGhhIHZhbHVlIFswLDFdIHdpdGggYWxsIGludmFsaWQgdmFsdWVzIGJlaW5nIHNldCB0byAxXHJcbmZ1bmN0aW9uIGJvdW5kQWxwaGEoYSkge1xyXG4gICAgYSA9IHBhcnNlRmxvYXQoYSk7XHJcblxyXG4gICAgaWYgKGlzTmFOKGEpIHx8IGEgPCAwIHx8IGEgPiAxKSB7XHJcbiAgICAgICAgYSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGE7XHJcbn1cclxuXHJcbi8vIFRha2UgaW5wdXQgZnJvbSBbMCwgbl0gYW5kIHJldHVybiBpdCBhcyBbMCwgMV1cclxuZnVuY3Rpb24gYm91bmQwMShuLCBtYXgpIHtcclxuICAgIGlmIChpc09uZVBvaW50WmVybyhuKSkgeyBuID0gXCIxMDAlXCI7IH1cclxuXHJcbiAgICB2YXIgcHJvY2Vzc1BlcmNlbnQgPSBpc1BlcmNlbnRhZ2Uobik7XHJcbiAgICBuID0gbWF0aE1pbihtYXgsIG1hdGhNYXgoMCwgcGFyc2VGbG9hdChuKSkpO1xyXG5cclxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBwZXJjZW50YWdlIGludG8gbnVtYmVyXHJcbiAgICBpZiAocHJvY2Vzc1BlcmNlbnQpIHtcclxuICAgICAgICBuID0gcGFyc2VJbnQobiAqIG1heCwgMTApIC8gMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhbmRsZSBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnNcclxuICAgIGlmICgoTWF0aC5hYnMobiAtIG1heCkgPCAwLjAwMDAwMSkpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGludG8gWzAsIDFdIHJhbmdlIGlmIGl0IGlzbid0IGFscmVhZHlcclxuICAgIHJldHVybiAobiAlIG1heCkgLyBwYXJzZUZsb2F0KG1heCk7XHJcbn1cclxuXHJcbi8vIEZvcmNlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxyXG5mdW5jdGlvbiBjbGFtcDAxKHZhbCkge1xyXG4gICAgcmV0dXJuIG1hdGhNaW4oMSwgbWF0aE1heCgwLCB2YWwpKTtcclxufVxyXG5cclxuLy8gUGFyc2UgYSBiYXNlLTE2IGhleCB2YWx1ZSBpbnRvIGEgYmFzZS0xMCBpbnRlZ2VyXHJcbmZ1bmN0aW9uIHBhcnNlSW50RnJvbUhleCh2YWwpIHtcclxuICAgIHJldHVybiBwYXJzZUludCh2YWwsIDE2KTtcclxufVxyXG5cclxuLy8gTmVlZCB0byBoYW5kbGUgMS4wIGFzIDEwMCUsIHNpbmNlIG9uY2UgaXQgaXMgYSBudW1iZXIsIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBpdCBhbmQgMVxyXG4vLyA8aHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDIyMDcyL2phdmFzY3JpcHQtaG93LXRvLWRldGVjdC1udW1iZXItYXMtYS1kZWNpbWFsLWluY2x1ZGluZy0xLTA+XHJcbmZ1bmN0aW9uIGlzT25lUG9pbnRaZXJvKG4pIHtcclxuICAgIHJldHVybiB0eXBlb2YgbiA9PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignLicpICE9IC0xICYmIHBhcnNlRmxvYXQobikgPT09IDE7XHJcbn1cclxuXHJcbi8vIENoZWNrIHRvIHNlZSBpZiBzdHJpbmcgcGFzc2VkIGluIGlzIGEgcGVyY2VudGFnZVxyXG5mdW5jdGlvbiBpc1BlcmNlbnRhZ2Uobikge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBuID09PSBcInN0cmluZ1wiICYmIG4uaW5kZXhPZignJScpICE9IC0xO1xyXG59XHJcblxyXG4vLyBGb3JjZSBhIGhleCB2YWx1ZSB0byBoYXZlIDIgY2hhcmFjdGVyc1xyXG5mdW5jdGlvbiBwYWQyKGMpIHtcclxuICAgIHJldHVybiBjLmxlbmd0aCA9PSAxID8gJzAnICsgYyA6ICcnICsgYztcclxufVxyXG5cclxuLy8gUmVwbGFjZSBhIGRlY2ltYWwgd2l0aCBpdCdzIHBlcmNlbnRhZ2UgdmFsdWVcclxuZnVuY3Rpb24gY29udmVydFRvUGVyY2VudGFnZShuKSB7XHJcbiAgICBpZiAobiA8PSAxKSB7XHJcbiAgICAgICAgbiA9IChuICogMTAwKSArIFwiJVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuO1xyXG59XHJcblxyXG4vLyBDb252ZXJ0cyBhIGRlY2ltYWwgdG8gYSBoZXggdmFsdWVcclxuZnVuY3Rpb24gY29udmVydERlY2ltYWxUb0hleChkKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGQpICogMjU1KS50b1N0cmluZygxNik7XHJcbn1cclxuLy8gQ29udmVydHMgYSBoZXggdmFsdWUgdG8gYSBkZWNpbWFsXHJcbmZ1bmN0aW9uIGNvbnZlcnRIZXhUb0RlY2ltYWwoaCkge1xyXG4gICAgcmV0dXJuIChwYXJzZUludEZyb21IZXgoaCkgLyAyNTUpO1xyXG59XHJcblxyXG52YXIgbWF0Y2hlcnMgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cclxuICAgIHZhciBDU1NfSU5URUdFUiA9IFwiWy1cXFxcK10/XFxcXGQrJT9cIjtcclxuXHJcbiAgICAvLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cclxuICAgIHZhciBDU1NfTlVNQkVSID0gXCJbLVxcXFwrXT9cXFxcZCpcXFxcLlxcXFxkKyU/XCI7XHJcblxyXG4gICAgLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxyXG4gICAgdmFyIENTU19VTklUID0gXCIoPzpcIiArIENTU19OVU1CRVIgKyBcIil8KD86XCIgKyBDU1NfSU5URUdFUiArIFwiKVwiO1xyXG5cclxuICAgIC8vIEFjdHVhbCBtYXRjaGluZy5cclxuICAgIC8vIFBhcmVudGhlc2VzIGFuZCBjb21tYXMgYXJlIG9wdGlvbmFsLCBidXQgbm90IHJlcXVpcmVkLlxyXG4gICAgLy8gV2hpdGVzcGFjZSBjYW4gdGFrZSB0aGUgcGxhY2Ugb2YgY29tbWFzIG9yIG9wZW5pbmcgcGFyZW5cclxuICAgIHZhciBQRVJNSVNTSVZFX01BVENIMyA9IFwiW1xcXFxzfFxcXFwoXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVssfFxcXFxzXSsoXCIgKyBDU1NfVU5JVCArIFwiKVxcXFxzKlxcXFwpP1wiO1xyXG4gICAgdmFyIFBFUk1JU1NJVkVfTUFUQ0g0ID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBDU1NfVU5JVDogbmV3IFJlZ0V4cChDU1NfVU5JVCksXHJcbiAgICAgICAgcmdiOiBuZXcgUmVnRXhwKFwicmdiXCIgKyBQRVJNSVNTSVZFX01BVENIMyksXHJcbiAgICAgICAgcmdiYTogbmV3IFJlZ0V4cChcInJnYmFcIiArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcclxuICAgICAgICBoc2w6IG5ldyBSZWdFeHAoXCJoc2xcIiArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcclxuICAgICAgICBoc2xhOiBuZXcgUmVnRXhwKFwiaHNsYVwiICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxyXG4gICAgICAgIGhzdjogbmV3IFJlZ0V4cChcImhzdlwiICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxyXG4gICAgICAgIGhzdmE6IG5ldyBSZWdFeHAoXCJoc3ZhXCIgKyBQRVJNSVNTSVZFX01BVENINCksXHJcbiAgICAgICAgaGV4MzogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxyXG4gICAgICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcclxuICAgICAgICBoZXg0OiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxyXG4gICAgICAgIGhleDg6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC9cclxuICAgIH07XHJcbn0pKCk7XHJcblxyXG4vLyBgaXNWYWxpZENTU1VuaXRgXHJcbi8vIFRha2UgaW4gYSBzaW5nbGUgc3RyaW5nIC8gbnVtYmVyIGFuZCBjaGVjayB0byBzZWUgaWYgaXQgbG9va3MgbGlrZSBhIENTUyB1bml0XHJcbi8vIChzZWUgYG1hdGNoZXJzYCBhYm92ZSBmb3IgZGVmaW5pdGlvbikuXHJcbmZ1bmN0aW9uIGlzVmFsaWRDU1NVbml0KGNvbG9yKSB7XHJcbiAgICByZXR1cm4gISFtYXRjaGVycy5DU1NfVU5JVC5leGVjKGNvbG9yKTtcclxufVxyXG5cclxuLy8gYHN0cmluZ0lucHV0VG9PYmplY3RgXHJcbi8vIFBlcm1pc3NpdmUgc3RyaW5nIHBhcnNpbmcuICBUYWtlIGluIGEgbnVtYmVyIG9mIGZvcm1hdHMsIGFuZCBvdXRwdXQgYW4gb2JqZWN0XHJcbi8vIGJhc2VkIG9uIGRldGVjdGVkIGZvcm1hdC4gIFJldHVybnMgYHsgciwgZywgYiB9YCBvciBgeyBoLCBzLCBsIH1gIG9yIGB7IGgsIHMsIHZ9YFxyXG5mdW5jdGlvbiBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XHJcblxyXG4gICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKHRyaW1MZWZ0LCcnKS5yZXBsYWNlKHRyaW1SaWdodCwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB2YXIgbmFtZWQgPSBmYWxzZTtcclxuICAgIGlmIChuYW1lc1tjb2xvcl0pIHtcclxuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcclxuICAgICAgICBuYW1lZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjb2xvciA9PSAndHJhbnNwYXJlbnQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCwgZm9ybWF0OiBcIm5hbWVcIiB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRyeSB0byBtYXRjaCBzdHJpbmcgaW5wdXQgdXNpbmcgcmVndWxhciBleHByZXNzaW9ucy5cclxuICAgIC8vIEtlZXAgbW9zdCBvZiB0aGUgbnVtYmVyIGJvdW5kaW5nIG91dCBvZiB0aGlzIGZ1bmN0aW9uIC0gZG9uJ3Qgd29ycnkgYWJvdXQgWzAsMV0gb3IgWzAsMTAwXSBvciBbMCwzNjBdXHJcbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXHJcbiAgICAvLyBUaGlzIHdheSB0aGUgcmVzdWx0IHdpbGwgYmUgdGhlIHNhbWUgd2hldGhlciB0aGUgdGlueWNvbG9yIGlzIGluaXRpYWxpemVkIHdpdGggc3RyaW5nIG9yIG9iamVjdC5cclxuICAgIHZhciBtYXRjaDtcclxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5yZ2IuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSB9O1xyXG4gICAgfVxyXG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLnJnYmEuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcclxuICAgIH1cclxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSB9O1xyXG4gICAgfVxyXG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzbGEuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCBsOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcclxuICAgIH1cclxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oc3YuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xyXG4gICAgfVxyXG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcclxuICAgIH1cclxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg4LmV4ZWMoY29sb3IpKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXHJcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXHJcbiAgICAgICAgICAgIGI6IHBhcnNlSW50RnJvbUhleChtYXRjaFszXSksXHJcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0pLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleDhcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoKG1hdGNoID0gbWF0Y2hlcnMuaGV4Ni5leGVjKGNvbG9yKSkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0pLFxyXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxyXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IG5hbWVkID8gXCJuYW1lXCIgOiBcImhleFwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmICgobWF0Y2ggPSBtYXRjaGVycy5oZXg0LmV4ZWMoY29sb3IpKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSArICcnICsgbWF0Y2hbMV0pLFxyXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0gKyAnJyArIG1hdGNoWzJdKSxcclxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgJycgKyBtYXRjaFszXSksXHJcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0gKyAnJyArIG1hdGNoWzRdKSxcclxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXg4XCJcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKChtYXRjaCA9IG1hdGNoZXJzLmhleDMuZXhlYyhjb2xvcikpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdICsgJycgKyBtYXRjaFsxXSksXHJcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSArICcnICsgbWF0Y2hbMl0pLFxyXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyAnJyArIG1hdGNoWzNdKSxcclxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/IFwibmFtZVwiIDogXCJoZXhcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVdDQUcyUGFybXMocGFybXMpIHtcclxuICAgIC8vIHJldHVybiB2YWxpZCBXQ0FHMiBwYXJtcyBmb3IgaXNSZWFkYWJsZS5cclxuICAgIC8vIElmIGlucHV0IHBhcm1zIGFyZSBpbnZhbGlkLCByZXR1cm4ge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn1cclxuICAgIHZhciBsZXZlbCwgc2l6ZTtcclxuICAgIHBhcm1zID0gcGFybXMgfHwge1wibGV2ZWxcIjpcIkFBXCIsIFwic2l6ZVwiOlwic21hbGxcIn07XHJcbiAgICBsZXZlbCA9IChwYXJtcy5sZXZlbCB8fCBcIkFBXCIpLnRvVXBwZXJDYXNlKCk7XHJcbiAgICBzaXplID0gKHBhcm1zLnNpemUgfHwgXCJzbWFsbFwiKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgaWYgKGxldmVsICE9PSBcIkFBXCIgJiYgbGV2ZWwgIT09IFwiQUFBXCIpIHtcclxuICAgICAgICBsZXZlbCA9IFwiQUFcIjtcclxuICAgIH1cclxuICAgIGlmIChzaXplICE9PSBcInNtYWxsXCIgJiYgc2l6ZSAhPT0gXCJsYXJnZVwiKSB7XHJcbiAgICAgICAgc2l6ZSA9IFwic21hbGxcIjtcclxuICAgIH1cclxuICAgIHJldHVybiB7XCJsZXZlbFwiOmxldmVsLCBcInNpemVcIjpzaXplfTtcclxufVxyXG5cclxuLy8gTm9kZTogRXhwb3J0IGZ1bmN0aW9uXHJcbmlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHRpbnljb2xvcjtcclxufVxyXG4vLyBBTUQvcmVxdWlyZWpzOiBEZWZpbmUgdGhlIG1vZHVsZVxyXG5lbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIGRlZmluZShmdW5jdGlvbiAoKSB7cmV0dXJuIHRpbnljb2xvcjt9KTtcclxufVxyXG4vLyBCcm93c2VyOiBFeHBvc2UgdG8gd2luZG93XHJcbmVsc2Uge1xyXG4gICAgd2luZG93LnRpbnljb2xvciA9IHRpbnljb2xvcjtcclxufVxyXG5cclxufSkoTWF0aCk7XHJcbiIsIi8qXHJcbiAqIFRvYXN0clxyXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1XHJcbiAqIEF1dGhvcnM6IEpvaG4gUGFwYSwgSGFucyBGasOkbGxlbWFyaywgYW5kIFRpbSBGZXJyZWxsLlxyXG4gKiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBVc2UsIHJlcHJvZHVjdGlvbiwgZGlzdHJpYnV0aW9uLCBhbmQgbW9kaWZpY2F0aW9uIG9mIHRoaXMgY29kZSBpcyBzdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmRcclxuICogY29uZGl0aW9ucyBvZiB0aGUgTUlUIGxpY2Vuc2UsIGF2YWlsYWJsZSBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG4gKlxyXG4gKiBBUklBIFN1cHBvcnQ6IEdyZXRhIEtyYWZzaWdcclxuICpcclxuICogUHJvamVjdDogaHR0cHM6Ly9naXRodWIuY29tL0NvZGVTZXZlbi90b2FzdHJcclxuICovXHJcbi8qIGdsb2JhbCBkZWZpbmUgKi9cclxuKGZ1bmN0aW9uIChkZWZpbmUpIHtcclxuICAgIGRlZmluZShbJ2pxdWVyeSddLCBmdW5jdGlvbiAoJCkge1xyXG4gICAgICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyO1xyXG4gICAgICAgICAgICB2YXIgdG9hc3RJZCA9IDA7XHJcbiAgICAgICAgICAgIHZhciB0b2FzdFR5cGUgPSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ2Vycm9yJyxcclxuICAgICAgICAgICAgICAgIGluZm86ICdpbmZvJyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICdzdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIHdhcm5pbmc6ICd3YXJuaW5nJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHRvYXN0ciA9IHtcclxuICAgICAgICAgICAgICAgIGNsZWFyOiBjbGVhcixcclxuICAgICAgICAgICAgICAgIHJlbW92ZTogcmVtb3ZlLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29udGFpbmVyOiBnZXRDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICBpbmZvOiBpbmZvLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge30sXHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAnMi4xLjMnLFxyXG4gICAgICAgICAgICAgICAgd2FybmluZzogd2FybmluZ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHByZXZpb3VzVG9hc3Q7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdG9hc3RyO1xyXG5cclxuICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9hc3RUeXBlLmVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLmVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc092ZXJyaWRlOiBvcHRpb25zT3ZlcnJpZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKG9wdGlvbnMsIGNyZWF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7IG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7IH1cclxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCcjJyArIG9wdGlvbnMuY29udGFpbmVySWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRjb250YWluZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRjb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JlYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcihvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkY29udGFpbmVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbmZvKG1lc3NhZ2UsIHRpdGxlLCBvcHRpb25zT3ZlcnJpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRvYXN0VHlwZS5pbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogZ2V0T3B0aW9ucygpLmljb25DbGFzc2VzLmluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zT3ZlcnJpZGU6IG9wdGlvbnNPdmVycmlkZSxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWJzY3JpYmUoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9hc3RUeXBlLnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBnZXRPcHRpb25zKCkuaWNvbkNsYXNzZXMuc3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNPdmVycmlkZTogb3B0aW9uc092ZXJyaWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSwgdGl0bGUsIG9wdGlvbnNPdmVycmlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9hc3RUeXBlLndhcm5pbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzOiBnZXRPcHRpb25zKCkuaWNvbkNsYXNzZXMud2FybmluZyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNPdmVycmlkZTogb3B0aW9uc092ZXJyaWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyKCR0b2FzdEVsZW1lbnQsIGNsZWFyT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgZ2V0Q29udGFpbmVyKG9wdGlvbnMpOyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNsZWFyVG9hc3QoJHRvYXN0RWxlbWVudCwgb3B0aW9ucywgY2xlYXJPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmUoJHRvYXN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRjb250YWluZXIpIHsgZ2V0Q29udGFpbmVyKG9wdGlvbnMpOyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJHRvYXN0RWxlbWVudCAmJiAkKCc6Zm9jdXMnLCAkdG9hc3RFbGVtZW50KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVUb2FzdCgkdG9hc3RFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJGNvbnRhaW5lci5jaGlsZHJlbigpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGludGVybmFsIGZ1bmN0aW9uc1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJDb250YWluZXIgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0b2FzdHNUb0NsZWFyID0gJGNvbnRhaW5lci5jaGlsZHJlbigpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRvYXN0c1RvQ2xlYXIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRvYXN0KCQodG9hc3RzVG9DbGVhcltpXSksIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhclRvYXN0ICgkdG9hc3RFbGVtZW50LCBvcHRpb25zLCBjbGVhck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JjZSA9IGNsZWFyT3B0aW9ucyAmJiBjbGVhck9wdGlvbnMuZm9yY2UgPyBjbGVhck9wdGlvbnMuZm9yY2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICgkdG9hc3RFbGVtZW50ICYmIChmb3JjZSB8fCAkKCc6Zm9jdXMnLCAkdG9hc3RFbGVtZW50KS5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudFtvcHRpb25zLmhpZGVNZXRob2RdKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuaGlkZUR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IG9wdGlvbnMuaGlkZUVhc2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsgcmVtb3ZlVG9hc3QoJHRvYXN0RWxlbWVudCk7IH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQ29udGFpbmVyKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIgPSAkKCc8ZGl2Lz4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsIG9wdGlvbnMuY29udGFpbmVySWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKG9wdGlvbnMucG9zaXRpb25DbGFzcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmRUbygkKG9wdGlvbnMudGFyZ2V0KSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcFRvRGlzbWlzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdENsYXNzOiAndG9hc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcklkOiAndG9hc3QtY29udGFpbmVyJyxcclxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dNZXRob2Q6ICdmYWRlSW4nLCAvL2ZhZGVJbiwgc2xpZGVEb3duLCBhbmQgc2hvdyBhcmUgYnVpbHQgaW50byBqUXVlcnlcclxuICAgICAgICAgICAgICAgICAgICBzaG93RHVyYXRpb246IDMwMCxcclxuICAgICAgICAgICAgICAgICAgICBzaG93RWFzaW5nOiAnc3dpbmcnLCAvL3N3aW5nIGFuZCBsaW5lYXIgYXJlIGJ1aWx0IGludG8galF1ZXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgb25TaG93bjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhpZGVNZXRob2Q6ICdmYWRlT3V0JyxcclxuICAgICAgICAgICAgICAgICAgICBoaWRlRHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZUVhc2luZzogJ3N3aW5nJyxcclxuICAgICAgICAgICAgICAgICAgICBvbkhpZGRlbjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTWV0aG9kOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZUR1cmF0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZUVhc2luZzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkhvdmVyOiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBleHRlbmRlZFRpbWVPdXQ6IDEwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkNsYXNzZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICd0b2FzdC1lcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm86ICd0b2FzdC1pbmZvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogJ3RvYXN0LXN1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiAndG9hc3Qtd2FybmluZydcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25DbGFzczogJ3RvYXN0LWluZm8nLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2xhc3M6ICd0b2FzdC10b3AtcmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPdXQ6IDUwMDAsIC8vIFNldCB0aW1lT3V0IGFuZCBleHRlbmRlZFRpbWVPdXQgdG8gMCB0byBtYWtlIGl0IHN0aWNreVxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlQ2xhc3M6ICd0b2FzdC10aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNsYXNzOiAndG9hc3QtbWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlSHRtbDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnYm9keScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VIdG1sOiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+JnRpbWVzOzwvYnV0dG9uPicsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VDbGFzczogJ3RvYXN0LWNsb3NlLWJ1dHRvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3ZXN0T25Ub3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzQmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0NsYXNzOiAndG9hc3QtcHJvZ3Jlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ0bDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHB1Ymxpc2goYXJncykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcikgeyByZXR1cm47IH1cclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBub3RpZnkobWFwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uQ2xhc3MgPSBtYXAuaWNvbkNsYXNzIHx8IG9wdGlvbnMuaWNvbkNsYXNzO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKG1hcC5vcHRpb25zT3ZlcnJpZGUpICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZChvcHRpb25zLCBtYXAub3B0aW9uc092ZXJyaWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpY29uQ2xhc3MgPSBtYXAub3B0aW9uc092ZXJyaWRlLmljb25DbGFzcyB8fCBpY29uQ2xhc3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEV4aXQob3B0aW9ucywgbWFwKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgICAgICAgICB0b2FzdElkKys7XHJcblxyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lciA9IGdldENvbnRhaW5lcihvcHRpb25zLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgJHRvYXN0RWxlbWVudCA9ICQoJzxkaXYvPicpO1xyXG4gICAgICAgICAgICAgICAgdmFyICR0aXRsZUVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcclxuICAgICAgICAgICAgICAgIHZhciAkbWVzc2FnZUVsZW1lbnQgPSAkKCc8ZGl2Lz4nKTtcclxuICAgICAgICAgICAgICAgIHZhciAkcHJvZ3Jlc3NFbGVtZW50ID0gJCgnPGRpdi8+Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGNsb3NlRWxlbWVudCA9ICQob3B0aW9ucy5jbG9zZUh0bWwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzQmFyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGludGVydmFsSWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgaGlkZUV0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhIaWRlVGltZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdElkOiB0b2FzdElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiAndmlzaWJsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXBcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgcGVyc29uYWxpemVUb2FzdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlUb2FzdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGhhbmRsZUV2ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgICAgIHB1Ymxpc2gocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRlYnVnICYmIGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICR0b2FzdEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXNjYXBlSHRtbChzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJyYjMzk7JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHBlcnNvbmFsaXplVG9hc3QoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SWNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpdGxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3NCYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRSVEwoKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTZXF1ZW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFyaWEoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRBcmlhKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmlhVmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1hcC5pY29uQ2xhc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9hc3Qtc3VjY2Vzcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvYXN0LWluZm8nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYVZhbHVlID0gICdwb2xpdGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhVmFsdWUgPSAnYXNzZXJ0aXZlJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hdHRyKCdhcmlhLWxpdmUnLCBhcmlhVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50cygpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jbG9zZU9uSG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5ob3ZlcihzdGlja0Fyb3VuZCwgZGVsYXllZEhpZGVUb2FzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMub25jbGljayAmJiBvcHRpb25zLnRhcFRvRGlzbWlzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LmNsaWNrKGhpZGVUb2FzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jbG9zZUJ1dHRvbiAmJiAkY2xvc2VFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRjbG9zZUVsZW1lbnQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmNhbmNlbEJ1YmJsZSAhPT0gdW5kZWZpbmVkICYmIGV2ZW50LmNhbmNlbEJ1YmJsZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25DbG9zZUNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkNsb3NlQ2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUb2FzdCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbmNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uY2xpY2soZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRvYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkaXNwbGF5VG9hc3QoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnRbb3B0aW9ucy5zaG93TWV0aG9kXShcclxuICAgICAgICAgICAgICAgICAgICAgICAge2R1cmF0aW9uOiBvcHRpb25zLnNob3dEdXJhdGlvbiwgZWFzaW5nOiBvcHRpb25zLnNob3dFYXNpbmcsIGNvbXBsZXRlOiBvcHRpb25zLm9uU2hvd259XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGltZU91dCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldFRpbWVvdXQoaGlkZVRvYXN0LCBvcHRpb25zLnRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5tYXhIaWRlVGltZSA9IHBhcnNlRmxvYXQob3B0aW9ucy50aW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaGlkZUV0YSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2dyZXNzQmFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodXBkYXRlUHJvZ3Jlc3MsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRJY29uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAuaWNvbkNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQuYWRkQ2xhc3Mob3B0aW9ucy50b2FzdENsYXNzKS5hZGRDbGFzcyhpY29uQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRTZXF1ZW5jZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5uZXdlc3RPblRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkY29udGFpbmVyLnByZXBlbmQoJHRvYXN0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoJHRvYXN0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFRpdGxlKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXAudGl0bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IG1hcC50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXNjYXBlSHRtbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gZXNjYXBlSHRtbChtYXAudGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aXRsZUVsZW1lbnQuYXBwZW5kKHN1ZmZpeCkuYWRkQ2xhc3Mob3B0aW9ucy50aXRsZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hcHBlbmQoJHRpdGxlRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWZmaXggPSBtYXAubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXNjYXBlSHRtbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VmZml4ID0gZXNjYXBlSHRtbChtYXAubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1lc3NhZ2VFbGVtZW50LmFwcGVuZChzdWZmaXgpLmFkZENsYXNzKG9wdGlvbnMubWVzc2FnZUNsYXNzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hcHBlbmQoJG1lc3NhZ2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q2xvc2VCdXR0b24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2xvc2VCdXR0b24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGNsb3NlRWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLmNsb3NlQ2xhc3MpLmF0dHIoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0b2FzdEVsZW1lbnQucHJlcGVuZCgkY2xvc2VFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0UHJvZ3Jlc3NCYXIoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvZ3Jlc3NCYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHByb2dyZXNzRWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnByb2dyZXNzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LnByZXBlbmQoJHByb2dyZXNzRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldFJUTCgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ydGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudC5hZGRDbGFzcygncnRsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3VsZEV4aXQob3B0aW9ucywgbWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJldmVudER1cGxpY2F0ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcC5tZXNzYWdlID09PSBwcmV2aW91c1RvYXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVG9hc3QgPSBtYXAubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvYXN0KG92ZXJyaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1ldGhvZCA9IG92ZXJyaWRlICYmIG9wdGlvbnMuY2xvc2VNZXRob2QgIT09IGZhbHNlID8gb3B0aW9ucy5jbG9zZU1ldGhvZCA6IG9wdGlvbnMuaGlkZU1ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBvdmVycmlkZSAmJiBvcHRpb25zLmNsb3NlRHVyYXRpb24gIT09IGZhbHNlID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jbG9zZUR1cmF0aW9uIDogb3B0aW9ucy5oaWRlRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVhc2luZyA9IG92ZXJyaWRlICYmIG9wdGlvbnMuY2xvc2VFYXNpbmcgIT09IGZhbHNlID8gb3B0aW9ucy5jbG9zZUVhc2luZyA6IG9wdGlvbnMuaGlkZUVhc2luZztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnOmZvY3VzJywgJHRvYXN0RWxlbWVudCkubGVuZ3RoICYmICFvdmVycmlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChwcm9ncmVzc0Jhci5pbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRvYXN0RWxlbWVudFttZXRob2RdKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvYXN0KCR0b2FzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25IaWRkZW4gJiYgcmVzcG9uc2Uuc3RhdGUgIT09ICdoaWRkZW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkhpZGRlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdGUgPSAnaGlkZGVuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVibGlzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWxheWVkSGlkZVRvYXN0KCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRpbWVPdXQgPiAwIHx8IG9wdGlvbnMuZXh0ZW5kZWRUaW1lT3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0VGltZW91dChoaWRlVG9hc3QsIG9wdGlvbnMuZXh0ZW5kZWRUaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWUgPSBwYXJzZUZsb2F0KG9wdGlvbnMuZXh0ZW5kZWRUaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuaGlkZUV0YSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN0aWNrQXJvdW5kKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0Jhci5oaWRlRXRhID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LnN0b3AodHJ1ZSwgdHJ1ZSlbb3B0aW9ucy5zaG93TWV0aG9kXShcclxuICAgICAgICAgICAgICAgICAgICAgICAge2R1cmF0aW9uOiBvcHRpb25zLnNob3dEdXJhdGlvbiwgZWFzaW5nOiBvcHRpb25zLnNob3dFYXNpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcygpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudGFnZSA9ICgocHJvZ3Jlc3NCYXIuaGlkZUV0YSAtIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkpIC8gcHJvZ3Jlc3NCYXIubWF4SGlkZVRpbWUpICogMTAwO1xyXG4gICAgICAgICAgICAgICAgICAgICRwcm9ncmVzc0VsZW1lbnQud2lkdGgocGVyY2VudGFnZSArICclJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIGdldERlZmF1bHRzKCksIHRvYXN0ci5vcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9hc3QoJHRvYXN0RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkY29udGFpbmVyKSB7ICRjb250YWluZXIgPSBnZXRDb250YWluZXIoKTsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCR0b2FzdEVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkdG9hc3RFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgJHRvYXN0RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGNvbnRhaW5lci5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUb2FzdCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KSgpO1xyXG4gICAgfSk7XHJcbn0odHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lIDogZnVuY3Rpb24gKGRlcHMsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgeyAvL05vZGVcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB3aW5kb3cudG9hc3RyID0gZmFjdG9yeSh3aW5kb3cualF1ZXJ5KTtcclxuICAgIH1cclxufSkpO1xyXG4iLCJ2YXIgdGVtcGxhdGVTeXN0ZW0gPSByZXF1aXJlKCcuLi9zcmMvanMvYmluZGluZ3MvY2hvb3NlLXRlbXBsYXRlLmpzJyk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiYXJyYXlcIiwgXCI8IS0tIGtvIGZvcmVhY2g6ICRkYXRhIC0tPjwhLS0ga28gYmxvY2s6ICRkYXRhIC0tPjwhLS0gL2tvIC0tPjwhLS0gL2tvIC0tPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiYmxvY2stc2hvd1wiLCBcIjwhLS0ga28gYmxvY2s6ICRkYXRhLCBzY3JvbGxJbnRvVmlldzogJHJvb3Quc2VsZWN0ZWRCbG9jaygpID09PSAkZGF0YSAtLT48IS0tIC9rbyAtLT5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImJsb2NrLXd5c2l3eWdcIiwgXCI8ZGl2IGNsYXNzPVxceDIyZWRpdGFibGUgYmxvY2tcXHgyMiBkYXRhLWRyb3AtY29udGVudD1cXHgyMkRyb3AgaGVyZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgJ2RhdGEtZHJvcC1jb250ZW50JzogJHJvb3QudCgnRHJvcCBoZXJlJykgfSwgY2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEJsb2NrKG9iaik7IHJldHVybiB0cnVlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgY3NzOiB7IHNlbGVjdGVkOiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgPT09ICRkYXRhIH0sIHNjcm9sbEludG9WaWV3OiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgPT09ICRkYXRhXFx4MjI+ICA8ZGl2IGNsYXNzPVxceDIybW8tYmxvY2tzZWxlY3Rpb25oZWxwZXJcXHgyMj48L2Rpdj4gIDxkaXYgY2xhc3M9XFx4MjJ0b29sc1xceDIyIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJGluZGV4ICE9ICd1bmRlZmluZWQnIC0tPiAgICA8ZGl2IHRpdGxlPVxceDIyRHJhZyB0aGlzIGhhbmRsZSB0byBtb3ZlIHRoZSBibG9ja1xceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ0RyYWcgdGhpcyBoYW5kbGUgdG8gbW92ZSB0aGUgYmxvY2snKSB9XFx4MjIgY2xhc3M9XFx4MjJ0b29sIGhhbmRsZVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtc29ydFxceDIyPjwvaT48L2Rpdj4gICAgPCEtLSBrbyBpZjogJGluZGV4KCkgPiAwIC0tPiAgICA8ZGl2IHRpdGxlPVxceDIyTW92ZSB0aGlzIGJsb2NrIHVwc2lkZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ01vdmUgdGhpcyBibG9jayB1cHNpZGUnKSB9XFx4MjIgY2xhc3M9XFx4MjJ0b29sIG1vdmV1cFxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtc29ydC1hc2NcXHgyMiBkYXRhLWJpbmQ9J2NsaWNrOiAkcm9vdC5tb3ZlQmxvY2suYmluZCgkZWxlbWVudCwgJGluZGV4LCAkcGFyZW50LCB0cnVlKSc+PC9pPjwvZGl2PiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBpZjogJGluZGV4KCkgPCAkcGFyZW50LmJsb2NrcygpLmxlbmd0aCAtMSAtLT4gICAgPGRpdiB0aXRsZT1cXHgyMk1vdmUgdGhpcyBibG9jayBkb3duc2lkZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ01vdmUgdGhpcyBibG9jayBkb3duc2lkZScpIH1cXHgyMiBjbGFzcz1cXHgyMnRvb2wgbW92ZWRvd25cXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLXNvcnQtZGVzY1xceDIyIGRhdGEtYmluZD0nY2xpY2s6ICRyb290Lm1vdmVCbG9jay5iaW5kKCRlbGVtZW50LCAkaW5kZXgsICRwYXJlbnQsIGZhbHNlKSc+PC9pPjwvZGl2PiAgICA8IS0tIC9rbyAtLT4gICAgPGRpdiB0aXRsZT1cXHgyMkRlbGV0ZSBibG9ja1xceDIyIGNsYXNzPVxceDIydG9vbCBkZWxldGVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdEZWxldGUgYmxvY2snKSB9LCBjbGljazogJHJvb3QucmVtb3ZlQmxvY2suYmluZCgkZWxlbWVudCwgJHJhd0RhdGEsICRwYXJlbnQpXFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS10cmFzaC1vXFx4MjI+PC9pPjwvZGl2PiAgICA8ZGl2IHRpdGxlPVxceDIyRHVwbGljYXRlIGJsb2NrXFx4MjIgY2xhc3M9XFx4MjJ0b29sIGNsb25lXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnRHVwbGljYXRlIGJsb2NrJykgfSwgY2xpY2s6ICRyb290LmR1cGxpY2F0ZUJsb2NrLmJpbmQoJGVsZW1lbnQsICRpbmRleCwgJHBhcmVudClcXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLWZpbGVzLW9cXHgyMj48L2k+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJGRhdGEuX25leHRWYXJpYW50ICE9ICd1bmRlZmluZWQnIC0tPjxkaXYgdGl0bGU9XFx4MjJTd2l0Y2ggYmxvY2sgdmFyaWFudFxceDIyIGNsYXNzPVxceDIydG9vbCB2YXJpYW50XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU3dpdGNoIGJsb2NrIHZhcmlhbnQnKSB9LCBjbGljazogJGRhdGEuX25leHRWYXJpYW50XFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1tYWdpY1xceDIyPjwvaT48L2Rpdj48IS0tIC9rbyAtLT4gIDwvZGl2PiAgPCEtLSBrbyBibG9jazogJGRhdGEgLS0+PCEtLSAva28gLS0+PC9kaXY+XCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJibG9ja3Mtc2hvd1wiLCBcIjwhLS0ga28gdGVtcGxhdGU6IHsgbmFtZTogJ2Jsb2NrLXNob3cnLCBmb3JlYWNoOiBibG9ja3MgfSAtLT48IS0tIC9rbyAtLT5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImJsb2Nrcy13eXNpd3lnXCIsIFwiPGRpdiBjbGFzcz1cXHgyMnNvcnRhYmxlLWJsb2Nrcy1lZGl0XFx4MjIgZGF0YS1kcm9wLWNvbnRlbnQ9XFx4MjJEcm9wIGhlcmVcXHgyMiBkYXRhLWVtcHR5LWNvbnRlbnQ9XFx4MjJEcm9wIGhlcmUgYmxvY2tzIGZyb20gdGhlIEJsb2NrcyB0YWJcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7ICdkYXRhLWRyb3AtY29udGVudCc6ICRyb290LnQoJ0Ryb3AgaGVyZScpLCAnZGF0YS1lbXB0eS1jb250ZW50JzogJHJvb3QudCgnRHJvcCBoZXJlIGJsb2NrcyBmcm9tIHRoZSAmcXVvdDtCbG9ja3MmcXVvdDsgdGFiJykgfSwgY3NzOiB7ICdlbXB0eSc6IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoYmxvY2tzKS5sZW5ndGggPT0gMCB9LCBleHRzb3J0YWJsZTogeyBjb25uZWN0Q2xhc3M6ICdzb3J0YWJsZS1ibG9ja3MtZWRpdCcsIHRlbXBsYXRlOiAnYmxvY2std3lzaXd5ZycsIGRhdGE6IGJsb2NrcywgZHJhZ2dpbmc6ICRyb290LmRyYWdnaW5nLCBiZWZvcmVNb3ZlOiAkcm9vdC5zdGFydE11bHRpcGxlLCBhZnRlck1vdmU6ICRyb290LnN0b3BNdWx0aXBsZSwgb3B0aW9uczogeyBoYW5kbGU6ICcuaGFuZGxlJywgcGxhY2Vob2xkZXI6ICRyb290LnBsYWNlaG9sZGVySGVscGVyIH0gfVxceDIyPjwvZGl2PlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiY3VzdG9tc3R5bGVcIiwgXCI8ZGl2IGNsYXNzPVxceDIyY3VzdG9tU3R5bGVIZWxwXFx4MjIgZGF0YS1iaW5kPVxceDIyaHRtbDogJHJvb3QudCgnQ3VzdG9taXplZCBibG9jay48dWw+PGxpPkluIHRoaXMgc3RhdHVzIGNoYW5nZXMgdG8gcHJvcGVydGllcyB3aWxsIGJlIHNwZWNpZmljIHRvIHRoZSBjdXJyZW50IGJsb2NrIChpbnN0ZWFkIG9mIGJlaW5nIGdsb2JhbCB0byBhbGwgYmxvY2tzIGluIHRoZSBzYW1lIHNlY3Rpb24pPC9saT48bGk+QSA8c3BhbiBjbGFzcz0mcXVvdDtjdXN0b21TdHlsZWQmcXVvdDs+PHNwYW4+JnF1b3Q7c21hbGwgY3ViZSZxdW90OyA8L3NwYW4+PC9zcGFuPiBpY29uIGJlc2lkZSB0aGUgcHJvcGVydHkgd2lsbCBtYXJrIHRoZSBjdXN0b21pemF0aW9uLiBCeSBjbGlja2luZyB0aGlzIGljb24gdGhlIHByb3BlcnR5IHZhbHVlIHdpbGwgYmUgcmV2ZXJ0ZWQgdG8gdGhlIHZhbHVlIGRlZmluZWQgZm9yIHRoZSBzZWN0aW9uLjwvbGk+PC91bD4nKVxceDIyPkN1c3RvbWl6ZWQgYmxvY2suPHVsPjxsaT5JbiB0aGlzIHN0YXR1cyBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgd2lsbCBiZSBzcGVjaWZpYyB0byB0aGUgY3VycmVudCBibG9jayAoaW5zdGVhZCBvZiBiZWluZyBnbG9iYWwgdG8gYWxsIGJsb2NrcyBpbiB0aGUgc2FtZSBzZWN0aW9uKTwvbGk+PGxpPkEgPHNwYW4gY2xhc3M9XFx4MjJjdXN0b21TdHlsZWRcXHgyMj48c3Bhbj5cXHgyMnNtYWxsIGN1YmVcXHgyMiA8L3NwYW4+PC9zcGFuPiBpY29uIGJlc2lkZSB0aGUgcHJvcGVydHkgd2lsbCBtYXJrIHRoZSBjdXN0b21pemF0aW9uLiBCeSBjbGlja2luZyB0aGlzIGljb24gdGhlIHByb3BlcnR5IHZhbHVlIHdpbGwgYmUgcmV2ZXJ0ZWQgdG8gdGhlIHZhbHVlIGRlZmluZWQgZm9yIHRoZSBzZWN0aW9uLjwvbGk+PC91bD48L2Rpdj5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImVtcHR5XCIsIFwiXCIpO1xudGVtcGxhdGVTeXN0ZW0uYWRkVGVtcGxhdGUoXCJlcnJvclwiLCBcIls8ZGl2IHN0eWxlPVxceDIyYmFja2dyb3VuZC1jb2xvcjogI2ZmZjBmMFxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6IGtvLnRvSlMoJGRhdGEpXFx4MjI+PC9kaXY+XVwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwiZ2FsbGVyeS1pbWFnZXNcIiwgXCI8ZGl2IGRhdGEtYmluZD1cXHgyMmZvcmVhY2g6IGl0ZW1zLmN1cnJlbnRQYWdlRGF0YVxceDIyPiAgPGRpdiBjbGFzcz1cXHgyMmRyYWdnYWJsZS1pdGVtXFx4MjIgZGF0YS1iaW5kPVxceDIyaWY6IHR5cGVvZiB0aHVtYm5haWxVcmwgIT0gJ3VuZGVmaW5lZCdcXHgyMj4gICAgPGRpdiBjbGFzcz1cXHgyMmRyYWdnYWJsZSBpbWFnZVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5hZGRJbWFnZSwgZXh0ZHJhZ2dhYmxlOiB7IGRhdGE6ICRkYXRhLCBkcm9wQ29udGFpbmVyOiAnI21haW4td3lzaXd5Zy1hcmVhJywgZHJhZ2dpbmc6ICRyb290LmRyYWdnaW5nSW1hZ2UsICdvcHRpb25zJzogeyAnYXBwZW5kVG8nOiAnI3BhZ2UnIH0gfSwgc3R5bGU6IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKFxcXFwnJyArIHRodW1ibmFpbFVybCArICdcXFxcJyknIH1cXHgyMj4gICAgICA8aW1nIHRpdGxlPVxceDIyRHJhZyB0aGlzIGltYWdlIGFuZCBkcm9wIGl0IG9uIGFueSB0ZW1wbGF0ZSBpbWFnZSBwbGFjZWhvbGRlclxceDIyIHN0eWxlPVxceDIyZGlzcGxheTogYmxvY2s7XFx4MjIgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9LCBhdHRyOiB7IHNyYzogdGh1bWJuYWlsVXJsLCAndGl0bGUnOiAkcm9vdC50KCdEcmFnIHRoaXMgaW1hZ2UgYW5kIGRyb3AgaXQgb24gYW55IHRlbXBsYXRlIGltYWdlIHBsYWNlaG9sZGVyJykgfVxceDIyLz4gICAgPC9kaXY+ICA8L2Rpdj48L2Rpdj48IS0tIGtvIGlmOiBpdGVtcy5wYWdlQ291bnQoKSA+IDEgLS0+PGRpdiBjbGFzcz1cXHgyMmdhbGxlcnlQYWdlclxceDIyIGRhdGEtYmluZD1cXHgyMmJ1dHRvbnNldDoge31cXHgyMj4gIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogaXRlbXMubW92ZUZpcnN0LCBidXR0b246IHsgZGlzYWJsZWQ6IGl0ZW1zLmN1cnJlbnRQYWdlKCkgPT0gMSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZhc3QtYmFja3dhcmQnIH0sIHRleHQ6IGZhbHNlIH1cXHgyMj5GaXJzdDwvYT4gIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogaXRlbXMubW92ZVByZXZpb3VzLCBidXR0b246IHsgZGlzYWJsZWQ6IGl0ZW1zLmN1cnJlbnRQYWdlKCkgPT0gMSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWJhY2t3YXJkJyB9LCB0ZXh0OiBmYWxzZSB9XFx4MjI+UHJldmlvdXM8L2E+ICA8c3BhbiBkYXRhLWJpbmQ9XFx4MjJidXR0b246IHsgZGlzYWJsZWQ6IHRydWUsIHRleHQ6IHRydWUsIGxhYmVsOiAnICcraXRlbXMuY3VycmVudFBhZ2UoKSsnIGRpICcraXRlbXMucGFnZUNvdW50KCkrJyAnIH1cXHgyMj4gWCBkaSBZIDwvc3Bhbj4gIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogaXRlbXMubW92ZU5leHQsIGJ1dHRvbjogeyBkaXNhYmxlZDogaXRlbXMuY3VycmVudFBhZ2UoKSA9PSBpdGVtcy5wYWdlQ291bnQoKSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZvcndhcmQnIH0sIHRleHQ6IGZhbHNlIH1cXHgyMj5OZXh0PC9hPiAgPGEgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiBpdGVtcy5tb3ZlTGFzdCwgYnV0dG9uOiB7IGRpc2FibGVkOiBpdGVtcy5jdXJyZW50UGFnZSgpID09IGl0ZW1zLnBhZ2VDb3VudCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZmFzdC1mb3J3YXJkJyB9LCB0ZXh0OiBmYWxzZSB9XFx4MjI+TGFzdDwvYT48L2Rpdj48IS0tIC9rbyAtLT5cIik7XG50ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShcImltZy13eXNpd3lnXCIsIFwiPHRhYmxlIHRhYmZvY3VzPVxceDIyMFxceDIyIGNlbGxzcGFjaW5nPVxceDIyMFxceDIyIGNlbGxwYWRkaW5nPVxceDIyMFxceDIyIGRhdGEtZHJvcC1jb250ZW50PVxceDIyRHJvcCBoZXJlXFx4MjIgZGF0YS1iaW5kPVxceDIyc3R5bGU6IF9zdHlsZWJpbmQsIGNsaWNrOiBmdW5jdGlvbihvYmosIGV2dCkgeyAkcm9vdC5zZWxlY3RJdGVtKF9pdGVtLCBfZGF0YSk7IHJldHVybiB0cnVlOyB9LCBjbGlja0J1YmJsZTogZmFsc2UsIGZ1ZHJvcHBhYmxlOiB7IGFjdGl2ZUNsYXNzOiAndWktc3RhdGUtaGlnaGxpZ2h0JywgaG92ZXJDbGFzczogJ3VpLXN0YXRlLWRyYWdob3ZlcicgfSwgZHJvcHBhYmxlOiB7IG9wdGlvbnM6IHsgYWNjZXB0OiAnLmltYWdlJywgYWN0aXZlQ2xhc3M6ICd1aS1zdGF0ZS1oaWdobGlnaHQnLCBob3ZlckNsYXNzOiAndWktc3RhdGUtZHJhZ2hvdmVyJyB9LCBkYXRhOiBfc3JjLCBkcmFnZ2VkOiAkcm9vdC5maWxlVG9JbWFnZSB9LCBjc3M6IHsgc2VsZWN0ZWRpdGVtOiAkcm9vdC5pc1NlbGVjdGVkSXRlbShfaXRlbSkgfSwgc2Nyb2xsSW50b1ZpZXc6ICRyb290LmlzU2VsZWN0ZWRJdGVtKF9pdGVtKSwgYXR0cjogeyAnZGF0YS1kcm9wLWNvbnRlbnQnOiAkcm9vdC50KCdEcm9wIGhlcmUnKSwgd2lkdGg6IF93aWR0aCwgaGVpZ2h0OiBfaGVpZ2h0LCBhbGlnbjogX2FsaWduIH1cXHgyMiAgY2xhc3M9XFx4MjJpbWctd3lzaXd5ZyBzZWxlY3RhYmxlLWltZ1xceDIyIHN0eWxlPVxceDIyZGlzcGxheTogdGFibGU7XFx4MjI+PHRyPjx0ZCBjbGFzcz1cXHgyMnVwbG9hZHpvbmVcXHgyMj4gIDxkaXYgY2xhc3M9XFx4MjJtby1pbWdzZWxlY3Rpb25oZWxwZXJcXHgyMj48L2Rpdj4gIDxkaXYgY2xhc3M9XFx4MjJtby11cGxvYWR6b25lXFx4MjI+PC9kaXY+ICA8ZGl2IGNsYXNzPVxceDIyaW1nLXNpemVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiBfc2l6ZVxceDIyPnNpemU8L2Rpdj4gIDxkaXYgY2xhc3M9XFx4MjJtaWR0b29sc1xceDIyIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPiAgICA8IS0tIGtvIGlmOiBfc3JjKCkgIT0gJycgLS0+ICAgIDxkaXYgdGl0bGU9XFx4MjJSZW1vdmUgaW1hZ2VcXHgyMiBjbGFzcz1cXHgyMnRvb2wgZGVsZXRlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnUmVtb3ZlIGltYWdlJykgfSwgY2xpY2s6IF9zcmMuYmluZChfc3JjLCAnJyksIGNsaWNrQnViYmxlOiBmYWxzZVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtdHJhc2gtb1xceDIyPjwvaT48L2Rpdj4gICAgPCEtLSBrbyBpZjogdHlwZW9mICRyb290LmVkaXRJbWFnZSAhPT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxkaXYgdGl0bGU9XFx4MjJPcGVuIHRoZSBpbWFnZSBlZGl0aW5nIHRvb2xcXHgyMiBjbGFzcz1cXHgyMnRvb2wgZWRpdFxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ09wZW4gdGhlIGltYWdlIGVkaXRpbmcgdG9vbCcpIH0sIGNsaWNrOiAkcm9vdC5lZGl0SW1hZ2UuYmluZCgkZWxlbWVudCwgX3NyYyksIGNsaWNrQnViYmxlOiBmYWxzZVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtcGVuY2lsXFx4MjI+PC9pPjwvZGl2PiAgICA8IS0tIC9rbyAtLT4gICAgPCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6IF9zcmMoKSA9PSAnJyAtLT4gICAgPGRpdiB0aXRsZT1cXHgyMlVwbG9hZCBhIG5ldyBpbWFnZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1VwbG9hZCBhIG5ldyBpbWFnZScpIH1cXHgyMiBjbGFzcz1cXHgyMnRvb2wgdXBsb2FkXFx4MjIgc3R5bGU9XFx4MjJwb3NpdGlvbjogcmVsYXRpdmU7IG92ZXJmbG93OiBoaWRkZW47XFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS11cGxvYWRcXHgyMj48L2k+ICAgICAgPGlucHV0IGNsYXNzPVxceDIyZmlsZXVwbG9hZCBub2ZpbGVcXHgyMiB0eXBlPVxceDIyZmlsZVxceDIyIG5hbWU9XFx4MjJmaWxlc1tdXFx4MjIgZGF0YS1iaW5kPVxceDIyZmlsZXVwbG9hZDogeyBkYXRhOiBfc3JjLCBvbmVycm9yOiAkcm9vdC5ub3RpZmllci5lcnJvciwgb25maWxlOiAkcm9vdC5sb2FkSW1hZ2UsIGNhbnZhc1ByZXZpZXc6IHRydWUgfVxceDIyIHN0eWxlPVxceDIyei1pbmRleDogMjA7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBtaW4td2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDEwMCU7IGZvbnQtc2l6ZTogOTk5cHg7IHRleHQtYWxpZ246IHJpZ2h0OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7IG9wYWNpdHk6IDA7IG91dGxpbmU6IG5vbmU7IGN1cnNvcjogaW5oZXJpdDsgZGlzcGxheTogYmxvY2tcXHgyMj4gICAgPC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgPC9kaXY+ICA8IS0tIGtvIHRlbXBsYXRlOiBfdGVtcGxhdGUgLS0+PCEtLSAva28gLS0+ICA8IS0tIGtvIGlmOiBfc3JjKCkgPT0gJycgLS0+ICAgIDwhLS0gICAgPGltZyBzdHlsZT1cXHgyMmRpc3BsYXk6IGJsb2NrO1xceDIyIGNsYXNzPVxceDIyaW1ncGxhY2Vob2xkZXJcXHgyMiB3aWR0aD1cXHgyMjIwMFxceDIyIHNyYz1cXHgyMlxceDIyIGFsdD1cXHgyMkluc2VydCBhbiBpbWFnZSBoZXJlXFx4MjIgZGF0YS1iaW5kPVxceDIyd3lzaXd5Z1NyYzogeyBzcmM6IF9zcmMucHJlbG9hZGVkLCBwbGFjZWhvbGRlcjogX3BsYWNlaG9sZGVyc3JjLCB3aWR0aDogX3dpZHRoLCBoZWlnaHQ6IF9oZWlnaHQsIG1ldGhvZDogX21ldGhvZCB9XFx4MjIgLz4gICAgLS0+ICAgIDxzcGFuIGNsYXNzPVxceDIyZmlsZXVwbG9hZHRleHRcXHgyMiBzdHlsZT1cXHgyMnRleHQtYWxpZ246IGNlbnRlcjsgZGlzcGxheTogLW1zLWZsZXhib3g7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZsZXgtYWxpZ246IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHBhZGRpbmc6IDFlbTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7XFx4MjI+PHNwYW4gY2xhc3M9XFx4MjJ0ZXh0TWlkZGxlXFx4MjIgc3R5bGU9XFx4MjIgdGV4dC1zaGFkb3c6IDFweCAxcHggMCAjRkZGRkZGLCAwIDAgMTBweCAjRkZGRkZGOyBmb250LXdlaWdodDogYm9sZDtcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiAkcm9vdC50KCdEcm9wIGFuIGltYWdlIGhlcmUnKVxceDIyPkRyb3AgYW4gaW1hZ2UgaGVyZTwvc3Bhbj48L3NwYW4+ICA8IS0tIC9rbyAtLT4gIDwhLS0ga28gaWY6IF9zcmMoKSAhPSAnJyAtLT4gIDwhLS0gICAgPGltZyBzdHlsZT1cXHgyMmRpc3BsYXk6IGJsb2NrO1xceDIyIHdpZHRoPVxceDIyMjAwXFx4MjIgc3JjPVxceDIyXFx4MjIgZGF0YS1iaW5kPVxceDIycHJlbG9hZGVyOiBfc3JjLCB3eXNpd3lnU3JjOiB7IHNyYzogX3NyYy5wcmVsb2FkZWQsIHBsYWNlaG9sZGVyOiBfcGxhY2Vob2xkZXJzcmMsIHdpZHRoOiBfd2lkdGgsIGhlaWdodDogX2hlaWdodCwgbWV0aG9kOiBfbWV0aG9kIH1cXHgyMiAvPiAgICAtLT4gIDwhLS0gL2tvIC0tPiAgPCEtLSBwdWxzYW50ZSBwZXIgbGEgY2FuY2VsbGF6aW9uZSAtLT4gIDxkaXYgdGl0bGU9XFx4MjJEcm9wIGFuIGltYWdlIGhlcmUgb3IgY2xpY2sgdGhlIHVwbG9hZCBidXR0b25cXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdEcm9wIGFuIGltYWdlIGhlcmUgb3IgY2xpY2sgdGhlIHVwbG9hZCBidXR0b24nKSB9LCB0b29sdGlwczoge31cXHgyMiBjbGFzcz1cXHgyMndvcmt6b25lXFx4MjIgc3R5bGU9XFx4MjJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgb3ZlcmZsb3c6IGhpZGRlbjtcXHgyMj4gICAgPCEtLSBrbyBpZjogX3NyYy5wcmVsb2FkZWQgJiYgX3NyYygpICE9IF9zcmMucHJlbG9hZGVkKCkgLS0+UFJFTE9BRElORy4uLi48IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBpZjogX3NyYygpICE9ICcnIC0tPiAgICAgIDxpbnB1dCBjbGFzcz1cXHgyMmZpbGV1cGxvYWQgd2l0aGZpbGVcXHgyMiB0eXBlPVxceDIyZmlsZVxceDIyIG5hbWU9XFx4MjJmaWxlc1tdXFx4MjIgZGF0YS1iaW5kPVxceDIyZmlsZXVwbG9hZDogeyBkYXRhOiBfc3JjLCBvbmVycm9yOiAkcm9vdC5ub3RpZmllci5lcnJvciwgb25maWxlOiAkcm9vdC5nYWxsZXJ5UmVjZW50LnVuc2hpZnQuYmluZCgkcm9vdC5nYWxsZXJ5UmVjZW50KSwgY2FudmFzUHJldmlldzogdHJ1ZSB9XFx4MjIgc3R5bGU9XFx4MjJ6LWluZGV4OiAtMjA7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBtaW4td2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDEwMCU7IGZvbnQtemllOiA5OTlweDsgdGV4dC1hbGlnbjogcmlnaHQ7IGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsgb3BhY2l0eTogMDsgb3V0bGluZTogbm9uZTsgY3Vyc29yOiBpbmhlcml0OyBkaXNwbGF5OiBibG9ja1xceDIyPiAgICA8IS0tIC9rbyAtLT4gICAgPGRpdiBjbGFzcz1cXHgyMnByb2dyZXNzXFx4MjIgc3R5bGU9XFx4MjJvcGFjaXR5OiAuNTsgd2lkdGg6IDgwJTsgbWFyZ2luLWxlZnQ6IDEwJTsgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDMwJTsgaGVpZ2h0OiAyMHB4OyBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcXHgyMj4gICAgICA8ZGl2IGNsYXNzPVxceDIycHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci1zdWNjZXNzXFx4MjIgc3R5bGU9XFx4MjJoZWlnaHQ6IDIwcHg7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyBcXHgyMj48L2Rpdj4gICAgPC9kaXY+ICA8L2Rpdj48L3RhYmxlPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwibWFpblwiLCBcIjxkaXYgaWQ9XFx4MjJwYWdlXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBub25lO1xceDIyIGRhdGEtYmluZD1cXHgyMnZpc2libGU6IHRydWUsIGNzczogeyB3aXRoVG9vbGJveDogJHJvb3Quc2hvd1Rvb2xib3gsIHdpdGhQcmV2aWV3RnJhbWU6IHNob3dQcmV2aWV3RnJhbWUgfVxceDIyPiAgPGRpdiBpZD1cXHgyMm1haW4tZWRpdC1hcmVhXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEJsb2NrKG51bGwpOyByZXR1cm4gdHJ1ZTsgfSwgY2xpY2tCdWJibGU6IGZhbHNlXFx4MjI+ICAgIDwhLS0ga28gd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiAnd3lzaXd5ZycsIHRlbXBsYXRlTW9kZUZhbGxiYWNrOiAnc2hvdycgfSAtLT4gICAgPGRpdiBpZD1cXHgyMm1haW4td3lzaXd5Zy1hcmVhXFx4MjIgZGF0YS1iaW5kPVxceDIyd3lzaXd5Z1Njcm9sbGZpeDogdHJ1ZSwgc2Nyb2xsYWJsZTogdHJ1ZSwgZnVkcm9wcGFibGU6IHsgYWN0aXZlOiBkcmFnZ2luZ0ltYWdlIH0sIGNzczogeyBpc2RyYWdnaW5nOiBkcmFnZ2luZywgaXNkcmFnZ2luZ2ltZzogZHJhZ2dpbmdJbWFnZSB9LCBibG9jazogY29udGVudFxceDIyPjwvZGl2PiAgICA8IS0tIC9rbyAtLT4gIDwvZGl2PiAgPGRpdiBpZD1cXHgyMnRvb2xiYXJcXHgyMiBjbGFzcz1cXHgyMm1vXFx4MjIgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkcm9vdC51bmRvICE9ICd1bmRlZmluZWQnIC0tPiAgICA8c3BhbiBkYXRhLWJpbmQ9XFx4MjJidXR0b25zZXQ6IHsgfVxceDIyIGNsYXNzPVxceDIybGVmdEJ1dHRvbnNcXHgyMj4gICAgPGEgdGl0bGU9XFx4MjJVbmRvIGxhc3Qgb3BlcmF0aW9uXFx4MjIgaHJlZj1cXHgyMmphdmFzY3JpcHQ6dm9pZCgwKVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1VuZG8gbGFzdCBvcGVyYXRpb24nKSB9LCBjbGljazogJHJvb3QudW5kby5leGVjdXRlLCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LnVuZG8uZW5hYmxlZCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtcmVwbHknIH0sIGxhYmVsOiAkcm9vdC51bmRvLm5hbWUsIHRleHQ6IHRydWUgfVxceDIyPlVORE88L2E+ICAgIDxhIHRpdGxlPVxceDIyUmVkbyBsYXN0IG9wZXJhdGlvblxceDIyIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdSZWRvIGxhc3Qgb3BlcmF0aW9uJykgfSwgY2xpY2s6ICRyb290LnJlZG8uZXhlY3V0ZSwgY2xpY2tCdWJibGU6IGZhbHNlLCBidXR0b246IHsgZGlzYWJsZWQ6ICEkcm9vdC5yZWRvLmVuYWJsZWQoKSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLXNoYXJlJyB9LCBsYWJlbDogJHJvb3QucmVkby5uYW1lLCB0ZXh0OiB0cnVlIH1cXHgyMj5SRURPPC9hPiAgICA8L3NwYW4+ICAgIDwhLS0ga28gaWY6ICRyb290LmRlYnVnIC0tPiAgICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LnVuZG9SZXNldCwgY2xpY2tCdWJibGU6IGZhbHNlLCBidXR0b246IHsgZGlzYWJsZWQ6ICEkcm9vdC51bmRvLmVuYWJsZWQoKSAmJiAhJHJvb3QucmVkby5lbmFibGVkKCksIGxhYmVsOiAncmVzZXQnLCB0ZXh0OiB0cnVlIH1cXHgyMj5SRVNFVDwvYT4gICAgPCEtLSAva28gLS0+ICAgIDwhLS0gL2tvIC0tPiAgICA8c3Bhbj4gICAgPGlucHV0IGlkPVxceDIyc2hvd0dhbGxlcnlcXHgyMiB0eXBlPVxceDIyY2hlY2tib3hcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5zaG93R2FsbGVyeSwgYnV0dG9uOiB7IHJlZnJlc2hPbjogJHJvb3Quc2hvd0dhbGxlcnksICAgICBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtcGljdHVyZS1vJywgc2Vjb25kYXJ5OiBudWxsIH0sIHRleHQ6IHRydWUsIGxhYmVsOiAkcm9vdC50KCdHYWxsZXJ5JykgfVxceDIyPjxsYWJlbCB0aXRsZT1cXHgyMlNob3cgaW1hZ2UgZ2FsbGVyeVxceDIyIGZvcj1cXHgyMnNob3dHYWxsZXJ5XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2hvdyBpbWFnZSBnYWxsZXJ5JykgfVxceDIyPnNob3cgZ2FsbGVyeTwvbGFiZWw+PC9pbnB1dD4gICAgPC9zcGFuPiAgICA8aW5wdXQgaWQ9XFx4MjJwcmV2aWV3RnJhbWVUb2dnbGVcXHgyMiB0eXBlPVxceDIyY2hlY2tib3hcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5zaG93UHJldmlld0ZyYW1lLCBidXR0b246IHsgcmVmcmVzaE9uOiAkcm9vdC5zaG93UHJldmlld0ZyYW1lLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtdGFibGV0Jywgc2Vjb25kYXJ5OiBudWxsIH0sIHRleHQ6IGZhbHNlLCBsYWJlbDogJHJvb3QudCgnUHJldmlldycpIH1cXHgyMj48bGFiZWwgdGl0bGU9XFx4MjJTaG93IGxpdmUgcHJldmlld1xceDIyIGZvcj1cXHgyMnByZXZpZXdGcmFtZVRvZ2dsZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1Nob3cgbGl2ZSBwcmV2aWV3JykgfVxceDIyPlBSRVZJRVc8L2xhYmVsPjwvaW5wdXQ+ICAgIDwhLS0ga28gaWY6ICRyb290LmRlYnVnIC0tPiAgICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmV4cG9ydCwgY2xpY2tCdWJibGU6IGZhbHNlLCBidXR0b246IHsgbGFiZWw6ICdleHBvcnQnLCB0ZXh0OiB0cnVlIH1cXHgyMj5FWFBPUlQ8L2E+ICAgIDxpbnB1dCB0eXBlPVxceDIyY2hlY2tib3hcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5kZWJ1Z1xceDIyIC8+IGRlYnVnICAgIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QubG9hZERlZmF1bHRCbG9ja3MsIGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mdyBmYS11cGxvYWQnIH0sIGxhYmVsOiAnRGVmYXVsdCcsIHRleHQ6IHRydWUgfVxceDIyPkxPQUQgQkxPQ0tTPC9hPiAgICBbPGEgaWQ9XFx4MjJzdWJzY3JpcHRpb25zQ291bnRcXHgyMiBocmVmPVxceDIyamF2YXNjcmlwdDp2aWV3TW9kZWwubG9vcFN1YnNjcmlwdGlvbnNDb3VudCgpXFx4MjI+c3ViczwvYT5dICAgIDwhLS0gL2tvIC0tPiAgICA8c3BhbiBkYXRhLWJpbmQ9XFx4MjJ2aXNpYmxlOiBmYWxzZVxceDIyPiAgICA8aW5wdXQgdHlwZT1cXHgyMmNoZWNrYm94XFx4MjIgZGF0YS1iaW5kPVxceDIyY2hlY2tlZDogJHJvb3Quc2hvd1Rvb2xib3hcXHgyMiAvPiB0b29sYm94ICAgIDwvc3Bhbj4gICAgPGRpdiBjbGFzcz1cXHgyMnJpZ2h0QnV0dG9uc1xceDIyPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJHJvb3Quc2F2ZSAhPT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxhIHRpdGxlPVxceDIyU2F2ZSB0ZW1wbGF0ZVxceDIyIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdTYXZlIHRlbXBsYXRlJykgfSwgY2xpY2s6ICRyb290LnNhdmUuZXhlY3V0ZSwgY2xpY2tCdWJibGU6IGZhbHNlLCBidXR0b246IHsgZGlzYWJsZWQ6ICEkcm9vdC5zYXZlLmVuYWJsZWQoKSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLWNsb3VkLXVwbG9hZCcgfSwgbGFiZWw6ICRyb290LnQoJHJvb3Quc2F2ZS5uYW1lKSwgdGV4dDogdHJ1ZSB9XFx4MjI+U0FMVkE8L2E+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJHJvb3QudGVzdCAhPT0gJ3VuZGVmaW5lZCcgLS0+ICAgIDxhIHRpdGxlPVxceDIyU2hvdyBwcmV2aWV3IGFuZCBzZW5kIHRlc3RcXHgyMiBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2hvdyBwcmV2aWV3IGFuZCBzZW5kIHRlc3QnKSB9LCBjbGljazogJHJvb3QudGVzdC5leGVjdXRlLCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LnRlc3QuZW5hYmxlZCgpLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtcGFwZXItcGxhbmUnIH0sIGxhYmVsOiAkcm9vdC50KCRyb290LnRlc3QubmFtZSksIHRleHQ6IHRydWUgfVxceDIyPlRFU1Q8L2E+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiB0eXBlb2YgJHJvb3QuZG93bmxvYWQgIT09ICd1bmRlZmluZWQnIC0tPiAgICA8Zm9ybSBpZD1cXHgyMmRvd25sb2FkRm9ybVxceDIyIGFjdGlvbj1cXHgyMiNcXHgyMiBtZXRob2Q9XFx4MjJQT1NUXFx4MjI+ICAgIDxpbnB1dCB0eXBlPVxceDIyaGlkZGVuXFx4MjIgbmFtZT1cXHgyMmFjdGlvblxceDIyIHZhbHVlPVxceDIyZG93bmxvYWRcXHgyMiAvPiAgICA8aW5wdXQgdHlwZT1cXHgyMmhpZGRlblxceDIyIG5hbWU9XFx4MjJmaWxlbmFtZVxceDIyIHZhbHVlPVxceDIyZW1haWwuaHRtbFxceDIyIC8+ICAgIDxpbnB1dCB0eXBlPVxceDIyaGlkZGVuXFx4MjIgbmFtZT1cXHgyMmh0bWxcXHgyMiBpZD1cXHgyMmRvd25sb2FkSHRtbFRleHRhcmVhXFx4MjIgLz4gICAgPGEgdGl0bGU9XFx4MjJEb3dubG9hZCB0ZW1wbGF0ZVxceDIyIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdEb3dubG9hZCB0ZW1wbGF0ZScpIH0sIGNsaWNrOiAkcm9vdC5kb3dubG9hZC5leGVjdXRlLCBjbGlja0J1YmJsZTogZmFsc2UsIGJ1dHRvbjogeyBkaXNhYmxlZDogISRyb290LmRvd25sb2FkLmVuYWJsZWQoKSwgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLWRvd25sb2FkJyB9LCBsYWJlbDogJHJvb3QudCgkcm9vdC5kb3dubG9hZC5uYW1lKSwgdGV4dDogdHJ1ZSB9XFx4MjI+RE9XTkxPQUQ8L2E+ICAgIDwvZm9ybT4gICAgPCEtLSAva28gLS0+ICAgIDwvZGl2PiAgPC9kaXY+ICA8IS0tIGtvIGlmOiAkcm9vdC5zaG93VG9vbGJveCAtLT4gIDxkaXYgaWQ9XFx4MjJtYWluLXRvb2xib3hcXHgyMiBjbGFzcz1cXHgyMm1vXFx4MjIgZGF0YS1iaW5kPVxceDIyc2Nyb2xsYWJsZTogdHJ1ZSwgd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiAnZWRpdCcgfVxceDIyPiAgICA8ZGl2IGRhdGEtYmluZD1cXHgyMnRlbXBsYXRlOiB7IG5hbWU6ICd0b29sYm94JyB9XFx4MjI+PC9kaXY+ICA8L2Rpdj4gIDwhLS0gL2tvIC0tPiAgICA8ZGl2IGlkPVxceDIybWFpbi1wcmV2aWV3XFx4MjIgY2xhc3M9XFx4MjJtb1xceDIyIGRhdGEtYmluZD1cXHgyMnNjcm9sbGFibGU6IHRydWUsIGlmOiAkcm9vdC5zaG93UHJldmlld0ZyYW1lXFx4MjI+ICAgIDxkaXYgaWQ9XFx4MjJwcmV2aWV3LXRvb2xiYXJcXHgyMj4gICAgICA8ZGl2IGRhdGEtYmluZD1cXHgyMnZpc2libGU6ICRyb290LnNob3dQcmV2aWV3RnJhbWUsIGJ1dHRvbnNldDogeyB9XFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBpbmxpbmUtYmxvY2tcXHgyMj4gICAgICAgIDxpbnB1dCBpZD1cXHgyMnByZXZpZXdMYXJnZVxceDIyIHR5cGU9XFx4MjJyYWRpb1xceDIyIG5hbWU9XFx4MjJwcmV2aWV3TW9kZVxceDIyIHZhbHVlPVxceDIybGFyZ2VcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5wcmV2aWV3TW9kZSwgYnV0dG9uOiB7IHRleHQ6IGZhbHNlLCBsYWJlbDogJ2xhcmdlJywgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLWRlc2t0b3AnIH0gfVxceDIyIC8+ICAgICAgICA8bGFiZWwgZm9yPVxceDIycHJldmlld0xhcmdlXFx4MjIgdGl0bGU9XFx4MjJMYXJnZSBzY3JlZW5cXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdMYXJnZSBzY3JlZW4nKSB9XFx4MjI+TGFyZ2Ugc2NyZWVuPC9sYWJlbD4gICAgICAgIDxpbnB1dCBpZD1cXHgyMnByZXZpZXdEZXNrdG9wXFx4MjIgdHlwZT1cXHgyMnJhZGlvXFx4MjIgbmFtZT1cXHgyMnByZXZpZXdNb2RlXFx4MjIgdmFsdWU9XFx4MjJkZXNrdG9wXFx4MjIgZGF0YS1iaW5kPVxceDIyY2hlY2tlZDogJHJvb3QucHJldmlld01vZGUsIGJ1dHRvbjogeyB0ZXh0OiBmYWxzZSwgbGFiZWw6ICdkZXNrdG9wJywgaWNvbnM6IHsgcHJpbWFyeTogJ2ZhIGZhLWZ3IGZhLXRhYmxldCcgfSB9XFx4MjIgLz4gICAgICAgIDxsYWJlbCBmb3I9XFx4MjJwcmV2aWV3RGVza3RvcFxceDIyIHRpdGxlPVxceDIyVGFibGV0XFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnVGFibGV0JykgfVxceDIyPlRhYmxldDwvbGFiZWw+ICAgICAgICA8aW5wdXQgaWQ9XFx4MjJwcmV2aWV3TW9iaWxlXFx4MjIgdHlwZT1cXHgyMnJhZGlvXFx4MjIgbmFtZT1cXHgyMnByZXZpZXdNb2RlXFx4MjIgdmFsdWU9XFx4MjJtb2JpbGVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjaGVja2VkOiAkcm9vdC5wcmV2aWV3TW9kZSwgYnV0dG9uOiB7IHRleHQ6IGZhbHNlLCBsYWJlbDogJ21vYmlsZScsIGljb25zOiB7IHByaW1hcnk6ICdmYSBmYS1mdyBmYS1tb2JpbGUnIH0gfVxceDIyIC8+ICAgICAgICA8bGFiZWwgZm9yPVxceDIycHJldmlld01vYmlsZVxceDIyIHRpdGxlPVxceDIyU21hcnRwaG9uZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1NtYXJ0cGhvbmUnKSB9XFx4MjI+U21hcnRwaG9uZTwvbGFiZWw+ICAgICAgPC9kaXY+ICAgIDwvZGl2PiAgICA8ZGl2IGlkPVxceDIyZnJhbWUtY29udGFpbmVyXFx4MjIgZGF0YS1iaW5kPVxceDIyY3NzOiB7IGRlc2t0b3A6ICRyb290LnByZXZpZXdNb2RlKCkgPT0gJ2Rlc2t0b3AnLCBtb2JpbGU6ICRyb290LnByZXZpZXdNb2RlKCkgPT0gJ21vYmlsZScsIGxhcmdlOiAkcm9vdC5wcmV2aWV3TW9kZSgpID09ICdsYXJnZScgfVxceDIyPiAgICAgIDxpZnJhbWUgZGF0YS1iaW5kPVxceDIyYmluZElmcmFtZTogJGRhdGFcXHgyMj48L2lmcmFtZT4gICAgPC9kaXY+ICA8L2Rpdj4gIDxkaXYgY2xhc3M9XFx4MjJtb1xceDIyIGlkPVxceDIybW8tYm9keVxceDIyPjwvZGl2PiAgPCEtLSBUT0RPIFJFTU9WRSBNRSAgPGRpdiBpZD1cXHgyMmluY29tcGF0aWJsZS1icm93c2VyXFx4MjIgdGl0bGU9XFx4MjJVbnN1cHBvcnRlZCBicm93c2VyXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBub25lXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnVXN1cHBvcnRlZCBicm93c2VyJykgfSwgaHRtbDogJzxwPllvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLjwvcD48cD5Vc2UgYSBkaWZmZXJlbnQgYnJvd3NlciBvciB0cnkgdXBkYXJpbmcgeW91ciBicm93c2VyLjwvcD48cD5TdXBwb3J0ZWQgYnJvd3NlcnM6IDx1bD48bGk+SW50ZXJuZXQgRXhwbG9yZXIgJmd0Oz0gMTA8L2xpPjxsaT5Hb29nbGUgQ2hyb21lICZndDs9IDMwPC9saT48bGk+QXBwbGUgU2FmYXJpICZndDs9IDU8L2xpPjxsaT5Nb3ppbGxhIEZpcmVmaXggJmd0Oz0gMjA8L2xpPjwvdWw+PC9wPidcXHgyMj4gICAgVW5zdXBwb3J0ZWQgYnJvd3NlciAgPC9kaXY+ICAtLT4gIDxkaXYgaWQ9XFx4MjJpbmNvbXBhdGlibGUtdGVtcGxhdGVcXHgyMiB0aXRsZT1cXHgyMlNhdmVkIG1vZGVsIGlzIG9ic29sZXRlXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBub25lXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2F2ZWQgbW9kZWwgaXMgb2Jzb2xldGUnKSB9LCBodG1sOiAkcm9vdC50KCc8cD5UaGUgc2F2ZWQgbW9kZWwgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGEgcHJldmlvdXMsIG5vbiBjb21wbGV0ZWx5IGNvbXBhdGlibGUgdmVyc2lvbiwgb2YgdGhlIHRlbXBsYXRlPC9wPjxwPlNvbWUgY29udGVudCBvciBzdHlsZSBpbiB0aGUgbW9kZWwgPGI+Q09VTEQgQkUgTE9TVDwvYj4gaWYgeW91IHdpbGwgPGI+c2F2ZTwvYj48L3A+PHA+Q29udGFjdCB1cyBmb3IgbW9yZSBpbmZvcm1hdGlvbnMhPC9wPicpXFx4MjI+ICAgIEluY29tcGF0aWJsZSB0ZW1wbGF0ZSAgPC9kaXY+ICA8ZGl2IGlkPVxceDIyZmFrZS1pbWFnZS1lZGl0b3JcXHgyMiB0aXRsZT1cXHgyMkZha2UgaW1hZ2UgZWRpdG9yXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBub25lXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnRmFrZSBpbWFnZSBlZGl0b3InKSB9LCBodG1sOiAkcm9vdC50KCc8cD5GYWtlIGltYWdlIGVkaXRvcjwvcD4nKVxceDIyPiAgICA8cD5GYWtlIGltYWdlIGVkaXRvcjwvcD4gIDwvZGl2PjwvZGl2PjwhLS0ga28gaWY6ICRyb290LmxvZ29QYXRoIC0tPjxkaXYgaWQ9XFx4MjJsb2FkaW5nXFx4MjIgY2xhc3M9XFx4MjJsb2FkaW5nXFx4MjIgc3R5bGU9XFx4MjJkaXNwbGF5OiBibG9jazsgd2lkdGg6IDMwMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGhlaWdodDogMzJweDsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6MDsgYm90dG9tOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgIG1hcmdpbjogYXV0bztcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHN0eWxlOiAncG9zaXRpb246IGFic29sdXRlOyB0b3A6IDVweDsgbGVmdDogNnB4OyB6LWluZGV4OiAxNTA7J30sIGNzczogeyBsb2FkaW5nOiBmYWxzZSB9XFx4MjI+ICA8YSBocmVmPVxceDIyL1xceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgaHJlZjogJHJvb3QubG9nb1VybCwgYWx0OiAkcm9vdC5sb2dvQWx0IH1cXHgyMj48aW1nIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgc3JjOiAkcm9vdC5sb2dvUGF0aCB9XFx4MjIgd2lkdGg9XFx4MjIzMlxceDIyIGhlaWdodD1cXHgyMjMyXFx4MjIgYWx0PVxceDIybW9zYWljb1xceDIyIGJvcmRlcj1cXHgyMjBcXHgyMiAvPjwvYT4gIDxkaXYgc3R5bGU9XFx4MjJvcGFjaXR5OiAwXFx4MjIgZGF0YS1iaW5kPVxceDIydmlzaWJsZTogZmFsc2VcXHgyMj5PcHBwcy4uLiAhITwvZGl2PjwvZGl2PjwhLS0gL2tvIC0tPlwiKTtcbnRlbXBsYXRlU3lzdGVtLmFkZFRlbXBsYXRlKFwidG9vbGJveFwiLCBcIjxkaXYgaWQ9XFx4MjJ0b29sdGFic1xceDIyIGNsYXNzPVxceDIydGFic19ob3Jpem9udGFsIGJ1dHRvbl9jb2xvclxceDIyIGRhdGEtYmluZD1cXHgyMnRhYnM6IHsgYWN0aXZlOiAkcm9vdC5zZWxlY3RlZFRvb2wgfVxceDIyPiAgPHVsPiAgICA8bGkgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+PGEgdGl0bGU9XFx4MjJCbG9ja3MgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlIHRlbXBsYXRlXFx4MjIgZGF0YS1sb2NhbD1cXHgyMnRydWVcXHgyMiBocmVmPVxceDIyI3Rvb2xibG9ja3NcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdCbG9ja3MgcmVhZHkgdG8gYmUgYWRkZWQgdG8gdGhlIHRlbXBsYXRlJykgfVxceDIyPjxpIGNsYXNzPVxceDIyZmEgZmEtZncgZmEtY3ViZXNcXHgyMj48L2k+IDxzcGFuIGRhdGEtYmluZD1cXHgyMmh0bWw6ICRyb290LnQoJ0Jsb2NrcycpXFx4MjI+QmxvY2tzPC9zcGFuPjwvYT48L2xpPiAgICA8bGkgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+PGEgdGl0bGU9XFx4MjJFZGl0IGNvbnRlbnQgb3B0aW9uc1xceDIyIGhyZWY9XFx4MjIjdG9vbGNvbnRlbnRzXFx4MjIgZGF0YS1sb2NhbD1cXHgyMnRydWVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdFZGl0IGNvbnRlbnQgb3B0aW9ucycpIH1cXHgyMj48aSBjbGFzcz1cXHgyMmZhIGZhLWZ3IGZhLXBlbmNpbFxceDIyPjwvaT4gPHNwYW4gZGF0YS1iaW5kPVxceDIyaHRtbDogJHJvb3QudCgnQ29udGVudCcpXFx4MjI+Q29udGVudDwvc3Bhbj48L2E+PC9saT4gICAgPGxpIGRhdGEtYmluZD1cXHgyMnRvb2x0aXBzOiB7fVxceDIyPjxhIHRpdGxlPVxceDIyRWRpdCBzdHlsZSBvcHRpb25zXFx4MjIgaHJlZj1cXHgyMiN0b29sc3R5bGVzXFx4MjIgZGF0YS1sb2NhbD1cXHgyMnRydWVcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdFZGl0IHN0eWxlIG9wdGlvbnMnKSB9XFx4MjI+PGkgY2xhc3M9XFx4MjJmYSBmYS1mdyBmYS1wYWludC1icnVzaFxceDIyPjwvaT4gPHNwYW4gZGF0YS1iaW5kPVxceDIyaHRtbDogJHJvb3QudCgnU3R5bGUnKVxceDIyPlN0eWxlPC9zcGFuPjwvYT48L2xpPiAgPC91bD4gIDxkaXYgaWQ9XFx4MjJ0b29sYmxvY2tzXFx4MjIgZGF0YS1iaW5kPVxceDIyc2Nyb2xsYWJsZTogdHJ1ZVxceDIyPiAgICA8ZGl2IGNsYXNzPVxceDIyYmxvY2stbGlzdFxceDIyIGRhdGEtYmluZD1cXHgyMmZvcmVhY2g6IGJsb2NrRGVmc1xceDIyIHN0eWxlPVxceDIydGV4dC1hbGlnbjogY2VudGVyXFx4MjI+ICAgICAgPGRpdiBjbGFzcz1cXHgyMmRyYWdnYWJsZS1pdGVtXFx4MjIgZGF0YS1iaW5kPVxceDIyd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiAnc2hvdycgfVxceDIyPiAgICAgICAgPGRpdiBjbGFzcz1cXHgyMmJsb2NrXFx4MjIgZGF0YS1iaW5kPVxceDIyZXh0ZHJhZ2dhYmxlOiB7IGNvbm5lY3RDbGFzczogJ3NvcnRhYmxlLWJsb2Nrcy1lZGl0JywgZGF0YTogJGRhdGEsIGRyb3BDb250YWluZXI6ICcjbWFpbi13eXNpd3lnLWFyZWEnLCBkcmFnZ2luZzogJHJvb3QuZHJhZ2dpbmcsICdvcHRpb25zJzogeyBoYW5kbGU6ICcuaGFuZGxlJywgZGlzdGFuY2U6IDEwLCAnYXBwZW5kVG8nOiAnI3BhZ2UnIH0gfSwgY2xpY2s6ICRyb290LmFkZEJsb2NrXFx4MjIgc3R5bGU9XFx4MjJwb3NpdGlvbjogcmVsYXRpdmU7XFx4MjI+ICAgICAgICAgIDxkaXYgdGl0bGU9XFx4MjJDbGljayBvciBkcmFnIHRvIGFkZCB0aGlzIGJsb2NrIHRvIHRoZSB0ZW1wbGF0ZVxceDIyIGNsYXNzPVxceDIyaGFuZGxlXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnQ2xpY2sgb3IgZHJhZyB0byBhZGQgdGhpcyBibG9jayB0byB0aGUgdGVtcGxhdGUnKSB9LCB0b29sdGlwczoge31cXHgyMj48L2Rpdj4gICAgICAgICAgPGltZyBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IGFsdDogJHJvb3QudCgnQmxvY2sgX19uYW1lX18nLCB7IG5hbWU6IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodHlwZSkgfSksIHNyYzogJHJvb3QudGVtcGxhdGVQYXRoKCdlZHJlcy8nK2tvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodHlwZSkrJy5wbmcnKSB9XFx4MjIgYWx0PVxceDIyQmxvY2sgX19uYW1lX19cXHgyMiAvPiAgICAgICAgPC9kaXY+ICAgICAgICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgY2xhc3M9XFx4MjJhZGRibG9ja2J1dHRvblxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5hZGRCbG9jaywgYnV0dG9uOiB7IGxhYmVsOiAkcm9vdC50KCdBZGQnKSB9XFx4MjI+QWRkPC9hPiAgICAgIDwvZGl2PiAgICA8L2Rpdj4gIDwvZGl2PiAgPGRpdiBpZD1cXHgyMnRvb2xjb250ZW50c1xceDIyIGRhdGEtYmluZD1cXHgyMnNjcm9sbGFibGU6IHRydWVcXHgyMj4gICAgPCEtLSBrbyBpZjogJHJvb3Quc2VsZWN0ZWRCbG9jaygpICE9PSBudWxsIC0tPiAgICA8ZGl2IGRhdGEtYmluZD1cXHgyMmJsb2NrOiAkcm9vdC5zZWxlY3RlZEJsb2NrXFx4MjI+PC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGlmOiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgPT0gbnVsbCAtLT4gICAgPGRpdiBjbGFzcz1cXHgyMm5vU2VsZWN0ZWRCbG9ja1xceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ0J5IGNsaWNraW5nIG9uIG1lc3NhZ2UgcGFydHMgeW91IHdpbGwgc2VsZWN0IGEgYmxvY2sgYW5kIGNvbnRlbnQgb3B0aW9ucywgaWYgYW55LCB3aWxsIHNob3cgaGVyZScpXFx4MjI+QnkgY2xpY2tpbmcgb24gbWVzc2FnZSBwYXJ0cyB5b3Ugd2lsbCBzZWxlY3QgYSBibG9jayBhbmQgY29udGVudCBvcHRpb25zLCBpZiBhbnksIHdpbGwgc2hvdyBoZXJlPC9kaXY+ICAgIDwhLS0gL2tvIC0tPiAgICA8IS0tIGtvIGJsb2NrOiBjb250ZW50IC0tPjwhLS0gL2tvIC0tPiAgPC9kaXY+ICAgIDxkaXYgaWQ9XFx4MjJ0b29sc3R5bGVzXFx4MjIgZGF0YS1iaW5kPVxceDIyc2Nyb2xsYWJsZTogdHJ1ZSwgd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiAnc3R5bGVyJyB9XFx4MjI+ICAgIDwhLS0ga28gaWY6IHR5cGVvZiAkcm9vdC5jb250ZW50KCkudGhlbWUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiAkcm9vdC5jb250ZW50KCkudGhlbWUoKS5zY2hlbWUgPT09ICd1bmRlZmluZWQnIHx8ICRyb290LmNvbnRlbnQoKS50aGVtZSgpLnNjaGVtZSgpID09PSAnY3VzdG9tJyAtLT4gICAgICA8IS0tIGtvIGlmOiAkcm9vdC5zZWxlY3RlZEJsb2NrKCkgIT09IG51bGwgLS0+ICAgICAgPGRpdiBkYXRhLWJpbmQ9XFx4MjJibG9jazogJHJvb3Quc2VsZWN0ZWRCbG9jaywgY3NzOiB7IHdvcmtMb2NhbDogJHJvb3Quc2VsZWN0ZWRCbG9jaygpLmN1c3RvbVN0eWxlLCB3b3JrR2xvYmFsOiB0eXBlb2YgJHJvb3Quc2VsZWN0ZWRCbG9jaygpLmN1c3RvbVN0eWxlID09PSAndW5kZWZpbmVkJyB8fCAhJHJvb3Quc2VsZWN0ZWRCbG9jaygpLmN1c3RvbVN0eWxlKCkgfVxceDIyPjwvZGl2PiAgICAgIDwhLS0gL2tvIC0tPiAgICAgIDwhLS0ga28gaWY6ICRyb290LnNlbGVjdGVkQmxvY2soKSA9PSBudWxsIC0tPiAgICAgIDxkaXYgY2xhc3M9XFx4MjJub1NlbGVjdGVkQmxvY2tcXHgyMiBkYXRhLWJpbmQ9XFx4MjJ0ZXh0OiAkcm9vdC50KCdCeSBjbGlja2luZyBvbiBtZXNzYWdlIHBhcnRzIHlvdSB3aWxsIHNlbGVjdCBhIGJsb2NrIGFuZCBzdHlsZSBvcHRpb25zLCBpZiBhdmFpbGFibGUsIHdpbGwgc2hvdyBoZXJlJylcXHgyMj5CeSBjbGlja2luZyBvbiBtZXNzYWdlIHBhcnRzIHlvdSB3aWxsIHNlbGVjdCBhIGJsb2NrIGFuZCBzdHlsZSBvcHRpb25zLCBpZiBhdmFpbGFibGUsIHdpbGwgc2hvdyBoZXJlPC9kaXY+ICAgICAgPCEtLSAva28gLS0+ICAgICAgPGRpdiBjbGFzcz1cXHgyMndvcmtHbG9iYWxDb250ZW50XFx4MjI+ICAgICAgPCEtLSBrbyBibG9jazogY29udGVudCAtLT48IS0tIC9rbyAtLT4gICAgICA8L2Rpdj4gICAgPCEtLSAva28gLS0+ICA8L2Rpdj48L2Rpdj4gICAgICAgIDxkaXYgaWQ9XFx4MjJ0b29saW1hZ2VzXFx4MjIgY2xhc3M9XFx4MjJzbGlkZWJhclxceDIyIGRhdGEtYmluZD1cXHgyMnNjcm9sbGFibGU6IHRydWUsIGNzczogeyBoaWRkZW46ICRyb290LnNob3dHYWxsZXJ5KCkgPT09IGZhbHNlIH1cXHgyMj4gIDxkaXYgY2xhc3M9XFx4MjJjbG9zZVxceDIyIGRhdGEtYmluZD1cXHgyMmNsaWNrOiAkcm9vdC5zaG93R2FsbGVyeS5iaW5kKCRlbGVtZW50LCBmYWxzZSk7XFx4MjI+WDwvZGl2PiAgPHNwYW4gY2xhc3M9XFx4MjJwYW5lLXRpdGxlXFx4MjIgZGF0YS1iaW5kPVxceDIydGV4dDogJHJvb3QudCgnR2FsbGVyeTonKVxceDIyPkdhbGxlcnk6PC9zcGFuPiAgPGRpdiBkYXRhLWRyb3AtY29udGVudD1cXHgyMkRyb3AgaGVyZVxceDIyIGNsYXNzPVxceDIyaW1nLWRyb3B6b25lIHBhbmUgdXBsb2Fkem9uZVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgJ2RhdGEtZHJvcC1jb250ZW50JzogJHJvb3QudCgnRHJvcCBoZXJlJykgfSwgZnVkcm9wcGFibGU6IHsgYWN0aXZlQ2xhc3M6ICd1aS1zdGF0ZS1oaWdobGlnaHQnLCBob3ZlckNsYXNzOiAndWktc3RhdGUtZHJhZ2hvdmVyJyB9XFx4MjI+ICA8ZGl2IGNsYXNzPVxceDIybW8tdXBsb2Fkem9uZVxceDIyIHN0eWxlPVxceDIycG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nOiAyZW07IGJvcmRlcjogMnB4IGRvdHRlZCAjODA4MDgwXFx4MjI+ICAgICA8aW5wdXQgY2xhc3M9XFx4MjJmaWxldXBsb2FkXFx4MjIgdHlwZT1cXHgyMmZpbGVcXHgyMiBtdWx0aXBsZSBuYW1lPVxceDIyZmlsZXNbXVxceDIyIGRhdGEtYmluZD1cXHgyMmZpbGV1cGxvYWQ6IHsgb25lcnJvcjogJHJvb3Qubm90aWZpZXIuZXJyb3IsIG9uZmlsZTogJHJvb3QubG9hZEltYWdlIH1cXHgyMiBzdHlsZT1cXHgyMnotaW5kZXg6IDEwOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgbWluLXdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAxMDAlOyBmb250LXppZTogOTk5cHg7IHRleHQtYWxpZ246IHJpZ2h0OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7IG9wYWNpdHk6IDA7IG91dGxpbmU6IG5vbmU7IGN1cnNvcjogaW5oZXJpdDsgZGlzcGxheTogYmxvY2tcXHgyMj4gICAgIDxzcGFuIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ0NsaWNrIG9yIGRyYWcgZmlsZXMgaGVyZScpXFx4MjI+Q2xpY2sgb3IgZHJhZyBmaWxlcyBoZXJlPC9zcGFuPiAgICAgPGRpdiBjbGFzcz1cXHgyMndvcmt6b25lXFx4MjIgc3R5bGU9XFx4MjJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsgb3ZlcmZsb3c6IGhpZGRlbjtcXHgyMj4gICAgICAgPGRpdiBjbGFzcz1cXHgyMnByb2dyZXNzXFx4MjIgc3R5bGU9XFx4MjJvcGFjaXR5OiAuNTsgd2lkdGg6IDgwJTsgbWFyZ2luLWxlZnQ6IDEwJTsgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDMwJTsgaGVpZ2h0OiAyMHB4OyBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcXHgyMj4gICAgICAgICA8ZGl2IGNsYXNzPVxceDIycHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci1zdWNjZXNzXFx4MjIgc3R5bGU9XFx4MjJoZWlnaHQ6IDIwcHg7IGJhY2tncm91bmQtY29sb3I6IGJsYWNrOyBcXHgyMj48L2Rpdj4gICAgICAgPC9kaXY+ICAgICA8L2Rpdj4gIDwvZGl2PiAgPC9kaXY+ICA8IS0tIGtvIGlmOiAkcm9vdC5zaG93R2FsbGVyeSgpIC0tPiAgPGRpdiBpZD1cXHgyMnRvb2xpbWFnZXN0YWJcXHgyMiBjbGFzcz1cXHgyMnRhYnNfaG9yaXpvbnRhbFxceDIyIGRhdGEtYmluZD1cXHgyMnRhYnM6IHsgYWN0aXZlOiAkcm9vdC5zZWxlY3RlZEltYWdlVGFiIH1cXHgyMj4gICAgPHVsPiAgICAgIDxsaSBkYXRhLWJpbmQ9XFx4MjJ0b29sdGlwczoge31cXHgyMj48YSB0aXRsZT1cXHgyMlNlc3Npb24gaW1hZ2VzXFx4MjIgZGF0YS1sb2NhbD1cXHgyMnRydWVcXHgyMiBocmVmPVxceDIyI3Rvb2xpbWFnZXNyZWNlbnRcXHgyMiBkYXRhLWJpbmQ9XFx4MjJhdHRyOiB7IHRpdGxlOiAkcm9vdC50KCdTZXNzaW9uIGltYWdlcycpIH0sIHRleHQ6ICRyb290LnQoJ1JlY2VudHMnKVxceDIyPlJlY2VudHM8L2E+PC9saT4gICAgICA8bGkgZGF0YS1iaW5kPVxceDIydG9vbHRpcHM6IHt9XFx4MjI+PGEgdGl0bGU9XFx4MjJSZW1vdGUgZ2FsbGVyeVxceDIyIGRhdGEtbG9jYWw9XFx4MjJ0cnVlXFx4MjIgaHJlZj1cXHgyMiN0b29saW1hZ2VzZ2FsbGVyeVxceDIyIGRhdGEtYmluZD1cXHgyMmF0dHI6IHsgdGl0bGU6ICRyb290LnQoJ1JlbW90ZSBnYWxsZXJ5JykgfSwgdGV4dDogJHJvb3QudCgnR2FsbGVyeScpXFx4MjI+R2FsbGVyeTwvYT48L2xpPiAgICA8L3VsPiAgICA8ZGl2IGlkPVxceDIydG9vbGltYWdlc3JlY2VudFxceDIyPiAgICAgIDwhLS0ga28gaWY6IGdhbGxlcnlSZWNlbnQoKS5sZW5ndGggPT0gMCAtLT48ZGl2IGNsYXNzPVxceDIyZ2FsbGVyeUVtcHR5XFx4MjIgZGF0YS1iaW5kPVxceDIydGV4dDogJHJvb3QudCgnTm8gaW1hZ2VzIHVwbG9hZGVkLCB5ZXQnKVxceDIyPk5vIGltYWdlcyB1cGxvYWRlZCwgeWV0PC9kaXY+PCEtLSAva28gLS0+ICAgICAgPCEtLSBrbyB0ZW1wbGF0ZToge25hbWU6ICdnYWxsZXJ5LWltYWdlcycsIGRhdGE6IHsgaXRlbXM6IGdhbGxlcnlSZWNlbnQgfSB9IC0tPiMgcmVjZW50IGdhbGxlcnkgIzwhLS0gL2tvIC0tPiAgICA8L2Rpdj4gICAgPGRpdiBpZD1cXHgyMnRvb2xpbWFnZXNnYWxsZXJ5XFx4MjIgc3R5bGU9XFx4MjJ0ZXh0LWFsaWduOiBjZW50ZXJcXHgyMj4gICAgPCEtLSBrbyBpZjogJHJvb3QuZ2FsbGVyeUxvYWRlZCgpID09PSBmYWxzZSAtLT48YSBjbGFzcz1cXHgyMmxvYWRidXR0b25cXHgyMiB0aXRsZT1cXHgyMlNob3cgaW1hZ2VzIGZyb20gdGhlIGdhbGxlcnlcXHgyMiBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyYXR0cjogeyB0aXRsZTogJHJvb3QudCgnU2hvdyBpbWFnZXMgZnJvbSB0aGUgZ2FsbGVyeScpIH0sIGNsaWNrOiAkcm9vdC5sb2FkR2FsbGVyeSwgYnV0dG9uOiB7IGRpc2FibGVkOiAkcm9vdC5nYWxsZXJ5TG9hZGVkLCBpY29uczogeyBwcmltYXJ5OiAnZmEgZmEtZncgZmEtcGljdHVyZS1vJyB9LCBsYWJlbDogJHJvb3QuZ2FsbGVyeUxvYWRlZCgpID09ICdsb2FkaW5nJyA/ICRyb290LnQoJ0xvYWRpbmcuLi4nKSA6ICRyb290LnQoJ0xvYWQgZ2FsbGVyeScpLCB0ZXh0OiB0cnVlIH1cXHgyMj4jIGxvYWQgZ2FsbHkgIzwvYT48IS0tIC9rbyAtLT4gICAgPCEtLSBrbyBpZjogJHJvb3QuZ2FsbGVyeUxvYWRlZCgpID09PSAnbG9hZGluZycgLS0+PGRpdiBjbGFzcz1cXHgyMmdhbGxlcnlFbXB0eVxceDIyIGRhdGEtYmluZD1cXHgyMnRleHQ6ICRyb290LnQoJ0xvYWRpbmcgZ2FsbGVyeS4uLicpXFx4MjI+TG9hZGluZyBnYWxsZXJ5Li4uPC9kaXY+PCEtLSAva28gLS0+ICAgIDwhLS0ga28gaWY6ICRyb290LmdhbGxlcnlMb2FkZWQoKSA9PT0gMCAtLT48ZGl2IGNsYXNzPVxceDIyZ2FsbGVyeUVtcHR5XFx4MjIgZGF0YS1iaW5kPVxceDIydGV4dDogJHJvb3QudCgnVGhlIGdhbGxlcnkgaXMgZW1wdHknKVxceDIyPlRoZSBnYWxsZXJ5IGlzIGVtcHR5PC9kaXY+PCEtLSAva28gLS0+ICAgIDwhLS0ga28gdGVtcGxhdGU6IHtuYW1lOiAnZ2FsbGVyeS1pbWFnZXMnLCBkYXRhOiB7IGl0ZW1zOiBnYWxsZXJ5UmVtb3RlIH0gfSAtLT4jIHJlbW90ZSBnYWxsZXJ5ICM8IS0tIC9rbyAtLT4gICAgPC9kaXY+ICA8L2Rpdj4gIDwhLS0gL2tvIC0tPjwvZGl2PjxkaXYgaWQ9XFx4MjJ0b29sZGVidWdcXHgyMiBjbGFzcz1cXHgyMnNsaWRlYmFyXFx4MjIgZGF0YS1iaW5kPVxceDIyY3NzOiB7IGhpZGRlbjogJHJvb3QuZGVidWcoKSA9PT0gZmFsc2UgfVxceDIyPiAgPGRpdiBjbGFzcz1cXHgyMmNsb3NlXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmRlYnVnLmJpbmQoJGVsZW1lbnQsIGZhbHNlKTtcXHgyMj5YPC9kaXY+ICAgIDwhLS0ga28gaWY6ICRyb290LmRlYnVnIC0tPiAgQ29udGVudDogIDxwcmUgZGF0YS1iaW5kPSd0ZXh0OiBrby50b0pTT04oY29udGVudCwgbnVsbCwgMiknIHN0eWxlPVxceDIyb3ZlcmZsb3c6IGF1dG87IGhlaWdodDogMjAlXFx4MjI+PC9wcmU+ICBCbG9ja0RlZnM6ICA8cHJlIGRhdGEtYmluZD0ndGV4dDoga28udG9KU09OKGJsb2NrRGVmcywgbnVsbCwgMiknIHN0eWxlPVxceDIyb3ZlcmZsb3c6IGF1dG87IGhlaWdodDogMjAlXFx4MjI+PC9wcmU+ICA8IS0tIC9rbyAtLT4gIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QuZXhwb3J0SFRNTHRvVGV4dGFyZWEuYmluZCgkZWxlbWVudCwgJyNvdXRwdXRodG1sJyk7IGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IHRleHQ6IHRydWUsIGxhYmVsOidHZW5lcmF0ZScgfVxceDIyPk91dHB1dDwvYT4gIDxhIGhyZWY9XFx4MjJqYXZhc2NyaXB0OnZvaWQoMClcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3QuZXhwb3J0SlNPTnRvVGV4dGFyZWEuYmluZCgkZWxlbWVudCwgJyNvdXRwdXRodG1sJyk7IGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IHRleHQ6IHRydWUsIGxhYmVsOidFeHBvcnQnIH1cXHgyMj5FeHBvcnQ8L2E+ICA8YSBocmVmPVxceDIyamF2YXNjcmlwdDp2b2lkKDApXFx4MjIgZGF0YS1iaW5kPVxceDIyY2xpY2s6ICRyb290LmltcG9ydEpTT05mcm9tVGV4dGFyZWEuYmluZCgkZWxlbWVudCwgJyNvdXRwdXRodG1sJyk7IGNsaWNrQnViYmxlOiBmYWxzZSwgYnV0dG9uOiB7IHRleHQ6IHRydWUsIGxhYmVsOidJbXBvcnQnIH1cXHgyMj5JbXBvcnQ8L2E+ICA8dGV4dGFyZWEgaWQ9XFx4MjJvdXRwdXRodG1sXFx4MjIgcm93cz1cXHgyMjEwXFx4MjIgc3R5bGU9XFx4MjJ3aWR0aDogMTAwJTtcXHgyMj48L3RleHRhcmVhPjwvZGl2PjxkaXYgaWQ9XFx4MjJ0b29sdGhlbWVcXHgyMiBjbGFzcz1cXHgyMnVpLXdpZGdldCBzbGlkZWJhclxceDIyIGRhdGEtYmluZD1cXHgyMmNzczogeyBoaWRkZW46ICRyb290LnNob3dUaGVtZSgpID09PSBmYWxzZSB9XFx4MjI+ICA8ZGl2IGNsYXNzPVxceDIyY2xvc2VcXHgyMiBkYXRhLWJpbmQ9XFx4MjJjbGljazogJHJvb3Quc2hvd1RoZW1lLmJpbmQoJGVsZW1lbnQsIGZhbHNlKTtcXHgyMj5YPC9kaXY+ICAgIDwhLS0ga28gd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiAnc3R5bGVyJyB9IC0tPiAgICA8IS0tIGtvIGlmOiAkcm9vdC5zaG93VGhlbWUgLS0+ICAgICAgPCEtLSBrbyBibG9jazogJHJvb3QuY29udGVudCgpLnRoZW1lIC0tPjwhLS0gL2tvIC0tPiAgICA8IS0tIC9rbyAtLT4gIDwhLS0gL2tvIC0tPjwvZGl2PlwiKTtcbn0pO1xuIiwiLy8gaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvVW5pdF9UZXN0aW5nLzEuMFxuLy9cbi8vIFRISVMgSVMgTk9UIFRFU1RFRCBOT1IgTElLRUxZIFRPIFdPUksgT1VUU0lERSBWOCFcbi8vXG4vLyBPcmlnaW5hbGx5IGZyb20gbmFyd2hhbC5qcyAoaHR0cDovL25hcndoYWxqcy5vcmcpXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDkgVGhvbWFzIFJvYmluc29uIDwyODBub3J0aC5jb20+XG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgJ1NvZnR3YXJlJyksIHRvXG4vLyBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZVxuLy8gcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4vLyBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbi8vIHdoZW4gdXNlZCBpbiBub2RlLCB0aGlzIHdpbGwgYWN0dWFsbHkgbG9hZCB0aGUgdXRpbCBtb2R1bGUgd2UgZGVwZW5kIG9uXG4vLyB2ZXJzdXMgbG9hZGluZyB0aGUgYnVpbHRpbiB1dGlsIG1vZHVsZSBhcyBoYXBwZW5zIG90aGVyd2lzZVxuLy8gdGhpcyBpcyBhIGJ1ZyBpbiBub2RlIG1vZHVsZSBsb2FkaW5nIGFzIGZhciBhcyBJIGFtIGNvbmNlcm5lZFxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsLycpO1xuXG52YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8vIDEuIFRoZSBhc3NlcnQgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9ucyB0aGF0IHRocm93XG4vLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcbi8vIGFzc2VydCBtb2R1bGUgbXVzdCBjb25mb3JtIHRvIHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlLlxuXG52YXIgYXNzZXJ0ID0gbW9kdWxlLmV4cG9ydHMgPSBvaztcblxuLy8gMi4gVGhlIEFzc2VydGlvbkVycm9yIGlzIGRlZmluZWQgaW4gYXNzZXJ0LlxuLy8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsOiBhY3R1YWwsXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkIH0pXG5cbmFzc2VydC5Bc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uIEFzc2VydGlvbkVycm9yKG9wdGlvbnMpIHtcbiAgdGhpcy5uYW1lID0gJ0Fzc2VydGlvbkVycm9yJztcbiAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDtcbiAgdGhpcy5leHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7XG4gIHRoaXMub3BlcmF0b3IgPSBvcHRpb25zLm9wZXJhdG9yO1xuICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubWVzc2FnZSA9IGdldE1lc3NhZ2UodGhpcyk7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgfVxuICB2YXIgc3RhY2tTdGFydEZ1bmN0aW9uID0gb3B0aW9ucy5zdGFja1N0YXJ0RnVuY3Rpb24gfHwgZmFpbDtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBzdGFja1N0YXJ0RnVuY3Rpb24pO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIG5vbiB2OCBicm93c2VycyBzbyB3ZSBjYW4gaGF2ZSBhIHN0YWNrdHJhY2VcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCk7XG4gICAgaWYgKGVyci5zdGFjaykge1xuICAgICAgdmFyIG91dCA9IGVyci5zdGFjaztcblxuICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzXG4gICAgICB2YXIgZm5fbmFtZSA9IHN0YWNrU3RhcnRGdW5jdGlvbi5uYW1lO1xuICAgICAgdmFyIGlkeCA9IG91dC5pbmRleE9mKCdcXG4nICsgZm5fbmFtZSk7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgLy8gb25jZSB3ZSBoYXZlIGxvY2F0ZWQgdGhlIGZ1bmN0aW9uIGZyYW1lXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYmVmb3JlIGl0IChhbmQgaXRzIGxpbmUpXG4gICAgICAgIHZhciBuZXh0X2xpbmUgPSBvdXQuaW5kZXhPZignXFxuJywgaWR4ICsgMSk7XG4gICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcobmV4dF9saW5lICsgMSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhY2sgPSBvdXQ7XG4gICAgfVxuICB9XG59O1xuXG4vLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxudXRpbC5pbmhlcml0cyhhc3NlcnQuQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICBpZiAodXRpbC5pc1VuZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgfVxuICBpZiAodXRpbC5pc051bWJlcih2YWx1ZSkgJiYgIWlzRmluaXRlKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG4gIGlmICh1dGlsLmlzRnVuY3Rpb24odmFsdWUpIHx8IHV0aWwuaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB0cnVuY2F0ZShzLCBuKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHMpKSB7XG4gICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuICByZXR1cm4gdHJ1bmNhdGUoSlNPTi5zdHJpbmdpZnkoc2VsZi5hY3R1YWwsIHJlcGxhY2VyKSwgMTI4KSArICcgJyArXG4gICAgICAgICBzZWxmLm9wZXJhdG9yICsgJyAnICtcbiAgICAgICAgIHRydW5jYXRlKEpTT04uc3RyaW5naWZ5KHNlbGYuZXhwZWN0ZWQsIHJlcGxhY2VyKSwgMTI4KTtcbn1cblxuLy8gQXQgcHJlc2VudCBvbmx5IHRoZSB0aHJlZSBrZXlzIG1lbnRpb25lZCBhYm92ZSBhcmUgdXNlZCBhbmRcbi8vIHVuZGVyc3Rvb2QgYnkgdGhlIHNwZWMuIEltcGxlbWVudGF0aW9ucyBvciBzdWIgbW9kdWxlcyBjYW4gcGFzc1xuLy8gb3RoZXIga2V5cyB0byB0aGUgQXNzZXJ0aW9uRXJyb3IncyBjb25zdHJ1Y3RvciAtIHRoZXkgd2lsbCBiZVxuLy8gaWdub3JlZC5cblxuLy8gMy4gQWxsIG9mIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIG11c3QgdGhyb3cgYW4gQXNzZXJ0aW9uRXJyb3Jcbi8vIHdoZW4gYSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiBpcyBub3QgbWV0LCB3aXRoIGEgbWVzc2FnZSB0aGF0XG4vLyBtYXkgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcm92aWRlZC4gIEFsbCBhc3NlcnRpb24gbWV0aG9kcyBwcm92aWRlXG4vLyBib3RoIHRoZSBhY3R1YWwgYW5kIGV4cGVjdGVkIHZhbHVlcyB0byB0aGUgYXNzZXJ0aW9uIGVycm9yIGZvclxuLy8gZGlzcGxheSBwdXJwb3Nlcy5cblxuZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZ1bmN0aW9uKSB7XG4gIHRocm93IG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3Ioe1xuICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgIG9wZXJhdG9yOiBvcGVyYXRvcixcbiAgICBzdGFja1N0YXJ0RnVuY3Rpb246IHN0YWNrU3RhcnRGdW5jdGlvblxuICB9KTtcbn1cblxuLy8gRVhURU5TSU9OISBhbGxvd3MgZm9yIHdlbGwgYmVoYXZlZCBlcnJvcnMgZGVmaW5lZCBlbHNld2hlcmUuXG5hc3NlcnQuZmFpbCA9IGZhaWw7XG5cbi8vIDQuIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWRcbi8vIGJ5ICEhZ3VhcmQuXG4vLyBhc3NlcnQub2soZ3VhcmQsIG1lc3NhZ2Vfb3B0KTtcbi8vIFRoaXMgc3RhdGVtZW50IGlzIGVxdWl2YWxlbnQgdG8gYXNzZXJ0LmVxdWFsKHRydWUsICEhZ3VhcmQsXG4vLyBtZXNzYWdlX29wdCk7LiBUbyB0ZXN0IHN0cmljdGx5IGZvciB0aGUgdmFsdWUgdHJ1ZSwgdXNlXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwodHJ1ZSwgZ3VhcmQsIG1lc3NhZ2Vfb3B0KTsuXG5cbmZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICghdmFsdWUpIGZhaWwodmFsdWUsIHRydWUsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5vayk7XG59XG5hc3NlcnQub2sgPSBvaztcblxuLy8gNS4gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoXG4vLyA9PS5cbi8vIGFzc2VydC5lcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5lcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQuZXF1YWwpO1xufTtcblxuLy8gNi4gVGhlIG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHdoZXRoZXIgdHdvIG9iamVjdHMgYXJlIG5vdCBlcXVhbFxuLy8gd2l0aCAhPSBhc3NlcnQubm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90RXF1YWwgPSBmdW5jdGlvbiBub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPScsIGFzc2VydC5ub3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDcuIFRoZSBlcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgYSBkZWVwIGVxdWFsaXR5IHJlbGF0aW9uLlxuLy8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5kZWVwRXF1YWwgPSBmdW5jdGlvbiBkZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBhc3NlcnQuZGVlcEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSB7XG4gIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuXG4gIH0gZWxzZSBpZiAodXRpbC5pc0J1ZmZlcihhY3R1YWwpICYmIHV0aWwuaXNCdWZmZXIoZXhwZWN0ZWQpKSB7XG4gICAgaWYgKGFjdHVhbC5sZW5ndGggIT0gZXhwZWN0ZWQubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdHVhbC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFjdHVhbFtpXSAhPT0gZXhwZWN0ZWRbaV0pIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcblxuICAvLyA3LjIuIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIERhdGUgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIERhdGUgb2JqZWN0IHRoYXQgcmVmZXJzIHRvIHRoZSBzYW1lIHRpbWUuXG4gIH0gZWxzZSBpZiAodXRpbC5pc0RhdGUoYWN0dWFsKSAmJiB1dGlsLmlzRGF0ZShleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG4gIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG4gIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kXG4gIC8vIHByb3BlcnRpZXMgKGBnbG9iYWxgLCBgbXVsdGlsaW5lYCwgYGxhc3RJbmRleGAsIGBpZ25vcmVDYXNlYCkuXG4gIH0gZWxzZSBpZiAodXRpbC5pc1JlZ0V4cChhY3R1YWwpICYmIHV0aWwuaXNSZWdFeHAoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5zb3VyY2UgPT09IGV4cGVjdGVkLnNvdXJjZSAmJlxuICAgICAgICAgICBhY3R1YWwuZ2xvYmFsID09PSBleHBlY3RlZC5nbG9iYWwgJiZcbiAgICAgICAgICAgYWN0dWFsLm11bHRpbGluZSA9PT0gZXhwZWN0ZWQubXVsdGlsaW5lICYmXG4gICAgICAgICAgIGFjdHVhbC5sYXN0SW5kZXggPT09IGV4cGVjdGVkLmxhc3RJbmRleCAmJlxuICAgICAgICAgICBhY3R1YWwuaWdub3JlQ2FzZSA9PT0gZXhwZWN0ZWQuaWdub3JlQ2FzZTtcblxuICAvLyA3LjQuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNPYmplY3QoYWN0dWFsKSAmJiAhdXRpbC5pc09iamVjdChleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIDcuNSBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG4gIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG4gIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcbiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcbiAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQXJndW1lbnRzKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG59XG5cbmZ1bmN0aW9uIG9iakVxdWl2KGEsIGIpIHtcbiAgaWYgKHV0aWwuaXNOdWxsT3JVbmRlZmluZWQoYSkgfHwgdXRpbC5pc051bGxPclVuZGVmaW5lZChiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cbiAgaWYgKGEucHJvdG90eXBlICE9PSBiLnByb3RvdHlwZSkgcmV0dXJuIGZhbHNlO1xuICAvLyBpZiBvbmUgaXMgYSBwcmltaXRpdmUsIHRoZSBvdGhlciBtdXN0IGJlIHNhbWVcbiAgaWYgKHV0aWwuaXNQcmltaXRpdmUoYSkgfHwgdXRpbC5pc1ByaW1pdGl2ZShiKSkge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG4gIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSksXG4gICAgICBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7XG4gIGlmICgoYUlzQXJncyAmJiAhYklzQXJncykgfHwgKCFhSXNBcmdzICYmIGJJc0FyZ3MpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFJc0FyZ3MpIHtcbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIpO1xuICB9XG4gIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG4gICAgICBrYiA9IG9iamVjdEtleXMoYiksXG4gICAgICBrZXksIGk7XG4gIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcbiAgLy8gaGFzT3duUHJvcGVydHkpXG4gIGlmIChrYS5sZW5ndGggIT0ga2IubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcbiAga2Euc29ydCgpO1xuICBrYi5zb3J0KCk7XG4gIC8vfn5+Y2hlYXAga2V5IHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3RcbiAgZm9yIChpID0ga2EubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBrZXkgPSBrYVtpXTtcbiAgICBpZiAoIV9kZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIDguIFRoZSBub24tZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGZvciBhbnkgZGVlcCBpbmVxdWFsaXR5LlxuLy8gYXNzZXJ0Lm5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3REZWVwRXF1YWwgPSBmdW5jdGlvbiBub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ25vdERlZXBFcXVhbCcsIGFzc2VydC5ub3REZWVwRXF1YWwpO1xuICB9XG59O1xuXG4vLyA5LiBUaGUgc3RyaWN0IGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzdHJpY3QgZXF1YWxpdHksIGFzIGRldGVybWluZWQgYnkgPT09LlxuLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnN0cmljdEVxdWFsID0gZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09PScsIGFzc2VydC5zdHJpY3RFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDEwLiBUaGUgc3RyaWN0IG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHN0cmljdCBpbmVxdWFsaXR5LCBhc1xuLy8gZGV0ZXJtaW5lZCBieSAhPT0uICBhc3NlcnQubm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQubm90U3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnIT09JywgYXNzZXJ0Lm5vdFN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGV4cGVjdGVkKSA9PSAnW29iamVjdCBSZWdFeHBdJykge1xuICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG4gIH0gZWxzZSBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZC5jYWxsKHt9LCBhY3R1YWwpID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csIGJsb2NrLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICB2YXIgYWN0dWFsO1xuXG4gIGlmICh1dGlsLmlzU3RyaW5nKGV4cGVjdGVkKSkge1xuICAgIG1lc3NhZ2UgPSBleHBlY3RlZDtcbiAgICBleHBlY3RlZCA9IG51bGw7XG4gIH1cblxuICB0cnkge1xuICAgIGJsb2NrKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBhY3R1YWwgPSBlO1xuICB9XG5cbiAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG4gICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpO1xuXG4gIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG4gIH1cblxuICBpZiAoIXNob3VsZFRocm93ICYmIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnR290IHVud2FudGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIGlmICgoc2hvdWxkVGhyb3cgJiYgYWN0dWFsICYmIGV4cGVjdGVkICYmXG4gICAgICAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8ICghc2hvdWxkVGhyb3cgJiYgYWN0dWFsKSkge1xuICAgIHRocm93IGFjdHVhbDtcbiAgfVxufVxuXG4vLyAxMS4gRXhwZWN0ZWQgdG8gdGhyb3cgYW4gZXJyb3I6XG4vLyBhc3NlcnQudGhyb3dzKGJsb2NrLCBFcnJvcl9vcHQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LnRocm93cyA9IGZ1bmN0aW9uKGJsb2NrLCAvKm9wdGlvbmFsKi9lcnJvciwgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzLmFwcGx5KHRoaXMsIFt0cnVlXS5jb25jYXQocFNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xufTtcblxuLy8gRVhURU5TSU9OISBUaGlzIGlzIGFubm95aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhpcyBtb2R1bGUuXG5hc3NlcnQuZG9lc05vdFRocm93ID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcbiAgX3Rocm93cy5hcHBseSh0aGlzLCBbZmFsc2VdLmNvbmNhdChwU2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG59O1xuXG5hc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uKGVycikgeyBpZiAoZXJyKSB7dGhyb3cgZXJyO319O1xuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufTtcbiIsImV4cG9ydHMuZW5kaWFubmVzcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdMRScgfTtcblxuZXhwb3J0cy5ob3N0bmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24uaG9zdG5hbWVcbiAgICB9XG4gICAgZWxzZSByZXR1cm4gJyc7XG59O1xuXG5leHBvcnRzLmxvYWRhdmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXSB9O1xuXG5leHBvcnRzLnVwdGltZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDAgfTtcblxuZXhwb3J0cy5mcmVlbWVtID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuZXhwb3J0cy50b3RhbG1lbSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTnVtYmVyLk1BWF9WQUxVRTtcbn07XG5cbmV4cG9ydHMuY3B1cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtdIH07XG5cbmV4cG9ydHMudHlwZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdCcm93c2VyJyB9O1xuXG5leHBvcnRzLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IuYXBwVmVyc2lvbjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufTtcblxuZXhwb3J0cy5uZXR3b3JrSW50ZXJmYWNlc1xuPSBleHBvcnRzLmdldE5ldHdvcmtJbnRlcmZhY2VzXG49IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHt9IH07XG5cbmV4cG9ydHMuYXJjaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdqYXZhc2NyaXB0JyB9O1xuXG5leHBvcnRzLnBsYXRmb3JtID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJ2Jyb3dzZXInIH07XG5cbmV4cG9ydHMudG1wZGlyID0gZXhwb3J0cy50bXBEaXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcvdG1wJztcbn07XG5cbmV4cG9ydHMuRU9MID0gJ1xcbic7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuLyogZ2xvYmFsIFhNTEh0dHBSZXF1ZXN0OiBmYWxzZSAqL1xuXG52YXIgdGVtcGxhdGVMb2FkZXIgPSByZXF1aXJlKCcuL3RlbXBsYXRlLWxvYWRlci5qcycpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnJlcXVpcmUoXCIuL2tvLWJpbmRpbmdzLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIgPSByZXF1aXJlKFwiLi90aW1lZC1jYWxsLmpzXCIpLnRpbWVkQ2FsbDtcblxudmFyIGFkZFVuZG9TdGFja0V4dGVuc2lvbk1ha2VyID0gcmVxdWlyZShcIi4vdW5kb21hbmFnZXIvdW5kb21haW4uanNcIik7XG52YXIgY29sb3JQbHVnaW4gPSByZXF1aXJlKFwiLi9leHQvY29sb3IuanNcIik7XG52YXIgaW5saW5lclBsdWdpbiA9IHJlcXVpcmUoXCIuL2V4dC9pbmxpbmVyLmpzXCIpO1xuXG52YXIgbG9jYWxTdG9yYWdlTG9hZGVyID0gcmVxdWlyZShcIi4vZXh0L2xvY2Fsc3RvcmFnZS5qc1wiKTtcblxuaWYgKHR5cGVvZiBrbyA9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3QgZmluZCBrbm9ja291dC5qcyBsaWJyYXJ5IVwiO1xuaWYgKHR5cGVvZiAkID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeSBsaWJyYXJ5IVwiO1xuXG5mdW5jdGlvbiBfY2Fub25pY2FsaXplKHVybCkge1xuICB2YXIgZGl2ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gXCI8YT48L2E+XCI7XG4gIGRpdi5maXJzdENoaWxkLmhyZWYgPSB1cmw7IC8vIEVuc3VyZXMgdGhhdCB0aGUgaHJlZiBpcyBwcm9wZXJseSBlc2NhcGVkXG4gIGRpdi5pbm5lckhUTUwgPSBkaXYuaW5uZXJIVE1MOyAvLyBSdW4gdGhlIGN1cnJlbnQgaW5uZXJIVE1MIGJhY2sgdGhyb3VnaCB0aGUgcGFyc2VyXG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZC5ocmVmO1xufVxuXG52YXIgYXBwbHlCaW5kaW5nT3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGtvKSB7XG4gIC8vIHB1c2ggXCJjb252ZXJ0ZWRVcmxcIiBtZXRob2QgdG8gdGhlIHd5c2l3eWdTcmMgYmluZGluZ1xuICBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5jb252ZXJ0ZWRVcmwgPSBmdW5jdGlvbihzcmMsIG1ldGhvZCwgd2lkdGgsIGhlaWdodCkge1xuICAgIHZhciBpbWdQcm9jZXNzb3JCYWNrZW5kID0gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kID8gb3B0aW9ucy5pbWdQcm9jZXNzb3JCYWNrZW5kIDogJy4vdXBsb2FkJztcbiAgICB2YXIgYmFja0VuZE1hdGNoID0gaW1nUHJvY2Vzc29yQmFja2VuZC5tYXRjaCgvXihodHRwcz86XFwvXFwvW15cXC9dKlxcLykuKiQvKTtcbiAgICB2YXIgc3JjTWF0Y2ggPSBzcmMubWF0Y2goL14oaHR0cHM/OlxcL1xcL1teXFwvXSpcXC8pLiokLyk7XG4gICAgaWYgKGJhY2tFbmRNYXRjaCA9PT0gbnVsbCB8fCAoc3JjTWF0Y2ggIT09IG51bGwgJiYgYmFja0VuZE1hdGNoWzFdID09IHNyY01hdGNoWzFdKSkge1xuICAgICAgdmFyIHF1ZXJ5UGFyYW1TZXBhcmF0b3IgPSBpbWdQcm9jZXNzb3JCYWNrZW5kLmluZGV4T2YoJz8nKSA9PSAtMSA/ICc/JyA6ICcmJztcbiAgICAgIHJldHVybiBpbWdQcm9jZXNzb3JCYWNrZW5kICsgcXVlcnlQYXJhbVNlcGFyYXRvciArIFwic3JjPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHNyYykgKyBcIiZtZXRob2Q9XCIgKyBlbmNvZGVVUklDb21wb25lbnQobWV0aG9kKSArIFwiJnBhcmFtcz1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh3aWR0aCArIFwiLFwiICsgaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJDYW5ub3QgYXBwbHkgYmFja2VuZCBpbWFnZSByZXNpemluZyB0byBub24tbG9jYWwgcmVzb3VyY2VzIFwiLCBzcmMsIG1ldGhvZCwgd2lkdGgsIGhlaWdodCwgYmFja0VuZE1hdGNoLCBzcmNNYXRjaCk7XG4gICAgICByZXR1cm4gc3JjICsgXCI/bWV0aG9kPVwiICsgbWV0aG9kICsgXCImd2lkdGg9XCIgKyB3aWR0aCArIChoZWlnaHQgIT09IG51bGwgPyBcIiZoZWlnaHQ9XCIgKyBoZWlnaHQgOiAnJyk7XG4gICAgfVxuICB9O1xuXG4gIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU3JjLnBsYWNlaG9sZGVyVXJsID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgdGV4dCkge1xuICAgIHJldHVybiBvcHRpb25zLmltZ1Byb2Nlc3NvckJhY2tlbmQgKyBcIj9tZXRob2Q9XCIgKyAncGxhY2Vob2xkZXInICsgXCImcGFyYW1zPVwiICsgd2lkdGggKyBlbmNvZGVVUklDb21wb25lbnQoXCIsXCIpICsgaGVpZ2h0O1xuICB9O1xuXG4gIC8vIHB1c2hlcyBjdXN0b20gdGlueW1jZSBjb25maWd1cmF0aW9ucyBmcm9tIG9wdGlvbnMgdG8gdGhlIGJpbmRpbmdcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50aW55bWNlQ29uZmlnKVxuICAgIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnLnN0YW5kYXJkT3B0aW9ucyA9IG9wdGlvbnMudGlueW1jZUNvbmZpZztcbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50aW55bWNlQ29uZmlnRnVsbClcbiAgICBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Zy5mdWxsT3B0aW9ucyA9IG9wdGlvbnMudGlueW1jZUNvbmZpZ0Z1bGw7XG59O1xuXG52YXIgc3RhcnQgPSBmdW5jdGlvbihvcHRpb25zLCB0ZW1wbGF0ZUZpbGUsIHRlbXBsYXRlTWV0YWRhdGEsIGpzb3Jqc29uLCBjdXN0b21FeHRlbnNpb25zKSB7XG5cblxuXG4gIHRlbXBsYXRlTG9hZGVyLmZpeFBhZ2VFdmVudHMoKTtcblxuICB2YXIgZmlsZVVwbG9hZE1lc3NhZ2VzRXh0ZW5zaW9uID0gZnVuY3Rpb24odm0pIHtcbiAgICB2YXIgZmlsZXVwbG9hZENvbmZpZyA9IHtcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIHVua25vd25FcnJvcjogdm0udCgnVW5rbm93biBlcnJvcicpLFxuICAgICAgICB1cGxvYWRlZEJ5dGVzOiB2bS50KCdVcGxvYWRlZCBieXRlcyBleGNlZWQgZmlsZSBzaXplJyksXG4gICAgICAgIG1heE51bWJlck9mRmlsZXM6IHZtLnQoJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyksXG4gICAgICAgIGFjY2VwdEZpbGVUeXBlczogdm0udCgnRmlsZSB0eXBlIG5vdCBhbGxvd2VkJyksXG4gICAgICAgIG1heEZpbGVTaXplOiB2bS50KCdGaWxlIGlzIHRvbyBsYXJnZScpLFxuICAgICAgICBtaW5GaWxlU2l6ZTogdm0udCgnRmlsZSBpcyB0b28gc21hbGwnKSxcbiAgICAgICAgcG9zdF9tYXhfc2l6ZTogdm0udCgnVGhlIHVwbG9hZGVkIGZpbGUgZXhjZWVkcyB0aGUgcG9zdF9tYXhfc2l6ZSBkaXJlY3RpdmUgaW4gcGhwLmluaScpLFxuICAgICAgICBtYXhfZmlsZV9zaXplOiB2bS50KCdGaWxlIGlzIHRvbyBiaWcnKSxcbiAgICAgICAgbWluX2ZpbGVfc2l6ZTogdm0udCgnRmlsZSBpcyB0b28gc21hbGwnKSxcbiAgICAgICAgYWNjZXB0X2ZpbGVfdHlwZXM6IHZtLnQoJ0ZpbGV0eXBlIG5vdCBhbGxvd2VkJyksXG4gICAgICAgIG1heF9udW1iZXJfb2ZfZmlsZXM6IHZtLnQoJ01heGltdW0gbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGVkJyksXG4gICAgICAgIG1heF93aWR0aDogdm0udCgnSW1hZ2UgZXhjZWVkcyBtYXhpbXVtIHdpZHRoJyksXG4gICAgICAgIG1pbl93aWR0aDogdm0udCgnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIHdpZHRoJyksXG4gICAgICAgIG1heF9oZWlnaHQ6IHZtLnQoJ0ltYWdlIGV4Y2VlZHMgbWF4aW11bSBoZWlnaHQnKSxcbiAgICAgICAgbWluX2hlaWdodDogdm0udCgnSW1hZ2UgcmVxdWlyZXMgYSBtaW5pbXVtIGhlaWdodCcpLFxuICAgICAgICBhYm9ydDogdm0udCgnRmlsZSB1cGxvYWQgYWJvcnRlZCcpLFxuICAgICAgICBpbWFnZV9yZXNpemU6IHZtLnQoJ0ZhaWxlZCB0byByZXNpemUgaW1hZ2UnKSxcbiAgICAgICAgZ2VuZXJpYzogdm0udCgnVW5leHBlY3RlZCB1cGxvYWQgZXJyb3InKVxuICAgICAgfVxuICAgIH07XG4gICAgLy8gZmlsZVVwbG9hZCBvcHRpb25zLlxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZmlsZXVwbG9hZENvbmZpZylcbiAgICAgIGZpbGV1cGxvYWRDb25maWcgPSAkLmV4dGVuZCh0cnVlLCBmaWxldXBsb2FkQ29uZmlnLCBvcHRpb25zLmZpbGV1cGxvYWRDb25maWcpO1xuXG4gICAga28uYmluZGluZ0hhbmRsZXJzWydmaWxldXBsb2FkJ10uZXh0ZW5kT3B0aW9ucyA9IGZpbGV1cGxvYWRDb25maWc7XG5cbiAgfTtcblxuICB2YXIgc2ltcGxlVHJhbnNsYXRpb25QbHVnaW4gPSBmdW5jdGlvbih2bSkge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3RyaW5ncykge1xuICAgICAgdm0udCA9IGZ1bmN0aW9uKGtleSwgb2JqUGFyYW0pIHtcbiAgICAgICAgdmFyIHJlcyA9IG9wdGlvbnMuc3RyaW5nc1trZXldO1xuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIk1pc3NpbmcgdHJhbnNsYXRpb24gc3RyaW5nIGZvclwiLGtleSxcIjogdXNpbmcgZGVmYXVsdCBzdHJpbmdcIik7XG4gICAgICAgICAgcmVzID0ga2V5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2bS50dChyZXMsIG9ialBhcmFtKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8vIHNpbXBsZVRyYW5zbGF0aW9uUGx1Z2luIG11c3QgYmUgYmVmb3JlIHRoZSB1bmRvU3RhY2sgdG8gdHJhbnNsYXRlIHVuZG8vcmVkbyBsYWJlbHNcbiAgdmFyIGV4dGVuc2lvbnMgPSBbc2ltcGxlVHJhbnNsYXRpb25QbHVnaW4sIGFkZFVuZG9TdGFja0V4dGVuc2lvbk1ha2VyKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpLCBjb2xvclBsdWdpbiwgaW5saW5lclBsdWdpbl07XG4gIGlmICh0eXBlb2YgY3VzdG9tRXh0ZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBjdXN0b21FeHRlbnNpb25zLmxlbmd0aDsgaysrKSBleHRlbnNpb25zLnB1c2goY3VzdG9tRXh0ZW5zaW9uc1trXSk7XG4gIGV4dGVuc2lvbnMucHVzaChmaWxlVXBsb2FkTWVzc2FnZXNFeHRlbnNpb24pO1xuXG4gIHZhciBnYWxsZXJ5VXJsID0gb3B0aW9ucy5maWxldXBsb2FkQ29uZmlnID8gb3B0aW9ucy5maWxldXBsb2FkQ29uZmlnLnVybCA6ICcvdXBsb2FkLyc7XG4gIGFwcGx5QmluZGluZ09wdGlvbnMob3B0aW9ucywga28pO1xuXG4gIC8vIFRPRE8gd2hhdCBhYm91dCBhcHBlbmRpbmcgdG8gYW5vdGhlciBlbGVtZW50P1xuICAkKFwiPCEtLSBrbyB0ZW1wbGF0ZTogJ21haW4nIC0tPjwhLS0gL2tvIC0tPlwiKS5hcHBlbmRUbyhnbG9iYWwuZG9jdW1lbnQuYm9keSk7XG5cbiAgLy8gdGVtcGxhdGVGaWxlIG1heSBvdmVycmlkZSB0aGUgdGVtcGxhdGUgcGF0aCBpbiB0ZW1wbGF0ZU1ldGFkYXRhXG4gIGlmICh0eXBlb2YgdGVtcGxhdGVGaWxlID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB0ZW1wbGF0ZU1ldGFkYXRhICE9ICd1bmRlZmluZWQnKSB7XG4gICAgdGVtcGxhdGVGaWxlID0gdGVtcGxhdGVNZXRhZGF0YS50ZW1wbGF0ZTtcbiAgfVxuICAvLyBUT0RPIGNhbm9uaWNhbGl6ZSB0ZW1wbGF0ZUZpbGUgdG8gYWJzb2x1dGUgb3IgcmVsYXRpdmUgZGVwZW5kaW5nIG9uIFwicmVsYXRpdmVVcmxzRXhjZXB0aW9uXCIgcGx1Z2luXG5cbiAgdGVtcGxhdGVMb2FkZXIubG9hZChwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLCB0ZW1wbGF0ZUZpbGUsIHRlbXBsYXRlTWV0YWRhdGEsIGpzb3Jqc29uLCBleHRlbnNpb25zLCBnYWxsZXJ5VXJsKTtcblxufTtcblxudmFyIGluaXRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24ob3B0aW9ucywgaGFzaF9rZXksIGN1c3RvbUV4dGVuc2lvbnMpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbHNEYXRhID0gbG9jYWxTdG9yYWdlTG9hZGVyKGhhc2hfa2V5LCBvcHRpb25zLmVtYWlsUHJvY2Vzc29yQmFja2VuZCk7XG4gICAgdmFyIGV4dGVuc2lvbnMgPSB0eXBlb2YgY3VzdG9tRXh0ZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcgPyBjdXN0b21FeHRlbnNpb25zIDogW107XG4gICAgZXh0ZW5zaW9ucy5wdXNoKGxzRGF0YS5leHRlbnNpb24pO1xuICAgIHZhciB0ZW1wbGF0ZSA9IF9jYW5vbmljYWxpemUobHNEYXRhLm1ldGFkYXRhLnRlbXBsYXRlKTtcbiAgICBzdGFydChvcHRpb25zLCB0ZW1wbGF0ZSwgbHNEYXRhLm1ldGFkYXRhLCBsc0RhdGEubW9kZWwsIGV4dGVuc2lvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRPRE8gbm90IGZvdW5kIFwiLCBoYXNoX2tleSwgZSk7XG4gIH1cbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24ob3B0aW9ucywgY3VzdG9tRXh0ZW5zaW9ucykge1xuXG4gIHZhciBoYXNoID0gZ2xvYmFsLmxvY2F0aW9uLmhhc2ggPyBnbG9iYWwubG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMV0gOiB1bmRlZmluZWQ7XG5cbiAgLy8gTG9hZGluZyBmcm9tIGNvbmZpZ3VyZWQgdGVtcGxhdGUgb3IgY29uZmlndXJlZCBtZXRhZGF0YVxuICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy50ZW1wbGF0ZSB8fCBvcHRpb25zLmRhdGEpKSB7XG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG9wdGlvbnMuZGF0YSk7XG4gICAgICBzdGFydChvcHRpb25zLCB1bmRlZmluZWQsIGRhdGEubWV0YWRhdGEsIGRhdGEuY29udGVudCwgY3VzdG9tRXh0ZW5zaW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0KG9wdGlvbnMsIG9wdGlvbnMudGVtcGxhdGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjdXN0b21FeHRlbnNpb25zKTtcbiAgICB9XG4gICAgLy8gTG9hZGluZyBmcm9tIExvY2FsU3RvcmFnZSAoaWYgdXJsIGhhc2ggaGFzIGEgN2NoYXJzIGtleSlcbiAgfSBlbHNlIGlmIChoYXNoICYmIGhhc2gubGVuZ3RoID09IDcpIHtcbiAgICBpbml0RnJvbUxvY2FsU3RvcmFnZShvcHRpb25zLCBoYXNoLCBjdXN0b21FeHRlbnNpb25zKTtcbiAgICAvLyBMb2FkaW5nIGZyb20gdGVtcGxhdGUgdXJsIGFzIGhhc2ggKGlmIGhhc2ggaXMgbm90IGEgdmFsaWQgbG9jYWxzdG9yYWdlIGtleSlcbiAgfSBlbHNlIGlmIChoYXNoKSB7XG4gICAgc3RhcnQob3B0aW9ucywgX2Nhbm9uaWNhbGl6ZShoYXNoKSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGN1c3RvbUV4dGVuc2lvbnMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc0NvbXBhdGlibGU6IHRlbXBsYXRlTG9hZGVyLmlzQ29tcGF0aWJsZSxcbiAgaW5pdDogaW5pdCxcbiAgc3RhcnQ6IHN0YXJ0XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG4vLyBAc2VlIGFsc28gc2NyaXB0LXRlbXBsYXRlLmpzIHB1c2hUZW1wbGF0ZVxudmFyIGFkZFNjcmlwdFRlbXBsYXRlID0gZnVuY3Rpb24oZG9jLCB0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlTWFya3VwKSB7XG4gIHZhciBzY3JpcHRUYWcgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9odG1sJyk7XG4gIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ2lkJywgdGVtcGxhdGVOYW1lKTtcbiAgc2NyaXB0VGFnLnRleHQgPSB0ZW1wbGF0ZU1hcmt1cDtcbiAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0VGFnKTtcbiAgcmV0dXJuIHNjcmlwdFRhZztcbiAgLy8gJCgnPHNjcmlwdCB0eXBlPVwidGV4dC9odG1sXCI+PC9zYycgKyAncmlwdD4nKS50ZXh0KHRlbXBsYXRlTWFya3VwKS5hdHRyKCdpZCcsIHRlbXBsYXRlTmFtZSkuYXBwZW5kVG8oJCgnYm9keScpKTtcbn07XG5cbi8vIHVzZWQgZm9yIGxpdmUgcHJldmlldyBpbiBpZnJhbWUuXG5rby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZSA9IHtcbiAgLy8gdHBsIHdpbGwgYmUgb3ZlcnJpZGVuIHdpdGggdGhlIHN0cnVjdHVyZSBwYXJzZWQgYnkgdGhlIGlucHV0IHRlbXBsYXRlLlxuICB0cGw6IFwiPCFET0NUWVBFIGh0bWw+XFxyXFxuPGh0bWw+XFxyXFxuPGhlYWQ+XFxyXFxuPC9oZWFkPlxcclxcbjxib2R5PjxkaXYgZGF0YS1iaW5kPVxcXCJibG9jazogY29udGVudFxcXCI+PC9kaXY+PC9ib2R5PlxcclxcbjwvaHRtbD5cXHJcXG5cIixcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGZ1bmN0aW9uIGJpbmRJZnJhbWUobG9jYWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBpZnJhbWUgPSBlbGVtZW50LmNvbnRlbnREb2N1bWVudDtcbiAgICAgICAgaWZyYW1lLm9wZW4oKTtcbiAgICAgICAgaWZyYW1lLndyaXRlKGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbCk7XG4gICAgICAgIGlmcmFtZS5jbG9zZSgpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGlmcmFtZWRvYyA9IGlmcmFtZS5ib2R5O1xuICAgICAgICAgIGlmIChpZnJhbWVkb2MpIHtcbiAgICAgICAgICAgIC8vIHNjcmlwdHMgaGF2ZSB0byBiZSBkdXBsaWNhdGVkIChtYXliZSB0aGlzIGlzIG5vdCBuZWVkZWQgYW55bW9yZSBzaW5jZSB1c2luZyBzdHJpbmctdGVtcGxhdGVzKVxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlcyA9IGVsZW1lbnQuY29udGVudFdpbmRvdy5wYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZW1wbGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlbXBsYXRlc1tpXS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PSAndGV4dC9odG1sJyAmJiB0ZW1wbGF0ZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpKSB7XG4gICAgICAgICAgICAgICAgYWRkU2NyaXB0VGVtcGxhdGUoaWZyYW1lLCB0ZW1wbGF0ZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCB0ZW1wbGF0ZXNbaV0uaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaHRtbCA9IGlmcmFtZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkhUTUxcIik7XG5cbiAgICAgICAgICAgIGtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2soZWxlbWVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGtvLmNsZWFuTm9kZShodG1sWzBdIHx8IGlmcmFtZWRvYyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAga28uYXBwbHlCaW5kaW5ncyh2YWx1ZUFjY2Vzc29yKCksIGh0bWxbMF0gfHwgaWZyYW1lZG9jKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBpZnJhbWVkb2NcIiwgbG9jYWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgcmVhZGluZyBpZnJhbWUuYm9keVwiLCBlLCBsb2NhbCk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yIHJlYWRpbmcgaWZyYW1lIGNvbnRlbnREb2N1bWVudFwiLCBlLCBsb2NhbCk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICAgIC8vIGlnbm9yZWRcbiAgICAgIH1cbiAgICB9XG4gICAgYmluZElmcmFtZShcImZpcnN0IGNhbGxcIik7XG4gICAgLy8gb2xkZXIgYnJvd3NlcnMgbmVlZGVkIHRoaXNcbiAgICAvLyBrby51dGlscy5yZWdpc3RlckV2ZW50SGFuZGxlcihlbGVtZW50LCAnbG9hZCcsIGJpbmRJZnJhbWUpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFscyBnbG9iYWw6ZmFsc2UgKi9cblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ3dpdGhQcm9wZXJ0aWVzJ10gPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgLy8gTWFrZSBhIG1vZGlmaWVkIGJpbmRpbmcgY29udGV4dCwgd2l0aCBhIGV4dHJhIHByb3BlcnRpZXMsIGFuZCBhcHBseSBpdCB0byBkZXNjZW5kYW50IGVsZW1lbnRzXG4gICAgdmFyIGNoaWxkQmluZGluZ0NvbnRleHQgPSBiaW5kaW5nQ29udGV4dC5jcmVhdGVDaGlsZENvbnRleHQoXG4gICAgICBiaW5kaW5nQ29udGV4dC4kcmF3RGF0YSxcbiAgICAgIG51bGwsIC8vIE9wdGlvbmFsbHksIHBhc3MgYSBzdHJpbmcgaGVyZSBhcyBhbiBhbGlhcyBmb3IgdGhlIGRhdGEgaXRlbSBpbiBkZXNjZW5kYW50IGNvbnRleHRzXG4gICAgICBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgIGtvLnV0aWxzLmV4dGVuZChjb250ZXh0LCB2YWx1ZUFjY2Vzc29yKCkpO1xuICAgICAgfVxuICAgICk7XG4gICAga28uYXBwbHlCaW5kaW5nc1RvRGVzY2VuZGFudHMoY2hpbGRCaW5kaW5nQ29udGV4dCwgZWxlbWVudCk7XG5cbiAgICAvLyBBbHNvIHRlbGwgS08gKm5vdCogdG8gYmluZCB0aGUgZGVzY2VuZGFudHMgaXRzZWxmLCBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGJvdW5kIHR3aWNlXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiB0cnVlXG4gICAgfTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3dpdGhQcm9wZXJ0aWVzJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2xvZyddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGNvbnNvbGUubG9nKFwibG9nXCIsIHZhbHVlQWNjZXNzb3IoKSk7XG4gIH1cbn07XG5cblxua28uYmluZGluZ0hhbmRsZXJzWydibG9jayddID0ge1xuXG4gIHRlbXBsYXRlRXhpc3RzOiBmdW5jdGlvbihpZCkge1xuICAgIHZhciBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsKSByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBfY2hvb3NlVGVtcGxhdGU6IGZ1bmN0aW9uKGlzQXJyYXksIHByZWZpeCwgYWN0aW9uLCBmYWxsYmFjaykge1xuICAgIHZhciBpZCA9IHByZWZpeCArICctJyArIGFjdGlvbjtcbiAgICBpZiAoa28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLnRlbXBsYXRlRXhpc3RzKGlkKSkgcmV0dXJuIGlkO1xuICAgIGlmICh0eXBlb2YgZmFsbGJhY2sgIT0gJ3VuZGVmaW5lZCcgJiYgZmFsbGJhY2sgIT09IG51bGwpIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10uX2Nob29zZVRlbXBsYXRlKGlzQXJyYXksIHByZWZpeCwgZmFsbGJhY2spO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIGZhbGxCYWNrSWQgPSBpc0FycmF5ID8gJ2FycmF5JyA6ICdvYmplY3QtJyArIGFjdGlvbjtcbiAgICAgIGlmIChrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10udGVtcGxhdGVFeGlzdHMoZmFsbEJhY2tJZCkpIHJldHVybiBmYWxsQmFja0lkO1xuICAgICAgZWxzZSB0aHJvdyBcImNhbm5vdCBmaW5kIHRlbXBsYXRlIGZvciBcIiArIGlkICsgXCIvXCIgKyBmYWxsQmFja0lkO1xuICAgIH1cbiAgfSxcblxuICAvLyBjb21wdXRlIGRpc3BsYXlNb2RlIGRlcGVuZGluZyBvbiB0ZW1wbGF0ZU1vZGUgc2V0IHVzaW5nIFwid2l0aFByb3BlcnRpZXNcIiBiaW5kaW5nLlxuICBfZGlzcGxheU1vZGU6IGZ1bmN0aW9uKHVud3JhcHBlZCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgcHJlZml4ID0gdHlwZW9mIHVud3JhcHBlZC50eXBlICE9ICd1bmRlZmluZWQnID8ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh1bndyYXBwZWQudHlwZSkgOiAnbm90YWJsb2NrLScgKyB0eXBlb2YodW53cmFwcGVkKTtcbiAgICB2YXIgaXNBcnJheSA9IHR5cGVvZiB1bndyYXBwZWQuc3BsaWNlICE9PSAndW5kZWZpbmVkJztcbiAgICB2YXIgdGVtcGxhdGVNb2RlID0gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID8gYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlIDogJ3Nob3cnO1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10uX2Nob29zZVRlbXBsYXRlKGlzQXJyYXksIHByZWZpeCwgdGVtcGxhdGVNb2RlLCBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGVGYWxsYmFjayk7XG4gIH0sXG5cbiAgX21ha2VUZW1wbGF0ZVZhbHVlQWNjZXNzb3I6IGZ1bmN0aW9uKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gdmFsdWVBY2Nlc3NvcigpLFxuICAgICAgICB1bndyYXBwZWRWYWx1ZSA9IGtvLnV0aWxzLnBlZWtPYnNlcnZhYmxlKHZhbHVlKTsgLy8gVW53cmFwIHdpdGhvdXQgc2V0dGluZyBhIGRlcGVuZGVuY3kgaGVyZVxuXG4gICAgICAvLyBJZiB1bndyYXBwZWRWYWx1ZS5kYXRhIGlzIHRoZSBhcnJheSwgcHJlc2VydmUgYWxsIHJlbGV2YW50IG9wdGlvbnMgYW5kIHVud3JhcCBhZ2FpbiB2YWx1ZSBzbyB3ZSBnZXQgdXBkYXRlc1xuICAgICAgdmFyIG1vZGVsVmFsdWU7XG4gICAgICB2YXIgdGVtcGxhdGU7XG5cbiAgICAgIGlmICgoIXVud3JhcHBlZFZhbHVlKSB8fCAodHlwZW9mIHVud3JhcHBlZFZhbHVlLmRhdGEgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHVud3JhcHBlZFZhbHVlLmRhdGEgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgbW9kZWxWYWx1ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kZWxWYWx1ZSA9IHVud3JhcHBlZFZhbHVlLmRhdGE7XG4gICAgICAgIGlmICh0eXBlb2YgdW53cmFwcGVkVmFsdWUudGVtcGxhdGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgdGVtcGxhdGVQYXJhbSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodW53cmFwcGVkVmFsdWUudGVtcGxhdGUpO1xuICAgICAgICAgIHZhciB0ZW1wbGF0ZU1vZGUgPSBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPyBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgOiAnc2hvdyc7XG4gICAgICAgICAgdGVtcGxhdGUgPSBrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10uX2Nob29zZVRlbXBsYXRlKGZhbHNlLCB0ZW1wbGF0ZVBhcmFtLCB0ZW1wbGF0ZU1vZGUsIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZUZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdW53cmFwcGVkTW9kZWxWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobW9kZWxWYWx1ZSk7XG4gICAgICBpZiAoa28uaXNPYnNlcnZhYmxlKHVud3JhcHBlZE1vZGVsVmFsdWUpKSBjb25zb2xlLmxvZyhcImRvdWJsZU9ic2VydmFibGVcIiwgdW53cmFwcGVkTW9kZWxWYWx1ZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gTk9URSBJRTggdXNlZCB0byBicmVhayBoZXJlLCBidXQgd2UgZG9uJ3Qgc3VwcG9ydCBpdCBhbnltb3JlLCBzbyBtYXliZSB0aGlzIGlzIG5vdCBuZWVkZWQuXG4gICAgICAgIGlmIChtb2RlbFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSA9ICdlbXB0eSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRlbXBsYXRlID0ga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLl9kaXNwbGF5TW9kZSh1bndyYXBwZWRNb2RlbFZhbHVlLCBiaW5kaW5nQ29udGV4dCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSwgdW53cmFwcGVkTW9kZWxWYWx1ZSwgYmluZGluZ0NvbnRleHRbJyRkYXRhJ10sIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAnbmFtZSc6IHRlbXBsYXRlLFxuICAgICAgICAnZGF0YSc6IG1vZGVsVmFsdWUsXG4gICAgICAgICd0ZW1wbGF0ZUVuZ2luZSc6IGtvLm5hdGl2ZVRlbXBsYXRlRW5naW5lLmluc3RhbmNlXG4gICAgICB9O1xuICAgIH07XG4gIH0sXG5cbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWVBY2Nlc3NvcigpID09PSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coXCJmb3VuZCBhIG51bGwgYmxvY2s6IGNoZWNrIGVuZGluZyBjb21tYXMgaW4gYXJyYXlzIGRlZnMgaW4gSUVcIik7XG4gICAgdmFyIG5ld1ZhbHVlQWNjZXNzb3IgPSBrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10uX21ha2VUZW1wbGF0ZVZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3NvciwgYmluZGluZ0NvbnRleHQpO1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3RlbXBsYXRlJ11bJ2luaXQnXShlbGVtZW50LCBuZXdWYWx1ZUFjY2Vzc29yKTtcbiAgfSxcbiAgJ3VwZGF0ZSc6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgdmFyIG5ld1ZhbHVlQWNjZXNzb3IgPSBrby5iaW5kaW5nSGFuZGxlcnNbJ2Jsb2NrJ10uX21ha2VUZW1wbGF0ZVZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3NvciwgYmluZGluZ0NvbnRleHQpO1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3RlbXBsYXRlJ11bJ3VwZGF0ZSddKGVsZW1lbnQsIG5ld1ZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KTtcbiAgfVxufTtcbmtvLmV4cHJlc3Npb25SZXdyaXRpbmcuYmluZGluZ1Jld3JpdGVWYWxpZGF0b3JzWydibG9jayddID0gZmFsc2U7IC8vIENhbid0IHJld3JpdGUgY29udHJvbCBmbG93IGJpbmRpbmdzXG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWydibG9jayddID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gc2NyaXB0IHRlbXBsYXRlIGlzIHRoZSBvbmUgcHJvdmlkZWQgYnkgS08gYW5kIGRlYWxzIHdpdGggdGVtcGFsdGVzIGRlZmluZWQgYXMgPHNjcmlwdCB0eXBlPXRleHQvaHRtbC5cbi8vIHN0cmluZyB0ZW1wbGF0ZSBkZWZpbmVzIHRoZW0gaW4gbWVtb3J5IGFuZCBhdm9pZHMgcG9sbHV0aW5nIHRoZSBIVE1MOiBzZWVtcyB0byB3b3JrIGJldHRlciBpbiBNb3NhaWNvLlxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vc3RyaW5nLXRlbXBsYXRlLmpzJyk7XG4vLyBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vc2NyaXB0LXRlbXBsYXRlLmpzJyk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG5yZXF1aXJlKFwiZXZvbC1jb2xvcnBpY2tlclwiKTtcblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGtvanF1aSA9IHJlcXVpcmUoXCJrbm9ja291dC1qcXVlcnl1aVwiKTtcblxuXG52YXIgQ29sb3JQaWNrZXIgPSBmdW5jdGlvbigpIHtcbiAga29qcXVpLkJpbmRpbmdIYW5kbGVyLmNhbGwodGhpcywgJ2NvbG9ycGlja2VyJyk7XG59O1xuQ29sb3JQaWNrZXIucHJvdG90eXBlID0ga29qcXVpLnV0aWxzLmNyZWF0ZU9iamVjdChrb2pxdWkuQmluZGluZ0hhbmRsZXIucHJvdG90eXBlKTtcbkNvbG9yUGlja2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbG9yUGlja2VyO1xuXG5Db2xvclBpY2tlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzKSB7XG4gIHZhciB2YSA9IHZhbHVlQWNjZXNzb3IoKTtcbiAgdmFyIHZhbHVlID0gdmEuY29sb3I7XG5cbiAgLy8gSW4gb3JkZXIgdG8gaGF2ZSBhIGNvcnJlY3QgZGVwZW5kZW5jeSB0cmFja2luZyBpbiBcImlmU3Vic1wiIHdlIGhhdmUgdG8gZW5zdXJlIHdlIHVzZSBhIHNpbmdsZSBjb21wdXRlciBmb3IgZWFjaCBlZGl0YWJsZVxuICAvLyBwcm9wZXJ0eS4gR2l2ZW4gdGhpcyBiaW5kaW5nIG5lZWRzIDIgb2YgdGhlbSwgd2UgY3JlYXRlIGEgY29tcHV0ZWQgc28gdG8gXCJwcm94eVwiIHRoZSBkZXBlbmRlbmNpZXMuXG4gIHZhciBuZXdETyA9IGtvLmNvbXB1dGVkKHtcbiAgICByZWFkOiB2YWx1ZSxcbiAgICB3cml0ZTogdmFsdWUsXG4gICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gIH0pO1xuICB2YXIgbmV3VkEgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3RE87XG4gIH07XG5cbiAga28uYmluZGluZ0hhbmRsZXJzLnZhbHVlLmluaXQoZWxlbWVudCwgbmV3VkEsIGFsbEJpbmRpbmdzKTtcblxuICB2YXIgY2hhbmdlUHJvcGFnYXRvciA9IGZ1bmN0aW9uKGV2ZW50LCBjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgIT09ICd1bmRlZmluZWQnKSBuZXdETyhjb2xvcik7XG4gIH07XG4gICQoZWxlbWVudCkub24oJ2NoYW5nZS5jb2xvcicsIGNoYW5nZVByb3BhZ2F0b3IpO1xuXG4gIGtvLmNvbXB1dGVkKHtcbiAgICByZWFkOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHQgPSB7XG4gICAgICAgIGNvbG9yOiBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG5ld0RPKSxcbiAgICAgICAgc2hvd09uOiAnYnV0dG9uJ1xuICAgICAgfTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gdmEpXG4gICAgICAgIGlmIChwcm9wICE9PSAnY29sb3InICYmIHZhLmhhc093blByb3BlcnR5KHByb3ApKSBvcHRbcHJvcF0gPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhW3Byb3BdKTtcbiAgICAgICQoZWxlbWVudCkuY29sb3JwaWNrZXIob3B0KTtcbiAgICB9LFxuICAgIGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDogZWxlbWVudFxuICB9KTtcblxuICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICQoZWxlbWVudCkub2ZmKCdjaGFuZ2UuY29sb3InLCBjaGFuZ2VQcm9wYWdhdG9yKTtcbiAgICAkKGVsZW1lbnQpLmNvbG9ycGlja2VyKCdkZXN0cm95Jyk7XG4gIH0pO1xuXG59O1xua29qcXVpLnV0aWxzLnJlZ2lzdGVyKENvbG9yUGlja2VyKTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xuXG4vKiBodHRwczovL2dpdGh1Yi5jb20va25vY2tvdXQva25vY2tvdXQvaXNzdWVzLzExNzEgKi9cbmtvLmJpbmRpbmdIYW5kbGVycy5jc3NUZXh0ID0ge1xuICAndXBkYXRlJzogZnVuY3Rpb24obm9kZSwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MpIHtcbiAgICB2YXIgdGV4dCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICB0cnkge1xuICAgICAgbm9kZS5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmICghbm9kZS5zdHlsZVNoZWV0KSBub2RlLmlubmVySFRNTCA9IFwiYXt9XCI7XG4gICAgICBub2RlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHRleHQ7XG4gICAgfVxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG5cbi8qIGtub2Nrb3V0IGRyb3BwYWJsZSwgd2l0aCBzaW1wbGlmaWVkIFVNRCAqL1xuOyhmdW5jdGlvbihmYWN0b3J5KSB7XG4gIGZhY3Rvcnkoa28sICQpO1xufSkoZnVuY3Rpb24oa28sICQpIHtcbiAgdmFyIElURU1LRVkgPSBcImtvX3NvcnRJdGVtXCIsXG4gICAgSU5ERVhLRVkgPSBcImtvX3NvdXJjZUluZGV4XCIsXG4gICAgTElTVEtFWSA9IFwia29fc29ydExpc3RcIixcbiAgICBQQVJFTlRLRVkgPSBcImtvX3BhcmVudExpc3RcIixcbiAgICBEUkFHS0VZID0gXCJrb19kcmFnSXRlbVwiLFxuICAgIHVud3JhcCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUsXG4gICAgZGF0YUdldCA9IGtvLnV0aWxzLmRvbURhdGEuZ2V0LFxuICAgIGRhdGFTZXQgPSBrby51dGlscy5kb21EYXRhLnNldDtcblxuICBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlID0ge1xuICAgIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksXG4gICAgICAgIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9LFxuICAgICAgICBkcm9wcGFibGUgPSB7fSxcbiAgICAgICAgZHJvcEFjdHVhbDtcblxuICAgICAgJC5leHRlbmQodHJ1ZSwgZHJvcHBhYmxlLCBrby5iaW5kaW5nSGFuZGxlcnMuZHJvcHBhYmxlKTtcbiAgICAgIGlmICh2YWx1ZS5kYXRhKSB7XG4gICAgICAgIGlmICh2YWx1ZS5vcHRpb25zICYmIGRyb3BwYWJsZS5vcHRpb25zKSB7XG4gICAgICAgICAga28udXRpbHMuZXh0ZW5kKGRyb3BwYWJsZS5vcHRpb25zLCB2YWx1ZS5vcHRpb25zKTtcbiAgICAgICAgICBkZWxldGUgdmFsdWUub3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBrby51dGlscy5leHRlbmQoZHJvcHBhYmxlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wcGFibGUuZGF0YSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBkcm9wQWN0dWFsID0gZHJvcHBhYmxlLm9wdGlvbnMuZHJvcDtcblxuICAgICAgJGVsZW1lbnQuZHJvcHBhYmxlKGtvLnV0aWxzLmV4dGVuZChkcm9wcGFibGUub3B0aW9ucywge1xuICAgICAgICBkcm9wOiBmdW5jdGlvbihldmVudCwgdWkpIHtcblxuICAgICAgICAgIHZhciBlbCA9IHVpLmRyYWdnYWJsZVswXSxcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhR2V0KGVsLCBJVEVNS0VZKSB8fCBkYXRhR2V0KGVsLCBEUkFHS0VZKTtcblxuICAgICAgICAgIGlmIChpdGVtKSB7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLmNsb25lKSB7XG4gICAgICAgICAgICAgIGl0ZW0gPSBpdGVtLmNsb25lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZHJhZ2dlZCkge1xuICAgICAgICAgICAgICBpdGVtID0gZHJvcHBhYmxlLmRyYWdnZWQuY2FsbCh0aGlzLCBpdGVtLCBldmVudCwgdWkpIHx8IGl0ZW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkcm9wcGFibGUuZGF0YSkge1xuICAgICAgICAgICAgICBkcm9wcGFibGUuZGF0YShpdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkcm9wQWN0dWFsKSB7XG4gICAgICAgICAgICBkcm9wQWN0dWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy9oYW5kbGUgZW5hYmxpbmcvZGlzYWJsaW5nXG4gICAgICBpZiAoZHJvcHBhYmxlLmlzRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtvLmNvbXB1dGVkKHtcbiAgICAgICAgICByZWFkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRlbGVtZW50LmRyb3BwYWJsZShrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGRyb3BwYWJsZS5pc0VuYWJsZWQpID8gXCJlbmFibGVcIiA6IFwiZGlzYWJsZVwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDogZWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG5cbiAgICB9LFxuICAgIHRhcmdldEluZGV4OiBudWxsLFxuICAgIGFmdGVyTW92ZTogbnVsbCxcbiAgICBiZWZvcmVNb3ZlOiBudWxsLFxuICAgIG9wdGlvbnM6IHt9XG4gIH07XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLyogdXRpbGl0eSBmb3IgdG9nZXRoZXJqcyAqL1xua28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZSA9IHtcbiAgJ2ZvY3VzJzogZnVuY3Rpb24oKSB7fSxcbiAgJ2JsdXInOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c2luXCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuZm9jdXMpO1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJmb2N1c291dFwiLCBrby5iaW5kaW5nSGFuZGxlcnMuZm9jdXNhYmxlLmJsdXIpO1xuICAgIH0pO1xuXG4gICAgJChlbGVtZW50KS5vbihcImZvY3VzaW5cIiwga28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZS5mb2N1cyk7XG4gICAgJChlbGVtZW50KS5vbihcImZvY3Vzb3V0XCIsIGtvLmJpbmRpbmdIYW5kbGVycy5mb2N1c2FibGUuYmx1cik7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUgPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbigpIHt9LFxuICAnaW5pdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgJChlbGVtZW50KS5vZmYoXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcbiAgICB9KTtcblxuICAgICQoZWxlbWVudCkub24oXCJzY3JvbGxcIiwga28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbGFibGUuc2Nyb2xsKTtcblxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG5cbmtvLmV4dGVuZGVycy5wYWdpbmcgPSBmdW5jdGlvbih0YXJnZXQsIHBhZ2VTaXplKSB7XG4gIHZhciBfcGFnZVNpemUgPSBrby5vYnNlcnZhYmxlKHBhZ2VTaXplIHx8IDEwKSxcbiAgICAvLyBkZWZhdWx0IHBhZ2VTaXplIHRvIDEwXG4gICAgX2N1cnJlbnRQYWdlID0ga28ub2JzZXJ2YWJsZSgxKTsgLy8gZGVmYXVsdCBjdXJyZW50IHBhZ2UgdG8gMVxuICB0YXJnZXQucGFnZVNpemUgPSBrby5jb21wdXRlZCh7XG4gICAgcmVhZDogX3BhZ2VTaXplLFxuICAgIHdyaXRlOiBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgaWYgKG5ld1ZhbHVlID4gMCkge1xuICAgICAgICBfcGFnZVNpemUobmV3VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3BhZ2VTaXplKDEwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRhcmdldC5jdXJyZW50UGFnZSA9IGtvLmNvbXB1dGVkKHtcbiAgICByZWFkOiBfY3VycmVudFBhZ2UsXG4gICAgd3JpdGU6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICBpZiAobmV3VmFsdWUgPiB0YXJnZXQucGFnZUNvdW50KCkpIHtcbiAgICAgICAgX2N1cnJlbnRQYWdlKHRhcmdldC5wYWdlQ291bnQoKSk7XG4gICAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlIDw9IDApIHtcbiAgICAgICAgX2N1cnJlbnRQYWdlKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2N1cnJlbnRQYWdlKG5ld1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHRhcmdldC5wYWdlQ291bnQgPSBrby5jb21wdXRlZChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRhcmdldCgpLmxlbmd0aCAvIHRhcmdldC5wYWdlU2l6ZSgpKSB8fCAxO1xuICB9KTtcblxuICB0YXJnZXQuY3VycmVudFBhZ2VEYXRhID0ga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhZ2VTaXplID0gX3BhZ2VTaXplKCksXG4gICAgICBwYWdlSW5kZXggPSBfY3VycmVudFBhZ2UoKSxcbiAgICAgIHN0YXJ0SW5kZXggPSBwYWdlU2l6ZSAqIChwYWdlSW5kZXggLSAxKSxcbiAgICAgIGVuZEluZGV4ID0gcGFnZVNpemUgKiBwYWdlSW5kZXg7XG5cbiAgICByZXR1cm4gdGFyZ2V0KCkuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICB9KTtcblxuICB0YXJnZXQubW92ZUZpcnN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGFyZ2V0LmN1cnJlbnRQYWdlKDEpO1xuICB9O1xuICB0YXJnZXQubW92ZVByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgdGFyZ2V0LmN1cnJlbnRQYWdlKHRhcmdldC5jdXJyZW50UGFnZSgpIC0gMSk7XG4gIH07XG4gIHRhcmdldC5tb3ZlTmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRhcmdldC5jdXJyZW50UGFnZSh0YXJnZXQuY3VycmVudFBhZ2UoKSArIDEpO1xuICB9O1xuICB0YXJnZXQubW92ZUxhc3QgPSBmdW5jdGlvbigpIHtcbiAgICB0YXJnZXQuY3VycmVudFBhZ2UodGFyZ2V0LnBhZ2VDb3VudCgpKTtcbiAgfTtcblxuICByZXR1cm4gdGFyZ2V0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbHMgZ2xvYmFsOiB0cnVlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBzb3J0YWJsZSA9IHJlcXVpcmUoXCJqcXVlcnktdWkvc29ydGFibGVcIik7XG52YXIgZHJhZ2dhYmxlID0gcmVxdWlyZShcImpxdWVyeS11aS9kcmFnZ2FibGVcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xucmVxdWlyZShcImtub2Nrb3V0LXNvcnRhYmxlXCIpO1xuXG5pZiAodHlwZW9mIHNvcnRhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcbmlmICh0eXBlb2YgZHJhZ2dhYmxlID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSBzb3J0YWJsZSB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcblxudmFyIGlzRHJhZ2dpbmdIZWxwZXIgPSBmdW5jdGlvbih3cml0YWJsZSwgZSkge1xuICBpZiAod3JpdGFibGUoKSkge1xuICAgIGlmIChlLnR5cGUgPT0gd3JpdGFibGUoKSArICdzdG9wJykgd3JpdGFibGUoZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIGlmIChlLnR5cGUgPT0gJ2RyYWdzdGFydCcgfHwgZS50eXBlID09ICdzb3J0c3RhcnQnKSB3cml0YWJsZShlLnR5cGUuc3Vic3RyaW5nKDAsIDQpKTtcbiAgfVxufTtcblxudmFyIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IgPSBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgIHVud3JhcHBlZFZhbHVlID0ga28udXRpbHMucGVla09ic2VydmFibGUobW9kZWxWYWx1ZSk7IC8vIFVud3JhcCB3aXRob3V0IHNldHRpbmcgYSBkZXBlbmRlbmN5IGhlcmVcblxuICAgIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUobW9kZWxWYWx1ZSk7XG5cbiAgICBpZiAobW9kZWxWYWx1ZS5vcHRpb25zID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtb2RlbFZhbHVlLm9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ1N0YXJ0ID0gbW9kZWxWYWx1ZS5vcHRpb25zLnN0YXJ0O1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdGFydCA9IGZ1bmN0aW9uKGUsIHVpKSB7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJhZ2dpbmcgIT0gJ3VuZGVmaW5lZCcgJiYga28uaXNXcml0YWJsZU9ic2VydmFibGUobW9kZWxWYWx1ZS5kcmFnZ2luZykpIGlzRHJhZ2dpbmdIZWxwZXIobW9kZWxWYWx1ZS5kcmFnZ2luZywgZSk7XG4gICAgICBpZiAodHlwZW9mIG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lciAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBtb2RlbFZhbHVlLnNjcm9sbEludGVydmFsID0gZ2xvYmFsLnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBmb28gPSAkKG1vZGVsVmFsdWUuZHJvcENvbnRhaW5lcikuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLnNjcm9sbFRvcChmb28gKyBtb2RlbFZhbHVlLmFkZGluZyk7XG4gICAgICAgIH0sIDIwKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3JpZ1N0YXJ0ICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ1N0YXJ0KGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnU3RvcCA9IG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5zdG9wID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcmFnZ2luZyAhPSAndW5kZWZpbmVkJyAmJiBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZShtb2RlbFZhbHVlLmRyYWdnaW5nKSkgaXNEcmFnZ2luZ0hlbHBlcihtb2RlbFZhbHVlLmRyYWdnaW5nLCBlKTtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGdsb2JhbC5jbGVhckludGVydmFsKG1vZGVsVmFsdWUuc2Nyb2xsSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcmlnU3RvcCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIG9yaWdTdG9wKGUsIHVpKTtcbiAgICB9O1xuICAgIHZhciBvcmlnRHJhZyA9IG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnO1xuICAgIG1vZGVsVmFsdWUub3B0aW9ucy5kcmFnID0gZnVuY3Rpb24oZSwgdWkpIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciB0b3AgPSBlLnBhZ2VZIC0gJChtb2RlbFZhbHVlLmRyb3BDb250YWluZXIpLm9mZnNldCgpLnRvcDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCAtICQobW9kZWxWYWx1ZS5kcm9wQ29udGFpbmVyKS5oZWlnaHQoKTtcbiAgICAgICAgLy8gSGFuZGxlIHNjcm9sbGluZyBzcGVlZCBkZXBlbmRpbmcgb24gZGlzdGFuY2UgZnJvbSBib3JkZXIuXG4gICAgICAgIGlmICh0b3AgPCAtMjApIHtcbiAgICAgICAgICBtb2RlbFZhbHVlLmFkZGluZyA9IC0yMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIjw8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAtMTA7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8PFwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3AgPCAxMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gLTU7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCI8XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IDIwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAyMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+PlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChib3R0b20gPiAwKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAxMDtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj4+XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbSA+IC0xMCkge1xuICAgICAgICAgIG1vZGVsVmFsdWUuYWRkaW5nID0gNTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIj5cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZS5hZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9yaWdEcmFnICE9ICd1bmRlZmluZWQnKSByZXR1cm4gb3JpZ0RyYWcoZSwgdWkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgfTtcbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRzb3J0YWJsZSA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCkge1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMuc29ydGFibGUuaW5pdChlbGVtZW50LCBtYWtlRXh0ZW5kZWRWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IpLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVycy5zb3J0YWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy5leHRkcmFnZ2FibGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS5pbml0KGVsZW1lbnQsIG1ha2VFeHRlbmRlZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3NvciksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpIHtcbiAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLmRyYWdnYWJsZS51cGRhdGUoZWxlbWVudCwgbWFrZUV4dGVuZGVkVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yKSwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCk7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSwgSW1hZ2U6IGZhbHNlICovXG5cbi8vIFRoaXMgbW9kdWxlIGRlcGVuZHMgb24gdGhvc2UgZmlsZXMsIGJ1dCBpdCBkb2Vzbid0IGhhdmUgYSBkaXJlY3QgZGVwZW5kZW5jeSwgc28gd2UgZG9uJ3QgcmVxdWlyZSB0aGVtIGhlcmUuXG5cbi8vcmVxdWlyZShcImJsdWVpbXAtY2FudmFzLXRvLWJsb2JcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmlmcmFtZS10cmFuc3BvcnQuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQuanNcIik7XG4vL3JlcXVpcmUoXCJqcXVlcnktZmlsZS11cGxvYWQvanMvanF1ZXJ5LmZpbGV1cGxvYWQtcHJvY2Vzcy5qc1wiKTtcbi8vcmVxdWlyZShcImpxdWVyeS1maWxlLXVwbG9hZC9qcy9qcXVlcnkuZmlsZXVwbG9hZC1pbWFnZS5qc1wiKTtcbi8vcmVxdWlyZShcImpxdWVyeS1maWxlLXVwbG9hZC9qcy9qcXVlcnkuZmlsZXVwbG9hZC12YWxpZGF0ZS5qc1wiKTtcblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLy8gZXhwZXJpbWVudGFsIGltYWdlIHByZWxvYWRpbmcuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ3ByZWxvYWRlciddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgdmFyIHZhbHVlID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUucHJlbG9hZGVkID09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YWx1ZS5wcmVsb2FkZWQgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgICB2YXIgcHJlbG9hZGVyID0gZnVuY3Rpb24obmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9IHZhbHVlLnByZWxvYWRlZCgpKSB7XG4gICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YWx1ZS5wcmVsb2FkZWQobmV3VmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhbHVlLnByZWxvYWRlZChuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLnNyYyA9IG5ld1ZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZS5wcmVsb2FkZWQobmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFsdWUuc3Vic2NyaWJlKHByZWxvYWRlcik7XG4gICAgICBwcmVsb2FkZXIodmFsdWUoKSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBUT0RPIHdlIGRvbid0IHVzZSBhZHZhdHRyIGFuZCBhZHZzdHlsZSwgbWF5YmUgd2Ugc2hvdWxkIHNpbXBseSByZW1vdmUgdGhpcyBjb2RlLlxua28uYmluZGluZ0hhbmRsZXJzWydhZHZhdHRyJ10gPSB7XG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3MsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSB8fCB7fSk7XG4gICAga28udXRpbHMub2JqZWN0Rm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oYXR0ck5hbWUsIGF0dHJWYWx1ZUFjY2Vzc29yKSB7XG4gICAgICB2YXIgYXR0clZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuXG4gICAgICBpZiAoa28uaXNXcml0ZWFibGVPYnNlcnZhYmxlKGF0dHJWYWx1ZUFjY2Vzc29yKSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBhdHRyVmFsdWVBY2Nlc3NvcigpO1xuICAgICAgICBpZiAob2xkVmFsdWUgIT0gYXR0clZhbHVlKSB7XG4gICAgICAgICAgYXR0clZhbHVlQWNjZXNzb3IoYXR0clZhbHVlKTtcbiAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWR2QXR0ciBmb3VuZCBhIHZhbHVlIGRpZmZlcmVudCBmcm9tIHRoZSBkZWZhdWx0XCIsIGF0dHJOYW1lLCBvbGRWYWx1ZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ3VwZGF0ZSc6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzKSB7XG4gICAgdmFyIHZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9O1xuICAgIGtvLnV0aWxzLm9iamVjdEZvckVhY2godmFsdWUsIGZ1bmN0aW9uKGF0dHJOYW1lLCBhdHRyVmFsdWUpIHtcbiAgICAgIGF0dHJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoYXR0clZhbHVlKTtcbiAgICAgIC8vIFRvIGNvdmVyIGNhc2VzIGxpa2UgXCJhdHRyOiB7IGNoZWNrZWQ6c29tZVByb3AgfVwiLCB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIGVudGlyZWx5XG4gICAgICAvLyB3aGVuIHNvbWVQcm9wIGlzIGEgXCJubyB2YWx1ZVwiLWxpa2UgdmFsdWUgKHN0cmljdGx5IG51bGwsIGZhbHNlLCBvciB1bmRlZmluZWQpXG4gICAgICAvLyAoYmVjYXVzZSB0aGUgYWJzZW5jZSBvZiB0aGUgXCJjaGVja2VkXCIgYXR0ciBpcyBob3cgdG8gbWFyayBhbiBlbGVtZW50IGFzIG5vdCBjaGVja2VkLCBldGMuKVxuICAgICAgdmFyIHRvUmVtb3ZlID0gKGF0dHJWYWx1ZSA9PT0gZmFsc2UpIHx8IChhdHRyVmFsdWUgPT09IG51bGwpIHx8IChhdHRyVmFsdWUgPT09IHVuZGVmaW5lZCk7XG4gICAgICBpZiAodG9SZW1vdmUpIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgIGVsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWx1ZS50b1N0cmluZygpKTtcbiAgICB9KTtcbiAgfVxufTtcbmtvLmJpbmRpbmdIYW5kbGVyc1snYWR2c3R5bGUnXSA9IHtcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciB2YWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpIHx8IHt9KTtcbiAgICBrby51dGlscy5vYmplY3RGb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihzdHlsZU5hbWUsIHN0eWxlVmFsdWVBY2Nlc3Nvcikge1xuICAgICAgdmFyIHN0eWxlVmFsdWU7XG4gICAgICBpZiAoc3R5bGVOYW1lLm1hdGNoKC9QeCQvKSkge1xuICAgICAgICBzdHlsZU5hbWUgPSBzdHlsZU5hbWUuc3Vic3RyKDAsIHN0eWxlTmFtZS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3R5bGVWYWx1ZSA9IGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXTtcbiAgICAgICAgaWYgKHN0eWxlVmFsdWUubWF0Y2goL3B4JC8pKSB7XG4gICAgICAgICAgc3R5bGVWYWx1ZSA9IHN0eWxlVmFsdWUucmVwbGFjZSgvcHgkLywgJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWR2U3R5bGUgYmluZGluZyBmb3VuZCBhbiB1bmV4cGVjdGVkIGRlZmF1bHQgdmFsdWVcIiwgc3R5bGVOYW1lLCBzdHlsZVZhbHVlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVWYWx1ZSA9IGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZShzdHlsZVZhbHVlQWNjZXNzb3IpKSB7XG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHN0eWxlVmFsdWVBY2Nlc3NvcigpO1xuICAgICAgICBpZiAob2xkVmFsdWUgIT0gc3R5bGVWYWx1ZSkge1xuICAgICAgICAgIHN0eWxlVmFsdWVBY2Nlc3NvcihzdHlsZVZhbHVlKTtcbiAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWR2U3R5bGUgZm91bmQgYSB2YWx1ZSBkaWZmZXJlbnQgZnJvbSB0aGUgZGVmYXVsdFwiLCBzdHlsZU5hbWUsIG9sZFZhbHVlLCBzdHlsZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ3VwZGF0ZSc6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSB8fCB7fSk7XG4gICAga28udXRpbHMub2JqZWN0Rm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oc3R5bGVOYW1lLCBzdHlsZVZhbHVlKSB7XG4gICAgICBzdHlsZVZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShzdHlsZVZhbHVlKTtcblxuICAgICAgaWYgKHN0eWxlVmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHN0eWxlVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHN0eWxlVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIHN0eWxlVmFsdWUgPSBcIlwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3R5bGVOYW1lLm1hdGNoKC9QeCQvKSkge1xuICAgICAgICBzdHlsZU5hbWUgPSBzdHlsZU5hbWUuc3Vic3RyKDAsIHN0eWxlTmFtZS5sZW5ndGggLSAyKTtcbiAgICAgICAgc3R5bGVWYWx1ZSA9IHN0eWxlVmFsdWUgKyBcInB4XCI7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVOYW1lXSA9IHN0eWxlVmFsdWU7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIFV0aWxpdHkgdG8gbG9nIGluaXppYWxpemF0aW9uIGFuZCBkaXNwb3NhbCBvZiBET00gZWxlbWVudHMuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2RvbWxvZyddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgY29uc29sZS5sb2coXCJpbml0aWFsaXplZFwiLCBlbGVtZW50KTtcbiAgICBrby51dGlscy5kb21Ob2RlRGlzcG9zYWwuYWRkRGlzcG9zZUNhbGxiYWNrKGVsZW1lbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJkaXNwb3NlZFwiLCBlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzWydmdWRyb3BwYWJsZSddID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgdmFyIG9wdCA9IHZhbHVlQWNjZXNzb3IoKSB8fCB7fTtcbiAgICB2YXIgdGltZW91dHNPYmogPSB7fTtcblxuICAgIHZhciBvdmVyID0gZnVuY3Rpb24odGltZW91dHMsIGRyb3Bab25lVGltZW91dCwgZWxlbWVudCwgY2xhc3NOYW1lLCBvYnNlcnZhYmxlLCBldmVudCkge1xuXG4gICAgICBpZiAoIXRpbWVvdXRzW2Ryb3Bab25lVGltZW91dF0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtvLmlzV3JpdGVhYmxlT2JzZXJ2YWJsZShvYnNlcnZhYmxlKSAmJiAhb2JzZXJ2YWJsZSgpKSB7XG4gICAgICAgICAgb2JzZXJ2YWJsZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsLmNsZWFyVGltZW91dCh0aW1lb3V0c1tkcm9wWm9uZVRpbWVvdXRdKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZW91dHNbZHJvcFpvbmVUaW1lb3V0XSA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrby5pc1dyaXRlYWJsZU9ic2VydmFibGUob2JzZXJ2YWJsZSkgJiYgb2JzZXJ2YWJsZSgpKSB7XG4gICAgICAgICAgb2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChldmVudC50eXBlID09ICdkcmFnbGVhdmUnKSBzdG9wKCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gVXNpbmcgMTAwIGl0IGRvZW5zJ3Qgd29yayBmaW5lIG9uIExpbnV4IChjaG9tZS9maXJlZm94KSwgdXNpbmcgMjAwIHN0aWxsIHNob3dzIGlzc3VlcyBvbiBzbG93IExpbnV4IGJveGVzXG4gICAgICAgIHRpbWVvdXRzW2Ryb3Bab25lVGltZW91dF0gPSBnbG9iYWwuc2V0VGltZW91dChzdG9wLCA1MDApO1xuICAgICAgfVxuXG4gICAgfTtcblxuICAgIGlmIChvcHQuYWN0aXZlIHx8IG9wdC5hY3RpdmVDbGFzcykge1xuICAgICAga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoZ2xvYmFsLCAnZHJhZ292ZXInLCBvdmVyLmJpbmQodW5kZWZpbmVkLCB0aW1lb3V0c09iaiwgJ2FjdGl2ZVRpbWVvdXQnLCBlbGVtZW50LCBvcHQuYWN0aXZlQ2xhc3MsIG9wdC5hY3RpdmUpKTtcbiAgICB9XG4gICAgaWYgKG9wdC5ob3ZlckNsYXNzKSB7XG4gICAgICAvLyBkcmFnZW50ZXIgYW5kIGRyYWdsZWF2ZSBhcmUgbm90IHJlcXVpcmVkIGJ1dCB0aGV5IHNwZWVkdXAgZmVlZGJhY2sgd2hlbiB1c2VkLlxuICAgICAga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoZWxlbWVudCwgJ2RyYWdvdmVyIGRyYWdlbnRlciBkcmFnbGVhdmUnLCBvdmVyLmJpbmQodW5kZWZpbmVkLCB0aW1lb3V0c09iaiwgJ2hvdmVyVGltZW91dCcsIGVsZW1lbnQsIG9wdC5ob3ZlckNsYXNzLCB1bmRlZmluZWQpKTtcbiAgICB9XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1snZmlsZXVwbG9hZCddID0ge1xuICBleHRlbmRPcHRpb25zOiB7fSxcbiAgcmVtb3RlRmlsZVByZXByb2Nlc3NvcjogZnVuY3Rpb24odXJsKSB7IHJldHVybiB1cmw7IH0sXG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHtcbiAgICAvLyBUT0RPIGRvbW5vZGVkaXNwb3NhbCBkb2Vzbid0IHdvcmsgd2hlbiB0aGUgdXBsb2FkIGlzIGRvbmUgYnkgXCJjbGlja2luZ1wiXG4gICAgLy8gUHJvYmFibHkganF1ZXJ5LWZpbGV1cGxvYWQgbW92ZXMgdGhlIERPTSBzb21ld2hlcmUgZWxzZSBzbyB0aGF0IEtPIGRvZXNuJ3QgXG4gICAgLy8gZGV0ZWN0IHRoZSByZW1vdmFsIGFueW1vcmUuXG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICQoZWxlbWVudCkuZmlsZXVwbG9hZCgnZGVzdHJveScpO1xuICAgIH0pO1xuXG4gICAgLy8gaWYgd2UgbGVhdmUgdGhlIHRpdGxlIHRoZSBuYXRpdmUgY29udHJvbCB3aWxsIHNob3cgdXMgYSB0b29sdGlwIHdlIGRvbid0IHdhbnQuXG4gICAgLy8gSW4gV2ViS2l0IHRoZSByaWdodCB3YXkgdG8gcmVtb3ZlIGl0IGlzIGxlYXZpbmcgYSBcIndoaXRlc3BhY2VcIi5cbiAgICAvLyBJbiBHZWNrbyB3ZSBoYXZlIHRvIHNldCBpdCBlbXB0eS5cbiAgICBpZiAoZ2xvYmFsLndlYmtpdFVSTClcbiAgICAgICQoZWxlbWVudCkuYXR0cigndGl0bGUnLCAnICcpO1xuICAgIGVsc2VcbiAgICAgICQoZWxlbWVudCkuYXR0cigndGl0bGUnLCAnJyk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB2YWx1ZUFjY2Vzc29yKCkgfHwge307XG5cbiAgICB2YXIgJGZ1ID0gJChlbGVtZW50KTtcbiAgICB2YXIgJHBhcmVudCA9ICRmdS5wYXJlbnRzKCcudXBsb2Fkem9uZScpO1xuXG4gICAgdmFyIGRhdGFWYWx1ZSA9IG9wdGlvbnMuZGF0YTtcbiAgICBvcHRpb25zLmRhdGEgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgY2FudmFzUHJldmlldyA9IG9wdGlvbnMuY2FudmFzUHJldmlldztcblxuICAgIC8vIFRPRE8gcmVtb3ZlIGhhcmRjb2RlZCB1cmxcbiAgICBrby51dGlscy5leHRlbmQob3B0aW9ucywge1xuICAgICAgdXJsOiAnL3VwbG9hZC8nLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGRyb3Bab25lOiAkcGFyZW50LmZpbmQoJy5tby11cGxvYWR6b25lJylbMF0sXG4gICAgICBhdXRvVXBsb2FkOiB0cnVlLFxuICAgICAgYWNjZXB0RmlsZVR5cGVzOiAvKFxcLnxcXC8pKGdpZnxqcGU/Z3xwbmcpJC9pLFxuICAgICAgbWF4RmlsZVNpemU6IDEwMjQgKiAxMDI0LFxuICAgICAgLy8gRW5hYmxlIGltYWdlIHJlc2l6aW5nLCBleGNlcHQgZm9yIEFuZHJvaWQgYW5kIE9wZXJhLFxuICAgICAgLy8gd2hpY2ggYWN0dWFsbHkgc3VwcG9ydCBpbWFnZSByZXNpemluZywgYnV0IGZhaWwgdG9cbiAgICAgIC8vIHNlbmQgQmxvYiBvYmplY3RzIHZpYSBYSFIgcmVxdWVzdHM6XG4gICAgICBkaXNhYmxlSW1hZ2VSZXNpemU6IC9BbmRyb2lkKD8hLipDaHJvbWUpfE9wZXJhLy50ZXN0KGdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgIHByZXZpZXdNYXhXaWR0aDogMjAwLFxuICAgICAgcHJldmlld01heEhlaWdodDogMjAwLFxuICAgICAgcHJldmlld0Nyb3A6IGZhbHNlLFxuICAgICAgcmVwbGFjZUZpbGVJbnB1dDogZmFsc2UsIC8vIHJlcGxhY2VGaWxlSW5wdXQgdHJ1ZSBicmVha3MgYWZ0ZXIgdXBsb2FkaW5nIHVzaW5nIFwiaW5wdXRcIiAodXNpbmcgbW91c2UgY2xpYyBpbnN0ZWFkIG9mIGRyb3BwaW5nKVxuXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICAvLyBjbGllbnQgc2lkZVxuICAgICAgICB1bmtub3duRXJyb3I6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgdXBsb2FkZWRCeXRlczogJ1VwbG9hZGVkIGJ5dGVzIGV4Y2VlZCBmaWxlIHNpemUnLFxuICAgICAgICBtYXhOdW1iZXJPZkZpbGVzOiAnTWF4aW11bSBudW1iZXIgb2YgZmlsZXMgZXhjZWVkZWQnLFxuICAgICAgICBhY2NlcHRGaWxlVHlwZXM6ICdGaWxlIHR5cGUgbm90IGFsbG93ZWQnLFxuICAgICAgICBtYXhGaWxlU2l6ZTogJ0ZpbGUgaXMgdG9vIGxhcmdlJyxcbiAgICAgICAgbWluRmlsZVNpemU6ICdGaWxlIGlzIHRvbyBzbWFsbCcsXG4gICAgICAgIC8vIHNlcnZlciBzaWRlXG4gICAgICAgIHBvc3RfbWF4X3NpemU6ICdUaGUgdXBsb2FkZWQgZmlsZSBleGNlZWRzIHRoZSBwb3N0X21heF9zaXplIGRpcmVjdGl2ZSBpbiBwaHAuaW5pJyxcbiAgICAgICAgbWF4X2ZpbGVfc2l6ZTogJ0ZpbGUgaXMgdG9vIGJpZycsXG4gICAgICAgIG1pbl9maWxlX3NpemU6ICdGaWxlIGlzIHRvbyBzbWFsbCcsXG4gICAgICAgIGFjY2VwdF9maWxlX3R5cGVzOiAnRmlsZXR5cGUgbm90IGFsbG93ZWQnLFxuICAgICAgICBtYXhfbnVtYmVyX29mX2ZpbGVzOiAnTWF4aW11bSBudW1iZXIgb2YgZmlsZXMgZXhjZWVkZWQnLFxuICAgICAgICBtYXhfd2lkdGg6ICdJbWFnZSBleGNlZWRzIG1heGltdW0gd2lkdGgnLFxuICAgICAgICBtaW5fd2lkdGg6ICdJbWFnZSByZXF1aXJlcyBhIG1pbmltdW0gd2lkdGgnLFxuICAgICAgICBtYXhfaGVpZ2h0OiAnSW1hZ2UgZXhjZWVkcyBtYXhpbXVtIGhlaWdodCcsXG4gICAgICAgIG1pbl9oZWlnaHQ6ICdJbWFnZSByZXF1aXJlcyBhIG1pbmltdW0gaGVpZ2h0JyxcbiAgICAgICAgYWJvcnQ6ICdGaWxlIHVwbG9hZCBhYm9ydGVkJyxcbiAgICAgICAgaW1hZ2VfcmVzaXplOiAnRmFpbGVkIHRvIHJlc2l6ZSBpbWFnZScsXG4gICAgICAgIGdlbmVyaWM6ICdVbmV4cGVjdGVkIHVwbG9hZCBlcnJvcidcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGtvLnV0aWxzLmV4dGVuZChvcHRpb25zLCBrby5iaW5kaW5nSGFuZGxlcnNbJ2ZpbGV1cGxvYWQnXS5leHRlbmRPcHRpb25zKTtcblxuICAgIHZhciB3b3JraW5nID0gMDtcbiAgICB2YXIgZmlyc3RXb3JrZWQgPSAnJztcblxuICAgIHZhciBjbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS13b3JraW5nID09PSAwKSB7XG4gICAgICAgIGlmIChkYXRhVmFsdWUpIHtcbiAgICAgICAgICBkYXRhVmFsdWUoZmlyc3RXb3JrZWQpO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0V29ya2VkID0gJyc7XG4gICAgICAgIGlmIChjYW52YXNQcmV2aWV3KSB7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCdpbWcnKS5zaG93KCk7XG4gICAgICAgICAgJHBhcmVudC5maW5kKCdjYW52YXMnKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKFwidXBsb2FkaW5nXCIpO1xuICAgICAgICAkcGFyZW50LmZpbmQoJy5wcm9ncmVzcy1iYXInKS5jc3MoJ3dpZHRoJywgMCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciB0cmFuc2xhdGVkTWVzc2FnZSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5tZXNzYWdlcyA9PSAnb2JqZWN0JyAmJiBvcHRpb25zLm1lc3NhZ2VzICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14oW14gXSspKC4qKSQvKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1lc3NhZ2VzW21hdGNoWzFdXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm1lc3NhZ2VzW21hdGNoWzFdXSArIG1hdGNoWzJdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcblxuICAgICRmdS5maWxldXBsb2FkKG9wdGlvbnMpO1xuXG4gICAgdmFyIGV2ZW50cyA9IFsnZmlsZXVwbG9hZGFkZCcsICdmaWxldXBsb2FkcHJvY2Vzc2Fsd2F5cycsICdmaWxldXBsb2FkcHJvZ3Jlc3NhbGwnLCAnZmlsZXVwbG9hZGRvbmUnLCAnZmlsZXVwbG9hZGZhaWwnXTtcbiAgICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZSwgZGF0YSkge1xuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZGFkZCcpIHtcbiAgICAgICAgd29ya2luZysrO1xuICAgICAgfVxuICAgICAgaWYgKGUudHlwZSA9PSAnZmlsZXVwbG9hZGZhaWwnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZmlsZXVwbG9hZGZhaWxcIiwgZSwgZGF0YSk7XG4gICAgICAgIGlmIChvcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZGF0YS5lcnJvclRocm93biA9PT0gJycgJiYgZGF0YS50ZXh0U3RhdHVzID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZSgnZ2VuZXJpYycpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5vbmVycm9yKHRyYW5zbGF0ZWRNZXNzYWdlKCdnZW5lcmljICgnICsgZGF0YS5lcnJvclRocm93biArICcpJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09ICdmaWxldXBsb2FkZG9uZScpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLnJlc3VsdC5maWxlc1swXS51cmwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMub25maWxlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucmVzdWx0LmZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGRhdGEucmVzdWx0LmZpbGVzW2ldID0ga28uYmluZGluZ0hhbmRsZXJzWydmaWxldXBsb2FkJ10ucmVtb3RlRmlsZVByZXByb2Nlc3NvcihkYXRhLnJlc3VsdC5maWxlc1tpXSk7XG4gICAgICAgICAgICAgIG9wdGlvbnMub25maWxlKGRhdGEucmVzdWx0LmZpbGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZmlyc3RXb3JrZWQgPT09ICcnKSBmaXJzdFdvcmtlZCA9IGRhdGEucmVzdWx0LmZpbGVzWzBdLnVybDtcblxuICAgICAgICAgIGlmIChjYW52YXNQcmV2aWV3KSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gY2xlYW51cDtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gY2xlYW51cDtcbiAgICAgICAgICAgIGltZy5zcmMgPSBkYXRhLnJlc3VsdC5maWxlc1swXS51cmw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEucmVzdWx0LmZpbGVzWzBdLmVycm9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVtb3RlIGVycm9yXCIsIGUsIGRhdGEpO1xuICAgICAgICAgIGlmIChvcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZShkYXRhLnJlc3VsdC5maWxlc1swXS5lcnJvcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJ1bmV4cGVjdGVkIGVycm9yXCIsIGUsIGRhdGEpO1xuICAgICAgICAgIGlmIChvcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub25lcnJvcih0cmFuc2xhdGVkTWVzc2FnZSgnZ2VuZXJpYyAoVW5leHBlY3RlZCBFcnJvciByZXRyaWV2aW5nIHVwbG9hZGVkIGZpbGUpJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlLnR5cGUgPT0gJ2ZpbGV1cGxvYWRwcm9jZXNzYWx3YXlzJykge1xuICAgICAgICB2YXIgaW5kZXggPSBkYXRhLmluZGV4LFxuICAgICAgICAgIGZpbGUgPSBkYXRhLmZpbGVzW2luZGV4XTtcbiAgICAgICAgaWYgKGZpbGUucHJldmlldyAmJiBpbmRleCA9PT0gMCkge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBjYW52YXMgd2UgaGFkIG11bHRpcGxlIHVwbG9hZGVkIGZpbGVzXG4gICAgICAgICAgaWYgKCRwYXJlbnQuZmluZCgnY2FudmFzJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoY2FudmFzUHJldmlldykge1xuICAgICAgICAgICAgICB2YXIgZWwgPSAkKGZpbGUucHJldmlldykuY3NzKCd3aWR0aCcsICcxMDAlJyk7IC8vIC5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJykuY3NzKCdsZWZ0JywgJzAnKTtcbiAgICAgICAgICAgICAgJHBhcmVudC5maW5kKCdpbWcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICRwYXJlbnQucHJlcGVuZChlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKFwidXBsb2FkaW5nXCIpO1xuICAgICAgICAgICAgJHBhcmVudC5maW5kKCcucHJvZ3Jlc3MtYmFyJykuY3NzKCd3aWR0aCcsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsZS5lcnJvcikge1xuICAgICAgICAgIC8vIEZpbGUgdHlwZSBub3QgYWxsb3dlZFxuICAgICAgICAgIC8vIEZpbGUgaXMgdG9vIGxhcmdlXG4gICAgICAgICAgaWYgKG9wdGlvbnMub25lcnJvcikge1xuICAgICAgICAgICAgb3B0aW9ucy5vbmVycm9yKHRyYW5zbGF0ZWRNZXNzYWdlKGZpbGUuZXJyb3IpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09ICdmaWxldXBsb2FkcHJvZ3Jlc3NhbGwnKSB7XG4gICAgICAgIHZhciBwcm9ncmVzcyA9IHBhcnNlSW50KGRhdGEubG9hZGVkIC8gZGF0YS50b3RhbCAqIDEwMCwgMTApO1xuICAgICAgICAkcGFyZW50LmZpbmQoJy5wcm9ncmVzcy1iYXInKS5jc3MoJ3dpZHRoJywgcHJvZ3Jlc3MgKyAnJScpO1xuICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IGV2ZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50c1tpXTtcbiAgICAgICRmdS5vbihldmVudE5hbWUsIGV2ZW50SGFuZGxlcik7XG4gICAgfVxuICAgIGlmICghJC5zdXBwb3J0LmZpbGVJbnB1dCkge1xuICAgICAgJGZ1LnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkucGFyZW50KCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ2lmU3VicyddID0ge1xuICAvLyBjbG9uZU5vZGVzIGZyb20ga28udXRpbHMuY2xvbmVOb2RlcyAobWlzc2luZyBpbiBtaW5pbWl6ZWQgS08pXG4gIGNsb25lTm9kZXM6IGZ1bmN0aW9uKG5vZGVzQXJyYXksIHNob3VsZENsZWFuTm9kZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IG5vZGVzQXJyYXkubGVuZ3RoLCBuZXdOb2Rlc0FycmF5ID0gW107IGkgPCBqOyBpKyspIHtcbiAgICAgIHZhciBjbG9uZWROb2RlID0gbm9kZXNBcnJheVtpXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBuZXdOb2Rlc0FycmF5LnB1c2goc2hvdWxkQ2xlYW5Ob2RlcyA/IGtvLmNsZWFuTm9kZShjbG9uZWROb2RlKSA6IGNsb25lZE5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZXNBcnJheTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBkaWREaXNwbGF5T25MYXN0VXBkYXRlLFxuICAgICAgc2F2ZWROb2RlcyxcbiAgICAgIHZhbHVlQWNjID0gdmFsdWVBY2Nlc3NvcigpO1xuICAgIGlmICh0eXBlb2YgdmFsdWVBY2MuZGF0YS5zdWJzQ291bnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBrby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddKHZhbHVlQWNjLmRhdGEpO1xuICAgICAgLy8gTk9URSBJIGNhbid0IHNpbXBseSBsaXN0ZW4gb24gXCJ0aHJlc2hvbGRzXCIgYmVjYXVzZSBtdWx0aXBsZSBiaW5kaW5ncyB0byB0aGUgc2FtZSBvYnNlcnZhYmxlIGNvdWxkIHVzZSBkaWZmZXJlbnQgdGhyZXNob2xkcy5cbiAgICB9XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGF0YVZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkuZGF0YS5zdWJzQ291bnQpLFxuICAgICAgICBpc0ZpcnN0UmVuZGVyID0gIXNhdmVkTm9kZXMsXG4gICAgICAgIHNob3VsZERpc3BsYXksIG5lZWRzUmVmcmVzaCwgZ3V0dGVyO1xuXG4gICAgICBndXR0ZXIgPSAtKHR5cGVvZiB2YWx1ZUFjY2Vzc29yKCkuZ3V0dGVyICE9PSAndW5kZWZpbmVkJyA/IHZhbHVlQWNjZXNzb3IoKS5ndXR0ZXIgOiAxKTtcbiAgICAgIHNob3VsZERpc3BsYXkgPSBkYXRhVmFsdWUgKyAoZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA/IGd1dHRlciA6IDApID49IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2MudGhyZXNob2xkKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWVBY2Nlc3NvcigpLm5vdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWVBY2Nlc3NvcigpLm5vdCkge1xuICAgICAgICBzaG91bGREaXNwbGF5ID0gIXNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgICBuZWVkc1JlZnJlc2ggPSBpc0ZpcnN0UmVuZGVyIHx8IChzaG91bGREaXNwbGF5ICE9PSBkaWREaXNwbGF5T25MYXN0VXBkYXRlKTtcblxuICAgICAgaWYgKG5lZWRzUmVmcmVzaCkge1xuICAgICAgICAvLyBTYXZlIGEgY29weSBvZiB0aGUgaW5uZXIgbm9kZXMgb24gdGhlIGluaXRpYWwgdXBkYXRlLCBidXQgb25seSBpZiB3ZSBoYXZlIGRlcGVuZGVuY2llcy5cbiAgICAgICAgaWYgKGlzRmlyc3RSZW5kZXIgJiYga28uY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50KCkpIHtcbiAgICAgICAgICBzYXZlZE5vZGVzID0ga28uYmluZGluZ0hhbmRsZXJzWydpZlN1YnMnXS5jbG9uZU5vZGVzKGtvLnZpcnR1YWxFbGVtZW50cy5jaGlsZE5vZGVzKGVsZW1lbnQpLCB0cnVlIC8qIHNob3VsZENsZWFuTm9kZXMgKi8gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaG91bGREaXNwbGF5KSB7XG4gICAgICAgICAgaWYgKCFpc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuc2V0RG9tTm9kZUNoaWxkcmVuKGVsZW1lbnQsIGtvLmJpbmRpbmdIYW5kbGVyc1snaWZTdWJzJ10uY2xvbmVOb2RlcyhzYXZlZE5vZGVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtvLmFwcGx5QmluZGluZ3NUb0Rlc2NlbmRhbnRzKGJpbmRpbmdDb250ZXh0LCBlbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlkRGlzcGxheU9uTGFzdFVwZGF0ZSA9IHNob3VsZERpc3BsYXk7XG4gICAgICB9XG4gICAgfSwgbnVsbCwge1xuICAgICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyc6IHRydWVcbiAgICB9O1xuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snaWZTdWJzJ10gPSB0cnVlO1xuXG4vLyBrby5pc1dyaXRhYmxlT2JzZXJ2YWJsZSAod2l0aG91dCBcImVcIikgaGFzIGJlZW4gaW50cm9kdWNlZCBpbiAzLjIuMCwgdGhhdCBpcyBhbHNvIG91ciBtaW4gcmVxdWlyZW1lbnQuXG4vLyBtaW5pbWl6ZWQga25vY2tvdXQgXCJvYmZ1c2NhdGVcIiB0aGUgYmVmb3JlU3Vic2NyaXB0aW9uQWRkIGFuZCBhZnRlclN1YnNjcmlwdGlvblJlbW92ZSBtZXRob2RzIHRoYXQgd2UgaGFjayBoZXJlLlxuLy8gc28gd2UgaGF2ZSB0byBleHBsaWNpdGx5IGtub3cgdGhhdC5cbi8vIE5vdGU6IHdlIHVzZWQgdG8gdXNlIGtvLkRFQlVHIHRvIGRldGVjdCB0aGUgZGVidWcgdmVyc2lvbiBvZiBLTywgYnV0IHRoaXMgd2FzIHJlbW92ZWQgaW4gS08gMy40LjArLCBcbi8vICAgICAgIHNvIHdlIHN3aXRjaGVkIHRvIGtvLnN1YnNjcmlwdGlvbiBmdW5jdGlvbiB0aGF0IG9ubHkgZXhpc3RzIGluIERFQlVHIHZlcnNpb25zLlxudmFyIGJlZm9yZVN1YnNjcmlwdGlvblByb3A7XG52YXIgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wO1xuaWYgKHR5cGVvZiBrby5zdWJzY3JpcHRpb24gPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Yga28uaXNXcml0YWJsZU9ic2VydmFibGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnYmVmb3JlU3Vic2NyaXB0aW9uQWRkJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ2FmdGVyU3Vic2NyaXB0aW9uUmVtb3ZlJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuMi4wXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICd2YSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICduYic7XG59IGVsc2UgaWYgKGtvLnZlcnNpb24gPT0gXCIzLjMuMFwiKSB7XG4gIGJlZm9yZVN1YnNjcmlwdGlvblByb3AgPSAnamEnO1xuICBhZnRlclN1YnNjcmlwdGlvblByb3AgPSAndWEnO1xufSBlbHNlIGlmIChrby52ZXJzaW9uID09IFwiMy40LjBcIikge1xuICBiZWZvcmVTdWJzY3JpcHRpb25Qcm9wID0gJ3NhJztcbiAgYWZ0ZXJTdWJzY3JpcHRpb25Qcm9wID0gJ0lhJztcbn0gZWxzZSBpZiAoa28udmVyc2lvbiA9PSBcIjMuNC4xXCIpIHtcbiAgYmVmb3JlU3Vic2NyaXB0aW9uUHJvcCA9ICdzYSc7XG4gIGFmdGVyU3Vic2NyaXB0aW9uUHJvcCA9ICdJYSc7XG59XG5lbHNlIHRocm93IFwiVW5zdXBwb3J0ZWQgbWluaW1pemVkIEtub2Nrb3V0IHZlcnNpb24gXCIgKyBrby52ZXJzaW9uICsgXCIgKHN1cHBvcnRlZCBERUJVRyBvciBtaW5pbWl6ZWQgMy4yLjAgLi4uIDMuNC4xKVwiO1xuXG4vLyBpbnRlcm5hbGx5IHVzZWQgYnkgaWZzdWJzIGJpbmRpbmcuXG4vLyBXQVJOSU5HIHRoaXMgYnJlYWsgd2hlbiB1c2VkIHdpdGggcHVyZUNvbXB1dGVkIG9yIGRlZmVycmVkRXZhbHVhdGVkXG5rby5leHRlbmRlcnNbJ3N1YnNjcmlwdGlvbnNDb3VudCddID0gZnVuY3Rpb24odGFyZ2V0LCBsMSwgbDIpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQuc3Vic0NvdW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHRhcmdldC5zdWJzQ291bnQgPSBrby5vYnNlcnZhYmxlKHRhcmdldC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKSkuZXh0ZW5kKHtcbiAgICAgIG5vdGlmeTogJ2Fsd2F5cydcbiAgICB9KTtcbiAgICB2YXIgdW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uID0gdGFyZ2V0W2JlZm9yZVN1YnNjcmlwdGlvblByb3BdO1xuICAgIHZhciB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbiA9IHRhcmdldFthZnRlclN1YnNjcmlwdGlvblByb3BdO1xuICAgIHRhcmdldFtiZWZvcmVTdWJzY3JpcHRpb25Qcm9wXSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodW5kZXJseWluZ0JlZm9yZVN1YnNjcmlwdGlvbkFkZEZ1bmN0aW9uKSB1bmRlcmx5aW5nQmVmb3JlU3Vic2NyaXB0aW9uQWRkRnVuY3Rpb24uY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICAgIHZhciBjID0gdGFyZ2V0LmdldFN1YnNjcmlwdGlvbnNDb3VudCgpICsgMTtcbiAgICAgIGlmICh0eXBlb2YgbDEgPT09ICd1bmRlZmluZWQnIHx8IGMgPT0gbDEgfHwgdHlwZW9mIGwyID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwyKSB0YXJnZXQuc3Vic0NvdW50KGMpO1xuICAgIH07XG4gICAgdGFyZ2V0W2FmdGVyU3Vic2NyaXB0aW9uUHJvcF0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKHVuZGVybHlpbmdBZnRlclN1YnNjcmlwdGlvblJlbW92ZUZ1bmN0aW9uKSB1bmRlcmx5aW5nQWZ0ZXJTdWJzY3JpcHRpb25SZW1vdmVGdW5jdGlvbi5jYWxsKHRhcmdldCwgZXZlbnQpO1xuICAgICAgdmFyIGMgPSB0YXJnZXQuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCk7XG4gICAgICBpZiAodHlwZW9mIGwxID09PSAndW5kZWZpbmVkJyB8fCBjID09IGwxIHx8IHR5cGVvZiBsMiA9PT0gJ3VuZGVmaW5lZCcgfHwgYyA9PSBsMikgdGFyZ2V0LnN1YnNDb3VudChjKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKFwiYWxyZWFkeSBhcHBsaWVkIHN1YnNjcmlwdGlvbkNvdW50IHRvIG9ic2VydmFibGVcIik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIE92ZXJyaWRlcyBuYXRpdmUgalF1ZXJ5IHNwaW5uZXIgdG8gYXZvaWQgdmFsaWRhdGlvbiBvZiB0aGUgXCJzdGVwXCIuXG4vLyBXZSB3YW50cyB0byB1c2UgdGhlIHN0ZXAgYnV0IGFsc28gd2FudHMgdG8gbGVhdmUgdGhlIHVzZXIgdGhlIGFiaWxpdHkgdG8gc2VsZWN0IHNwZWNpZmljIHZhbHVlcy5cblxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcbnZhciBzcGlubmVyID0gcmVxdWlyZShcImpxdWVyeS11aS9zcGlubmVyXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKCdjb25zb2xlJyk7XG5cbmlmICh0eXBlb2Ygc3Bpbm5lciA9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3QgZmluZCBqcXVlcnktdWkgc3Bpbm5lciB3aWRnZXQgZGVwZW5kZW5jeSFcIjtcblxuJC53aWRnZXQoXCJ1aS5zcGlubmVyXCIsIHNwaW5uZXIsIHtcbiAgX2FkanVzdFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBhZGogPSB0aGlzLl9zdXBlcih2YWx1ZSk7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgIC8vIGZpeCBwcmVjaXNpb24gZnJvbSBiYWQgSlMgZmxvYXRpbmcgcG9pbnQgbWF0aFxuICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZS50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSk7XG5cbiAgICAvLyBjbGFtcCB0aGUgdmFsdWVcbiAgICBpZiAob3B0aW9ucy5tYXggIT09IG51bGwgJiYgdmFsdWUgPiBvcHRpb25zLm1heCkge1xuICAgICAgcmV0dXJuIG9wdGlvbnMubWF4O1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5taW4gIT09IG51bGwgJiYgdmFsdWUgPCBvcHRpb25zLm1pbikge1xuICAgICAgcmV0dXJuIG9wdGlvbnMubWluO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gT3ZlcnJpZGVzIG5hdGl2ZSBqUXVlcnkgdGFicyB0byBtYWtlIHRhYnMgd29ya2luZyBhbHNvIHdoZW4gdXNpbmcgYSBiYXNlIHRhZ1xuLy8gaW4gb3JkZXIgdG8gYXZvaWQgY29uZmxpY3RzIHlvdSBoYXZlIHRvIGFkZCBhIGRhdGEtbG9jYWw9XCJ0cnVlXCIgYXR0cmlidXRlIHRvIHlvdXIgdGFiIGxpbmtzLlxuXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKCdjb25zb2xlJyk7XG52YXIgdGFicyA9IHJlcXVpcmUoXCJqcXVlcnktdWkvdGFic1wiKTtcblxuaWYgKHR5cGVvZiB0YWJzID09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIGpxdWVyeS11aSB0YWJzIHdpZGdldCBkZXBlbmRlbmN5IVwiO1xuXG4kLndpZGdldChcInVpLnRhYnNcIiwgdGFicywge1xuICBfaXNMb2NhbDogZnVuY3Rpb24oIGFuY2hvciApIHtcbiAgICBpZiAoYW5jaG9yLmdldEF0dHJpYnV0ZSgnZGF0YS1sb2NhbCcpID09IFwidHJ1ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICBlbHNlIHJldHVybiB0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcbiAgfVxufSk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWxzIGdsb2JhbDogZmFsc2UgKi9cblxuZnVuY3Rpb24gcHVzaFRlbXBsYXRlKHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVUZXh0KSB7XG4gIHZhciBzY3JpcHRUYWcgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9odG1sJyk7XG4gIHNjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoJ2lkJywgdGVtcGxhdGVOYW1lKTtcbiAgc2NyaXB0VGFnLnRleHQgPSB0ZW1wbGF0ZVRleHQ7XG4gIGdsb2JhbC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdFRhZyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRlbXBsYXRlKHRlbXBsYXRlTmFtZSkge1xuICB2YXIgZWwgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGVtcGxhdGVOYW1lKTtcbiAgaWYgKGVsKSBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHt9XG5cbmZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudChpZCkge1xuICB2YXIgZWwgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBpZiAoZWwpIHJldHVybiBlbC5pbm5lckhUTUw7XG4gIGVsc2UgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluaXQ6IGluaXQsXG4gIGFkZFRlbXBsYXRlOiBwdXNoVGVtcGxhdGUsXG4gIHJlbW92ZVRlbXBsYXRlOiByZW1vdmVUZW1wbGF0ZSxcbiAgZ2V0VGVtcGxhdGVDb250ZW50OiBnZXRUZW1wbGF0ZUNvbnRlbnRcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIHRpbnltY2UgPSByZXF1aXJlKFwidGlueW1jZVwiKTtcblxudmFyIHRpbWVvdXQ7XG5cbnZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcblxuICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gIGlmICh0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUgIT09ICd1bmRlZmluZWQnICYmIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lICE9PSBudWxsICYmIFxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsICE9PSAndW5kZWZpbmVkJyAmJiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbCAhPT0gbnVsbCAmJlxuICAgICAgdHlwZW9mIHRpbnltY2UuYWN0aXZlRWRpdG9yLnRoZW1lLnBhbmVsLnZpc2libGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQHNlZSBGbG9hdFBhbmVsLmpzIGZ1bmN0aW9uIHJlcG9zaXRpb25QYW5lbChwYW5lbClcbiAgICAvLyBGaXJzdCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4wLzQuMVxuICAgIC8vIFNlY29uZCBjb25kaXRpb24gZ3JvdXAgaXMgZm9yIFRpbnltY2UgNC4yLzQuMyB3aGVyZSBcIi5fcHJvcGVydHlcIiBhcmUgbm93IGF2YWlsYWJsZSBhcyBcIi5zdGF0ZS5nZXQoJ3Byb3BlcnR5JylcIi5cbiAgICBpZiAoKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5fdmlzaWJsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX3Zpc2libGUgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuX2ZpeGVkKSB8fCBcbiAgICAgICAgKHR5cGVvZiB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5zdGF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCd2aXNpYmxlJykgJiYgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuc3RhdGUuZ2V0KCdmaXhlZCcpKSkge1xuICAgICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwuZml4ZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIHRpbnltY2UuYWN0aXZlRWRpdG9yLm5vZGVDaGFuZ2VkKCk7XG4gICAgdGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwudmlzaWJsZSh0cnVlKTtcbiAgICBpZiAodGlueW1jZS5hY3RpdmVFZGl0b3IudGhlbWUucGFuZWwubGF5b3V0UmVjdCgpLnkgPD0gNDApXG4gICAgICB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5tb3ZlQnkoMCwgNDAgLSB0aW55bWNlLmFjdGl2ZUVkaXRvci50aGVtZS5wYW5lbC5sYXlvdXRSZWN0KCkueSk7XG5cbiAgfVxufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdTY3JvbGxmaXggPSB7XG4gICdzY3JvbGwnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICh0aW1lb3V0KSBnbG9iYWwuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIHRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dChyZW5kZXIsIDUwKTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICQoZWxlbWVudCkub2ZmKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG4gICAgfSk7XG5cbiAgICAkKGVsZW1lbnQpLm9uKFwic2Nyb2xsXCIsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnU2Nyb2xsZml4LnNjcm9sbCk7XG5cbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxudmFyIF9zY3JvbGxJbnRvVmlldyA9IGZ1bmN0aW9uKCRlbGVtZW50LCBhbGlnblRvcCwgc2Nyb2xsUGFyZW50LCBtb3ZlQnkpIHtcbiAgdmFyIGN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk7XG4gIHZhciBuZXdTY3JvbGxUb3AgPSBjdXJyZW50U2Nyb2xsVG9wIC0gbW92ZUJ5IC0gKGFsaWduVG9wID8gMjAgOiAtMjApO1xuICAvLyBpZnJhbWUgc2Nyb2xscyB0aGUgd2luZG93IGFuZCBhbmltYXRpb24gaXMgbm90IHN1cHBvcnRlZFxuICB2YXIgYW5pbWF0ZSA9IHR5cGVvZiBzY3JvbGxQYXJlbnRbMF0ubm9kZVR5cGUgIT09ICd1bmRlZmluZWQnO1xuICBpZiAoYW5pbWF0ZSkge1xuICAgIHZhciBhY3Rpb24gPSB7XG4gICAgICAnc2Nyb2xsVG9wJzogXCJcIiArIE1hdGgucm91bmQobmV3U2Nyb2xsVG9wKSArIFwicHhcIlxuICAgIH07XG4gICAgdmFyIHRpbWUgPSBNYXRoLnJvdW5kKE1hdGguYWJzKG5ld1Njcm9sbFRvcCAtIGN1cnJlbnRTY3JvbGxUb3ApKTtcbiAgICBzY3JvbGxQYXJlbnQuc3RvcCgpLmFuaW1hdGUoYWN0aW9uLCB0aW1lKTtcbiAgfSBlbHNlIHtcbiAgICBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKG5ld1Njcm9sbFRvcCk7XG4gIH1cbiAgLy8gbmF0aXZlIHNjcm9sbEludG9WaWV3IGlzIG5vdCB3ZWxsIHN1cHBvcnRlZCBhbmQgZG9lc24ndCB3b3JrIGZpbmUuXG4gIC8vIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoYWxpZ25Ub3ApO1xufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnNjcm9sbEludG9WaWV3ID0ge1xuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgc2VsZWN0ZWQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuO1xuICAgIHRyeSB7XG5cbiAgICAgIHdoaWxlIChlbGVtZW50Lm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgIC8vIGVsZW1lbnQgaXMgYSBjb21tZW50LCBtb3ZlIHRvIHRoZSBuZXh0IHNpYmxpbmcuLi5cbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gOCkge1xuICAgICAgICB2YXIgc2Nyb2xsUGFyZW50ID0gJChlbGVtZW50KS5zY3JvbGxQYXJlbnQoKTtcblxuICAgICAgICB2YXIgcGFyZW50VG9wO1xuICAgICAgICB2YXIgcmVsYXRpdmVPZmZzZXQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHNjcm9sbFBhcmVudFswXS5ub2RlVHlwZSA9PSA5KSB7XG4gICAgICAgICAgLy8gc2Nyb2xscGFyZW50IGlzIGRvY3VtZW50LCByZXBsYWNpbmcgd2l0aCBib2R5Li4uXG4gICAgICAgICAgc2Nyb2xsUGFyZW50ID0gJChzY3JvbGxQYXJlbnRbMF0uZGVmYXVsdFZpZXcpO1xuICAgICAgICAgIHBhcmVudFRvcCA9IDA7XG4gICAgICAgICAgcmVsYXRpdmVPZmZzZXQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudFRvcCA9IHNjcm9sbFBhcmVudC5vZmZzZXQoKS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFyZW50SGVpZ2h0ID0gc2Nyb2xsUGFyZW50LmhlaWdodCgpO1xuICAgICAgICB2YXIgcGFyZW50U2Nyb2xsID0gc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpO1xuICAgICAgICB2YXIgcGFyZW50Qm90dG9tID0gcGFyZW50VG9wICsgcGFyZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIHNjcm9sbFBhcmVudCBpcyB0aGUgZG9jdW1lbnQuXG4gICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgICAgIHZhciBlbFRvcCA9ICRlbGVtZW50Lm9mZnNldCgpLnRvcDtcbiAgICAgICAgLy8gd2hlbiB3ZSBhcmUgaW4gXCJpZnJhbWVcIiB3aXRoIHNjcm9sbGJhciBldmVyeXRoaWpuZyBjaGFuZ2VzLlxuICAgICAgICBpZiAocmVsYXRpdmVPZmZzZXQpIGVsVG9wID0gZWxUb3AgLSBwYXJlbnRTY3JvbGw7XG4gICAgICAgIHZhciBlbEhlaWdodCA9ICRlbGVtZW50LmhlaWdodCgpO1xuICAgICAgICB2YXIgZWxCb3R0b20gPSBlbFRvcCArIGVsSGVpZ2h0O1xuICAgICAgICBpZiAoZWxUb3AgPiBwYXJlbnRUb3AgJiYgZWxUb3AgKyBlbEhlaWdodCA8IHBhcmVudEJvdHRvbSkge1xuICAgICAgICAgIC8vIGJvdGggYm9yZGVycyBhcmUgdmlzaWJsZSA9PiBkb24ndCBkbyBhbnl0aGluZy5cbiAgICAgICAgfSBlbHNlIGlmIChlbEhlaWdodCA8IHBhcmVudEhlaWdodCkge1xuICAgICAgICAgIC8vIGlmIHRoZSBibG9jayBpcyBzbWFsbGVyIHRoYW4gdGhlIHZpZXdQb3J0XG4gICAgICAgICAgaWYgKGVsVG9wIDwgcGFyZW50VG9wKSBfc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwgdHJ1ZSwgc2Nyb2xsUGFyZW50LCBwYXJlbnRUb3AgLSBlbFRvcCk7XG4gICAgICAgICAgLy8gLT4gaWYgdGhlIHVwcGVyIGJvcmRlciBpcyBoaWdoZXIgdGhhbiB0aGUgdG9wLCB0aGVuIEkgbW92ZSBpdCB0byB0aGUgdG9wLlxuICAgICAgICAgIGlmIChlbEJvdHRvbSA+IHBhcmVudEJvdHRvbSkgX3Njcm9sbEludG9WaWV3KGVsZW1lbnQsIGZhbHNlLCBzY3JvbGxQYXJlbnQsIHBhcmVudEJvdHRvbSAtIGVsQm90dG9tKTtcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgYm90dG9tIGJvcmRlciBpcyBsb3dlciB0aGFuIHRoZSBib3R0b20gdGhlbiBJIG1vdmUgaXQgdG8gdGhlIGJvdHRvbS5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiB0aGUgYmxvY2sgaXMgbGFyZ2VyIHRoYW4gdGhlIHZpZXdQb3J0IHdlIGRvIHRoZSBvcHBvc2l0ZSFcbiAgICAgICAgICAvLyAtPiBpZiB0aGUgdXBwZXIgYm9yZGVyIGlzIGhpZ2hlciB0aGFuIHRoZSB0b3AgYW5kIHRoZSBsb3dlciBpcyBoaWdoZXIgdGhhbiB0aGUgYm90dG9tIEkgbW92ZSB0aGUgbG93ZXIgaXQgdG8gdGhlIGJvdHRvbS5cbiAgICAgICAgICBpZiAoZWxUb3AgPCBwYXJlbnRUb3AgJiYgZWxCb3R0b20gPCBwYXJlbnRCb3R0b20pIF9zY3JvbGxJbnRvVmlldyhlbGVtZW50LCBmYWxzZSwgc2Nyb2xsUGFyZW50LCBwYXJlbnRCb3R0b20gLSBlbEJvdHRvbSk7XG4gICAgICAgICAgLy8gLT4gaWYgdGhlIGJvdHRvbSBib3JkZXIgaWwgbG93ZXIgdGhhbiBib3R0b20gYW5kIHRoZSB1cHBlciBpcyBsb3dlciB0aGFuIHRoZSB0b3AgSSBtb3ZlIHRoZSB1cHBlciBib3JkZXIgdG8gdGhlIHZpZXdwb3J0IHRvcFxuICAgICAgICAgIGlmIChlbFRvcCA+IHBhcmVudFRvcCAmJiBlbEJvdHRvbSA+IHBhcmVudEJvdHRvbSkgX3Njcm9sbEludG9WaWV3KGVsZW1lbnQsIHRydWUsIHNjcm9sbFBhcmVudCwgcGFyZW50VG9wIC0gZWxUb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZWxlbWVudC5zY3JvbGxJbnRvVmlldyh0cnVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlRPRE8gZXhjZXB0aW9uIHNjcm9sbGluZyBpbnRvIHZpZXdcIiwgZSk7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snc2Nyb2xsSW50b1ZpZXcnXSA9IHRydWU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBvcmlnVGVtcGxhdGVTeXN0ZW0gPSByZXF1aXJlKFwiLi9zY3JpcHQtdGVtcGxhdGUuanNcIik7XG5cbnZhciB0ZW1wbGF0ZXMgPSB7fTtcblxuLy9kZWZpbmUgYSB0ZW1wbGF0ZSBzb3VyY2UgdGhhdCBzaW1wbHkgdHJlYXRzIHRoZSB0ZW1wbGF0ZSBuYW1lIGFzIGl0cyBjb250ZW50XG5rby50ZW1wbGF0ZVNvdXJjZXMuc3RyaW5nVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlKSB7XG4gIHRoaXMudGVtcGxhdGVOYW1lID0gdGVtcGxhdGVOYW1lO1xuICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gIHRoaXMuX2RhdGEgPSB7fTtcbn07XG5cbmtvLnV0aWxzLmV4dGVuZChrby50ZW1wbGF0ZVNvdXJjZXMuc3RyaW5nVGVtcGxhdGUucHJvdG90eXBlLCB7XG4gIGRhdGE6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcImRhdGFcIiwga2V5LCB2YWx1ZSwgdGhpcy50ZW1wbGF0ZU5hbWUpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldO1xuICAgIH1cblxuICAgIHRoaXMuX2RhdGFba2V5XSA9IHZhbHVlO1xuICB9LFxuICB0ZXh0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwidGV4dFwiLCB2YWx1ZSwgdGhpcy50ZW1wbGF0ZU5hbWUpXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlO1xuICAgIH1cbiAgICB0aGlzLnRlbXBsYXRlID0gdmFsdWU7XG4gIH1cbn0pO1xuXG5cbi8vbW9kaWZ5IGFuIGV4aXN0aW5nIHRlbXBsYXRlRW5naW5lIHRvIHdvcmsgd2l0aCBzdHJpbmcgdGVtcGxhdGVzXG5mdW5jdGlvbiBjcmVhdGVTdHJpbmdUZW1wbGF0ZUVuZ2luZSh0ZW1wbGF0ZUVuZ2luZSkge1xuICB2YXIgb3JpZyA9IHRlbXBsYXRlRW5naW5lLm1ha2VUZW1wbGF0ZVNvdXJjZTtcbiAgdGVtcGxhdGVFbmdpbmUubWFrZVRlbXBsYXRlU291cmNlID0gZnVuY3Rpb24odGVtcGxhdGVOYW1lKSB7XG4gICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZXNbdGVtcGxhdGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBuZXcga28udGVtcGxhdGVTb3VyY2VzLnN0cmluZ1RlbXBsYXRlKHRlbXBsYXRlTmFtZSwgdGVtcGxhdGVzW3RlbXBsYXRlTmFtZV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3JpZyh0ZW1wbGF0ZU5hbWUpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHRlbXBsYXRlRW5naW5lO1xufVxuXG5mdW5jdGlvbiBwdXNoVGVtcGxhdGUodGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZVRleHQpIHtcbiAgdGVtcGxhdGVzW3RlbXBsYXRlTmFtZV0gPSB0ZW1wbGF0ZVRleHQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRlbXBsYXRlKHRlbXBsYXRlTmFtZSkge1xuICBpZiAodHlwZW9mIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdID0gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIG9yaWdUZW1wbGF0ZVN5c3RlbS5yZW1vdmVUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGtvLnNldFRlbXBsYXRlRW5naW5lKGNyZWF0ZVN0cmluZ1RlbXBsYXRlRW5naW5lKG5ldyBrby5uYXRpdmVUZW1wbGF0ZUVuZ2luZSgpKSk7XG59XG5cbmZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudChpZCkge1xuICBpZiAodHlwZW9mIHRlbXBsYXRlc1tpZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlc1tpZF07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG9yaWdUZW1wbGF0ZVN5c3RlbS5nZXRUZW1wbGF0ZUNvbnRlbnQoaWQpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpbml0OiBpbml0LFxuICBhZGRUZW1wbGF0ZTogcHVzaFRlbXBsYXRlLFxuICByZW1vdmVUZW1wbGF0ZTogcmVtb3ZlVGVtcGxhdGUsXG4gIGdldFRlbXBsYXRlQ29udGVudDogZ2V0VGVtcGxhdGVDb250ZW50XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga29qcXVpID0gcmVxdWlyZShcImtub2Nrb3V0LWpxdWVyeXVpXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxudmFyIGV4dGVuZFZhbHVlQWNjZXNzb3IgPSBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yLCBvYmopIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGtvLnV0aWxzLmV4dGVuZChvYmosIHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcbn07XG5cbnZhciBvcHRpb25zID0ge1xuICBzaG93OiB7XG4gICAgZGVsYXk6IDUwMFxuICB9LFxuICB0cmFjazogdHJ1ZSxcbiAgaXRlbXM6ICdbdGl0bGVdW3RpdGxlIT1cIlwiXVt0aXRsZSE9XCIgXCJdJ1xufTtcblxua28uYmluZGluZ0hhbmRsZXJzLnRvb2x0aXBzID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KSB7XG4gICAgaWYgKHR5cGVvZiAkLmZuLnRvb2x0aXAgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBrby5iaW5kaW5nSGFuZGxlcnMudG9vbHRpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIHBvc2l0aW9uOiB7IG15OiBcImxlZnQrMTUgdG9wKzE1XCIsIGF0OiBcImNlbnRlciszMCBjZW50ZXIrMzBcIiB9XG4gICAgICAvLyBOT1RFIHRpdGxlIHdpdGggXCJcIiBhbmQgXCIgXCIgaXMgbmVlZGVkIHRvIGF2b2lkIGRlZmF1bHQgdG9vbHRpcHMgaW4gbmF0aXZlIGZpbGUgdXBsb2FkIGNvbnRyb2xzXG4gICAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLnRvb2x0aXAuaW5pdChlbGVtZW50LCBleHRlbmRWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIG9wdGlvbnMpLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCBkYXRhLCBjb250ZXh0KTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3NvciwgZGF0YSwgY29udGV4dCkge1xuICAgIGlmICh0eXBlb2YgJC5mbi50b29sdGlwICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Yga28uYmluZGluZ0hhbmRsZXJzLnRvb2x0aXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLnRvb2x0aXAudXBkYXRlKGVsZW1lbnQsIGV4dGVuZFZhbHVlQWNjZXNzb3IodmFsdWVBY2Nlc3Nvciwgb3B0aW9ucyksIGFsbEJpbmRpbmdzQWNjZXNzb3IsIGRhdGEsIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrbyA9IHJlcXVpcmUoJ2tub2Nrb3V0Jyk7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoJ2NvbnNvbGUnKTtcblxuLy8gZXF1YWxzIHRvIFwidmFsdWVcIiBiaW5kaW5nIGJ1dCBhcHBseSBcImludmFsaWRcIiBjbGFzcyBpZiBcInBhdHRlcm5cIiBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgdmFsdWUgbWF0Y2hlcyB0aGUgcnVsZVxua28uYmluZGluZ0hhbmRsZXJzWyd2YWxpZGF0ZWRWYWx1ZSddID0ge1xuXHRpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncykge1xuXHRcdHZhciBuZXdWYWx1ZUFjY2Vzc29yID0gdmFsdWVBY2Nlc3Nvcjtcblx0XHRpZiAodHlwZW9mIGVsZW1lbnQucGF0dGVybiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHZhciByZSA9IG5ldyBSZWdFeHAoJ14oPzonICsgZWxlbWVudC5wYXR0ZXJuICsgJykkJyk7XG5cdFx0XHR2YXIgY29tcHV0ZWQgPSBrby5jb21wdXRlZCh7XG5cdFx0XHRcdHJlYWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciByZXMgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG5cdFx0XHRcdFx0Ly8gVE9ETyBzdXBwb3J0IGZvciBlbGVtZW50LnJlcXVpcmVkID9cblx0XHRcdFx0XHR2YXIgdmFsaWQgPSByZXMgPT09IG51bGwgfHwgcmVzID09PSAnJyB8fCByZS50ZXN0KHJlcyk7XG5cdFx0XHRcdFx0Ly8gSUUxMSBkb2Vzbid0IHN1cHBvcnQgY2xhc3NMaXN0LnRvZ2dsZSgnaW52YWxpZCcsIHN0YXRlKVxuXHRcdFx0XHRcdGlmICh2YWxpZCkge1xuXHRcdFx0XHRcdFx0ZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbnZhbGlkJyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gcmVzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3cml0ZToga28uaXNXcml0ZWFibGVPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSkgJiYgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdFx0XHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92b2lkbGFicy9tb3NhaWNvL2lzc3Vlcy8xMDNcblx0XHRcdFx0XHRrby5zZWxlY3RFeHRlbnNpb25zLndyaXRlVmFsdWUoZWxlbWVudCwgdmFsdWUpO1xuXHRcdFx0XHRcdHZhciB1cGRWYWx1ZSA9IGtvLnNlbGVjdEV4dGVuc2lvbnMucmVhZFZhbHVlKGVsZW1lbnQpO1xuXHRcdFx0XHRcdHZhbHVlQWNjZXNzb3IoKSh1cGRWYWx1ZSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRpc3Bvc2VXaGVuTm9kZUlzUmVtb3ZlZDogZWxlbWVudFxuXHRcdFx0fSk7XG5cdFx0XHRuZXdWYWx1ZUFjY2Vzc29yID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBjb21wdXRlZDtcblx0XHRcdH07XG5cdFx0fVxuXHRcdGtvLmJpbmRpbmdIYW5kbGVyc1sndmFsdWUnXS5pbml0KGVsZW1lbnQsIG5ld1ZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzKTtcblx0fVxufTtcbmtvLmV4cHJlc3Npb25SZXdyaXRpbmcuX3R3b1dheUJpbmRpbmdzWyd2YWxpZGF0ZWRWYWx1ZSddID0gdHJ1ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFscyBnbG9iYWw6ZmFsc2UgKi9cblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd1bmlxdWVJZCddID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gICdpbml0JzogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIHZhciBkYXRhID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpIHx8IHt9O1xuICAgIGlmIChkYXRhLmlkKCkgPT09ICcnKSB7XG4gICAgICB2YXIgaWQsIGVsLCBwcmVmaXg7XG4gICAgICAvLyBUT0RPIHdlIG5lZWQgYSBiZXR0ZXIgcHJlZml4XG4gICAgICBwcmVmaXggPSAna29fJyArICh0eXBlb2YgZGF0YS50eXBlICE9PSAndW5kZWZpbmVkJyA/IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoZGF0YS50eXBlKSA6ICdibG9jaycpO1xuICAgICAgLy8gd2hlbiBsb2FkaW5nIGFuIGV4aXNpbmcgbW9kZWwsIElEcyBjb3VsZCBiZSBhbHJlYWR5IGFzc2lnbmVkLlxuICAgICAgZG8ge1xuICAgICAgICBpZCA9IHByZWZpeCArICdfJyArICgrK2tvLmJpbmRpbmdIYW5kbGVyc1sndW5pcXVlSWQnXS5jdXJyZW50SW5kZXgpO1xuICAgICAgICBlbCA9IGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIC8vIHdoZW4gbG9hZGluZyBhbiBleGlzdGluZyBtb2RlbCBteSBcImN1cnJlbnRJbmRleFwiIGlzIGVtcHR5LlxuICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGV4aXN0aW5nIGJsb2Nrcywgc28gSSBtdXN0IGJlIHN1cmUgSSBkb24ndCByZXVzZSB0aGVpciBJRHMuXG4gICAgICAgICAgLy8gV2UgdXNlIGRpZmZlcmVudCBwcmVmaXhlcyAocGVyIGJsb2NrIHR5cGUpIHNvIHRoYXQgYSBoaWRkZW4gYmxvY2sgXG4gICAgICAgICAgLy8gKGZvciB3aGljaCB3ZSBoYXZlIG5vIGlkIGluIHRoZSBwYWdlLCBlLmc6IHByZWhlYWRlciBpbiB2ZXJzYWZpeC0xKVxuICAgICAgICAgIC8vIHdpbGwgYnJlYWsgZXZlcnRoaW5nIG9uY2Ugd2UgcmV1c2UgaXRzIG5hbWUuXG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsKTtcbiAgICAgIGRhdGEuaWQoaWQpO1xuICAgIH1cbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3VuaXF1ZUlkJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnNbJ3ZpcnR1YWxBdHRyJ10gPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcikge1xuICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSA4KSB7XG4gICAgICBrby5iaW5kaW5nSGFuZGxlcnNbJ2F0dHInXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHInXSA9IHRydWU7XG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEF0dHJTdHlsZSddID0ge1xuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gOCkge1xuICAgICAgLy8gSW4gXCJwcmV2aWV3XCIgd2UgYWxzbyBzZXQgXCJyZXBsYWNlZHN0eWxlXCIgc28gdG8gaGF2ZSBhbiBhdHRyaWJ1dGUgdG8gYmUgdXNlZCBieSBJRSAoSUUgYnJlYWtzIHRoZSBTVFlMRSkgdG8gZG8gdGhlIGV4cG9ydC5cbiAgICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgICB2YXIgYXR0cnMgPSBbXCJzdHlsZVwiXTtcbiAgICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKSBhdHRycy5wdXNoKFwicmVwbGFjZWRzdHlsZVwiKTtcbiAgICAgIHZhciBhdHRyVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJzW2ldO1xuICAgICAgICB2YXIgdG9SZW1vdmUgPSAoYXR0clZhbHVlID09PSBmYWxzZSkgfHwgKGF0dHJWYWx1ZSA9PT0gbnVsbCkgfHwgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKVxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBhdHRyVmFsdWUudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbEF0dHJTdHlsZSddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzWyd2aXJ0dWFsU3R5bGUnXSA9IHtcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snc3R5bGUnXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik7XG4gICAgfVxuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1sndmlydHVhbFN0eWxlJ10gPSB0cnVlO1xuXG5cbmtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEh0bWwnXSA9IHtcbiAgaW5pdDoga28uYmluZGluZ0hhbmRsZXJzWydodG1sJ10uaW5pdCxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgIHZhciBodG1sID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuXG4gICAgICBrby52aXJ0dWFsRWxlbWVudHMuZW1wdHlOb2RlKGVsZW1lbnQpO1xuICAgICAgaWYgKChodG1sICE9PSBudWxsKSAmJiAoaHRtbCAhPT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaHRtbCA9IGh0bWwudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJzZWROb2RlcyA9IGtvLnV0aWxzLnBhcnNlSHRtbEZyYWdtZW50KGh0bWwpO1xuICAgICAgICBpZiAocGFyc2VkTm9kZXMpIHtcbiAgICAgICAgICB2YXIgZW5kQ29tbWVudE5vZGUgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gcGFyc2VkTm9kZXMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICAgICAgZW5kQ29tbWVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGFyc2VkTm9kZXNbaV0sIGVuZENvbW1lbnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIHBsYWluIG5vZGVcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVyc1snaHRtbCddLnVwZGF0ZShlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTtcbiAgICB9XG5cbiAgICAvLyBDb250ZW50IGZvciB2aXJ0dWFsSFRNTCBtdXN0IG5vdCBiZSBwYXJzZWQgYnkgS08sIGl0IGlzIHNpbXBsZSBjb250ZW50LlxuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczogdHJ1ZVxuICAgIH07XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd2aXJ0dWFsSHRtbCddID0gdHJ1ZTsiLCJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciB0aW55bWNlID0gcmVxdWlyZShcInRpbnltY2VcIik7XG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xucmVxdWlyZShcIi4vZXZlbnRhYmxlLmpzXCIpO1xuXG5rby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z09ySHRtbCA9IHtcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG5cbiAgICBpZiAoaXNOb3RXeXNpd3lnTW9kZSlcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3ZpcnR1YWxIdG1sJ10uaW5pdCgpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Zy5pbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgIGlmIChpc05vdFd5c2l3eWdNb2RlKVxuICAgICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVyc1sndmlydHVhbEh0bWwnXS51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCk7XG4gICAgLy9lbHNlIFxuICAgIC8vICByZXR1cm4ga28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWcudXBkYXRlKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpO1xuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snd3lzaXd5Z09ySHRtbCddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdIcmVmID0ge1xuICBpbml0OiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgIHZhciB2ID0gdmFsdWVBY2Nlc3NvcigpO1xuXG4gICAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJYWFhcIiwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlLCBpc05vdFd5c2l3eWdNb2RlLCBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIikpO1xuICAgICAgaWYgKGlzTm90V3lzaXd5Z01vZGUpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsICdfbmV3Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKmpzaGludCBzY3JpcHR1cmw6dHJ1ZSovXG4gICAgICAgIC8vIDIwMTUwMjI2OiByZW1vdmVkIGhyZWYgdG8gd29yayBhcm91bmQgRkYgaXNzdWVzIHdpdGggPGEgaHJlZj1cIlwiPjxkaXYgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPi4uPC9kaXY+PC9hPlxuICAgICAgICAvLyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICdqYXZhc2NyaXB0OnZvaWQoMCknKTtcbiAgICAgICAgLy8gMjAxNTAzMDk6IG9uIElFLCBhbiBlZGl0YWJsZSA8YSBocmVmPVwiXCIgZGF0YS1lZGl0YWJsZT1cIlwiPiBwcmV2ZW50IHRpbnltY2UgdG9vbGJhciB0byBiZSBzaG93bi5cbiAgICAgICAgLy8gICAgICAgICAgIHNvIEkgY2hhbmdlIGJlaGF2aW91ciBiYXNlZCBvbiB0aGUgdXNlIG9mIFwid3lzaXd5Z09ySHRtbFwiXG4gICAgICAgIC8vIEBzZWU6IGh0dHA6Ly93d3cudGlueW1jZS5jb20vZGV2ZWxvcC9idWd0cmFja2VyX3ZpZXcucGhwP2lkPTc0MzJcbiAgICAgICAgdmFyIGFsbGJpbmRpbmdzID0gYWxsQmluZGluZ3NBY2Nlc3NvcigpO1xuICAgICAgICBpZiAodHlwZW9mIGFsbGJpbmRpbmdzLnd5c2l3eWdPckh0bWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnamF2YXNjcmlwdDp2b2lkKDApJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWRocmVmJywgJyMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgIT09IDgpIHtcbiAgICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgICAvLyBOT1RFIHRoaXMgdW53cmFwIGlzIG5lZWRlZCBhbHNvIGluIFwid3lzaXd5Z1wiIG1vZGUsIG90aGVyd2lzZSBkZXBlbmRlbmN5IHRyYWNraW5nIGRpZXMuXG4gICAgICB2YXIgYXR0clZhbHVlID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpO1xuICAgICAgaWYgKGlzTm90V3lzaXd5Z01vZGUpIHtcbiAgICAgICAgaWYgKChhdHRyVmFsdWUgPT09IGZhbHNlKSB8fCAoYXR0clZhbHVlID09PSBudWxsKSB8fCAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsIGF0dHJWYWx1ZS50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd3eXNpd3lnSHJlZiddID0gdHJ1ZTtcblxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdTcmMgPSB7XG4gIGNvbnZlcnRlZFVybDogZnVuY3Rpb24oc3JjLCBtZXRob2QsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICB2YXIgcmVzID0gc3JjICsgXCI/bWV0aG9kPVwiICsgbWV0aG9kICsgXCImd2lkdGg9XCIgKyB3aWR0aCArIChoZWlnaHQgIT09IG51bGwgPyBcIiZoZWlnaHQ9XCIgKyBoZWlnaHQgOiAnJyk7XG4gICAgY29uc29sZS5sb2coXCJiYXNpYyBjb252ZXJ0ZXJVcmxcIiwgcmVzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9LFxuICBwbGFjZWhvbGRlclVybDogZnVuY3Rpb24ocGx3aWR0aCwgcGxoZWlnaHQsIHBsdGV4dCkge1xuICAgIHZhciBwbGFjZWhvbGRlcnNyYyA9IFwiJ2h0dHA6Ly9sb3JlbXBpeGVsLmNvbS9nLycrXCIgKyBwbHdpZHRoICsgXCIrJy8nK1wiICsgcGxoZWlnaHQgKyBcIisnL2Fic3RyYWN0LycrZW5jb2RlVVJJQ29tcG9uZW50KFwiICsgcGx0ZXh0ICsgXCIpXCI7XG4gICAgLy8gaHR0cDovL3BsYWNlaG9sZC5pdC8yMDB4MTUwLnBuZy9jY2NjY2MvMzMzMzMzJnRleHQ9cGxhY2Vob2xkLml0I3N0aGFzaC5uQTNyMjZ2Ui5kcHVmXG4gICAgLy8gcGxhY2Vob2xkZXJzcmMgPSBcIidodHRwOi8vcGxhY2Vob2xkLml0LycrXCIrd2lkdGgrXCIrJ3gnK1wiK2hlaWdodCtcIisnLnBuZy9jY2NjY2MvMzMzMzMzJnRleHQ9JytcIitzaXplO1xuICAgIC8vIHBsYWNlaG9sZGVyc3JjID0gXCInXCIrY29udmVydGVyVXRpbHMuYWRkU2xhc2hlcyhkZWZhdWx0VmFsdWUpK1wiJ1wiO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgdmFyIGF0dHJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUuc3JjKTtcbiAgICB2YXIgcGxhY2Vob2xkZXJWYWx1ZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUucGxhY2Vob2xkZXIpO1xuICAgIHZhciB3aWR0aCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUud2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlLmhlaWdodCk7XG4gICAgaWYgKChhdHRyVmFsdWUgPT09IGZhbHNlKSB8fCAoYXR0clZhbHVlID09PSBudWxsKSB8fCAoYXR0clZhbHVlID09PSB1bmRlZmluZWQpIHx8IChhdHRyVmFsdWUgPT09ICcnKSkge1xuICAgICAgaWYgKHR5cGVvZiBwbGFjZWhvbGRlclZhbHVlID09ICdvYmplY3QnICYmIHBsYWNlaG9sZGVyVmFsdWUgIT09IG51bGwpIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5wbGFjZWhvbGRlclVybChwbGFjZWhvbGRlclZhbHVlLndpZHRoLCBwbGFjZWhvbGRlclZhbHVlLmhlaWdodCwgcGxhY2Vob2xkZXJWYWx1ZS50ZXh0KSk7XG4gICAgICBlbHNlIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1ldGhvZCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWUubWV0aG9kKTtcbiAgICAgIGlmICghbWV0aG9kKSBtZXRob2QgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCA/ICdjb3ZlcicgOiAncmVzaXplJztcbiAgICAgIHZhciBzcmMgPSBrby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z1NyYy5jb252ZXJ0ZWRVcmwoYXR0clZhbHVlLnRvU3RyaW5nKCksIG1ldGhvZCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2lkdGggIT09IG51bGwpIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICAgIGVsc2UgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ3aWR0aFwiKTtcbiAgICBpZiAodHlwZW9mIGhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgJiYgaGVpZ2h0ICE9PSBudWxsKSBlbGVtZW50LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQpO1xuICAgIGVsc2UgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbn07XG5cbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnSWQgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgIGlmICghaXNOb3RXeXNpd3lnTW9kZSlcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKSk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgaWYgKCFpc05vdFd5c2l3eWdNb2RlKVxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKCkpKTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3d5c2l3eWdJZCddID0gdHJ1ZTtcblxuLy8gdXNlZCBvbiBlZGl0YWJsZSBcIml0ZW1cIiBzbyB0byBiaW5kIGNsaWNrcyBvbmx5IGluIHd5c2l3eWcgbW9kZS5cbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnQ2xpY2sgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpIHtcbiAgICB2YXIgaXNOb3RXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlID09ICd1bmRlZmluZWQnIHx8IGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSAhPSAnd3lzaXd5ZycpO1xuICAgIGlmICghaXNOb3RXeXNpd3lnTW9kZSlcbiAgICAgIGtvLmJpbmRpbmdIYW5kbGVycy5jbGljay5pbml0KGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IsIHZpZXdNb2RlbCwgYmluZGluZ0NvbnRleHQpO1xuICB9XG59O1xua28udmlydHVhbEVsZW1lbnRzLmFsbG93ZWRCaW5kaW5nc1snd3lzaXd5Z0NsaWNrJ10gPSB0cnVlO1xuXG4vLyB1c2VkIG9uIGVkaXRhYmxlIFwiaXRlbVwiIHNvIHRvIGJpbmQgY3NzIG9ubHkgaW4gd3lzaXd5ZyBtb2RlLlxua28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWdDc3MgPSB7XG4gIHVwZGF0ZTogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHZhciBpc05vdFd5c2l3eWdNb2RlID0gKHR5cGVvZiBiaW5kaW5nQ29udGV4dC50ZW1wbGF0ZU1vZGUgPT0gJ3VuZGVmaW5lZCcgfHwgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd3eXNpd3lnJyk7XG4gICAgaWYgKCFpc05vdFd5c2l3eWdNb2RlKVxuICAgICAga28uYmluZGluZ0hhbmRsZXJzLmNzcy51cGRhdGUoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCk7XG4gIH1cbn07XG5rby52aXJ0dWFsRWxlbWVudHMuYWxsb3dlZEJpbmRpbmdzWyd3eXNpd3lnQ3NzJ10gPSB0cnVlO1xuXG5rby5iaW5kaW5nSGFuZGxlcnMud3lzaXd5Z0ltZyA9IHtcbiAgbWFrZVRlbXBsYXRlVmFsdWVBY2Nlc3NvcjogZnVuY3Rpb24odmFsdWVBY2Nlc3NvciwgYmluZGluZ0NvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaXNXeXNpd3lnTW9kZSA9ICh0eXBlb2YgYmluZGluZ0NvbnRleHQudGVtcGxhdGVNb2RlICE9ICd1bmRlZmluZWQnICYmIGJpbmRpbmdDb250ZXh0LnRlbXBsYXRlTW9kZSA9PSAnd3lzaXd5ZycpO1xuXG4gICAgICB2YXIgbW9kZWxWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSxcbiAgICAgICAgdW53cmFwcGVkVmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZShtb2RlbFZhbHVlKTsgLy8gVW53cmFwIHdpdGhvdXQgc2V0dGluZyBhIGRlcGVuZGVuY3kgaGVyZVxuXG4gICAgICAvLyBJZiB1bndyYXBwZWRWYWx1ZS5kYXRhIGlzIHRoZSBhcnJheSwgcHJlc2VydmUgYWxsIHJlbGV2YW50IG9wdGlvbnMgYW5kIHVud3JhcCBhZ2FpbiB2YWx1ZSBzbyB3ZSBnZXQgdXBkYXRlc1xuICAgICAga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShtb2RlbFZhbHVlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ25hbWUnOiBpc1d5c2l3eWdNb2RlID8gdW53cmFwcGVkVmFsdWVbJ19lZGl0VGVtcGxhdGUnXSA6IHVud3JhcHBlZFZhbHVlWydfdGVtcGxhdGUnXSxcbiAgICAgICAgJ3RlbXBsYXRlRW5naW5lJzoga28ubmF0aXZlVGVtcGxhdGVFbmdpbmUuaW5zdGFuY2VcbiAgICAgIH07XG4gICAgfTtcbiAgfSxcbiAgJ2luaXQnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIHJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3RlbXBsYXRlJ11bJ2luaXQnXShlbGVtZW50LCBrby5iaW5kaW5nSGFuZGxlcnNbJ3d5c2l3eWdJbWcnXS5tYWtlVGVtcGxhdGVWYWx1ZUFjY2Vzc29yKHZhbHVlQWNjZXNzb3IsIGJpbmRpbmdDb250ZXh0KSk7XG4gIH0sXG4gICd1cGRhdGUnOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5ncywgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIGJpbmRpbmdDb250ZXh0ID0gYmluZGluZ0NvbnRleHRbJ2V4dGVuZCddKHZhbHVlQWNjZXNzb3IoKSk7XG4gICAgcmV0dXJuIGtvLmJpbmRpbmdIYW5kbGVyc1sndGVtcGxhdGUnXVsndXBkYXRlJ10oZWxlbWVudCwga28uYmluZGluZ0hhbmRsZXJzWyd3eXNpd3lnSW1nJ10ubWFrZVRlbXBsYXRlVmFsdWVBY2Nlc3Nvcih2YWx1ZUFjY2Vzc29yLCBiaW5kaW5nQ29udGV4dCksIGFsbEJpbmRpbmdzLCB2aWV3TW9kZWwsIGJpbmRpbmdDb250ZXh0KTtcbiAgfVxufTtcbmtvLnZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NbJ3d5c2l3eWdJbWcnXSA9IHRydWU7XG5cbi8vIE5PVEU6IHRoZXJlIGFyZSBpc3N1ZXMgd2l0aCB0aGUgXCJyYXdcIiBmb3JtYXQgYW5kIHRyYXNoIGxlZnQgYXJvdW5kIGJ5IHRpbnltY2Ugd29ya2Fyb3VuZHMgZm9yIGNvbnRlbnRlZGl0YWJsZSBpc3N1ZXMuXG4vLyBzZXR0aW5nIFwiZm9yY2VkX3Jvb3RfYmxvY2s6IGZhbHNlXCIgZGlzYWJsZSB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgYWRkaW5nIGEgd3JhcHBlciA8cD4gd2hlbiBuZWVkZWQgYW5kIHRoaXMgc2VlbXMgdG8gZml4IG1hbnkgaXNzdWVzIGluIElFLlxuLy8gYWxzbywgbWF5YmUgd2Ugc2hvdWxkIHVzZSB0aGUgXCJyYXdcIiBvbmx5IGZvciB0aGUgXCJiZWZvcmUgU2V0Q29udGVudFwiIGFuZCBpbnN0ZWFkIHJlYWQgdGhlIFwibm9uLXJhd1wiIGNvbnRlbnQgKHRoZSByYXcgY29udGVudCBzb21ldGltZXMgaGF2ZSBkYXRhLSBhdHRyaWJ1dGVzIGFuZCB0b28gbWFueSBlbmRpbmcgPGJyPiBpbiB0aGUgY29kZSlcbmtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gIHN0YW5kYXJkT3B0aW9uczoge30sXG4gIGZ1bGxPcHRpb25zOiB7XG4gICAgdG9vbGJhcjE6ICdib2xkIGl0YWxpYyBmb3JlY29sb3IgYmFja2NvbG9yIGhyIHN0eWxlc2VsZWN0IHJlbW92ZWZvcm1hdCB8IGxpbmsgdW5saW5rIHwgcGFzdGV0ZXh0IGNvZGUnLFxuICAgIC8vdG9vbGJhcjE6IFwiYm9sZCBpdGFsaWMgfCBmb3JlY29sb3IgYmFja2NvbG9yIHwgbGluayB1bmxpbmsgfCBociB8IHBhc3RldGV4dCBjb2RlXCIsIC8vIHwgbmV3c2xldHRlcl9wcm9maWxlIG5ld3NsZXR0ZXJfb3B0bGluayBuZXdzbGV0dGVyX3Vuc3Vic2NyaWJlIG5ld3NsZXR0ZXJfc2hvd2xpbmtcIjtcbiAgICAvL3Rvb2xiYXIyOiBcImZvcm1hdHNlbGVjdCBmb250c2VsZWN0IGZvbnRzaXplc2VsZWN0IHwgYWxpZ25sZWZ0IGFsaWduY2VudGVyIGFsaWducmlnaHQgYWxpZ25qdXN0aWZ5IHwgYnVsbGlzdCBudW1saXN0XCIsXG4gICAgcGx1Z2luczogW1wibGluayBociBwYXN0ZSBsaXN0cyB0ZXh0Y29sb3IgY29kZVwiXSxcbiAgICAvLyB2YWxpZF9lbGVtZW50czogJ3N0cm9uZy9iLGVtL2ksKlsqXScsXG4gICAgLy8gZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHM6ICdzdHJvbmcvYixlbS9pLCpbKl0nLFxuICAgIC8vIFJlbW92ZWQ6IGltYWdlIGZ1bGxzY3JlZW4gY29udGV4dG1lbnUgXG4gICAgLy8gZG93bmxvYWQgY3VzdG9tOlxuICAgIC8vIGpxdWVyeSB2ZXJzaW9uIGNvbiBsZWdhY3lvdXRwdXQsIGFuY2hvciwgY29kZSwgaW1wb3J0Y3NzLCBsaW5rLCBwYXN0ZSwgdGV4dGNvbG9yLCBociwgbGlzdHNcbiAgfSxcbiAgaW5pdDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NBY2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkge1xuICAgIC8vIFRPRE8gdWdseSwgYnV0IHdvcmtzLi4uXG4gICAga28uYmluZGluZ0hhbmRsZXJzLmZvY3VzYWJsZS5pbml0KGVsZW1lbnQpO1xuXG4gICAga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjayhlbGVtZW50LCBmdW5jdGlvbigpIHtcbiAgICAgIHRpbnltY2UucmVtb3ZlKCcjJyArIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpKTtcbiAgICB9KTtcblxuICAgIHZhciB2YWx1ZSA9IHZhbHVlQWNjZXNzb3IoKTtcblxuICAgIGlmICgha28uaXNPYnNlcnZhYmxlKHZhbHVlKSkgdGhyb3cgXCJXeXNpd3lnIGJpbmRpbmcgY2FsbGVkIHdpdGggbm9uIG9ic2VydmFibGVcIjtcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gOCkgdGhyb3cgXCJXeXNpd3lnIGJpbmRpbmcgY2FsbGVkIG9uIHZpcnR1YWwgbm9kZSwgaWdub3JpbmcuLi4uXCIgKyBlbGVtZW50LmlubmVySFRNTDtcblxuICAgIHZhciBzZWxlY3RvcklkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgaWYgKCFzZWxlY3RvcklkKSB7XG4gICAgICBzZWxlY3RvcklkID0gJ3d5c2l3eWdfJyArICgrK2tvLmJpbmRpbmdIYW5kbGVyc1snd3lzaXd5ZyddLmN1cnJlbnRJbmRleCk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBzZWxlY3RvcklkKTtcbiAgICB9XG5cbiAgICB2YXIgZnVsbEVkaXRvciA9IGVsZW1lbnQudGFnTmFtZSA9PSAnRElWJyB8fCBlbGVtZW50LnRhZ05hbWUgPT0gJ1REJztcbiAgICB2YXIgaXNTdWJzY3JpYmVyQ2hhbmdlID0gZmFsc2U7XG4gICAgdmFyIHRoaXNFZGl0b3I7XG4gICAgdmFyIGlzRWRpdG9yQ2hhbmdlID0gZmFsc2U7XG5cbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHNlbGVjdG9yOiAnIycgKyBzZWxlY3RvcklkLFxuICAgICAgaW5saW5lOiB0cnVlLFxuICAgICAgLy8gbWF5YmUgbm90IG5lZWRlZCwgYnV0IHdvbid0IGh1cnQuXG4gICAgICBoaWRkZW5faW5wdXQ6IGZhbHNlLFxuICAgICAgcGx1Z2luczogW1wicGFzdGVcIl0sXG4gICAgICB0b29sYmFyMTogXCJib2xkIGl0YWxpY1wiLFxuICAgICAgdG9vbGJhcjI6IFwiXCIsXG4gICAgICAvLyB3ZSBoYXZlIHRvIGRpc2FibGUgcHJldmlld19zdHlsZXMgb3RoZXJ3aXNlIHRpbnltY2UgcHVzaCBpbmxpbmUgZXZlcnkgc3R5bGUgaGUgdGhpbmdzIHdpbGwgYmUgYXBwbGllZCBhbmQgdGhpcyBtYWtlcyB0aGUgc3R5bGUgbWVudSB0byBpbmhlcml0IGNvbG9yL2ZvbnQtZmFtaWx5IGFuZCBtb3JlLlxuICAgICAgcHJldmlld19zdHlsZXM6IGZhbHNlLFxuICAgICAgcGFzdGVfYXNfdGV4dDogdHJ1ZSxcbiAgICAgIGxhbmd1YWdlOiAnZW4nLFxuICAgICAgc2NoZW1hOiBcImh0bWw1XCIsXG4gICAgICBleHRlbmRlZF92YWxpZF9lbGVtZW50czogJ3N0cm9uZy9iLGVtL2ksKlsqXScsXG4gICAgICBtZW51YmFyOiBmYWxzZSxcbiAgICAgIHNraW46ICdncmF5LWZsYXQnLFxuICAgICAgc2V0dXA6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAvLyBUT0RPIGNoYW5nZSBzb21ldGltZXMgZG9lc24ndCB0cmlnZ2VyICh3ZSBoYXZlIHRvIGRvY3VtZW50IHdoZW4pXG4gICAgICAgIC8vIGxpc3RlbmluZyBvbiBrZXl1cCB3b3VsZCBpbmNyZWFzZSBjb3JyZWN0bmVzcyBidXQgd2Ugd291bGQgbmVlZCBhIHJhdGVMaW1pdCB0byBhdm9pZCBmbG9vZGluZy5cbiAgICAgICAgZWRpdG9yLm9uKCdjaGFuZ2UgcmVkbyB1bmRvJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFpc1N1YnNjcmliZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgIGlzRWRpdG9yQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHdlIGZhaWxlZCB3aXRoIG90aGVyIHdheXMgdG8gZG8gdGhpczpcbiAgICAgICAgICAgIC8vIHZhbHVlKCQoZWxlbWVudCkuaHRtbCgpKTtcbiAgICAgICAgICAgIC8vIHZhbHVlKGVsZW1lbnQuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIHZhbHVlKGVkaXRvci5nZXRDb250ZW50KHtcbiAgICAgICAgICAgICAgZm9ybWF0OiAncmF3J1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaXNFZGl0b3JDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGlja2luZyBvbiB0aGUgZWxlbWVudCBvbiBmb2N1cyBjaGFuZ2UgYWxsb3cgdGhlIFwiY2xpY1wiIGNvZGUgdG8gYmUgdHJpZ2dlcmVkIGFuZCBwcm9wYWdhdGUgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgLy8gTm90IGVsZWdhbnQsIG1heWJlIHdlIGhhdmUgYmV0dGVyIG9wdGlvbnMuXG4gICAgICAgIGVkaXRvci5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBVc2VkIGJ5IHNjcm9sbGZpeC5qcyAobWF5YmUgdGhpcyBpcyBub3QgbmVlZGVkIGJ5IG5ldyBzY3JvbGxmaXguanMpXG4gICAgICAgICAgZWRpdG9yLm5vZGVDaGFuZ2VkKCk7XG4gICAgICAgICAgZWRpdG9yLmdldEVsZW1lbnQoKS5jbGljaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBOT1RFOiB0aGlzIGZpeGVzIGlzc3VlIHdpdGggXCJsZWFkaW5nIHNwYWNlc1wiIGluIGRlZmF1bHQgY29udGVudCB0aGF0IHdlcmUgbG9zdCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgIGVkaXRvci5vbignQmVmb3JlU2V0Q29udGVudCcsIGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICBpZiAoYXJncy5pbml0aWFsKSBhcmdzLmZvcm1hdCA9ICdyYXcnO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBOT1RFOiBkaXNhYmxpbmcgXCJFTlRFUlwiIGluIHRpbnkgZWRpdG9yLCBub3QgYSBnb29kIHRoaW5nIGJ1dCBtYXkgYmUgbmVlZGVkIHRvIHdvcmsgYXJvdW5kIGNvbnRlbnRlZGl0YWJsZSBpc3N1ZXNcbiAgICAgICAgaWYgKCFmdWxsRWRpdG9yKSB7XG4gICAgICAgICAgLy8gc2Ugbm9uIGFiYmlhbW8gaWwgXCJmdWxsIEVkaXRvclwiLCBkaXNhYmlsaXRpYW1vIGwnaW52aW8uICh2YXJpIGJ1ZylcbiAgICAgICAgICBlZGl0b3Iub24oJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgdGhpc0VkaXRvciA9IGVkaXRvcjtcblxuICAgICAgfVxuICAgIH07XG5cbiAgICBrby51dGlscy5leHRlbmQob3B0aW9ucywga28uYmluZGluZ0hhbmRsZXJzLnd5c2l3eWcuc3RhbmRhcmRPcHRpb25zKTtcbiAgICBpZiAoZnVsbEVkaXRvcikga28udXRpbHMuZXh0ZW5kKG9wdGlvbnMsIGtvLmJpbmRpbmdIYW5kbGVycy53eXNpd3lnLmZ1bGxPcHRpb25zKTtcblxuICAgIC8vIHdlIGhhdmUgdG8gcHV0IGluaXRpYWxpemF0aW9uIGluIGEgc2V0dGltZW91dCwgb3RoZXJ3aXNlIHN3aXRjaGluZyBmcm9tIFwiMVwiIHRvIFwiMlwiIGNvbHVtbnMgYmxvY2tzXG4gICAgLy8gd2lsbCBzdGFydCB0aGUgbmV3IGVkaXRvcnMgYmVmb3JlIGRpc3Bvc2luZyB0aGUgb2xkIG9uZXMgYW5kIElEcyBnZXQgdGVtcG9yYXJpbHkgZHVwbGljYXRlZC5cbiAgICAvLyB1c2luZyBzZXRUaW1lb3V0IHRoZSBkaXNwb3NlL2NyZWF0ZSBvcmRlciBpcyBjb3JyZWN0IG9uIGV2ZXJ5IGJyb3dzZXIgdGVzdGVkLlxuICAgIGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGlueW1jZS5pbml0KG9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29udGVudCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsdWVBY2Nlc3NvcigpKTtcbiAgICAgIGlmICghaXNFZGl0b3JDaGFuZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpc1N1YnNjcmliZXJDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIC8vIHdlIGZhaWxlZCBzZXR0aW5nIGNvbnRlbnRzIGluIG90aGVyIHdheXMuLi5cbiAgICAgICAgICAvLyAkKGVsZW1lbnQpLmh0bWwoY29udGVudCk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzRWRpdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpc0VkaXRvci5zZXRDb250ZW50KGNvbnRlbnQsIHtcbiAgICAgICAgICAgICAgZm9ybWF0OiAncmF3J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtvLnV0aWxzLnNldEh0bWwoZWxlbWVudCwgY29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJUT0RPIGV4Y2VwdGlvbiBzZXR0aW5nIGNvbnRlbnQgdG8gZWRpdGFibGUgZWxlbWVudFwiLCB0eXBlb2YgdGhpc0VkaXRvciwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNTdWJzY3JpYmVyQ2hhbmdlID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSwgbnVsbCwge1xuICAgICAgZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkOiBlbGVtZW50XG4gICAgfSk7XG5cbiAgICAvLyBkbyBub3QgcGFyc2UgaHRtbCBjb250ZW50IGZvciBLTyBiaW5kaW5ncyEhXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiB0cnVlXG4gICAgfTtcblxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxuLy8gcmV0dXJucyAwIGlmIGVxdWFsICgwLjAueCByZWxlYXNlKSwgMSB3aXRoIGJhY2t3YXJkIGNvbXBhdGlibGUgYWRkaXRpb25zICgwLnguMCByZWxlYXNlKSwgMiBvbiBsb3N0IGRhdGEgb3IgaW5jb21wYXRpYmxlIGRhdGEgKHguMC4wIHJlbGVhc2UpXG52YXIgY2hlY2tNb2RlbCA9IGZ1bmN0aW9uKHJlZmVyZW5jZSwgYmxvY2tEZWZzLCBtb2RlbCwgb3JpZ1ByZWZpeCwgcmV2ZXJzZSkge1xuICB2YXIgYmxvY2tEZWZzT2JqLCBpLCBwcmVmaXg7XG4gIHZhciB2YWxpZCA9IDA7XG4gIGlmICh0eXBlb2YgcmV2ZXJzZSA9PSAndW5kZWZpbmVkJykgcmV2ZXJzZSA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGJsb2NrRGVmcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGJsb2NrRGVmcy5zcGxpY2UgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGJsb2NrRGVmc09iaiA9IHt9O1xuICAgIGZvciAoaSA9IDA7IGkgPCBibG9ja0RlZnMubGVuZ3RoOyBpKyspIGJsb2NrRGVmc09ialtibG9ja0RlZnNbaV0udHlwZV0gPSBibG9ja0RlZnNbaV07XG4gIH0gZWxzZSB7XG4gICAgYmxvY2tEZWZzT2JqID0gYmxvY2tEZWZzO1xuICB9XG4gIGZvciAodmFyIHByb3AgaW4gcmVmZXJlbmNlKVxuICAgIGlmIChyZWZlcmVuY2UuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHByZWZpeCA9IHR5cGVvZiBvcmlnUHJlZml4ICE9PSAndW5kZWZpbmVkJyA/IG9yaWdQcmVmaXggKyBcIi5cIiArIHByb3AgOiBwcm9wO1xuICAgICAgaWYgKCFtb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIldBUk4gUHJvcGVydHkgXCIsIHByZWZpeCwgXCJmb3VuZCBpbiBtb2RlbCBpcyBub3QgZGVmaW5lZCBieSB0ZW1wbGF0ZTogcmVtb3ZpbmcgaXQhXCIpO1xuICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgIGRlbGV0ZSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJJTkZPIFByb3BlcnR5IFwiLCBwcmVmaXgsIFwibWlzc2luZyBpbiBtb2RlbCwgY2xvbmluZyBmcm9tIHJlZmVyZW5jZSFcIik7XG4gICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMSk7XG4gICAgICAgICAgbW9kZWxbcHJvcF0gPSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdICE9IHR5cGVvZiByZWZlcmVuY2VbcHJvcF0pIHtcbiAgICAgICAgLy8gc2Ugc29ubyBkaSB0aXBvIGRpdmVyc28gYWxsb3JhIHByb3ZvIGEgdmVkZXJlIHNlIGwnYWx0cm8sIGNvbnZlcnRpdG8gZGkgdGlwbyBtYW50aWVuZSB1biB2YWxvcmUgZXF1aXZhbGVudGUuXG4gICAgICAgIGlmIChtb2RlbFtwcm9wXSAhPT0gbnVsbCAmJiByZWZlcmVuY2VbcHJvcF0gIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoU3RyaW5nKHJlZmVyZW5jZVtwcm9wXSkgIT0gcmVmZXJlbmNlW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBEaWZmZXJlbnQgdHlwZSAxIFwiLCBwcmVmaXgsIHR5cGVvZiBtb2RlbFtwcm9wXSwgdHlwZW9mIHJlZmVyZW5jZVtwcm9wXSwgbW9kZWxbcHJvcF0sIHJlZmVyZW5jZVtwcm9wXSk7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoTnVtYmVyKHJlZmVyZW5jZVtwcm9wXSkgIT0gcmVmZXJlbmNlW3Byb3BdKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBEaWZmZXJlbnQgdHlwZSAyIFwiLCBwcmVmaXgsIHR5cGVvZiBtb2RlbFtwcm9wXSwgdHlwZW9mIHJlZmVyZW5jZVtwcm9wXSwgbW9kZWxbcHJvcF0sIHJlZmVyZW5jZVtwcm9wXSk7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gRGlmZmVyZW50IHR5cGUgMyBcIiwgcHJlZml4LCB0eXBlb2YgbW9kZWxbcHJvcF0sIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0sIG1vZGVsW3Byb3BdLCByZWZlcmVuY2VbcHJvcF0pO1xuICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHJlZmVyZW5jZVtwcm9wXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgcmVmZXJlbmNlW3Byb3BdLnNwbGljZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChyZWZlcmVuY2VbcHJvcF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZHMgc29ydGluZz9cbiAgICAgICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vZGVsW3Byb3BdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BdW2ldLnR5cGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCByZWZlcmVuY2VbcHJvcF0ubGVuZ3RoICYmIHJlZmVyZW5jZVtwcm9wXVtqXS50eXBlICE9PSBtb2RlbFtwcm9wXVtpXS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJpZ25vcmluZyBcIiwgcHJlZml4LCByZWZlcmVuY2VbcHJvcF1bal0udHlwZSwgXCIgYmxvY2sgdHlwZSBpbiByZWZlcmVuY2Ugbm90IGZvdW5kIGluIG1vZGVsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA+PSByZWZlcmVuY2VbcHJvcF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXQVJOIGNhbm5vdCBmaW5kIFwiLCBwcmVmaXgsIG1vZGVsW3Byb3BdW2ldLnR5cGUsIFwiIGJsb2NrIGluIHJlZmVyZW5jZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnNlIGNvbmRpdGlvbiBzbyB0byBza2lwIFwiZGVlcCB0cmF2ZXJzaW5nXCIgb24gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgY2hlY2tNb2RlbChyZWZlcmVuY2VbcHJvcF1bal0sIHVuZGVmaW5lZCwgbW9kZWxbcHJvcF1baV0sIHByZWZpeCArIFwiW1wiICsgaSArIFwiLlwiICsgbW9kZWxbcHJvcF1baV0udHlwZSArIFwiXVwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBhcnJheSB3ZSBjaGVjayBibG9ja0RlZnNcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVmZXJlbmNlW3Byb3BdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlZmVyZW5jZVtwcm9wXVtpXS50eXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gZm91bmQgYW4gb2JqZWN0IHdpdGggbm8gdHlwZVwiLCBwcmVmaXgsIHJlZmVyZW5jZVtwcm9wXVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYmxvY2tEZWZzT2JqLmhhc093blByb3BlcnR5KHJlZmVyZW5jZVtwcm9wXVtpXS50eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUT0RPIHRoZSBtb2RlbCB1c2VzIGEgYmxvY2sgdHlwZSBub3QgZGVmaW5lZCBieSB0aGUgdGVtcGxhdGUuIFJFTU9WSU5HIElUISFcIiwgcHJlZml4LCByZWZlcmVuY2VbcHJvcF1baV0pO1xuICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VbcHJvcF0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgY2hlY2tNb2RlbChibG9ja0RlZnNPYmpbcmVmZXJlbmNlW3Byb3BdW2ldLnR5cGVdLCBibG9ja0RlZnNPYmosIHJlZmVyZW5jZVtwcm9wXVtpXSwgcHJlZml4ICsgXCJbXCIgKyBpICsgXCIuXCIgKyByZWZlcmVuY2VbcHJvcF1baV0udHlwZSArIFwiXVwiKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiV0FSTiBOdWxsIG9iamVjdCBpbiBtb2RlbCBcIiwgcHJlZml4LCBcImluc3RlYWQgb2ZcIiwgcmVmZXJlbmNlW3Byb3BdLCBcImRlbGV0aW5nIGl0XCIpO1xuICAgICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJTkZPIE51bGwgb2JqZWN0IGluIG1vZGVsIFwiLCBwcmVmaXgsIFwiaW5zdGVhZCBvZlwiLCByZWZlcmVuY2VbcHJvcF0sIFwiY2xvbmluZyBpdCBmcm9tIHRoZSByZWZlcmVuY2VcIik7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBNYXRoLm1heCh2YWxpZCwgMSk7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcF0gPSByZWZlcmVuY2VbcHJvcF07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIGNoZWNrTW9kZWwocmVmZXJlbmNlW3Byb3BdLCBibG9ja0RlZnNPYmosIG1vZGVsW3Byb3BdLCBwcmVmaXgsIHJldmVyc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZWxbcHJvcF0gIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gTnVsbCBpbiByZWZlcmVuY2UgYnV0IG5vdCBudWxsIGluIG1vZGVsXCIsIHByZWZpeCwgbW9kZWxbcHJvcF0pO1xuICAgICAgICAgIHZhbGlkID0gTWF0aC5tYXgodmFsaWQsIDIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0gIT09ICdib29sZWFuJyAmJiB0eXBlb2YgcmVmZXJlbmNlW3Byb3BdICE9PSAnbnVtYmVyJykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRPRE8gdW5zdXBwb3J0ZWQgdHlwZVwiLCBwcmVmaXgsIHR5cGVvZiByZWZlcmVuY2VbcHJvcF0pO1xuICAgICAgICB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCAyKTtcbiAgICAgIH1cblxuICAgIH1cbiAgaWYgKCFyZXZlcnNlKSB2YWxpZCA9IE1hdGgubWF4KHZhbGlkLCBjaGVja01vZGVsKG1vZGVsLCBibG9ja0RlZnMsIHJlZmVyZW5jZSwgdHlwZW9mIG9yaWdQcmVmaXggIT09ICd1bmRlZmluZWQnID8gb3JpZ1ByZWZpeCArIFwiIVJcIiA6IFwiIVJcIiwgdHJ1ZSkpO1xuICByZXR1cm4gdmFsaWQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrTW9kZWw7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFBhcnNlcyBDU1MgZGVjbGFyYXRpb25zIGFuZCBzdXBwb3J0cyB0aGUgcHJvcGVydHkgbGFuZ3VhZ2UgKC1rby0qKSBmb3VuZCBiZXR3ZWVuIHRoZW0uXG4vLyBDcmVhdGUgS08gYmluZGluZ3MgYnV0IGRvZXNuJ3QgZGVwZW5kIG9uIEtPLlxuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXIuXG5cbnZhciBjb252ZXJ0ZXJVdGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGNzc1BhcnNlID0gcmVxdWlyZShcIm1lbnNjaC9saWIvcGFyc2VyLmpzXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAgPSBmdW5jdGlvbihkZWNsYXJhdGlvbnMsIHByb3BlcnR5bmFtZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpIHtcbiAgZm9yICh2YXIgaSA9IGRlY2xhcmF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknICYmIGRlY2xhcmF0aW9uc1tpXS5uYW1lID09IHByb3BlcnR5bmFtZSkge1xuICAgICAgcmV0dXJuIF9kZWNsYXJhdGlvblZhbHVlVXJsUHJlZml4ZXIoZGVjbGFyYXRpb25zW2ldLnZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIF9wcm9wVG9DYW1lbENhc2UgPSBmdW5jdGlvbihwcm9wTmFtZSkge1xuICByZXR1cm4gcHJvcE5hbWUucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24obWF0Y2gsIGNvbnRlbnRzLCBvZmZzZXQsIHMpIHtcbiAgICByZXR1cm4gY29udGVudHMudG9VcHBlckNhc2UoKTtcbiAgfSk7XG59O1xuXG52YXIgX2RlY2xhcmF0aW9uVmFsdWVVcmxQcmVmaXhlciA9IGZ1bmN0aW9uKHZhbHVlLCB0ZW1wbGF0ZVVybENvbnZlcnRlcikge1xuICBpZiAodmFsdWUubWF0Y2goL3VybFxcKC4qXFwpLykpIHtcbiAgICB2YXIgcmVwbGFjZWQgPSB2YWx1ZS5yZXBsYWNlKC8odXJsXFwoKShbXlxcKV0qKShcXCkpL2csIGZ1bmN0aW9uKG1hdGNoZWQsIHByZWZpeCwgdXJsLCBwb3N0Zml4KSB7XG4gICAgICB2YXIgdHJpbW1lZCA9IHVybC50cmltKCk7XG4gICAgICB2YXIgYXBpY2UgPSB1cmwudHJpbSgpLmNoYXJBdCgwKTtcbiAgICAgIGlmIChhcGljZSA9PSAnXFwnJyB8fCBhcGljZSA9PSAnXCInKSB7XG4gICAgICAgIHRyaW1tZWQgPSB0cmltbWVkLnN1YnN0cigxLCB0cmltbWVkLmxlbmd0aCAtIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpY2UgPSAnJztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdVcmwgPSB0ZW1wbGF0ZVVybENvbnZlcnRlcih0cmltbWVkKTtcbiAgICAgIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIGFwaWNlICsgbmV3VXJsICsgYXBpY2UgKyBwb3N0Zml4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcGxhY2VkO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxudmFyIGVsYWJvcmF0ZURlY2xhcmF0aW9ucyA9IGZ1bmN0aW9uKHN0eWxlLCBkZWNsYXJhdGlvbnMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIGJhc2ljQmluZGluZ3MsIHJlbW92ZURpc3BsYXlOb25lKSB7XG4gIHZhciBuZXdCaW5kaW5ncyA9IHR5cGVvZiBiYXNpY0JpbmRpbmdzID09ICdvYmplY3QnICYmIGJhc2ljQmluZGluZ3MgIT09IG51bGwgPyBiYXNpY0JpbmRpbmdzIDoge307XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBza2lwTGluZXMgPSAwO1xuICBpZiAodHlwZW9mIGRlY2xhcmF0aW9ucyA9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBzdHlsZVNoZWV0ID0gY3NzUGFyc2UoXCIje1xcblwiICsgc3R5bGUgKyBcIn1cIiwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGRlY2xhcmF0aW9ucyA9IHN0eWxlU2hlZXQuc3R5bGVzaGVldC5ydWxlc1swXS5kZWNsYXJhdGlvbnM7XG4gICAgc2tpcExpbmVzID0gMTtcbiAgfVxuICBmb3IgKHZhciBpID0gZGVjbGFyYXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGlmIChkZWNsYXJhdGlvbnNbaV0udHlwZSA9PSAncHJvcGVydHknKSB7XG4gICAgICBpZiAocmVtb3ZlRGlzcGxheU5vbmUgPT09IHRydWUgJiYgZGVjbGFyYXRpb25zW2ldLm5hbWUgPT0gJ2Rpc3BsYXknICYmIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSA9PSAnbm9uZScpIHtcbiAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsKSBuZXdTdHlsZSA9IHN0eWxlO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGRlY2wgPSBkZWNsYXJhdGlvbnNbaV0ubmFtZS5tYXRjaCgvXi1rby0oYmluZC18YXR0ci0pPyhbYS16MC05LV0qPykoLWlmfC1pZm5vdCk/JC8pO1xuICAgICAgICBpZiAoZGVjbCAhPT0gbnVsbCkge1xuICAgICAgICAgIC8vIHJpbW96aW9uZSBkZWxsbyBzdGlsZSAta28tIGRhbGwnYXR0cmlidXRvIHN0eWxlLlxuICAgICAgICAgIGlmIChuZXdTdHlsZSA9PT0gbnVsbCAmJiB0eXBlb2Ygc3R5bGUgIT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG5cbiAgICAgICAgICB2YXIgaXNBdHRyID0gZGVjbFsxXSA9PSAnYXR0ci0nO1xuICAgICAgICAgIHZhciBpc0JpbmQgPSBkZWNsWzFdID09ICdiaW5kLSc7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gZGVjbFsyXTtcblxuICAgICAgICAgIHZhciBpc0lmID0gZGVjbFszXSA9PSAnLWlmJyB8fCBkZWNsWzNdID09ICctaWZub3QnO1xuICAgICAgICAgIHZhciBjb25kRGVjbDtcbiAgICAgICAgICB2YXIgYmluZFZhbHVlO1xuICAgICAgICAgIHZhciBwcm9wRGVmYXVsdFZhbHVlO1xuXG4gICAgICAgICAgaWYgKGlzSWYpIHtcbiAgICAgICAgICAgIGNvbmREZWNsID0gZGVjbGFyYXRpb25zW2ldLm5hbWUuc3Vic3RyKDAsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLmxlbmd0aCAtIGRlY2xbM10ubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBjb25kaXRpb25lZERlY2xhcmF0aW9uID0gX2RlY2xhcmF0aW9uVmFsdWVMb29rdXAoZGVjbGFyYXRpb25zLCBjb25kRGVjbCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbmVkRGVjbGFyYXRpb24gPT09IG51bGwpIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgZGVjbGFyYXRpb24gXCIgKyBjb25kRGVjbCArIFwiIGZvciBcIiArIGRlY2xhcmF0aW9uc1tpXS5uYW1lO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmICgoaXNBdHRyIHx8IGlzQmluZCkgJiYgKHR5cGVvZiBlbGVtZW50ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzdHlsZSAhPSAndW5kZWZpbmVkJykpIHRocm93IFwiQXR0cmlidXRlcyBhbmQgYmluZCBkZWNsYXJhdGlvbnMgYXJlIG9ubHkgYWxsb3dlZCBpbiBpbmxpbmUgc3R5bGVzIVwiO1xuXG4gICAgICAgICAgICB2YXIgbmVlZERlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgYmluZFR5cGU7XG4gICAgICAgICAgICBpZiAoaXNBdHRyKSB7XG4gICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgcHJvcE5hbWUpO1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxBdHRyJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlzQmluZCkge1xuICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gdHlwZW9mIHN0eWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgaWYgKG5lZWREZWZhdWx0VmFsdWUpIHByb3BEZWZhdWx0VmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIHByb3BOYW1lLCB0ZW1wbGF0ZVVybENvbnZlcnRlcik7XG4gICAgICAgICAgICAgIGJpbmRUeXBlID0gJ3ZpcnR1YWxTdHlsZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBiaW5kVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIGlmIChwcm9wTmFtZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wRGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJUZXh0KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZWVkRGVmYXVsdFZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BOYW1lID09ICdodG1sJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgIHByb3BEZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5lZWREZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmVlZERlZmF1bHRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZWVkRGVmYXVsdFZhbHVlICYmIHByb3BEZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBkZWNsYXJhdGlvbnMpO1xuICAgICAgICAgICAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIGRlZmF1bHQgdmFsdWUgZm9yIFwiICsgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyBkZWNsYXJhdGlvbnNbaV0udmFsdWUgKyBcIiBpbiBcIiArIGVsZW1lbnQgKyBcIiAoXCIgKyB0eXBlb2Ygc3R5bGUgKyBcIi9cIiArIHByb3BOYW1lICsgXCIpXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmluZERlZmF1bHRWYWx1ZSA9IHByb3BEZWZhdWx0VmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBiaW5kTmFtZSA9IF9wcm9wVG9DYW1lbENhc2UocHJvcE5hbWUpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBiaW5kVmFsdWUgPSBjb252ZXJ0ZXJVdGlscy5leHByZXNzaW9uQmluZGluZyhkZWNsYXJhdGlvbnNbaV0udmFsdWUsIGJpbmRpbmdQcm92aWRlciwgYmluZERlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWRcIiwgZS5zdGFjaywgXCJuYW1lXCIsIGRlY2xhcmF0aW9uc1tpXS5uYW1lLCBcInZhbHVlXCIsIGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgXCJkZWZhdWx0XCIsIHByb3BEZWZhdWx0VmFsdWUsIFwiZWxlbWVudFwiLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsICYmIHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kVHlwZV0gPT0gJ3VuZGVmaW5lZCcpIG5ld0JpbmRpbmdzW2JpbmRUeXBlXSA9IHt9O1xuXG5cbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIEhSRUZzXG4gICAgICAgICAgICBpZiAoYmluZFR5cGUgPT0gJ3ZpcnR1YWxBdHRyJyAmJiBiaW5kTmFtZSA9PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYmluZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICBiaW5kTmFtZSA9ICd3eXNpd3lnSHJlZic7XG4gICAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gcmVtb3ZlIGl0LCBvdGhlcndpc2Ugd2UgZW5kcyB1cCB3aXRoIDIgcnVsZXMgd3JpdGluZyBpdC5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbGVtZW50ICE9ICd1bmRlZmluZWQnICYmIGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgXCJocmVmXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRPRE8gZXZhbHVhdGUgdGhlIHVzZSBvZiBcIi10aGVuXCIgKGFuZCAtZWxzZSkgcG9zdGZpeGVzIHRvIGNvbXBsZXRlIHRoZSAtaWYgaW5zdGVhZCBvZiByZWxheWluZ1xuICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgYmFzaWMgc2ludGF4IChvciBtYXliZSBpdCBpcyBiZXR0ZXIgdG8gc3VwcG9ydCB0ZXJuYXJ5IG9wZXJhdG9yIENPTkQgPyBUSEVOIDogRUxTRSkuXG4gICAgICAgICAgICB2YXIgZGVjbGFyYXRpb25Db25kaXRpb24gPSBfZGVjbGFyYXRpb25WYWx1ZUxvb2t1cChkZWNsYXJhdGlvbnMsIGRlY2xhcmF0aW9uc1tpXS5uYW1lICsgJy1pZicsIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAgICAgICAgIHZhciBub3QgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkZWNsYXJhdGlvbkNvbmRpdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBkZWNsYXJhdGlvbkNvbmRpdGlvbiA9IF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgICAgICBub3QgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKF9kZWNsYXJhdGlvblZhbHVlTG9va3VwKGRlY2xhcmF0aW9ucywgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyAnLWlmbm90JywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIGVycm9yOiBjYW5ub3QgdXNlIGJvdGggLWlmIGFuZCAtaWZub3QgcHJvcGVydHkgY29uZGl0aW9uc1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVjbGFyYXRpb25Db25kaXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZ0NvbmQgPSBjb252ZXJ0ZXJVdGlscy5jb25kaXRpb25CaW5kaW5nKGRlY2xhcmF0aW9uQ29uZGl0aW9uLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgIGJpbmRWYWx1ZSA9IChub3QgPyAnIScgOiAnJykgKyBcIihcIiArIGJpbmRpbmdDb25kICsgXCIpID8gXCIgKyBiaW5kVmFsdWUgKyBcIiA6IG51bGxcIjtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZGVhbCB3aXRoIC1rbyBzdHlsZSBiaW5kaW5nIGNvbmRpdGlvblwiLCBkZWNsYXJhdGlvbkNvbmRpdGlvbiwgZGVjbGFyYXRpb25zW2ldLm5hbWUpO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJpbmRUeXBlICE9PSBudWxsKSBuZXdCaW5kaW5nc1tiaW5kVHlwZV1bYmluZE5hbWVdID0gYmluZFZhbHVlO1xuICAgICAgICAgICAgZWxzZSBuZXdCaW5kaW5nc1tiaW5kTmFtZV0gPSBiaW5kVmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcGFyc2luZyBAc3VwcG9ydHMgOnByZXZpZXdcbiAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gaWYgXCJlbGVtZW50XCIgaXMgZGVmaW5lZCB0aGVuIHdlIGFyZSBwYXJzaW5nIGFuIFwiaW5saW5lXCIgc3R5bGUgYW5kIHdlIHdhbnQgdG8gcmVtb3ZlIGl0LlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5ld1N0eWxlID0gY29udmVydGVyVXRpbHMucmVtb3ZlU3R5bGUobmV3U3R5bGUsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5zdGFydCwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLmVuZCwgc2tpcExpbmVzLCAwLCAwLCAnJyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHdlIGFyZSBwYXJzaW5nIGEgZnVsbCBzdHlsZXNoZWV0Li4gbGV0J3MgcmV3cml0ZSB0aGUgZnVsbCBcInByb3A6IHZhbHVlXCIgd2l0aG91dCBjYXJpbmcgYWJvdXQgdGhlIG9yaWdpbmFsIHN5bnRheC5cbiAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZWRXaXRoID0gJyc7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gXCJpZlwiIHdlIHNpbXBseSBoYXZlIHRvIHJlbW92ZSBpdCwgb3RoZXJ3aXNlIHdlIHJlcGxhY2UgdGhlIGlucHV0IGNvZGUgd2l0aCBcInByb3A6IHZhbHVlXCIgZ2VuZXJhdGluZyBleHByZXNzaW9uLlxuICAgICAgICAgICAgICAgIGlmICghaXNJZikgcmVwbGFjZWRXaXRoID0gcHJvcE5hbWUgKyAnOiA8IS0tIGtvIHRleHQ6ICcgKyBiaW5kVmFsdWUgKyAnIC0tPicgKyBwcm9wRGVmYXVsdFZhbHVlICsgJzwhLS0gL2tvIC0tPic7XG4gICAgICAgICAgICAgICAgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZGVjbGFyYXRpb25zW2ldLnBvc2l0aW9uLnN0YXJ0LCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uZW5kLCBza2lwTGluZXMsIDAsIDAsIHJlcGxhY2VkV2l0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZFwiLCBlLCBcIm5hbWVcIiwgZGVjbGFyYXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHByZWZpeGluZyB1cmxzXG4gICAgICAgICAgdmFyIHJlcGxhY2VkVmFsdWUgPSBfZGVjbGFyYXRpb25WYWx1ZVVybFByZWZpeGVyKGRlY2xhcmF0aW9uc1tpXS52YWx1ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIpO1xuICAgICAgICAgIGlmIChyZXBsYWNlZFZhbHVlICE9IGRlY2xhcmF0aW9uc1tpXS52YWx1ZSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0eWxlID09PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcpIG5ld1N0eWxlID0gc3R5bGU7XG4gICAgICAgICAgICBpZiAobmV3U3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBkZWNsYXJhdGlvbnNbaV0ucG9zaXRpb24uc3RhcnQsIGRlY2xhcmF0aW9uc1tpXS5wb3NpdGlvbi5lbmQsIHNraXBMaW5lcywgMCwgMCwgZGVjbGFyYXRpb25zW2ldLm5hbWUgKyBcIjogXCIgKyByZXBsYWNlZFZhbHVlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZlIHN0eWxlIGZhaWxlZCByZXBsYWNpbmcgdXJsXCIsIGUsIFwibmFtZVwiLCBkZWNsYXJhdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdHlsZSBoYW5kbGluZyBieSBjb25jYXRlbmF0ZWQgXCJzdHlsZSBhdHRyaWJ1dGVcIiAod29yc2UgcGVyZm9ybWFuY2UgYnV0IG1vcmUgc3RhYmxlIHRoYW4gZGlyZWN0IHN0eWxlIGhhbmRsaW5nKVxuICAgICAgICAgIHZhciBiaW5kTmFtZTIgPSBfcHJvcFRvQ2FtZWxDYXNlKGRlY2xhcmF0aW9uc1tpXS5uYW1lKTtcbiAgICAgICAgICB2YXIgYmluZCA9ICd2aXJ0dWFsQXR0clN0eWxlJztcbiAgICAgICAgICB2YXIgYmluZFZhbDIgPSB0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddICE9PSAndW5kZWZpbmVkJyA/IG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXVtiaW5kTmFtZTJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdmFyIGRpc3QgPSAnICc7XG4gICAgICAgICAgaWYgKHR5cGVvZiBuZXdCaW5kaW5nc1tiaW5kXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgbmV3QmluZGluZ3NbYmluZF0gPSBcIicnXCI7XG4gICAgICAgICAgICBkaXN0ID0gJyc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBiaW5kVmFsMiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiAnKyhcIiArIGJpbmRWYWwyICsgXCIpKyc7XCIgKyBkaXN0ICsgXCInK1wiICsgbmV3QmluZGluZ3NbYmluZF07XG4gICAgICAgICAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddW2JpbmROYW1lMl07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0JpbmRpbmdzW2JpbmRdID0gXCInXCIgKyBkZWNsYXJhdGlvbnNbaV0ubmFtZSArIFwiOiBcIiArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMocmVwbGFjZWRWYWx1ZSkgKyBcIjtcIiArIGRpc3QgKyBcIicrXCIgKyBuZXdCaW5kaW5nc1tiaW5kXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZWxlbWVudCAhPT0gbnVsbCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZXhwZWN0ZWQgdmlydHVhbFN0eWxlIGJpbmRpbmcgYWZ0ZXIgY29udmVyc2lvbiB0byB2aXJ0dWFsQXR0ci5zdHlsZVwiLCBwcm9wLCBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ11bcHJvcF0sIHN0eWxlKTtcbiAgICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIHZpcnR1YWxTdHlsZSBiaW5kaW5nIGFmdGVyIGNvbnZlcnNpb24gdG8gdmlydHVhbEF0dHIuc3R5bGUgZm9yIFwiICsgcHJvcDtcbiAgICAgIH1cbiAgICBkZWxldGUgbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddO1xuXG4gICAgdmFyIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgdmFyIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgX2JpbmRpbmdTZXJpYWxpemVyKG5ld0JpbmRpbmdzKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcbiAgfVxuXG4gIC8vIFRPRE8gYSBmdW5jdGlvbiB3aG9zZSByZXR1cm4gdHlwZSBkZXBlbmRzIG9uIHRoZSBpbnB1dCBwYXJhbWV0ZXJzIGlzIHZlcnkgdWdseS4uIHBsZWFzZSBGSVggTUUuXG4gIGlmICh0eXBlb2Ygc3R5bGUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBjbGVhbiB2aXJ0dWFsU3R5bGUgaWYgZW1wdHlcbiAgICB2YXIgaGFzVmlydHVhbFN0eWxlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcHJvcDEgaW4gbmV3QmluZGluZ3NbJ3ZpcnR1YWxTdHlsZSddKVxuICAgICAgaWYgKG5ld0JpbmRpbmdzWyd2aXJ0dWFsU3R5bGUnXS5oYXNPd25Qcm9wZXJ0eShwcm9wMSkpIHtcbiAgICAgICAgaGFzVmlydHVhbFN0eWxlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgaWYgKCFoYXNWaXJ0dWFsU3R5bGUpIGRlbGV0ZSBuZXdCaW5kaW5nc1sndmlydHVhbFN0eWxlJ107XG4gICAgZWxzZSB7XG4gICAgICAvLyByZW1vdmUgYW5kIGFkZCBiYWNrIHZpcnR1YWxBdHRyU3R5bGUgc28gaXQgZ2V0cyBhcHBlbmRlZCBCRUZPUkUgdmlydHVhbEF0dHJTdHlsZSAoX2JpbmRpbmdTZXJpYWxpemVyIHJldmVyc2UgdGhlbS4uLilcbiAgICAgIGlmICh0eXBlb2YgbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIHZzID0gbmV3QmluZGluZ3NbJ3ZpcnR1YWxBdHRyU3R5bGUnXTtcbiAgICAgICAgZGVsZXRlIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ107XG4gICAgICAgIG5ld0JpbmRpbmdzWyd2aXJ0dWFsQXR0clN0eWxlJ10gPSB2cztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmV0dXJucyBuZXcgc2VyaWFsaXplZCBiaW5kaW5nc1xuICAgIHJldHVybiBfYmluZGluZ1NlcmlhbGl6ZXIobmV3QmluZGluZ3MpO1xuICB9XG5cbiAgcmV0dXJuIG5ld1N0eWxlO1xufTtcblxudmFyIF9iaW5kaW5nU2VyaWFsaXplciA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIHByb3AgaW4gdmFsKVxuICAgIGlmICh2YWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsW3Byb3BdID09ICdvYmplY3QnKSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgXCJ7IFwiICsgX2JpbmRpbmdTZXJpYWxpemVyKHZhbFtwcm9wXSkgKyBcIiB9XCIpO1xuICAgICAgZWxzZSByZXMucHVzaChwcm9wICsgXCI6IFwiICsgdmFsW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiByZXMucmV2ZXJzZSgpLmpvaW4oJywgJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVsYWJvcmF0ZURlY2xhcmF0aW9uczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gVGhpcyBkZWFscyB3aXRoIENoZWVyaW8valF1ZXJ5IGlzc3Vlcy5cbi8vIE1vc3Qgb2YgdGhpcyBjb3VsZCBiZSBkb25lIHdpdGhvdXQgalF1ZXJ5LCB0b28sIGJ1dCBqUXVlcnkgaXMgZWFzaWVyIHRvIGJlIG1vY2tlZCB3aXRoIENoZWVyaW9cbi8vIE90aGVyd2lzZSB3ZSB3b3VsZCBuZWVkIGpzRG9tIHRvIHJ1biB0aGUgY29tcGlsZXIgaW4gdGhlIHNlcnZlciAod2l0aG91dCBhIHJlYWwgYnJvd3NlcilcblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuXG5mdW5jdGlvbiBfZXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XG4gIGlmIChzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBvYmpFeHRlbmQgPSBmdW5jdGlvbihvYmosIGV4dGVuZGVyKSB7XG4gIGlmICh0eXBlb2YgJC5leHRlbmQgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCBvYmosIGV4dGVuZGVyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX2V4dGVuZChvYmosIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZXh0ZW5kZXIpKSk7XG4gIH1cbn07XG5cbnZhciBnZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHtcbiAgdmFyIHJlcyA9ICQoZWxlbWVudCkuYXR0cihhdHRyaWJ1dGUpO1xuICBpZiAodHlwZW9mIHJlcyA9PSAndW5kZWZpbmVkJykgcmVzID0gbnVsbDtcbiAgcmV0dXJuIHJlcztcbiAgLy8gcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG59O1xuXG52YXIgc2V0QXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAkKGVsZW1lbnQpLmF0dHIoYXR0cmlidXRlLCB2YWx1ZSk7XG4gIC8vIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xufTtcblxudmFyIHJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZSkge1xuICAkKGVsZW1lbnQpLnJlbW92ZUF0dHIoYXR0cmlidXRlKTtcbiAgLy8gZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbn07XG5cbnZhciBnZXRJbm5lclRleHQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiAkKGVsZW1lbnQpLnRleHQoKTtcbiAgLy8gaWYgKHR5cGVvZiBlbGVtZW50LmlubmVyVGV4dCAhPSAndW5kZWZpbmVkJykgcmV0dXJuIGVsZW1lbnQuaW5uZXJUZXh0O1xuICAvLyBlbHNlIHJldHVybiBlbGVtZW50LnRleHRDb250ZW50O1xufTtcblxudmFyIGdldElubmVySHRtbCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuICQoZWxlbWVudCkuaHRtbCgpO1xuICAvLyByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XG59O1xuXG52YXIgZ2V0TG93ZXJUYWdOYW1lID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAvLyBzb21ldGltZXMgY2hlZXJpbyBkb2Vzbid0IGhhdmUgdGFnTmFtZSBidXQgXCJuYW1lXCIuXG4gIC8vIEJyb3dzZXJzIGhhdmUgXCJuYW1lXCIgd2l0aCBlbXB0eSBzdHJpbmdcbiAgLy8gU29tZXRpbWVzIGNoZWVyaW8gaGFzIHRhZ05hbWUgYnV0IG5vIHByb3AgZnVuY3Rpb24uXG4gIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICcnICYmIHR5cGVvZiBlbGVtZW50Lm5hbWUgPT0gJ3N0cmluZycpIHJldHVybiBlbGVtZW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGVsZW1lbnQudGFnTmFtZSAhPT0gJycpIHJldHVybiBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuICQoZWxlbWVudCkucHJvcChcInRhZ05hbWVcIikudG9Mb3dlckNhc2UoKTtcbiAgLy8gcmV0dXJuIGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIHNldENvbnRlbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7XG4gICQoZWxlbWVudCkuaHRtbChjb250ZW50KTtcbiAgLy8gZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xufTtcblxudmFyIHJlcGxhY2VIdG1sID0gZnVuY3Rpb24oZWxlbWVudCwgaHRtbCkge1xuICAkKGVsZW1lbnQpLnJlcGxhY2VXaXRoKGh0bWwpO1xuICAvLyBlbGVtZW50Lm91dGVySFRNTCA9IGh0bWw7XG59O1xuXG52YXIgcmVtb3ZlRWxlbWVudHMgPSBmdW5jdGlvbigkZWxlbWVudHMsIHRyeURldGFjaCkge1xuICBpZiAodHJ5RGV0YWNoICYmIHR5cGVvZiAkZWxlbWVudHMuZGV0YWNoICE9PSAndW5kZWZpbmVkJykgJGVsZW1lbnRzLmRldGFjaCgpO1xuICAvLyBOT1RFOiB3ZSBkb24ndCBuZWVkIGFuIGVsc2UsIGFzIGRldGFjaCBpcyBzaW1wbHkgYW4gb3B0aW1pemF0aW9uXG4gICRlbGVtZW50cy5yZW1vdmUoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBdHRyaWJ1dGU6IGdldEF0dHJpYnV0ZSxcbiAgc2V0QXR0cmlidXRlOiBzZXRBdHRyaWJ1dGUsXG4gIHJlbW92ZUF0dHJpYnV0ZTogcmVtb3ZlQXR0cmlidXRlLFxuICBnZXRJbm5lclRleHQ6IGdldElubmVyVGV4dCxcbiAgZ2V0SW5uZXJIdG1sOiBnZXRJbm5lckh0bWwsXG4gIGdldExvd2VyVGFnTmFtZTogZ2V0TG93ZXJUYWdOYW1lLFxuICBzZXRDb250ZW50OiBzZXRDb250ZW50LFxuICByZXBsYWNlSHRtbDogcmVwbGFjZUh0bWwsXG4gIHJlbW92ZUVsZW1lbnRzOiByZW1vdmVFbGVtZW50cyxcbiAgb2JqRXh0ZW5kOiBvYmpFeHRlbmRcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgZWxhYm9yYXRlRGVjbGFyYXRpb25zID0gcmVxdWlyZShcIi4vZGVjbGFyYXRpb25zLmpzXCIpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy5qcycpO1xudmFyIG1vZGVsRGVmID0gcmVxdWlyZSgnLi9tb2RlbC5qcycpO1xuXG52YXIgX2dldE9wdGlvbnNPYmplY3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHZhciBvcHRpb25zQ291cGxlcyA9IG9wdGlvbnMuc3BsaXQoJ3wnKTtcbiAgdmFyIG9wdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zQ291cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvcHQgPSBvcHRpb25zQ291cGxlc1tpXS5zcGxpdCgnPScpO1xuICAgIG9wdHNbb3B0WzBdXSA9IG9wdC5sZW5ndGggPiAxID8gb3B0WzFdIDogb3B0WzBdO1xuICB9XG4gIHJldHVybiBvcHRzO1xufTtcblxuLy8gVE9ETyB0aGlzIHNob3VsZCBub3QgaGF2ZSBoYXJkY29kZWQgcnVsZXMgKHdlIG5vdyBoYXZlIGEgd2F5IHRvIGRlY2xhcmUgdGhlbSBpbiB0aGUgdGVtcGxhdGUgZGVmaW5pdGlvbilcbi8vIENhdGVnb3J5IFwic3R5bGVcIiBpcyB1c2VkIGJ5IGVkaXRUeXBlIFwic3R5bGVyXCJcbi8vIENhdGVvZ3J5IFwiY29udGVudFwiIGlzIHVzZWQgYnkgZWRpdFR5cGUgXCJlZGl0XCJcbi8vIFRPRE8gbWF5YmUgd2Ugc2hvdWxkIHVzZSBhIGNvbW1vbiBzdHJpbmcgaGVyZSwgYW5kIHJlbHkgb25seSBvbiB0aGUgb3JpZ2luYWwgY2F0ZWdvcnkuXG52YXIgX2ZpbHRlclByb3BzID0gZnVuY3Rpb24obW9kZWwsIGVkaXRUeXBlLCBsZXZlbCkge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIHByb3AgaW4gbW9kZWwpXG4gICAgaWYgKCFwcm9wLm1hdGNoKC9eY3VzdG9tU3R5bGUkLykgJiYgIXByb3AubWF0Y2goL15fLykgJiYgbW9kZWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHZhciBpc1N0eWxlUHJvcCA9IG1vZGVsW3Byb3BdICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbFtwcm9wXS5fY2F0ZWdvcnkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kZWxbcHJvcF0uX2NhdGVnb3J5ID09ICdzdHlsZSc7XG4gICAgICBpZiAocHJvcCA9PSAnaWQnIHx8IHByb3AgPT0gJ3R5cGUnIHx8IHByb3AubWF0Y2goL0Jsb2NrcyQvKSkge30gZWxzZSBpZiAoZWRpdFR5cGUgPT0gJ3N0eWxlcicpIHtcbiAgICAgICAgaWYgKGlzU3R5bGVQcm9wIHx8IGxldmVsID4gMCkgcmVzLnB1c2gocHJvcCk7XG4gICAgICB9IGVsc2UgaWYgKGVkaXRUeXBlID09ICdlZGl0Jykge1xuICAgICAgICAvLyBFZGl0aW5nIGZvciBwcm9wZXJ0aWVzIGluIHRoZSBcImNvbnRlbnRcIiBjYXRlZ29yeSBidXQgbm90IGRlZmluZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBibG9ja1xuICAgICAgICB2YXIgaXNDb250ZW50UHJvcCA9IG1vZGVsW3Byb3BdICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbFtwcm9wXS5fY2F0ZWdvcnkgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kZWxbcHJvcF0uX2NhdGVnb3J5ID09ICdjb250ZW50JyAmJlxuICAgICAgICAgICh0eXBlb2YgbW9kZWxbcHJvcF0uX2NvbnRleHQgPT0gJ3VuZGVmaW5lZCcgfHwgbW9kZWxbcHJvcF0uX2NvbnRleHQgIT0gJ2Jsb2NrJyk7XG4gICAgICAgIGlmIChpc0NvbnRlbnRQcm9wKSByZXMucHVzaChwcm9wKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVkaXRUeXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJlcy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBfcHJvcElucHV0ID0gZnVuY3Rpb24obW9kZWwsIHByb3AsIHByb3BBY2Nlc3NvciwgZWRpdFR5cGUsIHdpZGdldHMpIHtcbiAgdmFyIGh0bWwgPSBcIlwiO1xuICB2YXIgd2lkZ2V0O1xuICBpZiAobW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl93aWRnZXQgIT0gJ3VuZGVmaW5lZCcpIHdpZGdldCA9IG1vZGVsLl93aWRnZXQ7XG5cbiAgaWYgKHR5cGVvZiB3aWRnZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBcIlVua25vd24gZGF0YSB0eXBlIGZvciBcIiArIHByb3A7XG4gIH1cblxuICAvLyBGb3IgY29udGVudCBlZGl0b3JzIHdlIGRlYWwgd2l0aCBmb2N1c2luZyAoY2xpY2tpbmcgaXMgaGFuZGxlZCBieSB0aGUgY29udGFpbmVyIERJVikuXG4gIHZhciBvbmZvY3VzYmluZGluZyA9ICdmb2N1c2FibGU6IHRydWUnO1xuICBpZiAoZWRpdFR5cGUgPT0gJ2VkaXQnKSB7XG4gICAgb25mb2N1c2JpbmRpbmcgKz0gJywgZXZlbnQ6IHsgZm9jdXM6IGZ1bmN0aW9uKHVpLCBldmVudCkgeyAkKCRlbGVtZW50KS5jbGljaygpOyB9IH0gJztcbiAgfVxuXG4gIGh0bWwgKz0gJzxsYWJlbCBjbGFzcz1cImRhdGEtJyArIHdpZGdldCArICdcIicgKyAod2lkZ2V0ID09ICdib29sZWFuJyA/ICcgZGF0YS1iaW5kPVwiZXZlbnQ6IHsgbW91c2Vkb3duOiBmdW5jdGlvbih1aSwgZXZ0KSB7IGlmIChldnQuYnV0dG9uID09IDApIHsgdmFyIGlucHV0ID0gJCgkZWxlbWVudCkuZmluZChcXCdpbnB1dFxcJyk7IHZhciBjaCA9IGlucHV0LnByb3AoXFwnY2hlY2tlZFxcJyk7IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGlucHV0LmNsaWNrKCk7IGlucHV0LnByb3AoXFwnY2hlY2tlZFxcJywgIWNoKTsgaW5wdXQudHJpZ2dlcihcXCdjaGFuZ2VcXCcpOyB9LCAwKTsgfSB9IH0sIGNsaWNrOiBmdW5jdGlvbih1aSwgZXZ0KSB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9LCBjbGlja0J1YmJsZTogZmFsc2VcIicgOiAnJykgKyAnPic7XG5cbiAgaWYgKHR5cGVvZiB3aWRnZXRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2lkZ2V0c1t3aWRnZXRdICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciB3ID0gd2lkZ2V0c1t3aWRnZXRdO1xuICAgIHZhciBwYXJhbWV0ZXJzID0ge307XG4gICAgaWYgKHR5cGVvZiB3LnBhcmFtZXRlcnMgIT09ICd1bmRlZmluZWQnKVxuICAgICAgZm9yICh2YXIgcCBpbiB3LnBhcmFtZXRlcnMpXG4gICAgICAgIGlmICh3LnBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkocCkgJiYgdHlwZW9mIG1vZGVsWydfJytwXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgcGFyYW1ldGVyc1twXSA9IG1vZGVsWydfJytwXTtcbiAgICBodG1sICs9IHcuaHRtbChwcm9wQWNjZXNzb3IsIG9uZm9jdXNiaW5kaW5nLCBwYXJhbWV0ZXJzKTtcbiAgfSBlbHNlIGlmICh3aWRnZXQgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgaHRtbCArPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwibm90aGluZ1wiIGRhdGEtYmluZD1cImNoZWNrZWQ6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICAgIGh0bWwgKz0gJzxzcGFuIGNsYXNzPVwiY2hlY2tib3gtcmVwbGFjZXJcIiA+PC9zcGFuPic7IC8qIGRhdGEtYmluZD1cImNzczogeyBjaGVja2VkOiAnK3Byb3BBY2Nlc3NvcisnIH1cIiAqL1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnY29sb3InKSB7XG4gICAgaHRtbCArPSAnPGlucHV0IHNpemU9XCI3XCIgdHlwZT1cInRleHRcIiBkYXRhLWJpbmQ9XCJjb2xvcnBpY2tlcjogeyBjb2xvcjogJyArIHByb3BBY2Nlc3NvciArICcsIHN0cmluZ3M6ICRyb290LnQoXFwnVGhlbWUgQ29sb3JzLFN0YW5kYXJkIENvbG9ycyxXZWIgQ29sb3JzLFRoZW1lIENvbG9ycyxCYWNrIHRvIFBhbGV0dGUsSGlzdG9yeSxObyBoaXN0b3J5IHlldC5cXCcpIH0sICcgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnc2VsZWN0Jykge1xuICAgIGlmICh0eXBlb2YgbW9kZWwuX29wdGlvbnMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBvcHRzID0gX2dldE9wdGlvbnNPYmplY3QobW9kZWwuX29wdGlvbnMpO1xuICAgICAgLy8gdmFyIG9wdHMgPSBtb2RlbC5fb3B0aW9ucztcbiAgICAgIGh0bWwgKz0gJzxzZWxlY3QgZGF0YS1iaW5kPVwidmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCI+JztcbiAgICAgIGZvciAodmFyIG9wdCBpbiBvcHRzKVxuICAgICAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eShvcHQpKSB7XG4gICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBvcHQgKyAnXCIgZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG9wdHNbb3B0XSkgKyAnXFwnKVwiPicgKyBvcHRzW29wdF0gKyAnPC9vcHRpb24+JztcbiAgICAgICAgfVxuICAgICAgaHRtbCArPSAnPC9zZWxlY3Q+JztcbiAgICB9XG4gIH0gZWxzZSBpZiAod2lkZ2V0ID09ICdmb250Jykge1xuICAgIGh0bWwgKz0gJzxzZWxlY3QgdHlwZT1cInRleHRcIiBkYXRhLWJpbmQ9XCJ2YWx1ZTogJyArIHByb3BBY2Nlc3NvciArICcsICcgKyBvbmZvY3VzYmluZGluZyArICdcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIlNhbnMtU2VyaWYgRm9udHNcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZlwiPkFyaWFsPC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiXFwnQ29taWMgU2FucyBNU1xcJyxjdXJzaXZlLHNhbnMtc2VyaWZcIj5Db21pYyBTYW5zIE1TPC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiSW1wYWN0LENoYXJjb2FsLHNhbnMtc2VyaWZcIj5JbXBhY3Q8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdUcmVidWNoZXQgTVNcXCcsSGVsdmV0aWNhLHNhbnMtc2VyaWZcIj5UcmVidWNoZXQgTVM8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJWZXJkYW5hLEdlbmV2YSxzYW5zLXNlcmlmXCI+VmVyZGFuYTwvb3B0aW9uPic7XG4gICAgaHRtbCArPSAnPC9vcHRncm91cD4nO1xuICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIlNlcmlmIEZvbnRzXCI+JztcbiAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiR2VvcmdpYSxzZXJpZlwiPkdlb3JnaWE8L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdUaW1lcyBOZXcgUm9tYW5cXCcsVGltZXMsc2VyaWZcIj5UaW1lcyBOZXcgUm9tYW48L29wdGlvbj4nO1xuICAgIGh0bWwgKz0gJzwvb3B0Z3JvdXA+JztcbiAgICBodG1sICs9ICc8b3B0Z3JvdXAgbGFiZWw9XCJNb25vc3BhY2UgRm9udHNcIj4nO1xuICAgIGh0bWwgKz0gJzxvcHRpb24gdmFsdWU9XCJcXCdDb3VyaWVyIE5ld1xcJyxDb3VyaWVyLG1vbm9zcGFjZVwiPkNvdXJpZXIgTmV3PC9vcHRpb24+JztcbiAgICBodG1sICs9ICc8L29wdGdyb3VwPic7XG4gICAgaHRtbCArPSAnPC9zZWxlY3Q+JztcbiAgfSBlbHNlIGlmICh3aWRnZXQgPT0gJ3VybCcpIHtcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwidWktdGV4dGJ1dHRvblwiPic7XG4gICAgLy8gPGEgY2xhc3M9XCJ1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd24gdWktY29ybmVyLWJyIHVpLWJ1dHRvbiB1aS13aWRnZXQgdWktc3RhdGUtZGVmYXVsdCB1aS1idXR0b24tdGV4dC1vbmx5XCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJidXR0b25cIj48c3BhbiBjbGFzcz1cInVpLWJ1dHRvbi10ZXh0XCI+PHNwYW4gY2xhc3M9XCJ1aS1pY29uIGZhIGZhLWZ3IGNhcmV0LWRvd25cIj7ilrw8L3NwYW4+PC9zcGFuPjwvYT5cbiAgICBodG1sICs9ICc8aW5wdXQgY2xhc3M9XCJ1aS10ZXh0YnV0dG9uLWlucHV0XCIgc2l6ZT1cIjdcIiB0eXBlPVwidXJsXCIgcGF0dGVybj1cIihtYWlsdG86LitALit8aHR0cHM/Oi8vLitcXFxcLi4rfFxcXFxbLipcXFxcXS4qKVwiIHZhbHVlPVwibm90aGluZ1wiIGRhdGEtYmluZD1cImNzczogeyB3aXRoQnV0dG9uOiB0eXBlb2YgJHJvb3QubGlua0RpYWxvZyAhPT0gXFwndW5kZWZpbmVkXFwnIH0sIHZhbGlkYXRlZFZhbHVlOiAnICsgcHJvcEFjY2Vzc29yICsgJywgJyArIG9uZm9jdXNiaW5kaW5nICsgJ1wiIC8+JztcbiAgICBodG1sICs9ICc8YSBjbGFzcz1cInVpLXRleHRidXR0b24tYnV0dG9uXCIgZGF0YS1iaW5kPVwidmlzaWJsZTogdHlwZW9mICRyb290LmxpbmtEaWFsb2cgIT09IFxcJ3VuZGVmaW5lZFxcJywgY2xpY2s6IHR5cGVvZiAkcm9vdC5saW5rRGlhbG9nICE9PSBcXCd1bmRlZmluZWRcXCcgPyAkcm9vdC5saW5rRGlhbG9nLmJpbmQoJGVsZW1lbnQucHJldmlvdXNTaWJsaW5nKSA6IGZhbHNlLCBidXR0b246IHsgaWNvbnM6IHsgcHJpbWFyeTogXFwnZmEgZmEtZncgZmEtZWxsaXBzaXMtaFxcJyB9LCBsYWJlbDogXFwnT3B6aW9uaVxcJywgdGV4dDogZmFsc2UgfVwiPk9wemlvbmk8L2E+JztcbiAgICBodG1sICs9ICc8L2Rpdj4nO1xuICB9IGVsc2UgaWYgKHdpZGdldCA9PSAnaW50ZWdlcicpIHtcbiAgICAvLyBhdCB0aGlzIHRpbWUgdGhlIFwic3RlcFwiIGRlcGVuZHMgb24gbWF4IGJlaW5nIGdyZWF0ZXIgdGhhbiAxMDAuXG4gICAgLy8gbWF5YmUgd2Ugc2hvdWxkIGV4cG9zZSBcInN0ZXBcIiBhcyBhIGNvbmZpZ3VyYXRpb24sIHRvb1xuICAgIHZhciBtaW4gPSAwO1xuICAgIHZhciBtYXggPSAxMDAwO1xuICAgIGlmIChtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX21heCAhPT0gJ3VuZGVmaW5lZCcpIG1heCA9IG1vZGVsLl9tYXg7XG4gICAgaWYgKG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbWluICE9PSAndW5kZWZpbmVkJykgbWluID0gbW9kZWwuX21pbjtcbiAgICB2YXIgc3RlcCA9IChtYXggLSBtaW4pID49IDEwMCA/IDEwIDogMTtcbiAgICB2YXIgcGFnZSA9IHN0ZXAgKiA1O1xuICAgIGh0bWwgKz0gJzxpbnB1dCBjbGFzcz1cIm51bWJlci1zcGlubmVyXCIgc2l6ZT1cIjdcIiBzdGVwPVwiJyArIHN0ZXAgKyAnXCIgdHlwZT1cIm51bWJlclwiIHZhbHVlPVwiLTFcIiBkYXRhLWJpbmQ9XCJzcGlubmVyOiB7IG1pbjogJyArIG1pbiArICcsIG1heDogJyArIG1heCArICcsIHBhZ2U6ICcgKyBwYWdlICsgJywgdmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnIH0sIHZhbHVlVXBkYXRlOiBbXFwnY2hhbmdlXFwnLCBcXCdzcGluXFwnXScgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9IGVsc2Uge1xuICAgIGh0bWwgKz0gJzxpbnB1dCBzaXplPVwiN1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCJub3RoaW5nXCIgZGF0YS1iaW5kPVwidmFsdWU6ICcgKyBwcm9wQWNjZXNzb3IgKyAnLCAnICsgb25mb2N1c2JpbmRpbmcgKyAnXCIgLz4nO1xuICB9XG5cbiAgaHRtbCArPSAnPC9sYWJlbD4nO1xuXG4gIHJldHVybiBodG1sO1xufTtcblxudmFyIF9nZXRHbG9iYWxTdHlsZVByb3AgPSBmdW5jdGlvbihnbG9iYWxTdHlsZXMsIG1vZGVsLCBwcm9wLCBwYXRoKSB7XG4gIHZhciBnbG9iYWxTdHlsZVByb3A7XG4gIGlmICh0eXBlb2YgbW9kZWwgIT09ICdvYmplY3QnIHx8IG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbC5fd2lkZ2V0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgcHJvcCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHBhdGggIT09ICd1bmRlZmluZWQnICYmIHBhdGgubGVuZ3RoID4gMCAmJiB0eXBlb2YgZ2xvYmFsU3R5bGVzID09ICdvYmplY3QnICYmIHR5cGVvZiBnbG9iYWxTdHlsZXNbcGF0aF0gIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGdsb2JhbFN0eWxlUHJvcCA9IGdsb2JhbFN0eWxlc1twYXRoXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFN0eWxlUHJvcDtcbn07XG5cbnZhciBfcHJvcEVkaXRvciA9IGZ1bmN0aW9uKHdpdGhCaW5kaW5nUHJvdmlkZXIsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbCwgdGhlbWVNb2RlbCwgcGF0aCwgcHJvcCwgZWRpdFR5cGUsIGxldmVsLCBiYXNlVGhyZXNob2xkLCBnbG9iYWxTdHlsZXMsIGdsb2JhbFN0eWxlUHJvcCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5nLCBwcmV2aWV3QmFja2dyb3VuZCkge1xuICBpZiAodHlwZW9mIGxldmVsID09ICd1bmRlZmluZWQnKSBsZXZlbCA9IDA7XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kZWwgPT0gJ29iamVjdCcgJiYgbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl91c2Vjb3VudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRPRE8gRURJVE9SIGlnbm9yaW5nXCIsIHBhdGgsIFwicHJvcGVydHkgYmVjYXVzZSBpdCBpcyBub3QgdXNlZCBieSB0aGUgdGVtcGxhdGVcIiwgXCJwcm9wOlwiLCBwcm9wLCBcInR5cGU6XCIsIGVkaXRUeXBlLCBcImxldmVsOlwiLCBsZXZlbCwgd2l0aEJpbmRpbmdQcm92aWRlci5fdGVtcGxhdGVOYW1lKTtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIHZhciBwcm9wQWNjZXNzb3IgPSB0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wICE9ICd1bmRlZmluZWQnID8gcHJvcCArICcuX2RlZmF1bHRDb21wdXRlZCcgOiBwcm9wO1xuXG4gIHZhciBodG1sID0gXCJcIjtcbiAgdmFyIHRpdGxlO1xuICB2YXIgaWZTdWJzUHJvcCA9IHByb3BBY2Nlc3NvcjtcbiAgdmFyIGlmU3Vic0d1dHRlciA9IDE7XG4gIC8vIHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcgPyAxIDogMjtcbiAgdmFyIGlmU3Vic1RocmVzaG9sZCA9IDE7XG5cbiAgLy8gVGhlIHZpc2liaWxpdHkgaGFuZGxpbmcgaXMgYSBQSVRBXG4gIC8vIFxuICAvLyBIZXJlIGFyZSBzb21lIFwiZWRnZSBjYXNlc1wiIHRvIHRlc3Qgd2hlbmV2ZXIgd2UgY2hhbmdlIHNvbWV0aGluZyBoZXJlOlxuICAvLyBMTSBzb2NpYWwgZm9vdGVyOiByZW1vdmluZyBzaGFyZVZpc2liaWxlIG11c3QgYmUgcmVmbGVjdGVkIGluIHRoZSBib29sZWFucyBzdWItY2hlY2tzXG4gIC8vIEZMVUlEIHNvY2lhbCBibG9jazogbXVsdGlwbGUgY2xpY2tzIG9uIHRoZSBcIndhbmRcIiBzaG91bGQgbm90IG1ha2UgdGhlIGVkaXRvciBpbnZpc2libGVcbiAgLy8gQklTIGhlcm9NZW51IC0gQnkgY2hhbmdpbmcgdGhlIG1lbnUgdmlzaWJpbGl0eSBpdCBzaG91bGQgYmUgcmVmbGVjdGVkIGluIHN0eWxlIGVkaXRvcnMgZm9yIHRoZSBtZW51IGxpbmtzXG4gIC8vIEZMVUlEIGFsbW9zdCBldmVyeSBibG9jayB3aXRoIGEgY29sb3IgdmFyaWFudCBzb21ldGltZXMga2VlcHMgc2hvd2luZyBzdHlsZSBlZGl0b3IgZm9yIHRoZSBoaWRkZW4gdmFyaWFudC5cbiAgaWYgKHR5cGVvZiBtb2RlbCA9PSAnb2JqZWN0JyAmJiBtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX3dpZGdldCA9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIERvIG5vdGhpbmcgaGVyZVxuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZlN1YnNHdXR0ZXIgKz0gMTtcbiAgICB9XG4gIH1cblxuICAvLyBOT1RFIGJhc2VUaHJlc2hvbGQgaXMgYWRkZWQgb25seSB3aGVuIGdsb2JhbFN0eWxlIGlzIG5vdCBkZWZpbmVkIGJlY2F1c2Ugd2hlbiB3ZSBoYXZlIGdsb2JhbFN0eWxlXG4gIC8vIHdlJ3JlIGdvaW5nIHRvIGJpbmQgdGhlIGNvbXB1dGVkIHZhbHVlcyBhbmQgbm90IHRoZSBvcmlnaW5hbCBhbmQgdGhpcyB3YXkgd2UgZG9uJ3QgYWRkIG91cnNlcmYgdG8gdGhlIGRlcGVuZGVuY3kgXG4gIC8vIHRyYWNraW5nIChzdWJzY3JpcHRpb25Db3VudClcbiAgLy8gTk9URSBiYXNlVGhyZXNob2xkIGlzIGFuIFwiZXhwcmVzc2lvblwiIGFuZCBub3QgYSBmaXhlZCBudW1iZXIsIHNvIHRoaXMgaXMgYSBjb25jYXRlbmF0aW9uXG4gIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVQcm9wID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBiYXNlVGhyZXNob2xkICE9PSAndW5kZWZpbmVkJykgaWZTdWJzVGhyZXNob2xkICs9IGJhc2VUaHJlc2hvbGQ7XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9ICd1bmRlZmluZWQnICYmICEhdHJhY2tVc2FnZSkge1xuICAgIGh0bWwgKz0gJzwhLS0ga28gaWZTdWJzOiB7IGRhdGE6ICcgKyBpZlN1YnNQcm9wICsgJywgdGhyZXNob2xkOiAnICsgaWZTdWJzVGhyZXNob2xkICsgJywgZ3V0dGVyOiAnICsgaWZTdWJzR3V0dGVyICsgJyB9IC0tPic7XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3AgIT0gJ3VuZGVmaW5lZCcgJiYgKG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbC5fbmFtZSA9PSAndW5kZWZpbmVkJykpIHtcbiAgICAvLyBUT0RPIHRocm93IGV4Y2VwdGlvbj9cbiAgICBjb25zb2xlLmxvZyhcIlRPRE8gV0FSTiBNaXNzaW5nIGxhYmVsIGZvciBwcm9wZXJ0eSBcIiwgcHJvcCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm9wID09ICd1bmRlZmluZWQnICYmIG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbmFtZSA9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUubG9nKFwiVE9ETyBXQVJOIE1pc3NpbmcgbGFiZWwgZm9yIG9iamVjdCBcIiwgbW9kZWwudHlwZSAvKiwgbW9kZWwgKi8gKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgbW9kZWwgPT0gJ29iamVjdCcgJiYgbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl93aWRnZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgcHJvcHMgPSBfZmlsdGVyUHJvcHMobW9kZWwsIGVkaXRUeXBlLCBsZXZlbCk7XG5cbiAgICB2YXIgaGFzQ3VzdG9tU3R5bGUgPSBlZGl0VHlwZSA9PSAnc3R5bGVyJyAmJiBtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuY3VzdG9tU3R5bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT09ICd1bmRlZmluZWQnO1xuICAgIHZhciBzZWxlY3RlZEl0ZW1CaW5kaW5nID0gJyc7XG4gICAgdmFyIGFkZGl0aW9uYWxDbGFzc2VzID0gJyc7XG4gICAgaWYgKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyAmJiBlZGl0VHlwZSA9PSAnZWRpdCcpIHtcbiAgICAgIHNlbGVjdGVkSXRlbUJpbmRpbmcgPSAnLCBjbGljazogZnVuY3Rpb24ob2JqLCBldnQpIHsgJHJvb3Quc2VsZWN0SXRlbSgnICsgcHJvcCArICcsICRkYXRhKTsgcmV0dXJuIGZhbHNlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgY3NzOiB7IHNlbGVjdGVkaXRlbTogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oJyArIHByb3AgKyAnKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oJyArIHByb3AgKyAnKSwgJztcbiAgICAgIGFkZGl0aW9uYWxDbGFzc2VzICs9ICcgc2VsZWN0YWJsZSc7XG4gICAgfVxuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgYWRkaXRpb25hbENsYXNzZXMgKz0gJyBzdXBwb3J0c0N1c3RvbVN0eWxlcyc7XG4gICAgfVxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJvYmpFZGl0IGxldmVsJyArIGxldmVsICsgYWRkaXRpb25hbENsYXNzZXMgKyAnXCIgZGF0YS1iaW5kPVwidG9vbHRpcHM6IHt9JyArIHNlbGVjdGVkSXRlbUJpbmRpbmcgKyAnXCI+JztcbiAgICB2YXIgbW9kZWxOYW1lID0gKG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5fbmFtZSAhPSAndW5kZWZpbmVkJyA/IG1vZGVsLl9uYW1lIDogKHR5cGVvZiBwcm9wICE9PSAndW5kZWZpbmVkJyA/ICdbJyArIHByb3AgKyAnXScgOiAnJykpO1xuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgdmFyIHRoZW1lU2VjdGlvbk5hbWUgPSAnU3RpbGUnO1xuICAgICAgaWYgKHR5cGVvZiB0aGVtZU1vZGVsICE9PSAndW5kZWZpbmVkJyAmJiB0aGVtZU1vZGVsICE9PSBudWxsICYmIHR5cGVvZiB0aGVtZU1vZGVsLl9uYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGVtZVNlY3Rpb25OYW1lID0gdGhlbWVNb2RlbC5fbmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBtaXNzaW5nIGxhYmVsIGZvciB0aGVtZSBzZWN0aW9uIFwiLCBwcm9wLCBtb2RlbCAhPT0gbnVsbCA/IG1vZGVsLnR5cGUgOiAnLScpO1xuICAgICAgfVxuXG4gICAgICBtb2RlbE5hbWUgPSAnPHNwYW4gY2xhc3M9XCJibG9ja1NlbGVjdGlvbk1ldGhvZFwiIGRhdGEtYmluZD1cInRleHQ6IGN1c3RvbVN0eWxlKCkgPyAkcm9vdC51dChcXCd0ZW1wbGF0ZVxcJywgXFwnJyArIHV0aWxzLmFkZFNsYXNoZXMobW9kZWxOYW1lKSArICdcXCcpIDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKHRoZW1lU2VjdGlvbk5hbWUpICsgJ1xcJylcIj5CbG9jazwvc3Bhbj4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb2RlbE5hbWUgPSAnPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsTmFtZSkgKyAnXFwnKVwiPicgKyBtb2RlbE5hbWUgKyAnPC9zcGFuPic7XG4gICAgfVxuICAgIHRpdGxlID0gbW9kZWwgIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsLl9oZWxwICE9PSAndW5kZWZpbmVkJyA/ICcgdGl0bGU9XCInICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5faGVscCkgKyAnXCIgZGF0YS1iaW5kPVwiYXR0cjogeyB0aXRsZTogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsLl9oZWxwKSArICdcXCcpIH1cIicgOiAnJztcbiAgICBodG1sICs9ICc8c3BhbicgKyB0aXRsZSArICcgY2xhc3M9XCJvYmpMYWJlbCBsZXZlbCcgKyBsZXZlbCArICdcIj4nICsgbW9kZWxOYW1lICsgJzwvc3Bhbj4nO1xuXG4gICAgaWYgKGVkaXRUeXBlID09ICdlZGl0JyAmJiB0eXBlb2YgbW9kZWwuX2Jsb2NrRGVzY3JpcHRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiYmxvY2tEZXNjcmlwdGlvblwiIGRhdGEtYmluZD1cImh0bWw6ICRyb290LnV0KFxcJ3RlbXBsYXRlXFwnLCBcXCcnICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5fYmxvY2tEZXNjcmlwdGlvbikgKyAnXFwnKVwiPicgKyBtb2RlbC5fYmxvY2tEZXNjcmlwdGlvbiArICc8L2Rpdj4nO1xuICAgIH1cblxuICAgIC8qIENVU1RPTSBTVFlMRSAqL1xuICAgIGlmIChoYXNDdXN0b21TdHlsZSkge1xuICAgICAgaHRtbCArPSAnPGxhYmVsIGNsYXNzPVwiZGF0YS1ib29sZWFuIGJsb2NrQ2hlY2tcIiBkYXRhLWJpbmQ9XCJ0b29sdGlwczogeyB9XCI+JztcbiAgICAgIGh0bWwgKz0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cIm5vdGhpbmdcIiBkYXRhLWJpbmQ9XCJmb2N1c2FibGU6IHRydWUsIGNoZWNrZWQ6IGN1c3RvbVN0eWxlXCIgLz4nO1xuICAgICAgaHRtbCArPSAnPHNwYW4gdGl0bGU9XCJTd2l0Y2ggYmV0d2VlbiBnbG9iYWwgYW5kIGJsb2NrIGxldmVsIHN0eWxlcyBlZGl0aW5nXCIgZGF0YS1iaW5kPVwiYXR0cjogeyB0aXRsZTogJHJvb3QudChcXCdTd2l0Y2ggYmV0d2VlbiBnbG9iYWwgYW5kIGJsb2NrIGxldmVsIHN0eWxlcyBlZGl0aW5nXFwnKSB9XCIgY2xhc3M9XCJjaGVja2JveC1yZXBsYWNlciBjaGVja2JveC1yZXBsYWNlci1vbm9mZlwiPjwvc3Bhbj4nOyAvLyAgZGF0YS1iaW5kPVwidG9vbHRpcDogeyBjb250ZW50OiBcXCdwZXJzb25hbGl6emEgdHV0dGlcXCcgfVwiXG4gICAgICBodG1sICs9ICc8L2xhYmVsPic7XG4gICAgICBodG1sICs9ICc8IS0tIGtvIHRlbXBsYXRlOiB7IG5hbWU6IFxcJ2N1c3RvbXN0eWxlXFwnLCBpZjogY3VzdG9tU3R5bGUgfSAtLT48IS0tIC9rbyAtLT4nO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvcCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgaHRtbCArPSAnPCEtLSBrbyB3aXRoOiAnICsgcHJvcCArICcgLS0+JztcblxuICAgICAgLyogUFJFVklFVyAqL1xuICAgICAgaWYgKGxldmVsID09IDEgJiYgdHlwZW9mIHByb3AgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlbC5fcHJldmlld0JpbmRpbmdzICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aXRoQmluZGluZ1Byb3ZpZGVyICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByb290UHJldmlld0JpbmRpbmcgIT0gJ3VuZGVmaW5lZCcpIGh0bWwgKz0gJzwhLS0ga28gd2l0aDogJHJvb3QuY29udGVudCgpIC0tPjxkaXYgY2xhc3M9XCJvYmpQcmV2aWV3XCIgZGF0YS1iaW5kPVwiJyArIHJvb3RQcmV2aWV3QmluZGluZyArICdcIj48L2Rpdj48IS0tIC9rbyAtLT4nO1xuICAgICAgICAgIGlmICh0eXBlb2YgcHJldmlld0JhY2tncm91bmQgIT0gJ3VuZGVmaW5lZCcpIGh0bWwgKz0gJzwhLS0ga28gd2l0aDogJHBhcmVudCAtLT48ZGl2IGNsYXNzPVwib2JqUHJldmlld1wiIGRhdGEtYmluZD1cIicgKyBwcmV2aWV3QmFja2dyb3VuZCArICdcIj48L2Rpdj48IS0tIC9rbyAtLT4nO1xuICAgICAgICAgIHZhciBwcmV2aWV3QmluZGluZ3MgPSBlbGFib3JhdGVEZWNsYXJhdGlvbnModW5kZWZpbmVkLCBtb2RlbC5fcHJldmlld0JpbmRpbmdzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgd2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsIHBhdGggKyAnLicpKTtcbiAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwib2JqUHJldmlld1wiPjxkaXYgY2xhc3M9XCJvYmpQcmV2aWV3SW5uZXJcIiBkYXRhLWJpbmQ9XCInICsgcHJldmlld0JpbmRpbmdzICsgJ1wiPjwvZGl2PjwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBQUkVWSUVXICovXG4gICAgdmFyIHByZXZpZXdCRztcbiAgICBpZiAobGV2ZWwgPT09IDApIHtcbiAgICAgIGlmICh0eXBlb2YgbW9kZWwuX3ByZXZpZXdCaW5kaW5ncyAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICBwcmV2aWV3QkcgPSBlbGFib3JhdGVEZWNsYXJhdGlvbnModW5kZWZpbmVkLCBtb2RlbC5fcHJldmlld0JpbmRpbmdzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgd2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsIHBhdGgubGVuZ3RoID4gMCA/IHBhdGggKyAnLicgOiAnJykpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpLCBuZXdQYXRoO1xuXG4gICAgdmFyIGJlZm9yZSA9IGh0bWwubGVuZ3RoO1xuXG4gICAgdmFyIG5ld1RoZW1lTW9kZWw7XG4gICAgdmFyIG5ld0dsb2JhbFN0eWxlUHJvcDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3UGF0aCA9IHBhdGgubGVuZ3RoID4gMCA/IHBhdGggKyBcIi5cIiArIHByb3BzW2ldIDogcHJvcHNbaV07XG4gICAgICBpZiAodHlwZW9mIG1vZGVsW3Byb3BzW2ldXSAhPSAnb2JqZWN0JyB8fCBtb2RlbFtwcm9wc1tpXV0gPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsW3Byb3BzW2ldXS5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld0dsb2JhbFN0eWxlUHJvcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxldmVsID09PSAwICYmIHByb3BzW2ldID09ICd0aGVtZScpXG4gICAgICAgICAgaHRtbCArPSBfcHJvcEVkaXRvcih3aXRoQmluZGluZ1Byb3ZpZGVyLCB3aWRnZXRzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgbW9kZWxbcHJvcHNbaV1dLCBuZXdUaGVtZU1vZGVsLCBuZXdQYXRoLCBwcm9wc1tpXSwgZWRpdFR5cGUsIDAsIGJhc2VUaHJlc2hvbGQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cmFja1VzYWdlLCByb290UHJldmlld0JpbmRpbmcpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBuZXdHbG9iYWxTdHlsZVByb3AgPSBfZ2V0R2xvYmFsU3R5bGVQcm9wKGdsb2JhbFN0eWxlcywgbW9kZWxbcHJvcHNbaV1dLCBwcm9wc1tpXSwgbmV3UGF0aCk7XG4gICAgICAgICAgaHRtbCArPSBfcHJvcEVkaXRvcih3aXRoQmluZGluZ1Byb3ZpZGVyLCB3aWRnZXRzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgbW9kZWxbcHJvcHNbaV1dLCBuZXdUaGVtZU1vZGVsLCBuZXdQYXRoLCBwcm9wc1tpXSwgZWRpdFR5cGUsIGxldmVsICsgMSwgYmFzZVRocmVzaG9sZCwgZ2xvYmFsU3R5bGVzLCBuZXdHbG9iYWxTdHlsZVByb3AsIHRyYWNrVXNhZ2UsIHJvb3RQcmV2aWV3QmluZGluZywgcHJldmlld0JHKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld1BhdGggPSBwYXRoLmxlbmd0aCA+IDAgPyBwYXRoICsgXCIuXCIgKyBwcm9wc1tpXSA6IHByb3BzW2ldO1xuICAgICAgaWYgKCEodHlwZW9mIG1vZGVsW3Byb3BzW2ldXSAhPSAnb2JqZWN0JyB8fCBtb2RlbFtwcm9wc1tpXV0gPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsW3Byb3BzW2ldXS5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSkge1xuICAgICAgICBuZXdHbG9iYWxTdHlsZVByb3AgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gMCAmJiBwcm9wc1tpXSA9PSAndGhlbWUnKVxuICAgICAgICAgIGh0bWwgKz0gX3Byb3BFZGl0b3Iod2l0aEJpbmRpbmdQcm92aWRlciwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG1vZGVsW3Byb3BzW2ldXSwgbmV3VGhlbWVNb2RlbCwgbmV3UGF0aCwgcHJvcHNbaV0sIGVkaXRUeXBlLCAwLCBiYXNlVGhyZXNob2xkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5nKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbmV3R2xvYmFsU3R5bGVQcm9wID0gX2dldEdsb2JhbFN0eWxlUHJvcChnbG9iYWxTdHlsZXMsIG1vZGVsW3Byb3BzW2ldXSwgcHJvcHNbaV0sIG5ld1BhdGgpO1xuICAgICAgICAgIGh0bWwgKz0gX3Byb3BFZGl0b3Iod2l0aEJpbmRpbmdQcm92aWRlciwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG1vZGVsW3Byb3BzW2ldXSwgbmV3VGhlbWVNb2RlbCwgbmV3UGF0aCwgcHJvcHNbaV0sIGVkaXRUeXBlLCBsZXZlbCArIDEsIGJhc2VUaHJlc2hvbGQsIGdsb2JhbFN0eWxlcywgbmV3R2xvYmFsU3R5bGVQcm9wLCB0cmFja1VzYWdlLCByb290UHJldmlld0JpbmRpbmcsIHByZXZpZXdCRyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYWRkZWQgPSBodG1sLmxlbmd0aCAtIGJlZm9yZTtcbiAgICBpZiAoYWRkZWQgPT09IDApIHtcbiAgICAgIC8vIE5vIGVkaXRhYmxlIGNvbnRlbnQ6IGlmIHRoaXMgaXMgaW4gY29udGV4dCBcInRlbXBsYXRlXCIgd2UgbGVhdmUgaXQgZW1wdHksIG90aGVyd2lzZSB3ZSBzaG93IGFuIGhlbHAuXG4gICAgICBpZiAodHlwZW9mIG1vZGVsID09ICdvYmplY3QnICYmIG1vZGVsICE9PSBudWxsICYmIG1vZGVsLl9jb250ZXh0ID09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETyBtb3ZlIG1lIHRvIGEgdG1wbD9cbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIm9iakVtcHR5XCIgZGF0YS1iaW5kPVwiaHRtbDogJHJvb3QudChcXCdTZWxlY3RlZCBlbGVtZW50IGhhcyBubyBlZGl0YWJsZSBwcm9wZXJ0aWVzXFwnKVwiPlNlbGVjdGVkIGVsZW1lbnQgaGFzIG5vIGVkaXRhYmxlIHByb3BlcnRpZXM8L2Rpdj4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcHJvcCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgaHRtbCArPSAnPCEtLSAva28gLS0+JztcbiAgICB9XG4gICAgaHRtbCArPSAnPC9kaXY+JztcblxuICB9IGVsc2Uge1xuICAgIHZhciBjaGVja2JveGVzID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZ2xvYmFsU3R5bGVzID09ICd1bmRlZmluZWQnKSBjaGVja2JveGVzID0gZmFsc2U7XG5cbiAgICBpZiAobW9kZWwgPT09IG51bGwgfHwgdHlwZW9mIG1vZGVsICE9ICdvYmplY3QnIHx8IHR5cGVvZiBtb2RlbC5fd2lkZ2V0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSBbXTtcblxuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcpIGJpbmRpbmdzLnB1c2goJ2NzczogeyBub3RudWxsOiAnICsgcHJvcCArICcoKSAhPT0gbnVsbCB9Jyk7XG4gICAgICB0aXRsZSA9IG1vZGVsICE9PSBudWxsICYmIHR5cGVvZiBtb2RlbC5faGVscCAhPT0gJ3VuZGVmaW5lZCcgPyAnIHRpdGxlPVwiJyArIHV0aWxzLmFkZFNsYXNoZXMobW9kZWwuX2hlbHApICsgJ1wiIGRhdGEtYmluZD1cImF0dHI6IHsgdGl0bGU6ICRyb290LnV0KFxcJ3RlbXBsYXRlXFwnLCBcXCcnICsgdXRpbHMuYWRkU2xhc2hlcyhtb2RlbC5faGVscCkgKyAnXFwnKSB9XCInIDogJyc7XG4gICAgICBpZiAodGl0bGUubGVuZ3RoID4gMCkgYmluZGluZ3MucHVzaCgndG9vbHRpcHM6IHt9Jyk7XG4gICAgICB2YXIgYmluZCA9IGJpbmRpbmdzLmxlbmd0aCA+IDAgPyAnZGF0YS1iaW5kPVwiJyArIHV0aWxzLmFkZFNsYXNoZXMoYmluZGluZ3Muam9pbigpKSArICdcIicgOiAnJztcbiAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJwcm9wRWRpdG9yICcgKyAoY2hlY2tib3hlcyA/ICdjaGVja2JveGVzJyA6ICcnKSArICdcIicgKyBiaW5kICsgJz4nO1xuXG4gICAgICB2YXIgbW9kZWxOYW1lMiA9IChtb2RlbCAhPT0gbnVsbCAmJiB0eXBlb2YgbW9kZWwuX25hbWUgIT0gJ3VuZGVmaW5lZCcgPyBtb2RlbC5fbmFtZSA6ICh0eXBlb2YgcHJvcCAhPT0gJ3VuZGVmaW5lZCcgPyAnWycgKyBwcm9wICsgJ10nIDogJycpKTtcbiAgICAgIG1vZGVsTmFtZTIgPSAnPHNwYW4gZGF0YS1iaW5kPVwidGV4dDogJHJvb3QudXQoXFwndGVtcGxhdGVcXCcsIFxcJycgKyB1dGlscy5hZGRTbGFzaGVzKG1vZGVsTmFtZTIpICsgJ1xcJylcIj4nICsgbW9kZWxOYW1lMiArICc8L3NwYW4+JztcbiAgICAgIGh0bWwgKz0gJzxzcGFuJyArIHRpdGxlICsgJyBjbGFzcz1cInByb3BMYWJlbFwiPicgKyBtb2RlbE5hbWUyICsgJzwvc3Bhbj4nO1xuICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInByb3BJbnB1dCAnICsgKHR5cGVvZiBnbG9iYWxTdHlsZXMgIT0gJ3VuZGVmaW5lZCcgPyAnbG9jYWwnIDogJycpICsgJ1wiIGRhdGEtYmluZD1cImNzczogeyBkZWZhdWx0OiAnICsgcHJvcCArICcoKSA9PT0gbnVsbCB9XCI+JztcbiAgICAgIGh0bWwgKz0gX3Byb3BJbnB1dChtb2RlbCwgcHJvcCwgcHJvcEFjY2Vzc29yLCBlZGl0VHlwZSwgd2lkZ2V0cyk7XG4gICAgICBodG1sICs9ICc8L2Rpdj4nO1xuICAgICAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInByb3BJbnB1dCBnbG9iYWxcIiBkYXRhLWJpbmQ9XCJjc3M6IHsgb3ZlcnJpZGRlbjogJyArIHByb3AgKyAnKCkgIT09IG51bGwgfVwiPic7XG4gICAgICAgIGh0bWwgKz0gX3Byb3BJbnB1dChtb2RlbCwgcHJvcCwgZ2xvYmFsU3R5bGVQcm9wLCBlZGl0VHlwZSwgd2lkZ2V0cyk7XG4gICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgaWYgKGNoZWNrYm94ZXMpIHtcbiAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcENoZWNrXCI+PGxhYmVsIGRhdGEtYmluZD1cInRvb2x0aXBzOiB7fVwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBkYXRhLWJpbmQ9XCJmb2N1c2FibGU6IHRydWUsIGNsaWNrOiBmdW5jdGlvbihldnQsIG9iaikgeyAkcm9vdC5sb2NhbEdsb2JhbFN3aXRjaCgnICsgcHJvcCArICcsICcgKyBnbG9iYWxTdHlsZVByb3AgKyAnKTsgcmV0dXJuIHRydWU7IH0sIGNoZWNrZWQ6ICcgKyBwcm9wICsgJygpICE9PSBudWxsXCI+JztcbiAgICAgICAgICBodG1sICs9ICc8c3BhbiBjbGFzcz1cImNoZWNrYm94LXJlcGxhY2VyXCIgZGF0YS1iaW5kPVwiY3NzOiB7IGNoZWNrZWQ6ICcgKyBwcm9wICsgJygpICE9PSBudWxsIH0sIGF0dHI6IHsgdGl0bGU6ICRyb290LnQoXFwnVGhpcyBzdHlsZSBpcyBzcGVjaWZpYyBmb3IgdGhpcyBibG9jazogY2xpY2sgaGVyZSB0byByZW1vdmUgdGhlIGN1c3RvbSBzdHlsZSBhbmQgcmV2ZXJ0IHRvIHRoZSB0aGVtZSB2YWx1ZVxcJykgfVwiPjwvc3Bhbj4nO1xuICAgICAgICAgIGh0bWwgKz0gJzwvbGFiZWw+PC9kaXY+JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICB9IGVsc2UgaWYgKG1vZGVsID09PSBudWxsIHx8IHR5cGVvZiBtb2RlbCAhPSAnb2JqZWN0Jykge1xuICAgICAgLy8gVE9ETyByZW1vdmUgZGVidWcgb3V0cHV0XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcEVkaXRvciB1bmtub3duXCI+W0F8JyArIHByb3AgKyBcInxcIiArIHR5cGVvZiBtb2RlbCArICddPC9kaXY+JztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyByZW1vdmUgZGVidWcgb3V0cHV0XG4gICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicHJvcEVkaXRvciB1bmtub3duXCI+W0J8JyArIHByb3AgKyBcInxcIiArIHR5cGVvZiBtb2RlbCArICddPC9kaXY+JztcbiAgICB9XG5cblxuICB9XG5cbiAgaWYgKHR5cGVvZiBwcm9wICE9ICd1bmRlZmluZWQnICYmICEhdHJhY2tVc2FnZSkge1xuICAgIGh0bWwgKz0gJzwhLS0gL2tvIC0tPic7XG4gICAgaHRtbCArPSAnPCEtLSBrbyBpZlN1YnM6IHsgbm90OiB0cnVlLCBkYXRhOiAnICsgaWZTdWJzUHJvcCArICcsIHRocmVzaG9sZDogJyArIGlmU3Vic1RocmVzaG9sZCArICcsIGd1dHRlcjogMCB9IC0tPic7XG4gICAgaHRtbCArPSAnPHNwYW4gY2xhc3M9XCJsYWJlbCBub3R1c2VkXCI+KCcgKyBwcm9wICsgJyk8L3NwYW4+JztcbiAgICBodG1sICs9ICc8IS0tIC9rbyAtLT4nO1xuICB9XG5cbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5cbnZhciBjcmVhdGVCbG9ja0VkaXRvciA9IGZ1bmN0aW9uKGRlZnMsIHdpZGdldHMsIHRoZW1lVXBkYXRlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgZWRpdFR5cGUsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCwgdHJhY2tHbG9iYWxTdHlsZXMsIHRyYWNrVXNhZ2UsIGZyb21MZXZlbCkge1xuICBpZiAodHlwZW9mIHRyYWNrVXNhZ2UgPT0gJ3VuZGVmaW5lZCcpIHRyYWNrVXNhZ2UgPSB0cnVlO1xuICB2YXIgbW9kZWwgPSBtb2RlbERlZi5nZXREZWYoZGVmcywgdGVtcGxhdGVOYW1lKTtcblxuICB2YXIgcm9vdE1vZGVsID0gbW9kZWxEZWYuZ2V0RGVmKGRlZnMsIHJvb3RNb2RlbE5hbWUpO1xuICB2YXIgcm9vdFByZXZpZXdCaW5kaW5ncztcbiAgaWYgKHR5cGVvZiByb290TW9kZWwuX3ByZXZpZXdCaW5kaW5ncyAhPSAndW5kZWZpbmVkJyAmJiB0ZW1wbGF0ZU5hbWUgIT0gJ3RoYWVtZScgJiYgZWRpdFR5cGUgPT0gJ3N0eWxlcicpIHtcbiAgICByb290UHJldmlld0JpbmRpbmdzID0gZWxhYm9yYXRlRGVjbGFyYXRpb25zKHVuZGVmaW5lZCwgcm9vdE1vZGVsLl9wcmV2aWV3QmluZGluZ3MsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbERlZi5nZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIGRlZnMsIHRoZW1lVXBkYXRlciwgcm9vdE1vZGVsTmFtZSwgcm9vdE1vZGVsTmFtZSwgJycpKTtcbiAgfVxuXG4gIHZhciBnbG9iYWxTdHlsZXMgPSB0eXBlb2YgdHJhY2tHbG9iYWxTdHlsZXMgIT0gJ3VuZGVmaW5lZCcgJiYgdHJhY2tHbG9iYWxTdHlsZXMgPyBkZWZzW3RlbXBsYXRlTmFtZV0uX2dsb2JhbFN0eWxlcyA6IHVuZGVmaW5lZDtcbiAgdmFyIGdsb2JhbFN0eWxlUHJvcCA9IHR5cGVvZiB0cmFja0dsb2JhbFN0eWxlcyAhPSAndW5kZWZpbmVkJyAmJiB0cmFja0dsb2JhbFN0eWxlcyA/IGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgOiB1bmRlZmluZWQ7XG5cblxuICB2YXIgdGhlbWVNb2RlbDtcbiAgaWYgKHR5cGVvZiBnbG9iYWxTdHlsZVByb3AgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG1tID0gbW9kZWxEZWYuZ2V0RGVmKGRlZnMsICd0aGVtZScpO1xuICAgIC8vIFRPRE8gcmVtb3ZlIGRlcHJlY2F0ZWQgJHRoZW1lXG4gICAgdGhlbWVNb2RlbCA9IG1tW2dsb2JhbFN0eWxlUHJvcC5yZXBsYWNlKC9eKFxcJHRoZW1lfF90aGVtZV8pXFwuLywgJycpXTtcbiAgfVxuXG5cbiAgdmFyIHdpdGhCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5nZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIGRlZnMsIHRoZW1lVXBkYXRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lKTtcbiAgd2l0aEJpbmRpbmdQcm92aWRlci5fdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVOYW1lO1xuXG4gIHZhciBodG1sID0gJzxkaXYgY2xhc3M9XCJlZGl0b3JcIj4nO1xuICBodG1sICs9IFwiPGRpdiBjbGFzcz1cXFwiYmxvY2tUeXBlXCIgKyAodHlwZW9mIGdsb2JhbFN0eWxlcyAhPSAndW5kZWZpbmVkJyA/IFwiIHdpdGhkZWZhdWx0c1wiIDogXCJcIikgKyBcIlxcXCI+XCIgKyBtb2RlbC50eXBlICsgXCI8L2Rpdj5cIjtcblxuICB2YXIgZWRpdG9yQ29udGVudCA9IF9wcm9wRWRpdG9yKHdpdGhCaW5kaW5nUHJvdmlkZXIsIHdpZGdldHMsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBtb2RlbCwgdGhlbWVNb2RlbCwgXCJcIiwgdW5kZWZpbmVkLCBlZGl0VHlwZSwgZnJvbUxldmVsLCBiYXNlVGhyZXNob2xkLCBnbG9iYWxTdHlsZXMsIGdsb2JhbFN0eWxlUHJvcCwgdHJhY2tVc2FnZSwgcm9vdFByZXZpZXdCaW5kaW5ncyk7XG4gIGlmIChlZGl0b3JDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICBodG1sICs9IGVkaXRvckNvbnRlbnQ7XG4gIH1cblxuICBodG1sICs9ICc8L2Rpdj4nO1xuXG4gIHRlbXBsYXRlQ3JlYXRvcihodG1sLCB0ZW1wbGF0ZU5hbWUsIGVkaXRUeXBlKTtcbn07XG5cbnZhciBjcmVhdGVCbG9ja0VkaXRvcnMgPSBmdW5jdGlvbihkZWZzLCB3aWRnZXRzLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkge1xuICBjcmVhdGVCbG9ja0VkaXRvcihkZWZzLCB3aWRnZXRzLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsICdlZGl0JywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkKTtcbiAgY3JlYXRlQmxvY2tFZGl0b3IoZGVmcywgd2lkZ2V0cywgdGhlbWVVcGRhdGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lLCAnc3R5bGVyJywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkLCB0cnVlKTtcbn07XG5cbnZhciBnZW5lcmF0ZUVkaXRvcnMgPSBmdW5jdGlvbih0ZW1wbGF0ZURlZiwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIHRlbXBsYXRlQ3JlYXRvciwgYmFzZVRocmVzaG9sZCkge1xuICB2YXIgZGVmcyA9IHRlbXBsYXRlRGVmLl9kZWZzO1xuICB2YXIgdGVtcGxhdGVOYW1lID0gdGVtcGxhdGVEZWYudGVtcGxhdGVOYW1lO1xuICB2YXIgYmxvY2tzID0gdGVtcGxhdGVEZWYuX2Jsb2NrcztcbiAgdmFyIGlkeDtcbiAgdmFyIGJsb2NrRGVmcyA9IFtdO1xuICBmb3IgKGlkeCA9IDA7IGlkeCA8IGJsb2Nrcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgaWYgKHR5cGVvZiBibG9ja3NbaWR4XS5jb250YWluZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBibG9ja0RlZnMucHVzaChtb2RlbERlZi5nZW5lcmF0ZU1vZGVsKGRlZnMsIGJsb2Nrc1tpZHhdLmJsb2NrKSk7XG4gICAgfVxuICAgIGNyZWF0ZUJsb2NrRWRpdG9ycyhkZWZzLCB3aWRnZXRzLCB1bmRlZmluZWQsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBibG9ja3NbaWR4XS5yb290LCBibG9ja3NbaWR4XS5ibG9jaywgdGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGVmc1sndGhlbWUnXSAhPSAndW5kZWZpbmVkJykgY3JlYXRlQmxvY2tFZGl0b3IoZGVmcywgd2lkZ2V0cywgdW5kZWZpbmVkLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgdGVtcGxhdGVOYW1lLCAndGhlbWUnLCAnc3R5bGVyJywgdGVtcGxhdGVDcmVhdG9yLCB1bmRlZmluZWQsIGZhbHNlLCBmYWxzZSwgLTEpO1xuICByZXR1cm4gYmxvY2tEZWZzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZW5lcmF0ZUVkaXRvcnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciBtb2RlbERlZiA9IHJlcXVpcmUoXCIuL21vZGVsLmpzXCIpO1xuXG52YXIgd3JhcHBlZFJlc3VsdE1vZGVsID0gZnVuY3Rpb24odGVtcGxhdGVEZWYpIHtcbiAgdmFyIGRlZnMgPSB0ZW1wbGF0ZURlZi5fZGVmcztcbiAgdmFyIHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlRGVmLnRlbXBsYXRlTmFtZTtcbiAgdmFyIGZpbmFsTW9kZWxDb250ZW50RGVmID0gbW9kZWxEZWYuZ2V0RGVmKGRlZnMsIHRlbXBsYXRlTmFtZSk7XG5cbiAgdmFyIGZpbmFsTW9kZWxDb250ZW50ID0gbW9kZWxEZWYuZ2VuZXJhdGVSZXN1bHRNb2RlbCh0ZW1wbGF0ZURlZik7XG5cbiAgdmFyIHdyYXBwZXIgPSByZXF1aXJlKFwiLi93cmFwcGVyLmpzXCIpO1xuICB2YXIgcmVzID0gd3JhcHBlcihmaW5hbE1vZGVsQ29udGVudCwgZmluYWxNb2RlbENvbnRlbnREZWYsIGRlZnMpO1xuXG4gIHJldHVybiByZXM7XG59O1xuXG4vLyByZXF1aXJlcyBvbmx5IHdoZW4gaW1wb3J0ZWRcbnZhciB0cmFuc2xhdGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdHQgPSByZXF1aXJlKCcuL3BhcnNlci5qcycpO1xuICByZXR1cm4gdHQuYXBwbHkodHQsIGFyZ3VtZW50cyk7XG59O1xuXG4vLyByZXF1aXJlcyBvbmx5IHdoZW4gaW1wb3J0ZWRcbnZhciBnZW5lcmF0ZUVkaXRvcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGdlID0gcmVxdWlyZSgnLi9lZGl0b3IuanMnKTtcbiAgcmV0dXJuIGdlLmFwcGx5KGdlLCBhcmd1bWVudHMpO1xufTtcblxudmFyIGNoZWNrTW9kZWwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNtID0gcmVxdWlyZSgnLi9jaGVja21vZGVsLmpzJyk7XG4gIHJldHVybiBjbS5hcHBseShjbSwgYXJndW1lbnRzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0cmFuc2xhdGVUZW1wbGF0ZTogdHJhbnNsYXRlVGVtcGxhdGUsXG4gIHdyYXBwZWRSZXN1bHRNb2RlbDogd3JhcHBlZFJlc3VsdE1vZGVsLFxuICBnZW5lcmF0ZVJlc3VsdE1vZGVsOiBtb2RlbERlZi5nZW5lcmF0ZVJlc3VsdE1vZGVsLFxuICBnZW5lcmF0ZUVkaXRvcnM6IGdlbmVyYXRlRWRpdG9ycyxcbiAgY2hlY2tNb2RlbDogY2hlY2tNb2RlbFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG9iakV4dGVuZCA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpLm9iakV4dGVuZDtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbnZhciBfdmFsdWVTZXQgPSBmdW5jdGlvbihkZWZzLCBtb2RlbCwgcHJvcCwgdmFsdWUpIHtcbiAgdmFyIGRvdFBvcyA9IHByb3AuaW5kZXhPZignLicpO1xuICBpZiAoZG90UG9zID09IC0xKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJVbmRlZmluZWQgcHJvcCBcIiArIHByb3AgKyBcIiB3aGlsZSBzZXR0aW5nIHZhbHVlIFwiICsgdmFsdWUgKyBcIiBpbiBtb2RlbC5fdmFsdWVTZXRcIik7XG4gICAgfSBlbHNlIGlmIChtb2RlbFtwcm9wXSA9PT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUucHVzaCA9PSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coXCJudWxscHJvcG9iamVjdHZhbHVlXCIsIHByb3AsIHZhbHVlKTtcbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLnB1c2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHZhbHVlcztcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSB2YWx1ZS5tYXRjaCgvXlxcWyguKilcXF0kLyk7XG4gICAgICAgIGlmICh2YWx1ZXNTdHJpbmcgIT09IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZXMgPSB2YWx1ZXNTdHJpbmdbMV0uc3BsaXQoJywnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUucHVzaCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFsdWVzID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZGVmYXVsdCB2YWx1ZSBmb3IgYXJyYXkgcHJvcGVydHkgXCIgKyBwcm9wICsgXCI6IFwiICsgdmFsdWUgKyBcIiB0eXBlb2YgXCIgKyAodHlwZW9mIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbaV0uc3Vic3RyKDAsIDEpID09ICdAJykge1xuICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoaXMgbGVnYWN5IHN1cHBvcnQgKEApLCBzbyB3ZSBjYW4gcmVtb3ZlIFwiZGVmc1wiIGZyb20gdGhpcyBmdW5jdGlvbiwgdG9vLlxuICAgICAgICAgIHJlcy5wdXNoKF9nZW5lcmF0ZU1vZGVsKGRlZnMsIHZhbHVlc1tpXS5zdWJzdHIoMSkpKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZXNbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJlcy5wdXNoKHZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1vZGVsW3Byb3BdID0gcmVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZGVsW3Byb3BdID09ICdzdHJpbmcnIHx8IHR5cGVvZiBtb2RlbFtwcm9wXSA9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIFRPRE8gZG9lcyB0aGlzIHN0aWxsIGhhcHBlbj8gRGVidWcvdGVzdCBtZS5cbiAgICAgIG1vZGVsW3Byb3BdID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWxbcHJvcF0gPT0gJ29iamVjdCcgJiYgbW9kZWxbcHJvcF0gIT09IG51bGwgJiYgdHlwZW9mIG1vZGVsW3Byb3BdLl93aWRnZXQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIGNvbnNvbGUubG9nKFwib2JqZWN0dmFsdWVcIiwgcHJvcCwgbW9kZWxbcHJvcF0uX3dpZGdldCwgdmFsdWUpO1xuICAgICAgLy8gX2RhdGEgaXMgZGVmaW5lZCBmb3IgcHJpbWl0aXZlIHR5cGVzXG4gICAgICBtb2RlbFtwcm9wXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcInNldHRpbmdcIiwgdHlwZW9mIG1vZGVsW3Byb3BdLCBtb2RlbFtwcm9wXSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgcHJvcE5hbWUgPSBwcm9wLnN1YnN0cigwLCBkb3RQb3MpO1xuICAgIF92YWx1ZVNldChkZWZzLCBtb2RlbFtwcm9wTmFtZV0sIHByb3Auc3Vic3RyKGRvdFBvcyArIDEpLCB2YWx1ZSk7XG4gIH1cbn07XG5cbnZhciBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmID0gZnVuY3Rpb24oZGVmcywgdGVtcGxhdGVOYW1lLCBwcm9wZXJ0aWVzLCBuYW1lZFByb3BlcnRpZXMpIHtcbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5faW5pdGlhbGl6ZWQgJiYgIWRlZnNbdGVtcGxhdGVOYW1lXS5fd3JpdGVhYmxlKSB7XG4gICAgY29uc29sZS5sb2coXCJfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmXCIsIGRlZnMsIHRlbXBsYXRlTmFtZSwgcHJvcGVydGllcywgbmFtZWRQcm9wZXJ0aWVzKTtcbiAgICB0aHJvdyBcIlRyeWluZyB0byBhbHRlciBub24gd3JpdGVhYmxlIG1vZGVsOiBcIiArIHRlbXBsYXRlTmFtZSArIFwiIC8gXCIgKyBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV0gPSB7XG4gICAgICBfd3JpdGVhYmxlOiB0cnVlXG4gICAgfTtcbiAgICAvLyBGYWxsYmFjayBjb21wdXRhdGlvbiBvZiBcImNhdGVnb3J5XCIgZGVwZW5kaW5nIG9uIHRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgLy8gVE9ETyByZW1vdmUgbWU6IHRoaXMgc2hvdWxkIGJlIGFsd2F5cyBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLCBubyBuZWVkIHRvIGhhcmRjb2RlIHRoaXMgc3R1ZmYuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMgPT0gJ3VuZGVmaW5lZCcpIG5hbWVkUHJvcGVydGllcyA9IHt9O1xuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2NhdGVnb3J5ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGVtcGxhdGVOYW1lLm1hdGNoKC8oXnR8LlQpaGVtZSQvKSB8fCB0ZW1wbGF0ZU5hbWUubWF0Y2goLyhec3wuUyl0eWxlJC8pIHx8IHRlbXBsYXRlTmFtZS5tYXRjaCgvKF5jfC5DKW9sb3IkLykgfHwgdGVtcGxhdGVOYW1lLm1hdGNoKC8oXnJ8LlIpYWRpdXMkLykpIHtcbiAgICAgICAgbmFtZWRQcm9wZXJ0aWVzLmNhdGVnb3J5ID0gJ3N0eWxlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVkUHJvcGVydGllcy5jYXRlZ29yeSA9ICdjb250ZW50JztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyBuZWVkZWQgYmVmb3JlIHRoZSBlbmRpbmcgbmFtZWRQcm9wZXJ0eSBcImxvb3BcIiBvciBub3QuXG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMubmFtZSAhPSAndW5kZWZpbmVkJykgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9uYW1lID0gbmFtZWRQcm9wZXJ0aWVzLm5hbWU7XG5cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy50aGVtZU92ZXJyaWRlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUgPSBuYW1lZFByb3BlcnRpZXMudGhlbWVPdmVycmlkZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGUgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSBuYW1lZFByb3BlcnRpZXMuZ2xvYmFsU3R5bGU7XG4gICAgICAvLyBUT0RPIHJlbW92ZSBkZXByZWNhdGVkICR0aGVtZVxuICAgICAgdmFyIGdsb2JhbFN0eWxlU3ViID0gbmFtZWRQcm9wZXJ0aWVzLmdsb2JhbFN0eWxlLnJlcGxhY2UoL14oXFwkdGhlbWV8X3RoZW1lXylcXC4vLCAnJyk7XG4gICAgICB2YXIgcCA9IGdsb2JhbFN0eWxlU3ViLmluZGV4T2YoJy4nKTtcbiAgICAgIHZhciBncyA9IHAgIT0gLTEgPyBnbG9iYWxTdHlsZVN1Yi5zdWJzdHIoMCwgcCkgOiBnbG9iYWxTdHlsZVN1YjtcbiAgICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgJ3RoZW1lJywgZ3MpO1xuXG4gICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PT0gJ3VuZGVmaW5lZCcgfHwgISFkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCB0ZW1wbGF0ZU5hbWUsIFwiY3VzdG9tU3R5bGU9ZmFsc2VcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9jb250ZXh0ID0gbmFtZWRQcm9wZXJ0aWVzLmNvbnRleHROYW1lO1xuICAgICAgLy8gVE9ETyBpcyBpdCBjb3JyZWN0IHRvIGZhbGxiYWNrIHRvIFwiYm9keVRoZW1lXCIgZm9yIGJsb2NrcyBub3QgZGVjbGFyaW5nIGEgZGVmYXVsdCB0aGVtZT9cbiAgICAgIC8vIE1heWJlIGl0IHdvdWxkIGJlIGJldHRlciB0byBzaW1wbHkgZGVjbGFyZSBpdCBhcyBtYW5kYXRvcnkgYnV0IGxlYXZlIHRoZSBkZWZhdWx0IGNvbmZpZ3V0YXRpb25cbiAgICAgIC8vIHRvIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uLlxuICAgICAgaWYgKG5hbWVkUHJvcGVydGllcy5jb250ZXh0TmFtZSA9PSAnYmxvY2snICYmIHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX2dsb2JhbFN0eWxlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGRlZnNbdGVtcGxhdGVOYW1lXS5fZ2xvYmFsU3R5bGUgPSAnX3RoZW1lXy5ib2R5VGhlbWUnO1xuICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0aGVtZScsICdib2R5VGhlbWUnKTtcblxuICAgICAgICBpZiAodHlwZW9mIGRlZnNbdGVtcGxhdGVOYW1lXS5fdGhlbWVPdmVycmlkZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZzW3RlbXBsYXRlTmFtZV0uX3RoZW1lT3ZlcnJpZGUpIHtcbiAgICAgICAgICBfbW9kZWxDcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgXCJjdXN0b21TdHlsZT1mYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG5hbWVkUHJvcGVydGllcy5leHRlbmQgIT0gJ3VuZGVmaW5lZCcpIGRlZnNbdGVtcGxhdGVOYW1lXS50eXBlID0gbmFtZWRQcm9wZXJ0aWVzLmV4dGVuZDtcbiAgfVxuXG4gIGZvciAodmFyIG5wIGluIG5hbWVkUHJvcGVydGllcykgaWYgKG5hbWVkUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShucCkgJiYgdHlwZW9mIG5hbWVkUHJvcGVydGllc1tucF0gIT09ICd1bmRlZmluZWQnICYmIFsnbmFtZScsICdleHRlbmQnLCAnY29udGV4dE5hbWUnLCAnZ2xvYmFsU3R5bGUnLCd0aGVtZU92ZXJyaWRlJ10uaW5kZXhPZihucCkgPT0gLTEpIHtcbiAgICBkZWZzW3RlbXBsYXRlTmFtZV1bJ18nK25wXSA9IG5hbWVkUHJvcGVydGllc1tucF07XG4gIH1cblxuICBpZiAodHlwZW9mIHByb3BlcnRpZXMgIT0gJ3VuZGVmaW5lZCcgJiYgcHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgZGVmc1t0ZW1wbGF0ZU5hbWVdLl9wcm9wcyA9IHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3Byb3BzICE9ICd1bmRlZmluZWQnICYmIGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMubGVuZ3RoID4gMCA/IGRlZnNbdGVtcGxhdGVOYW1lXS5fcHJvcHMgKyBcIiBcIiArIHByb3BlcnRpZXMgOiBwcm9wZXJ0aWVzO1xuICB9XG59O1xuXG4vLyByZW1vdmUgdGhlIGZpcnN0IFwic2VxdWVuY2VcIiBpbiBhIGNhbWVsY2FzZWQgd29yZCAoZS5nOiBteUNhbWVsQ2FzZSA9PiBjYW1lbENhc2UpLlxudmFyIF9yZW1vdmVQcmVmaXggPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIHJlcyA9IHN0ci5tYXRjaCgvXlteQS1aXSsoW0EtWl0pKC4qKSQvKTtcbiAgcmV0dXJuIHJlcyAhPT0gbnVsbCA/IHJlc1sxXS50b0xvd2VyQ2FzZSgpICsgcmVzWzJdIDogbnVsbDtcbn07XG5cbi8vIFRPRE8gZGVmcyBpcyBuZWVkZWQgb25seSBiZWNhdXNlIF92YWx1ZVNldCBuZWVkcyBpdC4uIHdlIHNob3VsZCByZW1vdmUgaXQgZG93bnN0cmVhbS5cbnZhciBfZ2VuZXJhdGVNb2RlbEZyb21EZWYgPSBmdW5jdGlvbihtb2RlbERlZiwgZGVmcykge1xuICB2YXIgcmVzID0ge307XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbERlZilcbiAgICBpZiAoIXByb3AubWF0Y2goL15fLiovKSAmJiBtb2RlbERlZi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgdmFyIHZhbHVlID0gbW9kZWxEZWZbcHJvcF07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZS5fY29tcGxleCAhPSAndW5kZWZpbmVkJyAmJiB2YWx1ZS5fY29tcGxleCkge1xuICAgICAgICByZXNbcHJvcF0gPSBfZ2VuZXJhdGVNb2RlbEZyb21EZWYodmFsdWUsIGRlZnMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09ICd0eXBlJykge1xuICAgICAgICByZXNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIG1vc3QgdGltZXMgdGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IF92YWx1ZVNldFxuICAgICAgICByZXNbcHJvcF0gPSBudWxsO1xuICAgICAgICAvLyBmb3IgY3VzdG9tU3R5bGUgdGhpcyBpcyBzZXQgdG8gbnVsbC5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG1vZGVsIGRlZlwiLCBwcm9wLCB2YWx1ZSwgbW9kZWxEZWYpO1xuICAgICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZGVmIFtcIiArIHByb3AgKyBcIl09XCIgKyB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgaWYgKHR5cGVvZiBtb2RlbERlZi5fZGVmYXVsdFZhbHVlcyAhPSAndW5kZWZpbmVkJykge1xuICAgIHZhciBkZWZhdWx0cyA9IG1vZGVsRGVmLl9kZWZhdWx0VmFsdWVzO1xuICAgIGZvciAodmFyIHByb3AyIGluIGRlZmF1bHRzKVxuICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KHByb3AyKSkge1xuICAgICAgICBfdmFsdWVTZXQoZGVmcywgcmVzLCBwcm9wMiwgZGVmYXVsdHNbcHJvcDJdKTtcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG52YXIgX2dlbmVyYXRlTW9kZWwgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHZhciBtb2RlbERlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBuYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gIHJldHVybiBfZ2VuZXJhdGVNb2RlbEZyb21EZWYobW9kZWxEZWYsIGRlZnMpO1xufTtcblxudmFyIF9nZXREZWYgPSBmdW5jdGlvbihkZWZzLCBuYW1lKSB7XG4gIHJldHVybiBfZ2V0TW9kZWxEZWYoZGVmcywgbmFtZSwgZmFsc2UsIHRydWUpO1xufTtcblxudmFyIF9nZXRNb2RlbERlZiA9IGZ1bmN0aW9uKGRlZnMsIG5hbWUsIHJldHVybkNsb25lLCByZWFkb25seSkge1xuICAvLyBsb29rdXAgXCJuYW1lXCIgaW4gdGhlIHRlbXBsYXRlIGRlZmluaXRpb25cbiAgaWYgKHR5cGVvZiBkZWZzW25hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gaWYgdGhlIG5hbWUgaGFzIGEgc3BhY2UgdGhlbiByZXR1cm5zLlxuICAgIGlmIChuYW1lLmluZGV4T2YoJyAnKSAhPSAtMSkgcmV0dXJuIG51bGw7XG4gICAgLy8gb3RoZXJ3aXNlIHRyeSBsb29raW5nIHVwIHVzaW5nIGEgZGVwcmVmaXhlZCBuYW1lLlxuICAgIHZhciByZXMgPSBfcmVtb3ZlUHJlZml4KG5hbWUpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE8gdGhlIGRlcHJlZml4aW5nIGlzIHBvd2VyZnVsLCBidXQgbWF5YmUgbm90IHJlYWxseSBuZWVkZWQuXG4gICAgICByZXR1cm4gX2dldE1vZGVsRGVmKGRlZnMsIHJlcywgcmV0dXJuQ2xvbmUsIHJlYWRvbmx5KTtcbiAgICB9XG4gICAgLy8gbm90IGEgcHJlZml4ZWQgbmFtZVxuICAgIC8vIFRPRE8gc2hvdWxkIHdlIHJhaXNlIGFuIGVycm9yP1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIC8vIHdoZW4gdGhlIG5hbWUgaXMgYWxyZWFkeSBkZWZpbmVkLi4uXG4gICAgdmFyIGRlZk9iaiA9IGRlZnNbbmFtZV07XG4gICAgaWYgKHR5cGVvZiBkZWZPYmogIT0gJ29iamVjdCcpIHRocm93IFwiQmxvY2sgZGVmaW5pdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogZm91bmQgXCIgKyBkZWZPYmogKyBcIiBmb3IgXCIgKyBuYW1lO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZPYmouX2luaXRpYWxpemVkID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBQb3B1bGF0ZSBcInR5cGVcIiBkZXBlbmRpbmcgb24gbmFtZVxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmoudHlwZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCcgJykgPT0gLTEpIHtcbiAgICAgICAgICBkZWZPYmoudHlwZSA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmT2JqLnR5cGUgPSBuYW1lLnN1YnN0cihuYW1lLmluZGV4T2YoJyAnKSArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0IGlzIG5vdCBhIFwiZGF0YVwiIHR5cGUgdGhlbiBsZXQncyBkZWFsIHdpdGggaW5oZXJpdGFuY2VcbiAgICAgIGlmIChkZWZPYmoudHlwZSAhPSBuYW1lICYmIHR5cGVvZiBkZWZPYmouX3dpZGdldCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBkZWZPYmoudHlwZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBleHRlbmRlZCA9IG9iakV4dGVuZCh0eXBlRGVmLCBkZWZPYmopO1xuICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgZGVmc1tuYW1lXSA9IGRlZk9iajtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZk9iai5fd2lkZ2V0ID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX3Byb3BzID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZPYmouX2NvbXBsZXggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gVE9ETyBoZXJlIEkgdHJpZWQgdG8gZGVhbCB3aXRoIGluaGVyaXRhbmNlIGZvciBldmVyeSBvYmplY3Qgd2l0aG91dCBhIFwidHlwZVwiIGJ5IHVzaW5nIGEgc2ltcGxlIGRlcHJlZml4LlxuICAgICAgICAvLyBidXQgdGhpcyBicmVhayBvbiB0aGVtZSBjb250YWluaW5nIFwicGFnZVRoZW1lXCIgdGhhdCB3b3VsZCBpbmhlcml0IGZyb20gaXMgcGFyZW50LiAoY3JlYXRpbmcgYSBsb29wKVxuICAgICAgICAvKlxuICAgICAgICB2YXIgc3VwZXJUeXBlID0gX3JlbW92ZVByZWZpeChkZWZPYmoudHlwZSk7XG4gICAgICAgIGlmIChzdXBlclR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4dGVuZGluZ1wiLCB0eXBlRGVmLCBuYW1lLCBzdXBlclR5cGUsIGRlZk9iai50eXBlKTtcbiAgICAgICAgICB2YXIgdHlwZURlZiA9IF9nZXRNb2RlbERlZihkZWZzLCBzdXBlclR5cGUsIHRydWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIHZhciBleHRlbmRlZCA9IGpRdWVyeS5leHRlbmQodHJ1ZSwgdHlwZURlZiwgZGVmT2JqKTtcbiAgICAgICAgICBkZWZPYmogPSBleHRlbmRlZDtcbiAgICAgICAgICBkZWZzW25hbWVdID0gZGVmT2JqO1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICB9XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IHRydWU7XG4gICAgICBkZWZPYmouX2luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvcHMgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBkZWYgPSBkZWZPYmouX3Byb3BzO1xuICAgICAgZGVmID0gZGVmLnNwbGl0KFwiIFwiKTtcblxuICAgICAgaWYgKGRlZi5sZW5ndGggPiAwICYmIHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0IFwiLCBuYW1lLCBkZWYsIGRlZk9iaik7XG4gICAgICAgIHRocm93IFwiQWx0ZXJpbmcgYSBub24gd3JpdGFibGUgb2JqZWN0OiBcIiArIG5hbWUgKyBcIiBkZWY6IFwiICsgZGVmO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fcHJvY2Vzc2VkRGVmcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX3Byb2Nlc3NlZERlZnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2dsb2JhbFN0eWxlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2dsb2JhbFN0eWxlcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRlZk9iai5fZGVmYXVsdFZhbHVlcyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWZPYmouX2RlZmF1bHRWYWx1ZXMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3AgPSBkZWZbaV07XG4gICAgICAgIGlmIChwcm9wLmxlbmd0aCA9PT0gMCkgY29udGludWU7XG4gICAgICAgIHZhciBvcmlnUHJvcCA9IHByb3A7XG4gICAgICAgIHZhciBkZWZWYWx1ZSA9IG51bGw7XG4gICAgICAgIC8vIHBhcnNlcyAgXCJwcm9wXCIgXCJwcm9wPXZhbHVlXCIgYW5kIFwicHJvcFtdXCIgZGVjbGFyYXRpb25zXG4gICAgICAgIHZhciBwcm9wRGVmID0gcHJvcC5tYXRjaCgvXihbXj1cXFtcXF1dKykoXFxbXFxdKT8oPT8pKC4qKSQvKTtcbiAgICAgICAgaWYgKHByb3BEZWYgIT09IG51bGwpIHtcbiAgICAgICAgICBwcm9wID0gcHJvcERlZlsxXTtcbiAgICAgICAgICAvLyBUT0RPIGFycmF5IGRlZmluaXRpb24gc2hvdWxkIGJlIGRvbmUgZGlmZmVyZW50bHlcbiAgICAgICAgICBpZiAocHJvcERlZlsyXSA9PSAnW10nKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHR5cGUgc2hvdWxkIG5vdCBiZSBkZWZpbmVkIGluIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmT2JqW3Byb3BdID09ICd1bmRlZmluZWQnKSBkZWZPYmpbcHJvcF0gPSBbXTtcbiAgICAgICAgICAgIGRlZlZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9wRGVmWzNdID09ICc9Jykge1xuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIFwidmlzaWJsZVwiIG1hdGNoaW5nICh0aGlzIHNob3VsZCBiZSBkZWZpbmVkIGluIHRoZSB0ZW1wbGF0ZSBkZWZpbml0aW9uKVxuICAgICAgICAgICAgaWYgKHByb3AubWF0Y2goLyhednxWKWlzaWJsZSQvKSkgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICBlbHNlIGlmIChwcm9wLm1hdGNoKC9eY3VzdG9tU3R5bGUkLykpIHtcbiAgICAgICAgICAgICAgZGVmVmFsdWUgPSBTdHJpbmcocHJvcERlZls0XSkudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICB9IGVsc2UgZGVmVmFsdWUgPSBwcm9wRGVmWzRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlcyBmb3VuZCBpbiBcInByb3BlcnRpZXNcIiBhcmUgbm90IGJlaW5nIHByb2Nlc3NlZCBieSBcIm1vZGVsRW5zdXJlVmFsdWVcIiBhbmQgYnkgY29uc2VxdWVuY2UgZG8gbm90IGNhbGwgXCJ0aGVtZVVwZGF0ZXJcIi5cbiAgICAgICAgLy8gVE9ETyBkb2N1bWVudCB3aHkgdGhpcyBpcyBuZWVkZWQsIG9yIHJlbW92ZS5cbiAgICAgICAgaWYgKGRlZlZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX2RlZmF1bHRWYWx1ZXNbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIGlmIChwcm9wLm1hdGNoKC9eXy8pKSBjb25zb2xlLmxvZyhcImRlZlZhbHVlIGZvclwiLCBwcm9wLCBcImluXCIsIG5hbWUpO1xuICAgICAgICAgICAgZGVmT2JqLl9kZWZhdWx0VmFsdWVzW3Byb3BdID0gZGVmVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkZWZPYmpbcHJvcF0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICB2YXIgdmFsID0gX2dldE1vZGVsRGVmKGRlZnMsIG5hbWUgKyAnICcgKyBwcm9wLCB0cnVlKTtcbiAgICAgICAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgcHJvcCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZk9ialtwcm9wXSA9IHZhbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZk9iai5fcHJvY2Vzc2VkRGVmc1twcm9wXSA9IG9yaWdQcm9wO1xuICAgICAgICBkZWZPYmouX2NvbXBsZXggPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZGVmT2JqLl9wcm9wcztcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuQ2xvbmUpIHtcbiAgICAgIGRlZk9iai5fd3JpdGVhYmxlID0gZmFsc2U7XG4gICAgICB2YXIgY2xvbmVkID0gb2JqRXh0ZW5kKHt9LCBkZWZPYmopO1xuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9IGVsc2UgaWYgKHJlYWRvbmx5KSB7XG4gICAgICBkZWZPYmouX3dyaXRlYWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGRlZk9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBkZWZPYmouX3dyaXRlYWJsZSA9PSAndW5kZWZpbmVkJyB8fCBkZWZPYmouX3dyaXRlYWJsZSA9PT0gZmFsc2UpIHRocm93IFwiUmV0cmlldmluZyBub24gd3JpdGVhYmxlIG9iamVjdCBkZWZpbml0aW9uOiBcIiArIG5hbWU7XG4gICAgICByZXR1cm4gZGVmT2JqO1xuICAgIH1cbiAgfVxufTtcblxudmFyIF9pbmNyZWFzZVVzZUNvdW50ID0gZnVuY3Rpb24ocmVhZG9ubHksIG1vZGVsKSB7XG4gIGlmICghcmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIG1vZGVsLl91c2Vjb3VudCA9PSAndW5kZWZpbmVkJykgbW9kZWwuX3VzZWNvdW50ID0gMDtcbiAgICBtb2RlbC5fdXNlY291bnQrKztcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kZWwuX3VzZWNvdW50ID09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVSUk9SIHRyeWluZyB0byBiaW5kIGFuIHVudXNlZCBwcm9wZXJ0eSB3aGlsZSByZWFkb25seVwiLCBtb2RlbCk7XG4gICAgdGhyb3cgXCJFUlJPUiB0cnlpbmcgdG8gYmluZCBhbiB1bnVzZWQgcHJvcGVydHlcIjtcbiAgfVxufTtcblxudmFyIGVuc3VyZUdsb2JhbFN0eWxlID0gZnVuY3Rpb24oZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHBhdGgsIGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KSB7XG5cbiAgdmFyIGdsb2JhbFN0eWxlQmluZGluZ0JpbmRWYWx1ZSA9IGdzQmluZGluZ1Byb3ZpZGVyKGdzRnVsbFBhdGgsIGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVEZWZhdWx0KTtcblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIF9nbG9iYWxTdHlsZSBmb3IgXCIgKyBwYXRoICsgXCIgaW4gXCIgKyBtb2RlbE5hbWUgKyBcIiFcIjtcbiAgICBpZiAocGF0aC5pbmRleE9mKCcuJykgIT0gLTEgfHwgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcGF0aF0gPT0gJ29iamVjdCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwYXRoXS5fd2lkZ2V0ICE9PSAndW5kZWZpbmVkJykpIHtcbiAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdID0gZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWZzW21vZGVsTmFtZV0uX2dsb2JhbFN0eWxlc1twYXRoXSAhPSBnbG9iYWxTdHlsZUJpbmRpbmdCaW5kVmFsdWUpIHRocm93IFwiVW5leHBlY3RlZCBjb25mbGljdGluZyBnbG9iYWxTdHlsZSBbMl0gZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCI6IG9sZD1cIiArIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGVzW3BhdGhdICsgXCIgbmV3PVwiICsgZ2xvYmFsU3R5bGVCaW5kaW5nQmluZFZhbHVlO1xufTtcblxuLy8gdGhlbWVVcGRhdGVyLCBkZWZhdWx0VmFsdWUsIG92ZXJyaWRlRGVmYXVsdCwgc2V0Y2F0ZWdvcnkgYXJlIG9ubHkgdXNlZCBpbiAhcmVhZG9ubHkgbW9kZVxudmFyIG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZSA9IGZ1bmN0aW9uKHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgd2l0aGluLCBmdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQsIHNldGNhdGVnb3J5KSB7XG4gIHZhciBtb2RlbE5hbWU7XG4gIHZhciByZXM7XG4gIHZhciBwYXRoO1xuICAvLyBUT0RPIHJlbW92ZSAnJCcgYW5kICcjJyBoYW5kaW5nXG4gIGlmIChmdWxsUGF0aC5zdWJzdHIoMCwgMSkgPT0gJyQnKSB7XG4gICAgY29uc29sZS53YXJuKFwiREVQUkVDQVRFRCAkIGluIGJpbmRpbmdQcm92aWRlcjogXCIsIGZ1bGxQYXRoLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIHZhciBwID0gZnVsbFBhdGguaW5kZXhPZignLicpO1xuICAgIGlmIChwID09IC0xKSB7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZnVsbFBhdGg6IFwiICsgZnVsbFBhdGggKyBcIi9cIiArIHdpdGhpbiArIFwiL1wiICsgdGVtcGxhdGVOYW1lICsgXCIvXCIgKyBkZWZhdWx0VmFsdWUgKyBcIi9cIiArIG92ZXJyaWRlRGVmYXVsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDEsIHAgLSAxKTtcbiAgICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIocCArIDEpO1xuICAgICAgLy8gVE9ETyByZWZhY3RvciBtZSBwbGVhc2VcbiAgICAgIGlmIChtb2RlbE5hbWUgPT0gJ3RoZW1lJykge1xuICAgICAgICB2YXIgcDIgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgICAgICAgbW9kZWxOYW1lID0gcGF0aC5zdWJzdHIoMCwgcDIpO1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHIocDIgKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCAkIHNlcXVlbmNlOiBcIiArIG1vZGVsTmFtZSArIFwiIGluIFwiICsgZnVsbFBhdGg7XG4gICAgICB9XG4gICAgICByZXMgPSBcIiRyb290LmNvbnRlbnQoKS50aGVtZSgpLlwiICsgbW9kZWxOYW1lICsgXCIoKS5cIiArIHBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcLicsICdnJyksICcoKS4nKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDEpID09ICcjJykge1xuICAgIGNvbnNvbGUud2FybihcIkRFUFJFQ0FURUQgIyBpbiBiaW5kaW5nUHJvdmlkZXI6IFwiLCBmdWxsUGF0aCwgdGVtcGxhdGVOYW1lKTtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoMSk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSBpZiAoZnVsbFBhdGguc3Vic3RyKDAsIDgpID09ICdfdGhlbWVfLicpIHtcbiAgICB2YXIgcDMgPSBmdWxsUGF0aC5pbmRleE9mKCcuJywgOCk7XG4gICAgbW9kZWxOYW1lID0gZnVsbFBhdGguc3Vic3RyKDgsIHAzIC0gOCk7XG4gICAgcGF0aCA9IGZ1bGxQYXRoLnN1YnN0cihwMyArIDEpO1xuICAgIHJlcyA9IFwiJHJvb3QuY29udGVudCgpLnRoZW1lKCkuXCIgKyBtb2RlbE5hbWUgKyBcIigpLlwiICsgcGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9IGVsc2UgaWYgKGZ1bGxQYXRoLnN1YnN0cigwLCA3KSA9PSAnX3Jvb3RfLicpIHtcbiAgICBtb2RlbE5hbWUgPSByb290TW9kZWxOYW1lO1xuICAgIHBhdGggPSBmdWxsUGF0aC5zdWJzdHIoNyk7XG4gICAgcmVzID0gXCIkcm9vdC5jb250ZW50KCkuXCIgKyBwYXRoLnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXC4nLCAnZycpLCAnKCkuJyk7XG4gIH0gZWxzZSB7XG4gICAgbW9kZWxOYW1lID0gdGVtcGxhdGVOYW1lO1xuICAgIHBhdGggPSB3aXRoaW4gKyBmdWxsUGF0aDtcbiAgICByZXMgPSBmdWxsUGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFwuJywgJ2cnKSwgJygpLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkZWZzW21vZGVsTmFtZV0gPT09ICd1bmRlZmluZWQnKSB0aHJvdyBcIkNhbm5vdCBmaW5kIG1vZGVsIGRlZiBmb3IgW1wiICsgbW9kZWxOYW1lICsgXCJdXCI7XG5cbiAgdmFyIHByb3BQb3MgPSBwYXRoLmluZGV4T2YoJy4nKTtcbiAgdmFyIHByb3BOYW1lID0gcHJvcFBvcyA9PSAtMSA/IHBhdGggOiBwYXRoLnN1YnN0cigwLCBwcm9wUG9zKTtcblxuICBpZiAobW9kZWxOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIGJsb2NrIG5hbWVzXCIsIG1vZGVsTmFtZSk7XG4gICAgdGhyb3cgXCJFUlJPUiB1bmV4cGVjdGVkIGNoYXIgaW4gYmxvY2sgbmFtZTogXCIgKyBtb2RlbE5hbWU7XG4gIH1cbiAgaWYgKHByb3BOYW1lLmluZGV4T2YoJy0nKSAhPSAtMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUiBjYW5ub3QgdXNlIC0gZm9yIHByb3BlcnR5IG5hbWVzXCIsIHByb3BOYW1lKTtcbiAgICB0aHJvdyBcIkVSUk9SIHVuZXhwZWN0ZWQgY2hhciBpbiBwcm9wZXJ0eSBuYW1lOiBcIiArIG1vZGVsTmFtZTtcbiAgfVxuXG4gIC8vIEZhc3RwYXRoXG4gIGlmIChyZWFkb25seSkge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG5cbiAgLy8gZ2V0cyB0aGUgd3JpdGFibGUgbW9kZWwgd2hlbiBcIiFyZWFkb25seVwiIG9yIHRoZSByZWFkb25seSBtb2RlbCBvdGhlcndpc2VcbiAgdmFyIG1vZGVsO1xuICBpZiAocmVhZG9ubHkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHRocm93IFwiQ2Fubm90IHVzZSBkZWZhdWx0VmFsdWUgaW4gcmVhZG9ubHkgbW9kZSFcIjtcbiAgICBpZiAob3ZlcnJpZGVEZWZhdWx0KSB0aHJvdyBcIkNhbm5vdCB1c2Ugb3ZlcnJpZGVEZWZhdWx0IGluIHJlYWRvbmx5IG1vZGUgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyBwYXRoICsgXCIvXCIgKyBvdmVycmlkZURlZmF1bHQgKyBcIiFcIjtcbiAgICBpZiAodHlwZW9mIHNldGNhdGVnb3J5ICE9PSAndW5kZWZpbmVkJykgdGhyb3cgXCJDYW5ub3Qgc2V0IGNhdGVnb3J5IGZvciBcIiArIG1vZGVsTmFtZSArIFwiL1wiICsgcGF0aCArIFwiL1wiICsgc2V0Y2F0ZWdvcnkgKyBcIiBpbiByZWFkb25seSBtb2RlIVwiO1xuICAgIG1vZGVsID0gX2dldE1vZGVsRGVmKGRlZnMsIG1vZGVsTmFtZSwgZmFsc2UsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpIGNvbnNvbGUubG9nKFwiVE9ETyBkZWJ1ZyB1c2UgY2FzZXMgZm9yIHRoaXMgY29uZGl0aW9uXCIsIG1vZGVsTmFtZSwgcGF0aCk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBkZWZzW21vZGVsTmFtZV0uX3dyaXRlYWJsZSA9PT0gZmFsc2UpO1xuICB9XG5cbiAgaWYgKG1vZGVsID09PSBudWxsKSB0aHJvdyBcIlVuZXhwZWN0ZWQgbW9kZWwgZm9yIFtcIiArIG1vZGVsTmFtZSArIFwiXVwiO1xuXG4gIC8vIGlmIHRoZSBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdHMgd2UgaGF2ZSB0byBjcmVhdGUgaXQuXG4gIGlmICh0eXBlb2YgbW9kZWxbcHJvcE5hbWVdID09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gd2hlbiBpbiByZWFkb25seSBtb2RlIHRoaXMgY2Fubm90IGJlIGRvbmUhXG4gICAgaWYgKHJlYWRvbmx5KSB0aHJvdyBcIkNhbm5vdCBmaW5kIHBhdGggXCIgKyBwcm9wTmFtZSArIFwiIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgIF9tb2RlbENyZWF0ZU9yVXBkYXRlQmxvY2tEZWYoZGVmcywgbW9kZWxOYW1lLCBwcm9wTmFtZSk7XG4gICAgbW9kZWwgPSBfZ2V0TW9kZWxEZWYoZGVmcywgbW9kZWxOYW1lLCBmYWxzZSk7XG4gIH1cblxuICAvLyBOZWVkcyB0byBkbyB0aGlzIGFnYWluLCBiZWNhdXNlIFwiX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlwiIGNvdWxkIGhhdmUgYmVlbiBqdXN0IGNyZWF0ZWQgdGhlIHByb3BlcnR5IChlLmc6IGJhY2tncm91bmRDb2xvciBidXR0b25CbG9jayBub3QgZ2V0dGluZyBkZWZhdWx0Q29tcHV0ZWQgaW4gdGVtcGxhdGUtbG0pXG4gIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fY2F0ZWdvcnkgPT0gJ3N0eWxlJykge1xuICAgIHJlcyArPSAnLl9kZWZhdWx0Q29tcHV0ZWQnO1xuICB9XG5cbiAgdmFyIGNoaWxkTW9kZWwgPSBtb2RlbDtcbiAgdHJ5IHtcbiAgICBfaW5jcmVhc2VVc2VDb3VudChyZWFkb25seSwgY2hpbGRNb2RlbCk7XG4gICAgaWYgKHByb3BQb3MgIT0gLTEpIHtcbiAgICAgIHZhciBteXBhdGggPSBwYXRoO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgcHJvcCA9IG15cGF0aC5zdWJzdHIoMCwgcHJvcFBvcyk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbFtwcm9wXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwcm9wIFwiICsgcHJvcCArIFwiIGZvciBtb2RlbCBcIiArIG1vZGVsTmFtZSArIFwiIGZvciBcIiArIHBhdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZE1vZGVsID0gY2hpbGRNb2RlbFtwcm9wXTtcbiAgICAgICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICAgICAgICBteXBhdGggPSBteXBhdGguc3Vic3RyKHByb3BQb3MgKyAxKTtcbiAgICAgICAgcHJvcFBvcyA9IG15cGF0aC5pbmRleE9mKCcuJyk7XG4gICAgICB9IHdoaWxlIChwcm9wUG9zICE9IC0xKTtcblxuICAgICAgaWYgKHR5cGVvZiBjaGlsZE1vZGVsW215cGF0aF0gPT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbFtteXBhdGhdID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IFwiRm91bmQgYW4gdW5leHBlY3RlZCBwYXRoIHRlcm1pbmF0aW9uIFwiICsgbXlwYXRoICsgXCIgZm9yIG1vZGVsIFwiICsgbW9kZWxOYW1lICsgXCIgZm9yIFwiICsgcGF0aDtcbiAgICAgIH1cbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW215cGF0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkTW9kZWwgPSBjaGlsZE1vZGVsW3BhdGhdO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2hpbGRNb2RlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgY2hpbGRNb2RlbCA9PT0gbnVsbCkgdGhyb3cgXCJVbmV4cGVjdGVkIG51bGwgbW9kZWwgZm9yIFwiICsgbW9kZWxOYW1lICsgXCIvXCIgKyB3aXRoaW4gKyBcIi9cIiArIGZ1bGxQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBzZXRjYXRlZ29yeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoaWxkTW9kZWwuX2NhdGVnb3J5ID0gc2V0Y2F0ZWdvcnk7XG4gICAgfVxuXG4gICAgX2luY3JlYXNlVXNlQ291bnQocmVhZG9ubHksIGNoaWxkTW9kZWwpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlRPRE8gRVJST1IgUHJvcGVydHkgbG9va3VwIGV4Y2VwdGlvblwiLCBlLCBtb2RlbE5hbWUsIHBhdGgsIHRlbXBsYXRlTmFtZSwgZnVsbFBhdGgsIGRlZnMpO1xuICAgIHRocm93IGU7XG4gIH1cblxuICBpZiAodHlwZW9mIGRlZnNbbW9kZWxOYW1lXS5fZ2xvYmFsU3R5bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdID09ICdvYmplY3QnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0gIT09IG51bGwgJiYgdHlwZW9mIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ICE9ICd1bmRlZmluZWQnICYmIGRlZnNbbW9kZWxOYW1lXVtwcm9wTmFtZV0uX2NhdGVnb3J5ID09ICdzdHlsZScpIHtcbiAgICAvLyBUT0RPIGNhbiBJIHJlc3RyaWN0IHRoaXMgY29kZSB0byAhcmVhZG9ubHkgbW9kZT9cbiAgICB2YXIgZ3NCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbEVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWUuYmluZCh1bmRlZmluZWQsIHJlYWRvbmx5LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuXG4gICAgdmFyIHN1YlBhdGggPSBwYXRoLmluZGV4T2YoJy4nKSAhPSAtMSA/IHBhdGguc3Vic3RyKHBhdGguaW5kZXhPZignLicpKSA6ICcnO1xuXG4gICAgLy8gVGhlIG5leHQgY29kZSBzdXBwb3J0cyBvbmx5IHByb3BlcnRpZXMgd2l0aCBvbmUgZG90IChvYmplY3QucHJvcGVydHkpLlxuICAgIGlmIChzdWJQYXRoLmluZGV4T2YoJy4nLCAxKSAhPSAtMSkgdGhyb3cgXCJUT0RPIHVuc3VwcG9ydGVkIG9iamVjdCBuZXN0aW5nISBcIiArIHBhdGg7XG5cbiAgICB2YXIgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdLl9nbG9iYWxTdHlsZSArICcuJyArIHByb3BOYW1lO1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXSA9PSAnb2JqZWN0JyAmJiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdICE9PSBudWxsICYmIHR5cGVvZiBkZWZzW21vZGVsTmFtZV1bcHJvcE5hbWVdLl9nbG9iYWxTdHlsZSAhPSAndW5kZWZpbmVkJykge1xuICAgICAgZ3NQYXRoID0gZGVmc1ttb2RlbE5hbWVdW3Byb3BOYW1lXS5fZ2xvYmFsU3R5bGU7XG4gICAgfVxuXG4gICAgZW5zdXJlR2xvYmFsU3R5bGUoZGVmcywgcmVhZG9ubHksIGdzQmluZGluZ1Byb3ZpZGVyLCBtb2RlbE5hbWUsIHByb3BOYW1lLCBnc1BhdGgsIHVuZGVmaW5lZCwgZmFsc2UpO1xuXG4gICAgdmFyIGdzRnVsbFBhdGggPSBnc1BhdGggKyBzdWJQYXRoO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT0gJ3VuZGVmaW5lZCcgJiYgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdICE9PSBudWxsKSBkZWZhdWx0VmFsdWUgPSBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF07XG5cbiAgICBlbnN1cmVHbG9iYWxTdHlsZShkZWZzLCByZWFkb25seSwgZ3NCaW5kaW5nUHJvdmlkZXIsIG1vZGVsTmFtZSwgcGF0aCwgZ3NGdWxsUGF0aCwgZGVmYXVsdFZhbHVlLCBvdmVycmlkZURlZmF1bHQpO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocmVhZG9ubHkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBzZXQgYSBuZXcgdGhlbWUgZGVmYXVsdCB2YWx1ZVwiLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlLCBcIndoaWxlIGluIHJlYWRvbmx5IG1vZGVcIik7XG4gICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBhIG5ldyB0aGVtZSBkZWZhdWx0IHZhbHVlIChcIiArIGRlZmF1bHRWYWx1ZSArIFwiKSBmb3IgXCIgKyBnc0Z1bGxQYXRoLnN1YnN0cig3KSArIFwiIHdoaWxlIGluIHJlYWRvbmx5IG1vZGUhXCI7XG4gICAgICB9XG4gICAgICB0aGVtZVVwZGF0ZXIoJ2RlZmF1bHQnLCBnc0Z1bGxQYXRoLnN1YnN0cig3KSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIGNvbXBsZXggc3R1ZmYuIElmIHRoZSB0aGVtZSB1c2VzIGluaGVyaXRhbmNlIHdlIGVuZm9yY2UgaXQgdXNpbmcgd2l0aCB0aGUgc2FtZSB2YWx1ZSwgYnV0IHRoaXMgaXMgYSBsaW1pdC5cbiAgICBkZWZhdWx0VmFsdWUgPSBudWxsO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSAhPSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZGVmc1ttb2RlbE5hbWVdLl9kZWZhdWx0VmFsdWVzW3BhdGhdID09ICd1bmRlZmluZWQnIHx8ICh0eXBlb2Ygb3ZlcnJpZGVEZWZhdWx0ICE9ICd1bmRlZmluZWQnICYmIG92ZXJyaWRlRGVmYXVsdCkpIHtcbiAgICAgIGlmIChyZWFkb25seSkgdGhyb3cgXCJDYW5ub3Qgc2V0IG5ldyBfZGVmYXVsdFZhbHVlcyBbMV0gZm9yIFwiICsgcGF0aCArIFwiIGluIFwiICsgbW9kZWxOYW1lICsgXCIhXCI7XG4gICAgICBkZWZzW21vZGVsTmFtZV0uX2RlZmF1bHRWYWx1ZXNbcGF0aF0gPSBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHJlYWRvbmx5ICYmIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IFwiQ2Fubm90IHNldCBuZXcgX2RlZmF1bHRWYWx1ZXMgWzJdIGZvciBcIiArIHBhdGggKyBcIiBpbiBcIiArIG1vZGVsTmFtZSArIFwiIVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcmVtb3ZlIGRlZmF1bHQgdmFsdWUuIFVnbHkuIChOZWVkcyB0aGlzIGZvciBkZWZhdWx0cyBpbiB0ZW1wbGF0ZS1sbSBzb2NpYWxMaW5rc0ljb24pXG4gICAgICAgIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSAhPSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRPRE8gZXJyb3IhISEgVHJ5aW5nIHRvIHNldCBhIG5ldyBkZWZhdWx0IHZhbHVlIGZvciBcIiArIG1vZGVsTmFtZSArIFwiIFwiICsgcGF0aCArIFwiIHdoaWxlIGl0IGFscmVhZHkgZXhpc3RzIChjdXJyZW50OiBcIiArIGRlZnNbbW9kZWxOYW1lXS5fZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCIpO1xuICAgICAgICB0aHJvdyBcIlRyeWluZyB0byBzZXQgYSBuZXcgZGVmYXVsdCB2YWx1ZSBmb3IgXCIgKyBtb2RlbE5hbWUgKyBcIiBcIiArIHBhdGggKyBcIiB3aGlsZSBpdCBhbHJlYWR5IGV4aXN0cyAoY3VycmVudDogXCIgKyBkZWZzW21vZGVsTmFtZV0uZGVmYXVsdFZhbHVlc1twYXRoXSArIFwiLCBuZXc6IFwiICsgZGVmYXVsdFZhbHVlICsgXCIpXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBnZW5lcmF0ZVJlc3VsdE1vZGVsID0gZnVuY3Rpb24odGVtcGxhdGVEZWYpIHtcbiAgdmFyIGRlZnMgPSB0ZW1wbGF0ZURlZi5fZGVmcztcbiAgdmFyIHRlbXBsYXRlTmFtZSA9IHRlbXBsYXRlRGVmLnRlbXBsYXRlTmFtZTtcblxuICB2YXIgZmluYWxNb2RlbENvbnRlbnQgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFRPRE8gdWdseSB0byBhZGQgdGhpcyBtYW51YWxseVxuICBpZiAodHlwZW9mIGRlZnNbJ3RoZW1lJ10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZmluYWxNb2RlbENvbnRlbnQudGhlbWUgPSBfZ2VuZXJhdGVNb2RlbChkZWZzLCAndGhlbWUnKTtcbiAgfVxuXG4gIHJldHVybiBmaW5hbE1vZGVsQ29udGVudDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyB1c2VkIHRvIGNvbXBpbGUgdGhlIHRlbXBsYXRlXG4gIGVuc3VyZVBhdGhBbmRHZXRCaW5kVmFsdWU6IG1vZGVsRW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZS5iaW5kKHVuZGVmaW5lZCwgZmFsc2UpLFxuICAvLyB1c2VkIGluIHJ1bnRpbWUgdGhlIHRlbXBsYXRlXG4gIGdldEJpbmRWYWx1ZTogbW9kZWxFbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCB0cnVlKSxcbiAgZ2VuZXJhdGVNb2RlbDogX2dlbmVyYXRlTW9kZWwsXG4gIGdlbmVyYXRlUmVzdWx0TW9kZWw6IGdlbmVyYXRlUmVzdWx0TW9kZWwsXG4gIGdldERlZjogX2dldERlZixcbiAgY3JlYXRlT3JVcGRhdGVCbG9ja0RlZjogX21vZGVsQ3JlYXRlT3JVcGRhdGVCbG9ja0RlZlxufTsiLCJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG5cbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG52YXIgcHJvY2Vzc1N0eWxlc2hlZXRSdWxlcyA9IHJlcXVpcmUoXCIuL3N0eWxlc2hlZXQuanNcIik7XG52YXIgbW9kZWxEZWYgPSByZXF1aXJlKFwiLi9tb2RlbC5qc1wiKTtcbnZhciBkb211dGlscyA9IHJlcXVpcmUoXCIuL2RvbXV0aWxzLmpzXCIpO1xuXG52YXIgd3JhcEVsZW1lbnRXaXRoQ29uZGl0aW9uID0gZnVuY3Rpb24oYXR0cmlidXRlLCBlbGVtZW50LCBiaW5kaW5nUHJvdmlkZXIpIHtcbiAgdmFyIGNvbmQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcblxuICB0cnkge1xuICAgIHZhciBiaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGlmOiAnICsgYmluZGluZyArICcgLS0+Jyk7XG4gICAgJChlbGVtZW50KS5hZnRlcignPCEtLSAva28gLS0+Jyk7XG4gICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJNb2RlbCBlbnN1cmUgcGF0aCBmYWlsZWQgaW4gaWYvdmFyaWFudFwiLCBlbGVtZW50LCBjb25kLCBhdHRyaWJ1dGUpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxudmFyIHJlcGxhY2VkQXR0cmlidXRlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBcInJlcGxhY2VkXCIgKyBhdHRyaWJ1dGVOYW1lKSk7XG59O1xuXG52YXIgcHJvY2Vzc1N0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgYWRkVW5pcXVlSWQpIHtcbiAgdmFyIHN0eWxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdyZXBsYWNlZHN0eWxlJyk7XG4gIHZhciBuZXdTdHlsZSA9IG51bGw7XG4gIHZhciBuZXdCaW5kaW5ncztcbiAgaWYgKGFkZFVuaXF1ZUlkKSBuZXdCaW5kaW5ncyA9IHtcbiAgICB1bmlxdWVJZDogJyRkYXRhJyxcbiAgICBhdHRyOiB7XG4gICAgICBpZDogJ2lkJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlRGlzcGxheU5vbmUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tZGlzcGxheScpICE9PSBudWxsO1xuXG4gIG5ld1N0eWxlID0gZWxhYm9yYXRlRGVjbGFyYXRpb25zKHN0eWxlLCB1bmRlZmluZWQsIHRlbXBsYXRlVXJsQ29udmVydGVyLCBiaW5kaW5nUHJvdmlkZXIsIGVsZW1lbnQsIG5ld0JpbmRpbmdzLCByZW1vdmVEaXNwbGF5Tm9uZSk7XG5cbiAgLy8gb25seSB3aGVuIHVzaW5nIFwicmVwbGFjZWRcIlxuICBpZiAobmV3U3R5bGUgPT09IG51bGwpIHtcbiAgICBuZXdTdHlsZSA9IHN0eWxlO1xuICB9IGVsc2Uge1xuICAgIC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGJpbmRpbmdzIHdlIGtlZXAgcmVwbGFjZWRzdHlsZSB0byBiZSB1c2VkIGJ5IElFIGR1cmluZyBvdXRwdXRcbiAgICAvLyBvdGhlcndpc2UgSSByZW1vdmUgaXQgYmVjYXVzZSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHZpcnR1YWxBdHRyU3R5bGUgYmluZGluZy5cbiAgICAvLyBUT0RPIG1heWJlIHdlIGJldHRlciB1c2UgZGlmZmVyZW50IG5hbWVzIGZvciBcInJlcGxhY2VkXCIgdXNlZCBkdXJpbmcgdGVtcGxhdGUgY29udmVyc2lvblxuICAgIC8vIGFuZCB0aGUgb25lcyB1c2VkIHRvIGNyZWF0ZSB0aGUgb3V0cHV0LlxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAncmVwbGFjZWRzdHlsZScpO1xuICB9XG5cbiAgaWYgKG5ld1N0eWxlICE9PSBudWxsKSB7XG4gICAgaWYgKG5ld1N0eWxlLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJywgbmV3U3R5bGUpO1xuICAgIH0gZWxzZSBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3N0eWxlJyk7XG4gIH1cbn07XG5cblxuLy8gVE9ETyBmaXhpbmcgVVJMcyBpcyBhbHNvIG5lZWRlZCB3aGVyZSBzdHlsZXMgdXNlcyBwYXRoIChlLmc6IGJhY2tncm91bmQtaW1hZ2UsIEBpbXBvcnQpXG52YXIgX2ZpeFJlbGF0aXZlUGF0aCA9IGZ1bmN0aW9uKGF0dHJpYnV0ZSwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGluZGV4LCBlbGVtZW50KSB7XG4gIHZhciB1cmwgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTtcbiAgdmFyIG5ld1VybCA9IHRlbXBsYXRlVXJsQ29udmVydGVyKHVybCk7XG4gIGlmIChuZXdVcmwgIT09IG51bGwpIHtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCBuZXdVcmwpO1xuICB9XG59O1xuXG5cbnZhciBwcm9jZXNzQmxvY2sgPSBmdW5jdGlvbihlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIGJsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgY29udGV4dE5hbWUsIHJvb3RNb2RlbE5hbWUsIGNvbnRhaW5lck5hbWUsIGdlbmVyYXRlVW5pcXVlSWQsIHRlbXBsYXRlQ3JlYXRvcikge1xuXG4gIHRyeSB7XG5cbiAgdmFyIHRlbXBsYXRlTmFtZTtcbiAgdmFyIHZhcmlhbnROYW1lID0gJycsXG4gICAgdmFyaWFudERlZiA9ICcnO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykge1xuICAgIHRlbXBsYXRlTmFtZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1ibG9jaycpO1xuICB9IGVsc2UgaWYgKGNvbnRleHROYW1lID09ICd0ZW1wbGF0ZScpIHtcbiAgICB0ZW1wbGF0ZU5hbWUgPSByb290TW9kZWxOYW1lO1xuICB9IGVsc2Uge1xuICAgIHRocm93IFwiVW5leHBlY3RlZCBjb250ZXh0IG5hbWUgd2hpbGUgcHJvY2Vzc2luZyBibG9jazogXCIgKyBjb250ZXh0TmFtZTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKFwicHJvY2Vzc0Jsb2NrXCIsIGNvbnRleHROYW1lLCByb290TW9kZWxOYW1lLCBjb250YWluZXJOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gIC8vIFJlbW92ZSBlbGVtZW50XG4gICQoJ1tkYXRhLWtvLXJlbW92ZV0nLCBlbGVtZW50KS5yZW1vdmUoKTtcblxuICB2YXIgZml4ZWRCbG9ja3MgPSAkKCdbZGF0YS1rby1ibG9ja10nLCBlbGVtZW50KS5yZXBsYWNlV2l0aCgnPHJlcGxhY2VkYmxvY2s+Jyk7XG5cbiAgLy8gVXJscyBpbiB0aGVzZSBhdHRyaWJ1dGVzIG5lZWRzIFwicmVsYXRpdml6YXRpb25cIlxuICB2YXIgdXJsYXR0cnMgPSBbJ2hyZWYnLCAnc3JjJywgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJywgJ2JhY2tncm91bmQnXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cmxhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIC8vIGZhY2NpbyBpbCBiaW5kIHBlciBub24gZGVmaW5pcmUgZnVuemlvbmkgaW4gdW4gbG9vcCAoanNoaW50KVxuICAgIHZhciBmdW5jID0gX2ZpeFJlbGF0aXZlUGF0aC5iaW5kKHVuZGVmaW5lZCwgdXJsYXR0cnNbaV0sIHRlbXBsYXRlVXJsQ29udmVydGVyKTtcbiAgICAkKCdbJyArIHVybGF0dHJzW2ldICsgJ10nLCBlbGVtZW50KS5lYWNoKGZ1bmMpO1xuICB9XG5cbiAgdmFyIGRhdGFEZWZzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgaWYgKGRhdGFEZWZzID09PSBudWxsKSBkYXRhRGVmcyA9IFwiXCI7XG4gICQoXCJbZGF0YS1rby1wcm9wZXJ0aWVzXVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgaWYgKGRhdGFEZWZzLmxlbmd0aCA+IDApIGRhdGFEZWZzID0gZGF0YURlZnMgKyBcIiBcIjtcbiAgICBkYXRhRGVmcyA9IGRhdGFEZWZzICsgZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXByb3BlcnRpZXMnKTtcbiAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcHJvcGVydGllcycpO1xuICB9KTtcblxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsIHRlbXBsYXRlTmFtZSwgZGF0YURlZnMsIHsgY29udGV4dE5hbWU6IGNvbnRleHROYW1lIH0pO1xuXG4gIHZhciBiaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycpO1xuICBpZiAoY29udGV4dE5hbWUgPT0gJ2Jsb2NrJykgYmluZGluZ1Byb3ZpZGVyKCdpZCcsICcnKTtcblxuICAkKCdzdHlsZScsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgc3R5bGUgPSBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCk7XG5cbiAgICB2YXIgYmxvY2tEZWZzVXBkYXRlciA9IG1vZGVsRGVmLmNyZWF0ZU9yVXBkYXRlQmxvY2tEZWYuYmluZCh1bmRlZmluZWQsIGRlZnMpO1xuICAgIHZhciBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIgPSBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlLmJpbmQodW5kZWZpbmVkLCBkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUpO1xuICAgIHZhciBuZXdTdHlsZSA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMoc3R5bGUsIHVuZGVmaW5lZCwgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuXG4gICAgaWYgKG5ld1N0eWxlICE9IHN0eWxlKSB7XG4gICAgICBpZiAobmV3U3R5bGUudHJpbSgpICE9PSAnJykge1xuICAgICAgICB2YXIgdG1wTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihuZXdTdHlsZSk7XG4gICAgICAgIGRvbXV0aWxzLnNldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJywgJ3RlbXBsYXRlOiB7IG5hbWU6IFxcJycgKyB0bXBOYW1lICsgJ1xcJyB9Jyk7XG4gICAgICAgIC8vIGhvIGNyZWF0byBpbCB0ZW1wbGF0ZSBxdWluZGkgcG9zc28gc3Z1b3RhcmUgaWwgc29yZ2VudGUuXG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVtb3ZlIGVtcHR5IHN0eWxlcyBibG9ja3NcbiAgICAgICAgZG9tdXRpbHMucmVtb3ZlRWxlbWVudHMoJChlbGVtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBwcm9jZXNzU3R5bGUoZWxlbWVudCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIGJpbmRpbmdQcm92aWRlciwgZ2VuZXJhdGVVbmlxdWVJZCk7XG5cbiAgLy8gVE9ETyBocmVmIHNob3VsZCBiZSBzdXBwb3J0ZWQuIGRhdGEta28tZGlzcGxheSBhbmQgZGF0YS1rby13cmFwIHNob3VsZCBuZXZlciBoYXBwZW4gaW4gaGVyZS5cbiAgdmFyIG5vdHN1cHBvcnRlZCA9IFsnZGF0YS1rby1kaXNwbGF5JywgJ2RhdGEta28tZWRpdGFibGUnLCAnZGF0YS1rby13cmFwJywgJ2hyZWYnXTtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBub3RzdXBwb3J0ZWQubGVuZ3RoOyBqKyspIHtcbiAgICB2YXIgYXR0ciA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCBub3RzdXBwb3J0ZWRbal0pO1xuICAgIGlmIChhdHRyKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJFUlJPUjogVW5zdXBwb3J0ZWQgXCIgKyBub3RzdXBwb3J0ZWRbal0gKyBcIiB1c2VkIHRvZ2V0aGVyIHdpdGggZGF0YS1rby1ibG9ja1wiLCBlbGVtZW50KTtcbiAgICAgIHRocm93IFwiRVJST1I6IFVuc3VwcG9ydGVkIFwiICsgbm90c3VwcG9ydGVkW2pdICsgXCIgdXNlZCB0b2dldGhlciB3aXRoIGRhdGEta28tYmxvY2tcIjtcbiAgICB9XG4gIH1cblxuICAvLyBzaW1wbHkgcHJlcHJvY2Vzc2VkIGFzIGRhdGEta28td3JhcCArIC1rby1hdHRyLWhyZWZcbiAgJChcIltkYXRhLWtvLWxpbmtdXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgdXJsVmFyID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWxpbmsnKTtcbiAgICB2YXIgcmVwU3R5bGUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnKTtcbiAgICBpZiAodHlwZW9mIHJlcFN0eWxlID09ICd1bmRlZmluZWQnIHx8IHJlcFN0eWxlID09PSBudWxsKSByZXBTdHlsZSA9ICcnO1xuICAgIGlmIChyZXBTdHlsZSAhPT0gJycpIHJlcFN0eWxlID0gJy1rby1hdHRyLWhyZWY6IEAnICsgdXJsVmFyICsgXCI7IFwiICsgcmVwU3R5bGU7XG4gICAgZWxzZSByZXBTdHlsZSA9ICcta28tYXR0ci1ocmVmOiBAJyArIHVybFZhcjtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ3JlcGxhY2Vkc3R5bGUnLCByZXBTdHlsZSk7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnLCB1cmxWYXIpO1xuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1saW5rJyk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRzdHlsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NTdHlsZShlbGVtZW50LCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyLCBmYWxzZSk7XG4gIH0pO1xuXG4gICQoXCJbcmVwbGFjZWRodHRwLWVxdWl2XVwiLCBlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XG4gICAgcmVwbGFjZWRBdHRyaWJ1dGVzKGVsZW1lbnQsIFwiaHR0cC1lcXVpdlwiKTtcbiAgfSk7XG5cbiAgJChcIltkYXRhLWtvLWRpc3BsYXldXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB3cmFwRWxlbWVudFdpdGhDb25kaXRpb24oJ2RhdGEta28tZGlzcGxheScsIGVsZW1lbnQsIGJpbmRpbmdQcm92aWRlcik7XG4gIH0pO1xuXG4gICQoXCJbZGF0YS1rby1lZGl0YWJsZV1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBuZXdCaW5kaW5nLCBkZWZhdWx0VmFsdWUsIG1vZGVsLCBjdXJyZW50QmluZGluZ3MsIGRhdGFCaW5kO1xuXG5cbiAgICB2YXIgZGF0YUVkaXRhYmxlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiZGF0YS1rby1lZGl0YWJsZVwiKTtcblxuICAgIC8vIFRPRE8gYWRkIHZhbGlkYXRpb24gb2YgdGhlIGVkaXRhYmxlXG5cbiAgICB2YXIgaXRlbUJpbmRWYWx1ZTtcbiAgICB2YXIgc2VsZWN0QmluZGluZztcbiAgICBpZiAoZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICB2YXIgc3VicyA9IGRhdGFFZGl0YWJsZS5zdWJzdHIoMCwgZGF0YUVkaXRhYmxlLmxhc3RJbmRleE9mKCcuJykpO1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihzdWJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUJpbmRWYWx1ZSA9IGJpbmRpbmdQcm92aWRlcihkYXRhRWRpdGFibGUpO1xuICAgIH1cbiAgICBzZWxlY3RCaW5kaW5nID0gXCJ3eXNpd3lnQ2xpY2s6IGZ1bmN0aW9uKG9iaiwgZXZ0KSB7ICRyb290LnNlbGVjdEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIsICRkYXRhKTsgcmV0dXJuIGZhbHNlIH0sIGNsaWNrQnViYmxlOiBmYWxzZSwgd3lzaXd5Z0NzczogeyBzZWxlY3RlZGl0ZW06ICRyb290LmlzU2VsZWN0ZWRJdGVtKFwiICsgaXRlbUJpbmRWYWx1ZSArIFwiKSB9LCBzY3JvbGxJbnRvVmlldzogJHJvb3QuaXNTZWxlY3RlZEl0ZW0oXCIgKyBpdGVtQmluZFZhbHVlICsgXCIpXCI7XG5cbiAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpICE9ICdpbWcnKSB7XG5cblxuICAgICAgZGVmYXVsdFZhbHVlID0gZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpO1xuICAgICAgdmFyIG1vZGVsQmluZFZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgZGVmYXVsdFZhbHVlLCB0cnVlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwiXCI7XG5cbiAgICAgIGlmICghZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiaWRcIikpIHtcbiAgICAgICAgbmV3QmluZGluZyArPSBcInd5c2l3eWdJZDogaWQoKSsnX1wiICsgZGF0YUVkaXRhYmxlLnJlcGxhY2UoJy4nLCAnXycpICsgXCInLCBcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RCaW5kaW5nICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdCaW5kaW5nICs9IHNlbGVjdEJpbmRpbmcgKyBcIiwgXCI7XG4gICAgICB9XG5cbiAgICAgIG5ld0JpbmRpbmcgKz0gXCJ3eXNpd3lnT3JIdG1sOiBcIiArIG1vZGVsQmluZFZhbHVlO1xuXG4gICAgICBpZiAoZG9tdXRpbHMuZ2V0TG93ZXJUYWdOYW1lKGVsZW1lbnQpID09ICd0ZCcpIHtcbiAgICAgICAgdmFyIHdyYXBwaW5nRGl2ID0gJCgnPGRpdiBkYXRhLWtvLXdyYXA9XCJmYWxzZVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJVwiPjwvZGl2PicpWzBdO1xuICAgICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUod3JhcHBpbmdEaXYsICdkYXRhLWJpbmQnLCBuZXdCaW5kaW5nKTtcbiAgICAgICAgdmFyIG5ld0NvbnRlbnQgPSBkb211dGlscy5nZXRJbm5lckh0bWwoJCgnPGRpdj48L2Rpdj4nKS5hcHBlbmQod3JhcHBpbmdEaXYpKTtcbiAgICAgICAgZG9tdXRpbHMuc2V0Q29udGVudChlbGVtZW50LCBuZXdDb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRCaW5kaW5ncyA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1iaW5kJyk7XG4gICAgICAgIGRhdGFCaW5kID0gKGN1cnJlbnRCaW5kaW5ncyAhPT0gbnVsbCA/IGN1cnJlbnRCaW5kaW5ncyArIFwiLCBcIiA6IFwiXCIpICsgbmV3QmluZGluZztcbiAgICAgICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gICAgICAgIGRvbXV0aWxzLnNldENvbnRlbnQoZWxlbWVudCwgJycpO1xuICAgICAgfVxuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB3aWR0aCA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnd2lkdGgnKTtcbiAgICAgIGlmICh3aWR0aCA9PT0gJycpIHdpZHRoID0gbnVsbDtcbiAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIiwgZWxlbWVudCk7XG4gICAgICAgIHRocm93IFwiRVJST1I6IGRhdGEta28tZWRpdGFibGUgaW1hZ2VzIG11c3QgZGVjbGFyZSBhIFdJRFRIIGF0dHJpYnV0ZSFcIjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHQgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hlaWdodCcpO1xuICAgICAgaWYgKGhlaWdodCA9PT0gJycpIGhlaWdodCA9IG51bGw7XG5cbiAgICAgIHZhciBhbGlnbiA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnYWxpZ24nKTtcblxuICAgICAgY3VycmVudEJpbmRpbmdzID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgICAgLy8gVE9ETyB0aGlzIGlzIHVnbHkuLi4gbWF5YmUgYSBiZXR0ZXIgc3RyYXRlZ3kgaXMgdG8gcGFzcyB0aGlzIGFyb3VuZCB1c2luZyBcImRhdGEtXCIgYXR0cmlidXRlc1xuICAgICAgdmFyIGR5bkhlaWdodCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogaGVpZ2h0OiAoW14sfV0qKVssfV0vKTtcbiAgICAgIGlmIChkeW5IZWlnaHQpIGhlaWdodCA9IGR5bkhlaWdodFsxXTtcbiAgICAgIHZhciBkeW5XaWR0aCA9IGN1cnJlbnRCaW5kaW5ncyAmJiBjdXJyZW50QmluZGluZ3MubWF0Y2goL3ZpcnR1YWxBdHRyOiB7W159XSogd2lkdGg6IChbXix9XSopWyx9XS8pO1xuICAgICAgaWYgKGR5bldpZHRoKSB3aWR0aCA9IGR5bldpZHRoWzFdO1xuXG4gICAgICB2YXIgbWV0aG9kO1xuXG4gICAgICBkZWZhdWx0VmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItc3JjJyk7XG4gICAgICAvLyBUT0RPIG1ha2Ugc3VyZSB0aGlzIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG9uZSBjaGVja2VkIGJ5IGltZy13eXNpd3lnIHRlbXBsYXRlLlxuICAgICAgdmFyIHZhbHVlID0gJyc7XG4gICAgICBpZiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdzcmMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnc3JjJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBzaXplO1xuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICBzaXplID0gd2lkdGggKyBcIisneCcrXCIgKyBoZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ3cnK1wiICsgd2lkdGggKyBcIisnJ1wiO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICAgICAgc2l6ZSA9IFwiJ2gnK1wiICsgaGVpZ2h0ICsgXCIrJydcIjtcbiAgICAgIH1cbiAgICAgIHZhciBwbGFjZWhvbGRlcnNyYztcbiAgICAgIHZhciBwbGhlaWdodCA9IGhlaWdodCB8fCBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICB2YXIgcGx3aWR0aCA9IHdpZHRoIHx8IGRvbXV0aWxzLmdldEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aCcpO1xuXG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ3NyYycpO1xuICAgICAgZG9tdXRpbHMucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWVkaXRhYmxlJyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0Jyk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28tcGxhY2Vob2xkZXItd2lkdGgnKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1wbGFjZWhvbGRlci1zcmMnKTtcblxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBwbGFjZWhvbGRlcnNyYyA9IFwieyB3aWR0aDogXCIgKyBwbHdpZHRoICsgXCIsIGhlaWdodDogXCIgKyBwbGhlaWdodCArIFwiLCB0ZXh0OiBcIiArIHNpemUgKyBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwbHdpZHRoIHx8ICFwbGhlaWdodCkge1xuICAgICAgICAvLyBUT0RPIHJhaXNlIGFuIGV4Y2VwdGlvbj9cbiAgICAgICAgY29uc29sZS5lcnJvcihcIklNRyBkYXRhLWtvLWVkaXRhYmxlIG11c3QgZGVjbGFyZSB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXMsIG9yIHRoZWlyIHBsYWNlaG9sZGVyIGNvdW50ZXJwYXJ0cyBkYXRhLWtvLXBsYWNlaG9sZGVyLXdpZHRoL2RhdGEta28tcGxhY2Vob2xkZXItaGVpZ2h0XCIsIGVsZW1lbnQpO1xuICAgICAgICB0aHJvdyBcIkVSUk9SOiBJTUcgZGF0YS1rby1lZGl0YWJsZSBNVVNUIGRlY2xhcmUgd2lkdGggYW5kIGhlaWdodCBhdHRyaWJ1dGVzLCBvciB0aGVpciBwbGFjZWhvbGRlciBjb3VudGVycGFydHMgZGF0YS1rby1wbGFjZWhvbGRlci13aWR0aC9kYXRhLWtvLXBsYWNlaG9sZGVyLWhlaWdodFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgYmluZGluZ1ZhbHVlID0gYmluZGluZ1Byb3ZpZGVyKGRhdGFFZGl0YWJsZSwgdmFsdWUsIGZhbHNlLCAnd3lzaXd5ZycpO1xuICAgICAgbmV3QmluZGluZyA9IFwid3lzaXd5Z1NyYzogeyB3aWR0aDogXCIgKyB3aWR0aCArIFwiLCBoZWlnaHQ6IFwiICsgaGVpZ2h0ICsgXCIsIHNyYzogXCIgKyBiaW5kaW5nVmFsdWUgKyBcIiwgcGxhY2Vob2xkZXI6IFwiICsgcGxhY2Vob2xkZXJzcmMgKyBcIiB9XCI7XG4gICAgICBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsIGRhdGFCaW5kKTtcblxuICAgICAgdmFyIHRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuXG4gICAgICB2YXIgY29udGFpbmVyQmluZCA9ICd7IHdpZHRoOiAnICsgd2lkdGg7XG4gICAgICBpZiAoYWxpZ24gPT0gJ2xlZnQnKSBjb250YWluZXJCaW5kICs9ICcsIGZsb2F0OiBcXCdsZWZ0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdyaWdodCcpIGNvbnRhaW5lckJpbmQgKz0gJywgZmxvYXQ6IFxcJ3JpZ2h0XFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdjZW50ZXInKSBjb25zb2xlLmxvZygnbm9uIHNvIGNvc2EgZmEgYWxpZ249Y2VudGVyIHN1IHVuYSBpbWcgZSBxdWluZGkgbm9uIHNvIGNvbWUgc2ltdWxhcm5lIGxcXCdlZGl0aW5nJyk7XG4gICAgICBlbHNlIGlmIChhbGlnbiA9PSAndG9wJykgY29udGFpbmVyQmluZCArPSAnLCB2ZXJ0aWNhbEFsaWduOiBcXCd0b3BcXCcnO1xuICAgICAgZWxzZSBpZiAoYWxpZ24gPT0gJ21pZGRsZScpIGNvbnRhaW5lckJpbmQgKz0gJywgdmVydGljYWxBbGlnbjogXFwnbWlkZGxlXFwnJztcbiAgICAgIGVsc2UgaWYgKGFsaWduID09ICdib3R0b20nKSBjb250YWluZXJCaW5kICs9ICcsIHZlcnRpY2FsQWxpZ246IFxcJ2JvdHRvbVxcJyc7XG4gICAgICBjb250YWluZXJCaW5kICs9ICd9JztcblxuICAgICAgJChlbGVtZW50KS5iZWZvcmUoJzwhLS0ga28gd3lzaXd5Z0ltZzogeyBfZGF0YTogJGRhdGEsIF9pdGVtOiAnICsgaXRlbUJpbmRWYWx1ZSArICcsIF90ZW1wbGF0ZTogXFwnJyArIHRtcGxOYW1lICsgJ1xcJywgX2VkaXRUZW1wbGF0ZTogXFwnaW1nLXd5c2l3eWdcXCcsIF9zcmM6ICcgKyBiaW5kaW5nVmFsdWUgKyAnLCBfd2lkdGg6ICcgKyB3aWR0aCArICcsIF9oZWlnaHQ6ICcgKyBoZWlnaHQgKyAnLCBfYWxpZ246ICcgKyAoYWxpZ24gPT09IG51bGwgPyB1bmRlZmluZWQgOiAnXFwnJyArIGFsaWduICsgJ1xcJycpICsgJywgX3NpemU6ICcgKyBzaXplICsgJywgX21ldGhvZDogJyArIG1ldGhvZCArICcsIF9wbGFjZWhvbGRlcnNyYzogJyArIHBsYWNlaG9sZGVyc3JjICsgJywgX3N0eWxlYmluZDogJyArIGNvbnRhaW5lckJpbmQgKyAnIH0gLS0+Jyk7XG4gICAgICAkKGVsZW1lbnQpLmFmdGVyKCc8IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgLy8gQXBwbGllZCBhZnRlciB0aGUgZGF0YS1lZGl0YWJsZSBzbyB0byBhdm9pZCBwcm9jZXNzaW5nIGhyZWZzIGZvciBlZGl0YWJsZSBjb250ZW50XG4gICQoXCJbaHJlZl1cIiwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBhdHRyVmFsdWUgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2hyZWYnKTtcbiAgICB2YXIgbmV3QmluZGluZyA9ICd3eXNpd3lnSHJlZjogXFwnJyArIGNvbnZlcnRlclV0aWxzLmFkZFNsYXNoZXMoYXR0clZhbHVlKSArICdcXCcnO1xuICAgIHZhciBjdXJyZW50QmluZGluZ3MgPSBkb211dGlscy5nZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcpO1xuICAgIHZhciBkYXRhQmluZCA9IChjdXJyZW50QmluZGluZ3MgIT09IG51bGwgPyBjdXJyZW50QmluZGluZ3MgKyBcIiwgXCIgOiBcIlwiKSArIG5ld0JpbmRpbmc7XG4gICAgZG9tdXRpbHMuc2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnLCBkYXRhQmluZCk7XG4gIH0pO1xuXG4gICQoXCJyZXBsYWNlZGJsb2NrXCIsIGVsZW1lbnQpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICB2YXIgYmxvY2tFbGVtZW50ID0gZml4ZWRCbG9ja3NbaW5kZXhdO1xuXG4gICAgdmFyIGJsb2NrTmFtZSA9IHByb2Nlc3NCbG9jayhibG9ja0VsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgYmxvY2tQdXNoZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCAnYmxvY2snLCB0ZW1wbGF0ZU5hbWUsIGNvbnRhaW5lck5hbWUsIHRydWUsIHRlbXBsYXRlQ3JlYXRvcik7XG4gICAgLy8gcmVwbGFjZWQgYmxvY2tzIGFyZSBkZWZpbmVkIGluIHRoZSBtb2RlbCByb290XG4gICAgdmFyIG1vZGVsQmluZFZhbHVlID0gbW9kZWxEZWYuZW5zdXJlUGF0aEFuZEdldEJpbmRWYWx1ZShkZWZzLCB0aGVtZVVwZGF0ZXIsIHJvb3RNb2RlbE5hbWUsIHRlbXBsYXRlTmFtZSwgJycsIGJsb2NrTmFtZSk7XG5cbiAgICAvLyB0aGlzIHdheSB3ZSBjYWxsIGJsb2NrLXd5c2l3eWcgb3IgYmxvY2stc2hvdyBhbmQgbm90IGRpcmVjdGx5IHRoZSByaWdodCBibG9ja1xuICAgICQoZWxlbWVudCkuYmVmb3JlKCc8IS0tIGtvIGJsb2NrOiB7IGRhdGE6ICcgKyBjb252ZXJ0ZXJVdGlscy5hZGRTbGFzaGVzKG1vZGVsQmluZFZhbHVlKSArICcsIHRlbXBsYXRlOiBcXCdibG9ja1xcJyB9IC0tPicpO1xuICAgICQoZWxlbWVudCkuYWZ0ZXIoJzwhLS0gL2tvIC0tPicpO1xuICAgICQoZWxlbWVudCkucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIC8vIFRPRE8gZG8gd2UgcmVhbGx5IG5lZWQgdG8gbG9vcCBpbiByZXZlcnNlIG9yZGVyP1xuICAvLyBkYXRhLWtvLXdyYXAgaGF2ZSB0byBiZSBwcm9jZXNzZWQgYXQgdGhlIGVuZCwgZXhwZWNpYWxseSBhZnRlciBcInJlcGxhY2VibG9ja3NcIlxuICAvLyBvdGhlcndpc2UgYSBkYXRhLWtvLXdyYXAgd3JhcHBpbmcgYSBkYXRhLWtvLWJsb2NrIHdvdWxkIGJyZWFrIGV2ZXJ5dGhpbmcuXG4gICQoJChcIltkYXRhLWtvLXdyYXBdXCIsIGVsZW1lbnQpLmdldCgpLnJldmVyc2UoKSwgZWxlbWVudCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb25kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLXdyYXAnKTtcbiAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnIHx8IGNvbmQgPT09ICd0cnVlJykge1xuICAgICAgdGhyb3cgXCJVbnN1cHBvcnRlZCBlbXB0eSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwOiB1c2UgZmFsc2UgdmFsdWUgaWYgeW91IHdhbnQgdG8gYWx3YXlzIHJlbW92ZSB0aGUgdGFnXCI7XG4gICAgfVxuXG4gICAgdmFyIGNvbmRCaW5kaW5nID0gY29udmVydGVyVXRpbHMuY29uZGl0aW9uQmluZGluZyhjb25kLCBiaW5kaW5nUHJvdmlkZXIpO1xuXG4gICAgLypcbiAgICAgICAgICB2YXIgY29uZEJpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBpZiAodHlwZW9mIGNvbmQgPT09ICd1bmRlZmluZWQnIHx8IGNvbmQgPT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlVuc3VwcG9ydGVkIGVtcHR5IHZhbHVlIGZvciBkYXRhLWtvLXdyYXA6IHVzZSBmYWxzZSB2YWx1ZSBpZiB5b3Ugd2FudCB0byBhbHdheXMgcmVtb3ZlIHRoZSB0YWdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbmQgPT09ICdmYWxzZScpIHtcbiAgICAgICAgICAgIGNvbmRCaW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb25kID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRocm93IFwiVW5zdXBwb3J0ZWQgdHJ1ZSB2YWx1ZSBmb3IgZGF0YS1rby13cmFwLiBUaGlzIG1ha2VzIG5vIHNlbnNlOiB1c2UgZmFsc2Ugb3IgYSB2YXJpYWJsZVwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25kQmluZGluZyA9IGJpbmRpbmdQcm92aWRlcihjb25kKSsnKCknO1xuICAgICAgICAgIH1cbiAgICAqL1xuXG4gICAgdmFyIGRhdGFCaW5kID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWJpbmQnKTtcblxuICAgIHZhciBpbm5lclRtcGxOYW1lLCBvdXRlclRtcGxOYW1lO1xuICAgIC8vIFRPRE8gdWdseSBoYXJkY29kZWQgaGFuZGxpbmc6IGF0IHRoZSB2ZXJ5IGxlYXN0IHRoaXMgc2hvdWxkIGJlIGludm9rZWQgYnkgdGhlIGRhdGEtY29udGFpbmVyIGNhbGxlci5cbiAgICBpZiAoZGF0YUJpbmQgIT09ICcnICYmIGRhdGFCaW5kICE9PSBudWxsICYmIGRhdGFCaW5kLm1hdGNoKC8oYmxvY2t8d3lzaXd5Z09ySHRtbCk6LykpIHtcbiAgICAgIC8vIHdlIGNhbid0IHB1dCB0aGUgY29udGVudCBpbiBhIHRlbXBsYXRlIGJlY2F1c2UgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgYmluZGluZ1xuICAgICAgdmFyIGlubmVyVG1wbENvbnRlbnQgPSAnPCEtLSBrbyAnICsgZGF0YUJpbmQgKyAnIC0tPicgKyBkb211dGlscy5nZXRJbm5lckh0bWwoZWxlbWVudCkgKyAnPCEtLSAva28gLS0+JztcbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoaW5uZXJUbXBsQ29udGVudCk7XG4gICAgICBkb211dGlscy5yZW1vdmVBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEta28td3JhcCcpO1xuICAgICAgb3V0ZXJUbXBsTmFtZSA9IHRlbXBsYXRlQ3JlYXRvcihlbGVtZW50KTtcbiAgICAgIGRvbXV0aWxzLnJlcGxhY2VIdG1sKGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiAvKiBzcGVjaWFsICovICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgcHV0IHRoZSBjb250ZW50IGluIGEgdGVtcGxhdGUgYW5kIHRoZSBmcmFtZSBpbiBhbm90aGVyIHRlbXBsYXRlIGluY2x1ZGluZyB0aGlzIG9uZS5cbiAgICAgIGlubmVyVG1wbE5hbWUgPSB0ZW1wbGF0ZUNyZWF0b3IoZG9tdXRpbHMuZ2V0SW5uZXJIdG1sKGVsZW1lbnQpKTtcbiAgICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby13cmFwJyk7XG4gICAgICBkb211dGlscy5zZXRDb250ZW50KGVsZW1lbnQsICc8IS0tIGtvIHRlbXBsYXRlOiBcXCcnICsgaW5uZXJUbXBsTmFtZSArICdcXCcgLS0+PCEtLSAva28gLS0+Jyk7XG4gICAgICBvdXRlclRtcGxOYW1lID0gdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQpO1xuICAgICAgZG9tdXRpbHMucmVwbGFjZUh0bWwoZWxlbWVudCwgJzwhLS0ga28gdGVtcGxhdGU6ICh0eXBlb2YgdGVtcGxhdGVNb2RlICE9IFxcJ3VuZGVmaW5lZFxcJyAmJiB0ZW1wbGF0ZU1vZGUgPT0gXFwnd3lzaXd5Z1xcJykgfHwgJyArIGNvbmRCaW5kaW5nICsgJyA/IFxcJycgKyBvdXRlclRtcGxOYW1lICsgJ1xcJyA6IFxcJycgKyBpbm5lclRtcGxOYW1lICsgJ1xcJyAtLT48IS0tIC9rbyAtLT4nKTtcbiAgICB9XG5cbiAgfSk7XG5cbiAgdGVtcGxhdGVDcmVhdG9yKGVsZW1lbnQsIHRlbXBsYXRlTmFtZSwgJ3Nob3cnKTtcblxuICBibG9ja1B1c2hlcihyb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUsIGNvbnRleHROYW1lLCBjb250YWluZXJOYW1lKTtcblxuICByZXR1cm4gdGVtcGxhdGVOYW1lO1xuXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIHdoaWxlIHBhcnNpbmcgdGhlIHRlbXBsYXRlXCIsIGUsIGVsZW1lbnQpO1xuICAgIHRocm93IGU7XG4gIH1cblxufTtcblxuZnVuY3Rpb24gY29uZGl0aW9uYWxfcmVwbGFjZShodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoLzwhLS1cXFtpZiAoW15cXF1dKilcXF0+KCg/Oig/IS0tKVtcXHNcXFNdKSo/KTwhXFxbZW5kaWZcXF0tLT4vZywgZnVuY3Rpb24obWF0Y2gsIGNvbmRpdGlvbiwgYm9keSkge1xuICAgIHZhciBkZCA9ICc8IS0tIGNjOnN0YXJ0IC0tPic7XG4gICAgZGQgKz0gYm9keS5yZXBsYWNlKC88KFtBLVphLXo6XSspL2csICc8IS0tIGNjOmJvOiQxIC0tPjxjYycpIC8vIGJlZm9yZSBvcGVuIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvPFxcLyhbQS1aYS16Ol0rKT4vZywnPCEtLSBjYzpiYzokMSAtLT48L2NjPjwhLS0gY2M6YWM6JDEgLS0+JykgLy8gYmVmb3JlL2FmdGVyIGNsb3NlIHRhZ1xuICAgICAgICAgICAucmVwbGFjZSgvXFwvPi9nLCcvPjwhLS0gY2M6c2MgLS0+Jyk7IC8vIHNlbGYtY2xvc2UgdGFnXG4gICAgZGQgKz0gJzwhLS0gY2M6ZW5kIC0tPic7XG4gICAgdmFyIG91dHB1dCA9ICc8cmVwbGFjZWRjYyBjb25kaXRpb249XCInK2NvbmRpdGlvbisnXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+JztcbiAgICBvdXRwdXQgKz0gJCgnPGRpdj4nKS5hcHBlbmQoJChkZCkpLmh0bWwoKVxuICAgICAgLnJlcGxhY2UoL148IS0tIGNjOnN0YXJ0IC0tPi8sICcnKVxuICAgICAgLnJlcGxhY2UoLzwhLS0gY2M6ZW5kIC0tPiQvLCAnJyk7XG4gICAgb3V0cHV0ICs9ICc8L3JlcGxhY2VkY2M+JztcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9KTtcbn1cblxuXG52YXIgdHJhbnNsYXRlVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZU5hbWUsIGh0bWwsIHRlbXBsYXRlVXJsQ29udmVydGVyLCB0ZW1wbGF0ZUNyZWF0b3IpIHtcbiAgdmFyIGRlZnMgPSB7fTtcbiAgdmFyIHJlcGxhY2VkSHRtbCA9IGNvbmRpdGlvbmFsX3JlcGxhY2UoaHRtbC5yZXBsYWNlKC8oPFtePl0rXFxzKShzdHlsZXxodHRwLWVxdWl2KSg9XCJbXlwiXSpcIltePl0qPikvZ2ksIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgcmV0dXJuIHAxICsgJ3JlcGxhY2VkJyArIHAyICsgcDM7XG4gIH0pKTtcbiAgdmFyIGNvbnRlbnQgPSAkKHJlcGxhY2VkSHRtbCk7XG4gIHZhciBlbGVtZW50ID0gY29udGVudFswXTtcblxuICB2YXIgYmxvY2tzID0gW107IC8vIHtyb290TmFtZSwgYmxvY2tOYW1lLCBjb250YWluZXJOYW1lfVxuICB2YXIgX2Jsb2NrUHVzaGVyID0gZnVuY3Rpb24ocm9vdE5hbWUsIGJsb2NrTmFtZSwgY29udGV4dE5hbWUsIGNvbnRhaW5lck5hbWUpIHtcbiAgICBibG9ja3MucHVzaCh7XG4gICAgICByb290OiByb290TmFtZSxcbiAgICAgIGJsb2NrOiBibG9ja05hbWUsXG4gICAgICBjb250ZXh0OiBjb250ZXh0TmFtZSxcbiAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyTmFtZVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRPRE8gaGF2ZSB0byBhY2NlcHQgbnVsbHMgYXMgdW5kZWZpbmVkcyAoYmVjYXVzZSBvZiBtb2RlbC5qcyBiZWhhdmlvdXIpXG4gIHZhciB0aGVtZVVwZGF0ZXIgPSBmdW5jdGlvbihuYW1lLCBrZXksIHZhbCkge1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ10gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV0gPT09ICd1bmRlZmluZWQnKSBkZWZzWyd0aGVtZXMnXVtuYW1lXSA9IHt9O1xuICAgIGlmICh0eXBlb2YgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gJ3VuZGVmaW5lZCcgfHwgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9PT0gbnVsbCkgZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XSA9IHZhbDtcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgIHZhciBwcmVjVmFsID0gZGVmc1sndGhlbWVzJ11bbmFtZV1ba2V5XTtcbiAgICAgIGlmIChwcmVjVmFsICE9IHZhbCkgY29uc29sZS5sb2coXCJFcnJvciBzZXR0aW5nIGEgbmV3IGRlZmF1bHQgZm9yIHByb3BlcnR5IFwiICsga2V5ICsgXCIgaW4gdGhlbWUgXCIgKyBuYW1lICsgXCIuIG9sZDpcIiArIHByZWNWYWwgKyBcIiBuZXc6XCIgKyB2YWwgKyBcIiFcIik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjb250YWluZXJzID0gJChcIltkYXRhLWtvLWNvbnRhaW5lcl1cIiwgY29udGVudCk7XG4gIHZhciBjb250YWluZXJzRG9tID0ge307XG4gIGNvbnRhaW5lcnMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXJOYW1lID0gZG9tdXRpbHMuZ2V0QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLWtvLWNvbnRhaW5lcicpICsgXCJCbG9ja3NcIjtcblxuICAgIGRvbXV0aWxzLnJlbW92ZUF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1rby1jb250YWluZXInKTtcbiAgICBkb211dGlscy5zZXRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtYmluZCcsICdibG9jazogJyArIGNvbnRhaW5lck5hbWUpO1xuXG4gICAgdmFyIGNvbnRhaW5lckJsb2NrcyA9ICQoXCI+IFtkYXRhLWtvLWJsb2NrXVwiLCBlbGVtZW50KTtcbiAgICBkb211dGlscy5yZW1vdmVFbGVtZW50cyhjb250YWluZXJCbG9ja3MsIHRydWUpO1xuXG4gICAgY29udGFpbmVyc0RvbVtjb250YWluZXJOYW1lXSA9IGNvbnRhaW5lckJsb2NrcztcbiAgfSk7XG5cbiAgLy8gVE9ETyByZW1vdmUgaGFyZGNvZGVkIHByb3BlcnRpZXM6IHdlIG5lZWQgdGhlbSBiZWNhdXNlIHdpdGhvdXQgdGhlc2UgbG9hZGluZyBhIGJhc2ljIHRlbXBsYXRlIGZhaWxzLlxuICAvLyBOZWVkZWQgaW4gb3JkZXIgdG8gdXNlIGRhdGEta28tYmxvY2tcbiAgbW9kZWxEZWYuY3JlYXRlT3JVcGRhdGVCbG9ja0RlZihkZWZzLCAnaWQnKTtcbiAgLy8gTmVlZGVkIGFsd2F5cyBhcyBpdCBpcyB0aGUgZGVmYXVsdCB0aGVtZSBzZWN0aW9uLlxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdib2R5VGhlbWUnKTtcbiAgLy8gTmVlZGVkIGZvciBkYXRhLWtvLWNvbnRhaW5lclxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICdibG9ja3MnLCAnYmxvY2tzW10nKTtcblxuICAvLyBOZWVkZWQgaWYgeW91IHdhbnQgdG8gdXNlIGEgdGV4dCB2YXJpYWJsZT8gVE9ETyB0aGlzIHNob3VsZCBub3QgYmUgbmVlZGVkIVxuICBtb2RlbERlZi5jcmVhdGVPclVwZGF0ZUJsb2NrRGVmKGRlZnMsICd0ZXh0Jyk7XG5cbiAgcHJvY2Vzc0Jsb2NrKGVsZW1lbnQsIGRlZnMsIHRoZW1lVXBkYXRlciwgX2Jsb2NrUHVzaGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgJ3RlbXBsYXRlJywgdGVtcGxhdGVOYW1lLCB1bmRlZmluZWQsIGZhbHNlLCB0ZW1wbGF0ZUNyZWF0b3IpO1xuXG4gIHZhciBibG9ja1Byb2Nlc3MgPSBmdW5jdGlvbihjb250YWluZXJOYW1lLCBpbmRleCwgZWxlbWVudCkge1xuICAgIHByb2Nlc3NCbG9jayhlbGVtZW50LCBkZWZzLCB0aGVtZVVwZGF0ZXIsIF9ibG9ja1B1c2hlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsICdibG9jaycsIHRlbXBsYXRlTmFtZSwgY29udGFpbmVyTmFtZSwgdHJ1ZSwgdGVtcGxhdGVDcmVhdG9yKTtcbiAgfTtcblxuICBmb3IgKHZhciBwcm9wIGluIGNvbnRhaW5lcnNEb20pXG4gICAgaWYgKGNvbnRhaW5lcnNEb20uaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHZhciBjb250YWluZXJCbG9ja3MgPSBjb250YWluZXJzRG9tW3Byb3BdO1xuICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSBwcm9wO1xuXG4gICAgICBtb2RlbERlZi5lbnN1cmVQYXRoQW5kR2V0QmluZFZhbHVlKGRlZnMsIHRoZW1lVXBkYXRlciwgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZU5hbWUsICcnLCBjb250YWluZXJOYW1lICsgXCIuYmxvY2tzXCIsIFwiW11cIik7XG5cbiAgICAgIGNvbnRhaW5lckJsb2Nrcy5lYWNoKGJsb2NrUHJvY2Vzcy5iaW5kKHVuZGVmaW5lZCwgY29udGFpbmVyTmFtZSkpO1xuICAgIH1cblxuICB2YXIgdGVtcGxhdGVEZWYgPSB7XG4gICAgX2RlZnM6IGRlZnMsXG4gICAgdGVtcGxhdGVOYW1lOiB0ZW1wbGF0ZU5hbWUsXG4gICAgX2Jsb2NrczogYmxvY2tzXG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZzW3RlbXBsYXRlTmFtZV0uX3ZlcnNpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGVtcGxhdGVEZWYudmVyc2lvbiA9IGRlZnNbdGVtcGxhdGVOYW1lXS5fdmVyc2lvbjtcbiAgfVxuXG4gIHJldHVybiB0ZW1wbGF0ZURlZjtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGVUZW1wbGF0ZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gUGFyc2VzIENTUy9zdHlsZXNoZWV0cyBkZWNsYXJhdGlvbnMgLWtvLWJsb2NrZGVmcy8ta28tdGhlbWVzXG4vLyBJdCByZXR1cm5zIEtPIGJpbmRpbmdzIGJ1dCBkb2Vzbid0IGRlcGVuZCBvbiBLT1xuLy8gTmVlZHMgYSBiaW5kaW5nUHJvdmlkZXJcbi8vIEFsc28gdXNlcyBhIGJsb2NrRGVmc1VwZGF0ZXIgdG8gdXBkYXRlIGRlZmluaXRpb25zIHdoaWxlIHBhcnNpbmcgdGhlIHN0eWxlc2hlZXQuXG5cbnZhciBjc3NQYXJzZSA9IHJlcXVpcmUoXCJtZW5zY2gvbGliL3BhcnNlci5qc1wiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgY29udmVydGVyVXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBlbGFib3JhdGVEZWNsYXJhdGlvbnMgPSByZXF1aXJlKFwiLi9kZWNsYXJhdGlvbnMuanNcIik7XG5cbi8qIFRlbXBvcmFyeSBleHBlcmltZW50YWwgY29kZSBub3QgdXNlZFxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NUaGVtZXMgPSBmdW5jdGlvbiAoYmluZGluZ1Byb3ZpZGVyLCB0aGVtZVVwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBzZWxzLCBkZWNscywgaSwgaiwgaztcbiAgZm9yKCBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJ1bGVzW2ldLnR5cGUgPT0gJ3J1bGUnKSB7XG4gICAgICBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGJpbmRWYWwgPSBiaW5kaW5nUHJvdmlkZXIoJyQnK2RlY2xzW2tdLm5hbWUpO1xuICAgICAgICAgICAgdGhlbWVVcGRhdGVyKHNlbHNbal0sIGRlY2xzW2tdLm5hbWUsIGRlY2xzW2tdLnZhbHVlLCBiaW5kVmFsKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV4Y2VwdGlvbiBzZXR0aW5nIHRoZW1lIGZvclwiLCBkZWNsc1trXS5uYW1lLCBkZWNsc1trXS52YWx1ZSwgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuKi9cblxudmFyIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZiA9IGZ1bmN0aW9uKGJsb2NrRGVmc1VwZGF0ZXIsIHJ1bGVzKSB7XG4gIHZhciBwcm9wZXJ0aWVzLCBuYW1lZFByb3BzLCBkZWNscztcbiAgLy8gbmFtZSwgY29udGV4dE5hbWUsIGdsb2JhbFN0eWxlLCB0aGVtZU92ZXJyaWRlLCBleHRlbmQsIG1pbiwgbWF4LCB3aWRnZXQsIG9wdGlvbnMsIGNhdGVnb3J5LCB2YXJpYW50LCBoZWxwLCBibG9ja0Rlc2NyaXB0aW9uLCB2ZXJzaW9uLCBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdydWxlJykge1xuICAgICAgdmFyIHNlbHMgPSBydWxlc1tpXS5zZWxlY3RvcnM7XG4gICAgICB2YXIgaGFzRGVjbGFyYXRpb25zID0gZmFsc2U7XG4gICAgICB2YXIgaGFzUHJldmlld3MgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoc2Vsc1tqXS5tYXRjaCgvOnByZXZpZXckLykpIHtcbiAgICAgICAgICBoYXNQcmV2aWV3cyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFzRGVjbGFyYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGhhc1ByZXZpZXdzICYmIGhhc0RlY2xhcmF0aW9ucykge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCBtaXggc2VsZWN0b3JzIHR5cGUgKDpwcmV2aWV3IGFuZCBkZWNsYXJhdGlvbnMpIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgbWl4IHNlbGVjdG9ycyB0eXBlICg6cHJldmlldyBhbmQgZGVjbGFyYXRpb25zKSBpbiBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmc1wiO1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNQcmV2aWV3cyAmJiAhaGFzRGVjbGFyYXRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2Fubm90IGZpbmQga25vd24gc2VsZWN0b3JzIGluIEBzdXBwb3J0cyAta28tYmxvY2tkZWZzIFwiLCBzZWxzKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBrbm93biBzZWxlY3RvcnMgaW4gQHN1cHBvcnRzIC1rby1ibG9ja2RlZnNcIjtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNEZWNsYXJhdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcyA9ICcnO1xuICAgICAgICBuYW1lZFByb3BzID0ge307XG5cbi8qXG4gICAgICAgIG5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnRleHROYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICBnbG9iYWxTdHlsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhlbWVPdmVycmlkZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZXh0ZW5kID0gdW5kZWZpbmVkO1xuICAgICAgICBtYXggPSB1bmRlZmluZWQ7XG4gICAgICAgIG1pbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2lkZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICBjYXRlZ29yeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyaWFudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaGVscCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYmxvY2tEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgKi9cbiAgICAgICAgZGVjbHMgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGVjbHMubGVuZ3RoOyBrKyspIGlmIChkZWNsc1trXS50eXBlID09ICdwcm9wZXJ0eScpIHtcbiAgICAgICAgICBpZiAoZGVjbHNba10ubmFtZSA9PSAnbGFiZWwnKSBuYW1lZFByb3BzLm5hbWUgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICdjb250ZXh0JykgbmFtZWRQcm9wcy5jb250ZXh0TmFtZSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3Byb3BlcnRpZXMnKSBwcm9wZXJ0aWVzID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAndGhlbWUnKSBuYW1lZFByb3BzLmdsb2JhbFN0eWxlID0gJ190aGVtZV8uJyArIGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3RoZW1lT3ZlcnJpZGUnKSBuYW1lZFByb3BzLnRoZW1lT3ZlcnJpZGUgPSBTdHJpbmcoZGVjbHNba10udmFsdWUpLnRvTG93ZXJDYXNlKCkgPT0gJ3RydWUnO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2V4dGVuZCcpIGV4dGVuZCA9IGRlY2xzW2tdLnZhbHVlO1xuXG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWF4JykgbWF4ID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnbWluJykgbWluID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnb3B0aW9ucycpIG9wdGlvbnMgPSBkZWNsc1trXS52YWx1ZTtcblxuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ3dpZGdldCcpIHdpZGdldCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2NhdGVnb3J5JykgY2F0ZWdvcnkgPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2YXJpYW50JykgdmFyaWFudCA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIC8vIGVsc2UgaWYgKGRlY2xzW2tdLm5hbWUgPT0gJ2hlbHAnKSBoZWxwID0gZGVjbHNba10udmFsdWU7XG4gICAgICAgICAgLy8gZWxzZSBpZiAoZGVjbHNba10ubmFtZSA9PSAnYmxvY2tEZXNjcmlwdGlvbicpIGJsb2NrRGVzY3JpcHRpb24gPSBkZWNsc1trXS52YWx1ZTtcbiAgICAgICAgICAvLyBlbHNlIGlmIChkZWNsc1trXS5uYW1lID09ICd2ZXJzaW9uJykgdmVyc2lvbiA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFtZWRQcm9wc1tkZWNsc1trXS5uYW1lXSA9IGRlY2xzW2tdLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyBpbiBwYXN0IHdlIGRldGVjdGVkIHVuc3VwcG9ydGVkIHByb3BlcnRpZXMsIHdoaWxlIG5vdyB3ZSBzaW1wbGUgcHVzaCBldmVyeSBkZWNsYXJhdGlvbiBpbiBhIG5hbWVkUHJvcGVydHkuXG4gICAgICAgICAgICAvLyBUaGlzIG1ha2UgaXQgaGFyZGVyIHRvIHNwb3QgZXJyb3JzIGluIGRlY2xhcmF0aW9ucy5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcIlVua25vd24gcHJvcGVydHkgcHJvY2Vzc2luZyBAc3VwcG9ydHMgLWtvLWJsb2NrZGVmcyBcIiwgZGVjbHNba10sIHNlbHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHNlbHMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICBibG9ja0RlZnNVcGRhdGVyKHNlbHNbbF0sIHByb3BlcnRpZXMsIG5hbWVkUHJvcHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaGFzUHJldmlld3MpIHtcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBzZWxzLmxlbmd0aDsgbSsrKSB7XG4gICAgICAgICAgdmFyIGxvY2FsQmxvY2tOYW1lID0gc2Vsc1ttXS5zdWJzdHIoMCwgc2Vsc1ttXS5pbmRleE9mKCc6JykpO1xuICAgICAgICAgIHZhciBwcmV2aWV3QmluZGluZ3MgPSBydWxlc1tpXS5kZWNsYXJhdGlvbnM7XG4gICAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihsb2NhbEJsb2NrTmFtZSwgdW5kZWZpbmVkLCB7IHByZXZpZXdCaW5kaW5nczogcHJldmlld0JpbmRpbmdzIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWdub3JpbmcgY29tbWVudHMgb3Igb3RoZXIgY29udGVudFxuICAgIH1cbiAgfVxufTtcblxudmFyIHByb2Nlc3NTdHlsZXNoZWV0UnVsZXMgPSBmdW5jdGlvbihzdHlsZSwgcnVsZXMsIGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlciwgYmxvY2tEZWZzVXBkYXRlciwgdGhlbWVVcGRhdGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgcm9vdE1vZGVsTmFtZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBuZXdTdHlsZSA9IHN0eWxlO1xuICB2YXIgbGFzdFN0YXJ0ID0gbnVsbDtcblxuICBpZiAodHlwZW9mIHJ1bGVzID09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBjc3NQYXJzZShzdHlsZSwge1xuICAgICAgY29tbWVudHM6IHRydWUsXG4gICAgICBwb3NpdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChzdHlsZVNoZWV0LnR5cGUgIT0gJ3N0eWxlc2hlZXQnIHx8IHR5cGVvZiBzdHlsZVNoZWV0LnN0eWxlc2hlZXQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidW5hYmxlIHRvIHByb2Nlc3Mgc3R5bGVTaGVldFwiLCBzdHlsZVNoZWV0KTtcbiAgICAgIHRocm93IFwiVW5hYmxlIHRvIHBhcnNlIHN0eWxlc2hlZXRcIjtcbiAgICB9XG4gICAgcnVsZXMgPSBzdHlsZVNoZWV0LnN0eWxlc2hlZXQucnVsZXM7XG4gIH1cblxuICAvLyBXQVJOIGN1cnJlbmx0eSB0aGlzIHBhcnNlcyBydWxlcyBpbiByZXZlcnNlIG9yZGVyIHNvIHRoYXQgc3RyaW5nIHJlcGxhY2VtZW50cyB3b3JrcyB1c2luZyBpbnB1dCBcInBvc2l0aW9uc1wiXG4gIC8vIG90aGVyd2lzZSBpdCBzaG91bGQgY29tcHV0ZSBuZXcgb2Zmc2V0cyBvbiBldmVyeSByZXBsYWNlbWVudC5cbiAgLy8gQnV0IHRoaXMgY3JlYXRlIGlzc3VlcyBiZWNhdXNlIG9mIGRlZmluaXRpb25zIGJlaW5nIHBhcnNlZCBpbiByZXZlcnNlIG9yZGVyLCBzbyB0aGlzIGlzIG5vdCBhIGdvb2QgaWRlYS5cbiAgLy8gU29tZXRpbWVzLCB0byB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlcywgeW91IG5lZWQgdG8gY3JlYXRlIDIgZGlmZmVyZW50IDxzdHlsZT4gYmxvY2tzLlxuICB2YXIgYmluZGluZ1Byb3ZpZGVyO1xuXG4gIGZvciAodmFyIGkgPSBydWxlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChydWxlc1tpXS50eXBlID09ICdzdXBwb3J0cycgJiYgcnVsZXNbaV0ubmFtZSA9PSAnLWtvLWJsb2NrZGVmcycpIHtcbiAgICAgIF9wcm9jZXNzU3R5bGVTaGVldFJ1bGVzX3Byb2Nlc3NCbG9ja0RlZihibG9ja0RlZnNVcGRhdGVyLCBydWxlc1tpXS5ydWxlcyk7XG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAvKiB0ZW1wb3JhcnkgZXhwZXJpbWVudGFsIGNvZGUgbm90IHVzZWRcbiAgICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnc3VwcG9ydHMnICYmIHJ1bGVzW2ldLm5hbWUgPT0gJy1rby10aGVtZXMnKSB7XG4gICAgICAgIGJpbmRpbmdQcm92aWRlciA9IGxvY2FsV2l0aEJpbmRpbmdQcm92aWRlci5iaW5kKHRoaXMsICd0aGVtZScsICcnKTtcbiAgICAgICAgX3Byb2Nlc3NTdHlsZVNoZWV0UnVsZXNfcHJvY2Vzc1RoZW1lcyhiaW5kaW5nUHJvdmlkZXIsIHRoZW1lVXBkYXRlciwgcnVsZXNbaV0ucnVsZXMpO1xuICAgICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgbGFzdFN0YXJ0LCAwLCAwLCAwLCAnJyk7XG4gICAgICAqL1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnbWVkaWEnIHx8IHJ1bGVzW2ldLnR5cGUgPT0gJ3N1cHBvcnRzJykge1xuICAgICAgbmV3U3R5bGUgPSBwcm9jZXNzU3R5bGVzaGVldFJ1bGVzKG5ld1N0eWxlLCBydWxlc1tpXS5ydWxlcywgbG9jYWxXaXRoQmluZGluZ1Byb3ZpZGVyLCBibG9ja0RlZnNVcGRhdGVyLCB0aGVtZVVwZGF0ZXIsIHRlbXBsYXRlVXJsQ29udmVydGVyLCByb290TW9kZWxOYW1lLCB0ZW1wbGF0ZU5hbWUpO1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAnY29tbWVudCcpIHtcbiAgICAgIC8vIGlnbm9yZSBjb21tZW50c1xuICAgIH0gZWxzZSBpZiAocnVsZXNbaV0udHlwZSA9PSAncnVsZScpIHtcbiAgICAgIHZhciBzZWxzID0gcnVsZXNbaV0uc2VsZWN0b3JzO1xuICAgICAgdmFyIG5ld1NlbCA9IFwiXCI7XG4gICAgICB2YXIgZm91bmRCbG9ja01hdGNoID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2Vscy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAobmV3U2VsLmxlbmd0aCA+IDApIG5ld1NlbCArPSBcIiwgXCI7XG4gICAgICAgIHZhciBtYXRjaCA9IHNlbHNbal0ubWF0Y2goL1xcW2RhdGEta28tYmxvY2s9KFteIF0qKVxcXS8pO1xuICAgICAgICBpZiAobWF0Y2ggIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoZm91bmRCbG9ja01hdGNoICE9PSBudWxsICYmIGZvdW5kQmxvY2tNYXRjaCAhPSBtYXRjaFsxXSkgdGhyb3cgXCJGb3VuZCBtdWx0aXBsZSBibG9jay1tYXRjaCBhdHRyaWJ1dGUgc2VsZWN0b3JzOiBjYW5ub3QgdHJhbnNsYXRlIGl0IChcIiArIGZvdW5kQmxvY2tNYXRjaCArIFwiIHZzIFwiICsgbWF0Y2hbMV0gKyBcIilcIjtcbiAgICAgICAgICBmb3VuZEJsb2NrTWF0Y2ggPSBtYXRjaFsxXTtcbiAgICAgICAgfVxuICAgICAgICBuZXdTZWwgKz0gJzwhLS0ga28gdGV4dDogdGVtcGxhdGVNb2RlID09XFwnd3lzaXd5Z1xcJyA/IFxcJyNtYWluLXd5c2l3eWctYXJlYSBcXCcgOiBcXCdcXCcgLS0+PCEtLSAva28gLS0+JyArIHNlbHNbal07XG4gICAgICB9XG4gICAgICBpZiAoZm91bmRCbG9ja01hdGNoKSB7XG4gICAgICAgIHZhciBsb29wUHJlZml4ID0gJzwhLS0ga28gZm9yZWFjaDogJHJvb3QuZmluZE9iamVjdHNPZlR5cGUoJGRhdGEsIFxcJycgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnXFwnKSAtLT4nO1xuICAgICAgICB2YXIgbG9vcFBvc3RmaXggPSAnPCEtLSAva28gLS0+JztcbiAgICAgICAgdmFyIGVuZCA9IGxhc3RTdGFydDtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSBcIiBcIjtcbiAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1swXS5wb3NpdGlvbi5zdGFydC5saW5lICE9IHJ1bGVzW2ldLnBvc2l0aW9uLmVuZC5saW5lKSB7XG4gICAgICAgICAgICBzcGFjaW5nID0gXCJcXG5cIiArIChuZXcgQXJyYXkocnVsZXNbaV0ucG9zaXRpb24uc3RhcnQuY29sKSkuam9pbihcIiBcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZCA9IHJ1bGVzW2ldLmRlY2xhcmF0aW9uc1tydWxlc1tpXS5kZWNsYXJhdGlvbnMubGVuZ3RoIC0gMV0ucG9zaXRpb24uZW5kO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IG51bGwpIG5ld1N0eWxlICs9IHNwYWNpbmcgKyBsb29wUG9zdGZpeDtcbiAgICAgICAgZWxzZSBpZiAoZW5kID09IGxhc3RTdGFydCkgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyBsb29wUG9zdGZpeCk7XG4gICAgICAgIGVsc2UgbmV3U3R5bGUgPSBjb252ZXJ0ZXJVdGlscy5yZW1vdmVTdHlsZShuZXdTdHlsZSwgZW5kLCBsYXN0U3RhcnQsIDAsIDAsIDAsIHNwYWNpbmcgKyAnfScgKyBzcGFjaW5nICsgbG9vcFBvc3RmaXgpO1xuICAgICAgICBuZXdTZWwgPSBsb29wUHJlZml4ICsgc3BhY2luZyArIG5ld1NlbC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxbZGF0YS1rby1ibG9jaz0nICsgZm91bmRCbG9ja01hdGNoICsgJ1xcXFxdJywgJ2cnKSwgJzwhLS0ga28gdGV4dDogXFwnI1xcJytpZCgpIC0tPicgKyBmb3VuZEJsb2NrTWF0Y2ggKyAnPCEtLSAva28gLS0+Jyk7XG5cbiAgICAgICAgYmxvY2tEZWZzVXBkYXRlcihmb3VuZEJsb2NrTWF0Y2gsICcnLCB7IGNvbnRleHROYW1lOiAnYmxvY2snIH0pO1xuICAgICAgfVxuICAgICAgLy8gVE9ETyBtZW5zY2ggdXBkYXRlICh1c2luZyBvcmlnaW5hbCBtZW5zY2ggbGlicmFyeSB3ZSBuZWVkZWQgdGhpcyBsaW5lLCB3aGlsZSB0aGUgcGF0Y2hlZCBvbmUgZG9lc24ndCBuZWVkIHRoaXMgY29kZSlcbiAgICAgIC8vIG5ld1NlbCArPSBcIiB7XCI7XG4gICAgICB2YXIgbG9jYWxCbG9ja05hbWUgPSBmb3VuZEJsb2NrTWF0Y2ggPyBmb3VuZEJsb2NrTWF0Y2ggOiB0ZW1wbGF0ZU5hbWU7XG4gICAgICBiaW5kaW5nUHJvdmlkZXIgPSBsb2NhbFdpdGhCaW5kaW5nUHJvdmlkZXIuYmluZCh0aGlzLCBsb2NhbEJsb2NrTmFtZSwgJycpO1xuICAgICAgdmFyIGVsYWJvcmF0ZWRTdHlsZSA9IGVsYWJvcmF0ZURlY2xhcmF0aW9ucyhuZXdTdHlsZSwgcnVsZXNbaV0uZGVjbGFyYXRpb25zLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgYmluZGluZ1Byb3ZpZGVyKTtcbiAgICAgIGlmIChlbGFib3JhdGVkU3R5bGUgIT09IG51bGwpIG5ld1N0eWxlID0gZWxhYm9yYXRlZFN0eWxlO1xuXG4gICAgICBuZXdTdHlsZSA9IGNvbnZlcnRlclV0aWxzLnJlbW92ZVN0eWxlKG5ld1N0eWxlLCBydWxlc1tpXS5wb3NpdGlvbi5zdGFydCwgcnVsZXNbaV0ucG9zaXRpb24uZW5kLCAwLCAwLCAwLCBuZXdTZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVua25vd24gcnVsZSB0eXBlXCIsIHJ1bGVzW2ldLnR5cGUsIFwid2hpbGUgcGFyc2luZyA8c3R5bGU+IHJ1bGVzXCIpO1xuICAgIH1cbiAgICBsYXN0U3RhcnQgPSBydWxlc1tpXS5wb3NpdGlvbi5zdGFydDtcbiAgfVxuICByZXR1cm4gbmV3U3R5bGU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3NTdHlsZXNoZWV0UnVsZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoJ2NvbnNvbGUnKTtcbnZhciBqc2VwID0gcmVxdWlyZSgnanNlcCcpO1xuXG5qc2VwLmFkZEJpbmFyeU9wKFwib3JcIiwgMSk7XG5qc2VwLmFkZEJpbmFyeU9wKFwiYW5kXCIsIDIpO1xuanNlcC5hZGRCaW5hcnlPcChcImVxXCIsIDYpO1xuanNlcC5hZGRCaW5hcnlPcChcIm5lcVwiLCA2KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJsdFwiLCA3KTtcbmpzZXAuYWRkQmluYXJ5T3AoXCJsdGVcIiwgNyk7XG5qc2VwLmFkZEJpbmFyeU9wKFwiZ3RcIiwgNyk7XG5qc2VwLmFkZEJpbmFyeU9wKFwiZ3RlXCIsIDcpO1xuXG52YXIgYWRkU2xhc2hlcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXFxcXCInXS9nLCAnXFxcXCQmJykucmVwbGFjZSgvXFx1MDAwMC9nLCAnXFxcXDAnKTtcbn07XG5cbnZhciByZW1vdmVTdHlsZSA9IGZ1bmN0aW9uKHN0eWxlLCBzdGFydFBvcywgZW5kUG9zLCBza2lwUm93cywgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgaW5zZXJ0KSB7XG4gIHZhciBzdHlsZVJvd3MgPSBzdHlsZS5zcGxpdChcIlxcblwiKTtcbiAgdmFyIHN0YXJ0ID0gc3RhcnRPZmZzZXQ7XG4gIHZhciBlbmQgPSBlbmRPZmZzZXQ7XG4gIGZvciAodmFyIHIgPSAxICsgc2tpcFJvd3M7IHIgPCBzdGFydFBvcy5saW5lOyByKyspIHN0YXJ0ICs9IHN0eWxlUm93c1tyIC0gMSAtIHNraXBSb3dzXS5sZW5ndGggKyAxO1xuICBzdGFydCArPSBzdGFydFBvcy5jb2w7XG4gIGlmIChlbmRQb3MgIT09IG51bGwpIHtcbiAgICBmb3IgKHZhciByMiA9IDEgKyBza2lwUm93czsgcjIgPCBlbmRQb3MubGluZTsgcjIrKykgZW5kICs9IHN0eWxlUm93c1tyMiAtIDEgLSBza2lwUm93c10ubGVuZ3RoICsgMTtcbiAgICBlbmQgKz0gZW5kUG9zLmNvbDtcbiAgfSBlbHNlIGVuZCArPSBzdHlsZS5sZW5ndGggKyAxO1xuICB2YXIgbmV3U3R5bGUgPSBzdHlsZS5zdWJzdHIoMCwgc3RhcnQgLSAxKSArIGluc2VydCArIHN0eWxlLnN1YnN0cihlbmQgLSAxKTtcbiAgcmV0dXJuIG5ld1N0eWxlO1xufTtcblxudmFyIGV4cHJlc3Npb25HZW5lcmF0b3IgPSBmdW5jdGlvbihub2RlLCBiaW5kaW5nUHJvdmlkZXIsIGRlZlZhbCkge1xuICBmdW5jdGlvbiBtYXBPcGVyYXRvcihvcCkge1xuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgJ29yJzpcbiAgICAgICAgcmV0dXJuICd8fCc7XG4gICAgICBjYXNlICdhbmQnOlxuICAgICAgICByZXR1cm4gJyYmJztcbiAgICAgIGNhc2UgJ2x0JzpcbiAgICAgICAgcmV0dXJuICc8JztcbiAgICAgIGNhc2UgJ2x0ZSc6XG4gICAgICAgIHJldHVybiAnPD0nO1xuICAgICAgY2FzZSAnZ3QnOlxuICAgICAgICByZXR1cm4gJz4nO1xuICAgICAgY2FzZSAnZ3RlJzpcbiAgICAgICAgcmV0dXJuICc+PSc7XG4gICAgICBjYXNlICdlcSc6XG4gICAgICAgIHJldHVybiAnPT0nO1xuICAgICAgY2FzZSAnbmVxJzpcbiAgICAgICAgcmV0dXJuICchPSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gb3A7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuKG5vZGUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyLCBkZWZWYWwpIHtcbiAgICBpZiAodHlwZW9mIGxvb2t1cG1lbWJlciA9PSAndW5kZWZpbmVkJykgbG9va3VwbWVtYmVyID0gdHJ1ZTtcblxuICAgIGlmICh0eXBlb2YgZGVmVmFsICE9PSAndW5kZWZpbmVkJyAmJiBub2RlLnR5cGUgIT09IFwiSWRlbnRpZmllclwiICYmIG5vZGUudHlwZSAhPT0gXCJNZW1iZXJFeHByZXNzaW9uXCIpIGNvbnNvbGUubG9nKFwiQ2Fubm90IGFwcGx5IGRlZmF1bHQgdmFsdWUgdG8gdmFyaWFibGUgd2hlbiB1c2luZyBleHByZXNzaW9uc1wiKTtcblxuICAgIGlmIChub2RlLnR5cGUgPT09IFwiQmluYXJ5RXhwcmVzc2lvblwiIHx8IG5vZGUudHlwZSA9PT0gXCJMb2dpY2FsRXhwcmVzc2lvblwiKSB7XG4gICAgICByZXR1cm4gJygnICsgZ2VuKG5vZGUubGVmdCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpICsgJyAnICsgbWFwT3BlcmF0b3Iobm9kZS5vcGVyYXRvcikgKyAnICcgKyBnZW4obm9kZS5yaWdodCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpICsgJyknO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnQ2FsbEV4cHJlc3Npb24nKSB7XG4gICAgICB2YXIgYXJncyA9IG5vZGUuYXJndW1lbnRzLm1hcChmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiBnZW4obiwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2VuKG5vZGUuY2FsbGVlLCBiaW5kaW5nUHJvdmlkZXIsIGxvb2t1cG1lbWJlcikgKyAnKCcgKyBhcmdzLmpvaW4oJywgJykgKyAnKSc7XG4gICAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IFwiVW5hcnlFeHByZXNzaW9uXCIpIHtcbiAgICAgIHJldHVybiBub2RlLm9wZXJhdG9yICsgZ2VuKG5vZGUuYXJndW1lbnQsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PSAnTWVtYmVyRXhwcmVzc2lvbicgJiYgbm9kZS5jb21wdXRlZCkge1xuICAgICAgdGhyb3cgXCJVbmV4cGVjdGVkIGNvbXB1dGVkIG1lbWJlciBleHByZXNzaW9uXCI7XG4gICAgICAvLyByZXR1cm4gZ2VuKG5vZGUub2JqZWN0KSArICdbJyArIGdlbihub2RlLnByb3BlcnR5KSArICddJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PSAnTWVtYmVyRXhwcmVzc2lvbicgJiYgIW5vZGUuY29tcHV0ZWQpIHtcbiAgICAgIHZhciBtZSA9IGdlbihub2RlLm9iamVjdCwgYmluZGluZ1Byb3ZpZGVyLCBmYWxzZSkgKyAnLicgKyBnZW4obm9kZS5wcm9wZXJ0eSwgYmluZGluZ1Byb3ZpZGVyLCBmYWxzZSk7XG4gICAgICBpZiAobG9va3VwbWVtYmVyICYmIG5vZGUub2JqZWN0Lm5hbWUgIT09ICdNYXRoJyAmJiBub2RlLm9iamVjdC5uYW1lICE9PSAnQ29sb3InKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKG1lLCBkZWZWYWwpICsgJygpJztcbiAgICAgIHJldHVybiBtZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJMaXRlcmFsXCIpIHtcbiAgICAgIHJldHVybiBub2RlLnJhdztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICB2YXIgaWQgPSBub2RlLm5hbWU7XG4gICAgICBpZiAobG9va3VwbWVtYmVyKSByZXR1cm4gYmluZGluZ1Byb3ZpZGVyKGlkLCBkZWZWYWwpICsgJygpJztcbiAgICAgIGVsc2UgcmV0dXJuIGlkO1xuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJykge1xuICAgICAgcmV0dXJuICcoJyArIGdlbihub2RlLnRlc3QsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcgPyAnICsgZ2VuKG5vZGUuY29uc2VxdWVudCwgYmluZGluZ1Byb3ZpZGVyLCBsb29rdXBtZW1iZXIpICsgJyA6ICcgKyBnZW4obm9kZS5hbHRlcm5hdGUsIGJpbmRpbmdQcm92aWRlciwgbG9va3VwbWVtYmVyKSArICcpJztcbiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gJ0NvbXBvdW5kJykge1xuICAgICAgdGhyb3cgXCJTeW50YXggZXJyb3IgaW4gZXhwcmVzc2lvbjogb3BlcmF0b3IgZXhwZWN0ZWQgYWZ0ZXIgXCIgKyBnZW4obm9kZS5ib2R5WzBdLCBiaW5kaW5nUHJvdmlkZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJGb3VuZCBhbiB1bnN1cHBvcnRlZCBleHByZXNzaW9uIHR5cGU6IFwiICsgbm9kZS50eXBlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZW4obm9kZSwgYmluZGluZ1Byb3ZpZGVyLCB1bmRlZmluZWQsIGRlZlZhbCk7XG59O1xuXG52YXIgZXhwcmVzc2lvbkJpbmRpbmcgPSBmdW5jdGlvbihleHByZXNzaW9uLCBiaW5kaW5nUHJvdmlkZXIsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgbWF0Y2hlcztcbiAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRlZmF1bHRWYWx1ZSAhPT0gbnVsbCkge1xuICAgIHZhciBjaGVjayA9IGV4cHJlc3Npb24udHJpbSgpLnJlcGxhY2UoL0BcXFsoW15cXF1dKylcXF18QChbYS16QS1aMC05XFwuX10rKVxcYi9nLCAnIyMjdmFyIyMjJyk7XG4gICAgY2hlY2sgPSBjaGVjay5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgXCJcXFxcJCZcIik7XG4gICAgaWYgKGNoZWNrID09ICcjIyN2YXIjIyMnKSBtYXRjaGVzID0gW251bGwsIGRlZmF1bHRWYWx1ZV07XG4gICAgZWxzZSB7XG4gICAgICBjaGVjayA9ICdeJyArIGNoZWNrLnJlcGxhY2UoLyMjI3ZhciMjIy9nLCAnKC4rKScpICsgJyQnO1xuICAgICAgbWF0Y2hlcyA9IGRlZmF1bHRWYWx1ZS50cmltKCkubWF0Y2gobmV3IFJlZ0V4cChjaGVjaykpO1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIC8vIFRPRE8gdGhyb3cgZXJyb3I/XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2Fubm90IGZpbmQgbWF0Y2hlc1wiLCBtYXRjaGVzLCBcImZvclwiLCBkZWZhdWx0VmFsdWUsIGV4cHJlc3Npb24sIGNoZWNrLCBleHByZXNzaW9uKTtcbiAgICAgICAgdGhyb3cgXCJDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvciBcIiArIGV4cHJlc3Npb24gKyBcIiBpbiBcIiArIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgdmFycyA9IDA7XG4gICAgdmFyIHJlc3VsdCA9IFwiJ1wiICsgZXhwcmVzc2lvbi5yZXBsYWNlKC9AXFxbKFteXFxdXSspXFxdfEAoW2EtekEtWjAtOVxcLl9dKylcXGJ8KCcpL2csIGZ1bmN0aW9uKG1hdGNoLCBwMSwgcDIsIHAzKSB7XG4gICAgICAvLyBlc2NhcGluZy4uXG4gICAgICBpZiAocDMpIHJldHVybiBcIlxcXFxcIiArIHAzO1xuICAgICAgdmFycysrO1xuICAgICAgdmFyIHZhck5hbWUgPSBwMSB8fCBwMjtcbiAgICAgIHZhciBkZWZWYWw7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXNbdmFyc10gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZGVmVmFsID0gbWF0Y2hlc1t2YXJzXS50cmltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBQlpaWiBDYW5ub3QgZmluZCBkZWZhdWx0IHZhbHVlIGZvclwiLCB2YXJOYW1lLCBcImluXCIsIG1hdGNoZXMsIFwiYXNcIiwgdmFycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGluIGNhc2Ugd2UgZm91bmQgcDEgd2UgYXJlIGluIGEgQFtzZXF1ZW5jZV0gc28gd2Ugc3RhcnQgYW4gZXhwcmVzc2lvbiBwYXJzZXJcbiAgICAgIGlmIChwMSkge1xuICAgICAgICB2YXIgcGFyc2V0cmVlID0ganNlcChwMSk7XG4gICAgICAgIHZhciBnZW50cmVlID0gZXhwcmVzc2lvbkdlbmVyYXRvcihwYXJzZXRyZWUsIGJpbmRpbmdQcm92aWRlciwgZGVmVmFsKTtcbiAgICAgICAgcmV0dXJuIFwiJytcIiArIGdlbnRyZWUgKyBcIisnXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCInK1wiICsgYmluZGluZ1Byb3ZpZGVyKHZhck5hbWUsIGRlZlZhbCkgKyBcIigpKydcIjtcbiAgICB9KSArIFwiJ1wiO1xuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8oXnxbXlxcXFxdKScnXFwrL2csICckMScpLnJlcGxhY2UoL1xcKycnL2csICcnKTtcblxuICAgIGlmICh2YXJzID09PSAwICYmIHJlc3VsdCAhPT0gJ2ZhbHNlJyAmJiByZXN1bHQgIT09ICd0cnVlJykge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgZXhwcmVzc2lvbiB3aXRoIG5vIHZhbGlkIEB2YXJpYWJsZSByZWZlcmVuY2VzXCIsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgXCJFeGNlcHRpb24gcGFyc2luZyBleHByZXNzaW9uIFwiICsgZXhwcmVzc2lvbiArIFwiIFwiICsgZTtcbiAgfVxufTtcblxudmFyIGNvbmRpdGlvbkJpbmRpbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGJpbmRpbmdQcm92aWRlcikge1xuICB2YXIgcGFyc2V0cmVlID0ganNlcChjb25kaXRpb24pO1xuICB2YXIgZ2VudHJlZSA9IGV4cHJlc3Npb25HZW5lcmF0b3IocGFyc2V0cmVlLCBiaW5kaW5nUHJvdmlkZXIpO1xuICByZXR1cm4gZ2VudHJlZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBhZGRTbGFzaGVzOiBhZGRTbGFzaGVzLFxuICByZW1vdmVTdHlsZTogcmVtb3ZlU3R5bGUsXG4gIGNvbmRpdGlvbkJpbmRpbmc6IGNvbmRpdGlvbkJpbmRpbmcsXG4gIGV4cHJlc3Npb25CaW5kaW5nOiBleHByZXNzaW9uQmluZGluZ1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gVGhpcyBpcyBjb21wbGV4IGNvZGUgdG8gaGFuZGxlIFwibGl2ZVwiIG1vZGVsIGluc3RydW1lbnRhdGlvbiBhbmQgZGVwZW5kZW5jeSB0cmFja2luZy5cbi8vIFRoaXMgYWRkcyBfd3JhcCBhbmQgX3Vud3JhcCBtZXRob2RzIHRvIHRoZSBtb2RlbCBhbmQgYWxzbyBpbnN0cnVtZW50IHRoZSBibG9jayBsaXN0IHNvIHRvIGF1dG9tYXRpY2FsbHlcbi8vIHdyYXAvdXB3cmFwIG9iamVjdHMgb24gc2ltcGxlIGFycmF5IG1ldGhvZHMgKHB1c2gsIHNwbGljZSlcblxudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGtvd3JhcCA9IHJlcXVpcmUoXCJrbm9ja291dC53cmFwXCIpO1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcblxudmFyIF9nZXRPcHRpb25zT2JqZWN0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgb3B0aW9uc0NvdXBsZXMgPSBvcHRpb25zLnNwbGl0KCd8Jyk7XG4gIHZhciBvcHRzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9uc0NvdXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgb3B0ID0gb3B0aW9uc0NvdXBsZXNbaV0uc3BsaXQoJz0nKTtcbiAgICBvcHRzW29wdFswXV0gPSBvcHQubGVuZ3RoID4gMSA/IG9wdFsxXSA6IG9wdFswXTtcbiAgfVxuICByZXR1cm4gb3B0cztcbn07XG5cbi8vIGdlbmVyYXRlIGEgY29tcHV0ZWQgdmFyaWFibGUgaGFuZGxpbmcgdGhlIGZhbGxiYWNrIHRvIHRoZW1lIHZhcmlhYmxlXG52YXIgX21ha2VDb21wdXRlZCA9IGZ1bmN0aW9uKHRhcmdldCwgZGVmLCBudWxsSWZFcXVhbCwgc2NoZW1lU2VsZWN0b3IsIHRoZW1lUGF0aCwgdGhlbWVzKSB7XG4gIHZhciByZXMgPSBrby5jb21wdXRlZCh7XG4gICAgJ3JlYWQnOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWwgPSB0YXJnZXQoKTtcbiAgICAgIGlmICh2YWwgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIHNjaGVtZSA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoc2NoZW1lU2VsZWN0b3IpO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtZSA9PSAndW5kZWZpbmVkJyB8fCBzY2hlbWUgPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICByZXR1cm4ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShkZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGVtZXNbc2NoZW1lXVt0aGVtZVBhdGhdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH0sXG4gICAgJ3dyaXRlJzogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBzY2hlbWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHNjaGVtZVNlbGVjdG9yKTtcbiAgICAgIHZhciBkZWZWYWw7XG4gICAgICBpZiAodHlwZW9mIHNjaGVtZSA9PSAndW5kZWZpbmVkJyB8fCBzY2hlbWUgPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgZGVmVmFsID0ga28udXRpbHMucGVla09ic2VydmFibGUoZGVmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZlZhbCA9IHRoZW1lc1tzY2hlbWVdW3RoZW1lUGF0aF07XG4gICAgICB9XG5cbiAgICAgIGlmICghIW51bGxJZkVxdWFsKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBkZWZWYWwpIHRhcmdldChudWxsKTtcbiAgICAgICAgZWxzZSB0YXJnZXQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh0YXJnZXQpO1xuICAgICAgICBpZiAodmFsdWUgIT0gZGVmVmFsIHx8IGN1cnJlbnQgIT09IG51bGwpIHRhcmdldCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzO1xufTtcblxudmFyIF9uZXh0VmFyaWFudEZ1bmN0aW9uID0gZnVuY3Rpb24oa28sIHByb3AsIHZhcmlhbnRzKSB7XG4gIHZhciBjdXJyZW50VmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHByb3ApO1xuICB2YXIgdmFyaWFudFZhbHVlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFyaWFudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXJpYW50VmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YXJpYW50c1tpXSk7XG4gICAgaWYgKHZhcmlhbnRWYWx1ZSA9PSBjdXJyZW50VmFsdWUpIGJyZWFrO1xuICB9XG5cbiAgaWYgKGkgPT0gdmFyaWFudHMubGVuZ3RoKSB7XG4gICAgY29uc29sZS53YXJuKFwiRGlkbid0IGZpbmQgYSB2YXJpYW50IVwiLCBwcm9wLCBjdXJyZW50VmFsdWUsIHZhcmlhbnRzKTtcbiAgICBpID0gdmFyaWFudHMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIHZhciBuZXh0VmFyaWFudCA9IGkgKyAxO1xuICBpZiAobmV4dFZhcmlhbnQgPT0gdmFyaWFudHMubGVuZ3RoKSBuZXh0VmFyaWFudCA9IDA7XG4gIHZhciBuZXh0VmFsdWUgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YXJpYW50c1tuZXh0VmFyaWFudF0pO1xuXG4gIHByb3AobmV4dFZhbHVlKTtcbn07XG5cbnZhciBfZ2V0VmFyaWFudHMgPSBmdW5jdGlvbihkZWYpIHtcbiAgdmFyIHZhcmlhbnRQcm9wID0gZGVmLl92YXJpYW50O1xuICB2YXIgdmFyaWFudE9wdGlvbnM7XG4gIGlmICh0eXBlb2YgZGVmW3ZhcmlhbnRQcm9wXSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGRlZlt2YXJpYW50UHJvcF0uX3dpZGdldCA9PT0gJ3VuZGVmaW5lZCcgfHwgKHR5cGVvZiBkZWZbdmFyaWFudFByb3BdLl9vcHRpb25zICE9PSAnc3RyaW5nJyAmJiBkZWZbdmFyaWFudFByb3BdLl93aWRnZXQgIT09ICdib29sZWFuJykpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCB2YXJpYW50IGRlY2xhcmF0aW9uXCIsIHZhcmlhbnRQcm9wLCBkZWZbdmFyaWFudFByb3BdKTtcbiAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgdmFyaWFudCBkZWNsYXJhdGlvbjogY2Fubm90IGZpbmQgcHJvcGVydHkgXCIgKyB2YXJpYW50UHJvcCArIFwiIG9yIGl0cyBfb3B0aW9ucyBzdHJpbmcgYW5kIGl0IGlzIG5vdCBhIGJvb2xlYW5cIjtcbiAgfVxuICAvLyBUT0RPIEkgcmVhZCB0aGUgXCJrZXlzXCIgYnV0IHRoaXMgaXMgbm90IDEwMCUgY29ycmVjdCBiZWNhdXNlIHRoZXkgYXJlIG5vdCBnYXJhbnRlZWQgdG8gYmUgc29ydGVkIGFzIGluIGRlY2xhcmF0aW9uXG4gIGlmICh0eXBlb2YgZGVmW3ZhcmlhbnRQcm9wXS5fb3B0aW9ucyA9PSAnc3RyaW5nJykge1xuICAgIHZhcmlhbnRPcHRpb25zID0gT2JqZWN0LmtleXMoX2dldE9wdGlvbnNPYmplY3QoZGVmW3ZhcmlhbnRQcm9wXS5fb3B0aW9ucykpO1xuICB9IGVsc2Uge1xuICAgIHZhcmlhbnRPcHRpb25zID0gW3RydWUsIGZhbHNlXTtcbiAgfVxuICByZXR1cm4gdmFyaWFudE9wdGlvbnM7XG59O1xuXG52YXIgX21ha2VDb21wdXRlZEZ1bmN0aW9uID0gZnVuY3Rpb24oZGVmLCBkZWZzLCB0aG1zLCBrbywgY29udGVudE1vZGVsLCBpc0NvbnRlbnQsIHQpIHtcbiAgaWYgKHR5cGVvZiBkZWYgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodCkudHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyBFUlJPUiBGb3VuZCBhIG5vbi10eXBlZCBkZWYgXCIsIGRlZiwgdCk7XG4gICAgICB0aHJvdyBcIkZvdW5kIGEgbm9uLXR5cGVkIGRlZiBcIiArIGRlZjtcbiAgICB9XG4gICAgdmFyIHR5cGUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodCkudHlwZSk7XG4gICAgZGVmID0gZGVmc1t0eXBlXTtcbiAgICBpZiAodHlwZW9mIGRlZiAhPT0gJ29iamVjdCcpIGNvbnNvbGUubG9nKFwiVE9ETyBFUlJPUiBGb3VuZCBhIG5vbi1vYmplY3QgZGVmIFwiLCBkZWYsIFwiZm9yXCIsIHR5cGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBjb250ZW50TW9kZWwgPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGlzQ29udGVudCAhPSAndW5kZWZpbmVkJyAmJiBpc0NvbnRlbnQpIHtcbiAgICBjb250ZW50TW9kZWwgPSB0O1xuICB9XG5cbiAgdmFyIHNlbGZQYXRoID0gJyRyb290LmNvbnRlbnQoKS4nO1xuXG4gIHZhciBwcCA9IGRlZi5fZ2xvYmFsU3R5bGVzO1xuICBpZiAodHlwZW9mIHBwICE9ICd1bmRlZmluZWQnKVxuICAgIGZvciAodmFyIHAgaW4gcHApXG4gICAgICBpZiAocHAuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgdmFyIHNjaGVtZVBhdGhPcmlnID0gJyRyb290LmNvbnRlbnQoKS50aGVtZSgpLnNjaGVtZSc7XG4gICAgICAgIHZhciBzY2hlbWVQYXRoLCB2bSwgcGF0aDtcblxuICAgICAgICBpZiAocHBbcF0uc3Vic3RyKDAsIHNlbGZQYXRoLmxlbmd0aCkgPT0gc2VsZlBhdGgpIHtcbiAgICAgICAgICBwYXRoID0gcHBbcF0uc3Vic3RyKHNlbGZQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgdm0gPSBjb250ZW50TW9kZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgXCJVTkVYUEVDVEVEIGdsb2JhbFN0eWxlIHBhdGggKFwiICsgcHBbcF0gKyBcIikgb3V0c2lkZSBzZWxmUGF0aCAoXCIgKyBzZWxmUGF0aCArIFwiKVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWVQYXRoT3JpZy5zdWJzdHIoMCwgc2VsZlBhdGgubGVuZ3RoKSA9PSBzZWxmUGF0aCkge1xuICAgICAgICAgIHNjaGVtZVBhdGggPSBzY2hlbWVQYXRoT3JpZy5zdWJzdHIoc2VsZlBhdGgubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIklTIFRISVMgQ09SUkVDVD9cIiwgc2NoZW1lUGF0aE9yaWcsIHNlbGZQYXRoKTtcbiAgICAgICAgICBzY2hlbWVQYXRoID0gc2NoZW1lUGF0aE9yaWc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2NoZW1lU2VsZWN0b3IgPSB2bTtcblxuICAgICAgICB2YXIgcGF0aFBhcnRzID0gcGF0aC5zcGxpdCgnKCkuJyk7XG4gICAgICAgIHZhciB0aGVtZVBhdGggPSAnJztcbiAgICAgICAgdmFyIHNraXAgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZtID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2bSlbcGF0aFBhcnRzW2ldXTtcbiAgICAgICAgICAvLyB1Z2x5IHRoaW5nIHRvIGZpbmQgdGhlIHBhdGggdG8gdGhlIHNjaGVtYSBjb2xvciBwcm9wZXJ0eSAoc29tZXRpbWVzIHdlIGhhdmUgdGhlbWUuYm9keVRoZW1lLCBzb21lIG90aGVyIHdlIGhhdmUgY29udGVudC50aGVtZS5ib2R5VGhlbWUuLi4pXG4gICAgICAgICAgaWYgKHNraXApIHtcbiAgICAgICAgICAgIGlmIChwYXRoUGFydHNbaV0gPT0gJ3RoZW1lJykgc2tpcCA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhlbWVQYXRoLmxlbmd0aCA+IDApIHRoZW1lUGF0aCArPSAnLic7XG4gICAgICAgICAgICB0aGVtZVBhdGggKz0gcGF0aFBhcnRzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2hlbWVQYXJ0cyA9IHNjaGVtZVBhdGguc3BsaXQoJygpLicpO1xuICAgICAgICBmb3IgKHZhciBpMyA9IDA7IGkzIDwgc2NoZW1lUGFydHMubGVuZ3RoOyBpMysrKSB7XG4gICAgICAgICAgc2NoZW1lU2VsZWN0b3IgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHNjaGVtZVNlbGVjdG9yKVtzY2hlbWVQYXJ0c1tpM11dO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG51bGxJZkVxdWFsID0gdHJ1ZTtcbiAgICAgICAgdmFyIHRQYXJ0cyA9IHAuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHQ7XG4gICAgICAgIGZvciAodmFyIGkyID0gMDsgaTIgPCB0UGFydHMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgdGFyZ2V0ID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh0YXJnZXQpW3RQYXJ0c1tpMl1dO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFrby5pc09ic2VydmFibGUodGFyZ2V0KSkgdGhyb3cgXCJVbmV4cGVjdGVkIG5vbiBvYnNlcnZhYmxlIHRhcmdldCBcIiArIHAgKyBcIi9cIiArIHRoZW1lUGF0aDtcblxuICAgICAgICB0YXJnZXQuX2RlZmF1bHRDb21wdXRlZCA9IF9tYWtlQ29tcHV0ZWQodGFyZ2V0LCB2bSwgbnVsbElmRXF1YWwsIHNjaGVtZVNlbGVjdG9yLCB0aGVtZVBhdGgsIHRobXMpO1xuICAgICAgfVxuXG4gIGlmICh0eXBlb2YgZGVmLl92YXJpYW50ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIHBQYXJ0cyA9IGRlZi5fdmFyaWFudC5zcGxpdCgnLicpO1xuICAgIC8vIGxvb2tzIGluIHQgYW5kIG5vdCBjb250ZW50TW9kZWwgYmVjYXVzZSB2YXJpYW50cyBhcmUgZGVjbGFyZWQgb24gc2luZ2xlIGJsb2Nrcy5cbiAgICB2YXIgcFRhcmdldCA9IHQ7XG4gICAgdmFyIHBQYXJlbnQgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHQpO1xuICAgIGZvciAodmFyIGk0ID0gMDsgaTQgPCBwUGFydHMubGVuZ3RoOyBpNCsrKSB7XG4gICAgICBwVGFyZ2V0ID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShwVGFyZ2V0KVtwUGFydHNbaTRdXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwVGFyZ2V0Ll9kZWZhdWx0Q29tcHV0ZWQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRm91bmQgdmFyaWFudCBvbiBhIHN0eWxlIHByb3BlcnR5OiBiZXdhcmUgdmFyaWFudHMgc2hvdWxkIGJlIG9ubHkgdXNlZCBvbiBjb250ZW50IHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IG1hdGNoIHRoZSB0aGVtZSBmYWxsYmFjayBiZWhhdmlvdXJcIiwgZGVmLl92YXJpYW50KTtcbiAgICAgIHBUYXJnZXQgPSBwVGFyZ2V0Ll9kZWZhdWx0Q29tcHV0ZWQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcFRhcmdldCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coXCJFUlJPUiBsb29raW5nIGZvciB2YXJpYW50IHRhcmdldFwiLCBkZWYuX3ZhcmlhbnQsIHQpO1xuICAgICAgdGhyb3cgXCJFUlJPUiBsb29raW5nIGZvciB2YXJpYW50IHRhcmdldCBcIiArIGRlZi5fdmFyaWFudDtcbiAgICB9XG4gICAgcFBhcmVudC5fbmV4dFZhcmlhbnQgPSBfbmV4dFZhcmlhbnRGdW5jdGlvbi5iaW5kKHBUYXJnZXQsIGtvLCBwVGFyZ2V0LCBfZ2V0VmFyaWFudHMoZGVmKSk7XG4gIH1cblxuICBmb3IgKHZhciBwcm9wMiBpbiBkZWYpXG4gICAgaWYgKGRlZi5oYXNPd25Qcm9wZXJ0eShwcm9wMikpIHtcbiAgICAgIHZhciB2YWwgPSBkZWZbcHJvcDJdO1xuICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwuX2NvbnRleHQgIT0gJ3VuZGVmaW5lZCcgJiYgdmFsLl9jb250ZXh0ID09ICdibG9jaycpIHtcbiAgICAgICAgdmFyIHByb3BWbSA9IGNvbnRlbnRNb2RlbFtwcm9wMl0oKTtcbiAgICAgICAgdmFyIG5ld1ZtID0gX21ha2VDb21wdXRlZEZ1bmN0aW9uKGRlZnNbcHJvcDJdLCBkZWZzLCB0aG1zLCBrbywgY29udGVudE1vZGVsLCBpc0NvbnRlbnQsIHByb3BWbSk7XG4gICAgICAgIHRbcHJvcDJdKG5ld1ZtKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgdmFsLnR5cGUgPT0gJ2Jsb2NrcycpIHtcbiAgICAgICAgdmFyIG1haW5WbSA9IGNvbnRlbnRNb2RlbFtwcm9wMl0oKTtcbiAgICAgICAgdmFyIGJsb2Nrc1ZtID0gbWFpblZtLmJsb2NrcygpO1xuICAgICAgICB2YXIgb2xkQmxvY2ssIGJsb2NrVHlwZSwgbmV3QmxvY2s7XG4gICAgICAgIGZvciAodmFyIGliID0gMDsgaWIgPCBibG9ja3NWbS5sZW5ndGg7IGliKyspIHtcbiAgICAgICAgICBvbGRCbG9jayA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoYmxvY2tzVm1baWJdKTtcbiAgICAgICAgICBibG9ja1R5cGUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG9sZEJsb2NrLnR5cGUpO1xuICAgICAgICAgIG5ld0Jsb2NrID0gX21ha2VDb21wdXRlZEZ1bmN0aW9uKGRlZnNbYmxvY2tUeXBlXSwgZGVmcywgdGhtcywga28sIGNvbnRlbnRNb2RlbCwgaXNDb250ZW50LCBvbGRCbG9jayk7XG4gICAgICAgICAgYmxvY2tzVm1baWJdKG5ld0Jsb2NrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBibG9ja3NPYnMgPSBtYWluVm0uYmxvY2tzO1xuXG4gICAgICAgIF9hdWdtZW50QmxvY2tzT2JzZXJ2YWJsZShibG9ja3NPYnMsIF9ibG9ja0luc3RydW1lbnRGdW5jdGlvbi5iaW5kKG1haW5WbSwgdW5kZWZpbmVkLCBkZWZzLCB0aG1zLCBrbywgdW5kZWZpbmVkLCBjb250ZW50TW9kZWwsIGlzQ29udGVudCkpO1xuXG4gICAgICAgIGNvbnRlbnRNb2RlbFtwcm9wMl0uX3dyYXAgPSBfbWFrZUJsb2Nrc1dyYXAuYmluZChjb250ZW50TW9kZWxbcHJvcDJdLCBibG9ja3NPYnMuX2luc3RydW1lbnRCbG9jayk7XG4gICAgICAgIGNvbnRlbnRNb2RlbFtwcm9wMl0uX3Vud3JhcCA9IF91bndyYXAuYmluZChjb250ZW50TW9kZWxbcHJvcDJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgcmV0dXJuIHQ7XG59O1xuXG52YXIgX2F1Z21lbnRCbG9ja3NPYnNlcnZhYmxlID0gZnVuY3Rpb24oYmxvY2tzT2JzLCBpbnN0cnVtZW50KSB7XG4gIGJsb2Nrc09icy5faW5zdHJ1bWVudEJsb2NrID0gaW5zdHJ1bWVudDtcbiAgaWYgKHR5cGVvZiBibG9ja3NPYnMub3JpZ1B1c2ggPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBibG9ja3NPYnMub3JpZ1B1c2ggPSBibG9ja3NPYnMucHVzaDtcbiAgICBibG9ja3NPYnMucHVzaCA9IF9tYWtlUHVzaC5iaW5kKGJsb2Nrc09icyk7XG4gICAgYmxvY2tzT2JzLm9yaWdTcGxpY2UgPSBibG9ja3NPYnMuc3BsaWNlO1xuICAgIGJsb2Nrc09icy5zcGxpY2UgPSBfbWFrZVNwbGljZS5iaW5kKGJsb2Nrc09icyk7XG4gIH1cbn07XG5cbnZhciBfbWFrZUJsb2Nrc1dyYXAgPSBmdW5jdGlvbihpbnN0cnVtZW50LCBpbnB1dE1vZGVsKSB7XG4gIHZhciBtb2RlbCA9IGtvLnRvSlMoaW5wdXRNb2RlbCk7XG4gIHZhciBpbnB1dCA9IG1vZGVsLmJsb2NrcztcbiAgbW9kZWwuYmxvY2tzID0gW107XG4gIHZhciByZXMgPSBrb3dyYXAuZnJvbUpTKG1vZGVsLCB1bmRlZmluZWQsIHRydWUpKCk7XG4gIF9hdWdtZW50QmxvY2tzT2JzZXJ2YWJsZShyZXMuYmxvY2tzLCBpbnN0cnVtZW50KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvYmogPSBrby50b0pTKGlucHV0W2ldKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIl9tYWtlQmxvY2tzV3JhcCBzZXQgYmxvY2tJZFwiLCBvYmouaWQsICdibG9ja18nK2kpO1xuICAgIG9iai5pZCA9ICdibG9ja18nICsgaTtcbiAgICByZXMuYmxvY2tzLnB1c2gob2JqKTtcbiAgfVxuICB0aGlzKHJlcyk7XG59O1xuXG52YXIgX21ha2VQdXNoID0gZnVuY3Rpb24oKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgdGhyb3cgXCJBcnJheSBwdXNoIHdpdGggbXVsdGlwbGUgYXJndW1lbnRzIG5vdCBpbXBsZW1lbnRlZFwiO1xuICAvLyB1bndyYXAgb2JzZXJ2YWJsZSBibG9ja3MsIG90aGVyd2lzZSB2aXNpYmlsaXR5IChkZXBlbmRlbmN5KSBoYW5kbGluZyBicmVha3NcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGtvLmlzT2JzZXJ2YWJsZShhcmd1bWVudHNbMF0pKSB7XG4gICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0uX3Vud3JhcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF0uX3Vud3JhcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldBUk46IHB1c2hpbmcgb2JzZXJ2YWJsZSB3aXRoIG5vIF91bndyYXAgZnVuY3Rpb24gKFRPRE8gcmVtb3ZlIG1lLCBleHBlY3RlZCBjb25kaXRpb24pXCIpO1xuICAgIH1cbiAgfVxuICBpZiAoIWtvLmlzT2JzZXJ2YWJsZShhcmd1bWVudHNbMF0pKSB7XG4gICAgdmFyIGluc3RydW1lbnRlZCA9IHRoaXMuX2luc3RydW1lbnRCbG9jayhhcmd1bWVudHNbMF0pO1xuICAgIHJldHVybiB0aGlzLm9yaWdQdXNoLmFwcGx5KHRoaXMsIFtpbnN0cnVtZW50ZWRdKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5vcmlnUHVzaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59O1xuXG52YXIgX21ha2VTcGxpY2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB0aHJvdyBcIkFycmF5IHNwbGljZSB3aXRoIG11bHRpcGxlIG9iamVjdHMgbm90IGltcGxlbWVudGVkXCI7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBrby5pc09ic2VydmFibGUoYXJndW1lbnRzWzJdKSkge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzJdLl91bndyYXAgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYXJndW1lbnRzWzJdID0gYXJndW1lbnRzWzJdLl91bndyYXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJXQVJOOiBzcGxpY2luZyBvYnNlcnZhYmxlIHdpdGggbm8gX3Vud3JhcCBmdW5jdGlvbiAoVE9ETyByZW1vdmUgbWUsIGV4cGVjdGVkIGNvbmRpdGlvbilcIik7XG4gICAgfVxuICB9XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiAha28uaXNPYnNlcnZhYmxlKGFyZ3VtZW50c1syXSkpIHtcbiAgICB2YXIgaW5zdHJ1bWVudGVkID0gdGhpcy5faW5zdHJ1bWVudEJsb2NrKGFyZ3VtZW50c1syXSk7XG4gICAgcmV0dXJuIHRoaXMub3JpZ1NwbGljZS5hcHBseSh0aGlzLCBbYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0sIGluc3RydW1lbnRlZF0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLm9yaWdTcGxpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxufTtcblxuLy8gZGVmLCBkZWZzIGFuZCB0aGVtZXMgYXJlIGJvdW5kIGluIFwiX21vZGVsSW5zdHJ1bWVudFwiIHdoaWxlIHRoZSBuZXh0IHBhcmFtZXRlcnMgYXJlIGV4cG9zZWQgYnkgdGhpcyBtb2R1bGVcbnZhciBfYmxvY2tJbnN0cnVtZW50RnVuY3Rpb24gPSBmdW5jdGlvbihkZWYsIGRlZnMsIHRoZW1lcywga25vY2tvdXQsIHNlbGYsIG1vZGVsQ29udGVudCwgaXNDb250ZW50LCBzZWxmMikge1xuICAvLyB1Z2x5OiBzb21ldGltZXMgd2UgaGF2ZSB0byBiaW5kIGNvbnRlbnQgYnV0IG5vdCBzZWxmLCBzbyB3ZSByZXBlYXQgc2VsZiBhdCB0aGUgZW5kIGFzIFwic2VsZjJcIlxuICBpZiAodHlwZW9mIHNlbGYgPT0gJ3VuZGVmaW5lZCcpIHNlbGYgPSBzZWxmMjtcblxuICB2YXIgY29tcHV0ZWRGdW5jdGlvbnM7XG4gIGNvbXB1dGVkRnVuY3Rpb25zID0ge1xuICAgICcnOiBfbWFrZUNvbXB1dGVkRnVuY3Rpb24uYmluZChzZWxmLCBkZWYsIGRlZnMsIHRoZW1lcywga25vY2tvdXQsIG1vZGVsQ29udGVudCwgaXNDb250ZW50KVxuICB9O1xuXG4gIHZhciByZXMgPSBrb3dyYXAuZnJvbUpTKHNlbGYsIGNvbXB1dGVkRnVuY3Rpb25zLCB0cnVlKTtcbiAgcmVzLl91bndyYXAgPSBfdW53cmFwLmJpbmQocmVzKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBfd3JhcCA9IGZ1bmN0aW9uKGluc3RydW1lbnQsIHVud3JhcHBlZCkge1xuICB2YXIgbmV3Q29udGVudCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoaW5zdHJ1bWVudChrbywgdW53cmFwcGVkLCB1bmRlZmluZWQsIHRydWUpKTtcbiAgdGhpcyhuZXdDb250ZW50KTtcbn07XG5cbnZhciBfdW53cmFwID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBrby50b0pTKHRoaXMpO1xufTtcblxudmFyIF9tb2RlbEluc3RydW1lbnQgPSBmdW5jdGlvbihtb2RlbCwgbW9kZWxEZWYsIGRlZnMpIHtcbiAgdmFyIF9pbnN0cnVtZW50ID0gX2Jsb2NrSW5zdHJ1bWVudEZ1bmN0aW9uLmJpbmQodW5kZWZpbmVkLCBtb2RlbERlZiwgZGVmcywgZGVmc1sndGhlbWVzJ10pO1xuICB2YXIgcmVzID0gX2luc3RydW1lbnQoa28sIG1vZGVsLCB1bmRlZmluZWQsIHRydWUpO1xuICAvLyByZXMuX2luc3RydW1lbnQgPSBfaW5zdHJ1bWVudDtcbiAgcmVzLl93cmFwID0gX3dyYXAuYmluZChyZXMsIF9pbnN0cnVtZW50KTtcbiAgcmVzLl91bndyYXAgPSBfdW53cmFwLmJpbmQocmVzKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gX21vZGVsSW5zdHJ1bWVudDsiLCJ2YXIgdGlueWNvbG9yID0gcmVxdWlyZSgndGlueWNvbG9yJyk7XG5cbmZ1bmN0aW9uIENvbG9yKHRpbnljb2xvcikge1xuICB0aGlzLmdldEJyaWdodG5lc3MgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmdldEJyaWdodG5lc3MoKTtcbiAgfTtcbiAgdGhpcy5pc0xpZ2h0ID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5pc0xpZ2h0KCk7XG4gIH07XG4gIHRoaXMuaXNEYXJrID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5pc0RhcmsoKTtcbiAgfTtcbiAgdGhpcy5nZXRMdW1pbmFuY2UgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmdldEx1bWluYW5jZSgpO1xuICB9O1xuXG5cbiAgdGhpcy5saWdodGVuID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmxpZ2h0ZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLmJyaWdodGVuID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmJyaWdodGVuKGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5kYXJrZW4gPSBmdW5jdGlvbihjb2xvciwgYW1vdW50KSB7XG4gICAgcmV0dXJuIHRpbnljb2xvcihjb2xvcikuZGFya2VuKGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5kZXNhdHVyYXRlID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmRlc2F0dXJhdGUoYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xuICB0aGlzLnNhdHVyYXRlID0gZnVuY3Rpb24oY29sb3IsIGFtb3VudCkge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLnNhdHVyYXRlKGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5ncmV5c2NhbGUgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiB0aW55Y29sb3IoY29sb3IpLmdyZXlzY2FsZSgpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG4gIHRoaXMuc3BpbiA9IGZ1bmN0aW9uKGNvbG9yLCBhbW91bnQpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5zcGluKGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbiAgdGhpcy5jb21wbGVtZW50ID0gZnVuY3Rpb24oY29sb3IpIHtcbiAgICByZXR1cm4gdGlueWNvbG9yKGNvbG9yKS5jb21wbGVtZW50KCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcblxuICB0aGlzLm1peCA9IHRpbnljb2xvci5taXg7XG4gIHRoaXMucmVhZGFiaWxpdHkgPSB0aW55Y29sb3IucmVhZGFiaWxpdHk7XG4gIHRoaXMuaXNSZWFkYWJsZSA9IHRpbnljb2xvci5pc1JlYWRhYmxlO1xuICB0aGlzLm1vc3RSZWFkYWJsZSA9IHRpbnljb2xvci5tb3N0UmVhZGFibGU7XG59XG5cbnZhciBjb2xvclBsdWdpbiA9IGZ1bmN0aW9uKHZtKSB7XG4gIGdsb2JhbC5Db2xvciA9IG5ldyBDb2xvcih0aW55Y29sb3IpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjb2xvclBsdWdpbjsiLCJcInVzZSBzdHJpY3RcIjtcbi8qIGdsb2JhbCBnbG9iYWw6IGZhbHNlICovXG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGlubGluZURvY3VtZW50ID0gcmVxdWlyZShcImp1aWNlL2xpYi9pbmxpbmVcIikoe30pLmlubGluZURvY3VtZW50O1xuXG52YXIgaW5saW5lclBsdWdpbiA9IGZ1bmN0aW9uKHZtKSB7XG4gIHZtLmlubGluZSA9IGZ1bmN0aW9uKGRvYykge1xuICAgIC8vIHRpbnltY2UgbWF5IGhhdmUgYWRkZWQgc3R5bGUgYXR0cmlidXRlcyB0byBlbGVtZW50cyB0aGF0IHdpbGwgYWxzbyBoYXZlIGdsb2JhbCBzdHlsZXMgdG8gYmUgaW5saW5lZFxuICAgICQoJ1tzdHlsZV06bm90KFtyZXBsYWNlZHN0eWxlXSknLCBkb2MpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgICB2YXIgJGVsID0gJChlbCk7XG4gICAgICAkZWwuYXR0cigncmVwbGFjZWRzdHlsZScsICRlbC5hdHRyKCdzdHlsZScpKTtcbiAgICB9KTtcblxuICAgIHZhciBzdHlsZSA9IFtdO1xuICAgICQoJ3N0eWxlW2RhdGEtaW5saW5lPVwidHJ1ZVwiXScsIGRvYykuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgdmFyIGNvbnRlbnQgPSAkKGVsZW1lbnQpLmh0bWwoKTtcbiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzwhLS0ga28gKCg/IS0tKS4pKj8gLS0+L2csICcnKTsgLy8gdGhpcyByZXBsYWNlcyB0aGUgYWJvdmUgd2l0aCBhIG1vcmUgZm9ybWFsIChidXQgc2xvd2VyKSBzb2x1dGlvblxuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBcXC9rbyAtLT4vZywgJycpO1xuICAgICAgc3R5bGUucHVzaChjb250ZW50KTtcbiAgICAgICQoZWxlbWVudCkucmVtb3ZlQXR0cignZGF0YS1pbmxpbmUnKTtcbiAgICB9KTtcbiAgICB2YXIgc3R5bGVUZXh0ID0gc3R5bGUuam9pbihcIlxcblwiKTtcbiAgICB2YXIgJGNvbnRleHQgPSBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCkge1xuICAgICAgaWYgKHR5cGVvZiBjb250ZXh0ID09ICd1bmRlZmluZWQnKSBjb250ZXh0ID0gZG9jO1xuICAgICAgcmV0dXJuICQoc2VsZWN0b3IsIGNvbnRleHQpO1xuICAgIH07XG4gICAgJGNvbnRleHQucm9vdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICQoJzpyb290JywgZG9jKTtcbiAgICB9O1xuICAgIGlubGluZURvY3VtZW50KCRjb250ZXh0LCBzdHlsZVRleHQsIHsgc3R5bGVBdHRyaWJ1dGVOYW1lOiAncmVwbGFjZWRzdHlsZScgfSk7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlubGluZXJQbHVnaW47IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xudmFyIGNvbnNvbGUgPSByZXF1aXJlKFwiY29uc29sZVwiKTtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciAkID0gcmVxdWlyZShcImpxdWVyeVwiKTtcblxudmFyIGxzTG9hZGVyID0gZnVuY3Rpb24oaGFzaF9rZXksIGVtYWlsUHJvY2Vzc29yQmFja2VuZCkge1xuICB2YXIgbWRTdHIgPSBnbG9iYWwubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJtZXRhZGF0YS1cIiArIGhhc2hfa2V5KTtcbiAgaWYgKG1kU3RyICE9PSBudWxsKSB7XG4gICAgdmFyIG1vZGVsO1xuICAgIHZhciB0ZCA9IGdsb2JhbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRlbXBsYXRlLVwiICsgaGFzaF9rZXkpO1xuICAgIGlmICh0ZCAhPT0gbnVsbCkgbW9kZWwgPSBKU09OLnBhcnNlKHRkKTtcbiAgICB2YXIgbWQgPSBKU09OLnBhcnNlKG1kU3RyKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0YWRhdGE6IG1kLFxuICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgZXh0ZW5zaW9uOiBsc0NvbW1hbmRQbHVnaW5GYWN0b3J5KG1kLCBlbWFpbFByb2Nlc3NvckJhY2tlbmQpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBcIkNhbm5vdCBmaW5kIHN0b3JlZCBkYXRhIGZvciBcIitoYXNoX2tleTtcbiAgfVxufTtcblxudmFyIGxzQ29tbWFuZFBsdWdpbkZhY3RvcnkgPSBmdW5jdGlvbihtZCwgZW1haWxQcm9jZXNzb3JCYWNrZW5kKSB7XG4gIHZhciBjb21tYW5kc1BsdWdpbiA9IGZ1bmN0aW9uKG1ka2V5LCBtZG5hbWUsIHZpZXdNb2RlbCkge1xuXG4gICAgLy8gY29uc29sZS5sb2coXCJsb2FkaW5nIGZyb20gbWV0YWRhdGFcIiwgbWQsIG1vZGVsKTtcbiAgICB2YXIgc2F2ZUNtZCA9IHtcbiAgICAgIG5hbWU6ICdTYXZlJywgLy8gbDEwbiBoYXBwZW5zIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgZW5hYmxlZDoga28ub2JzZXJ2YWJsZSh0cnVlKVxuICAgIH07XG4gICAgc2F2ZUNtZC5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBzYXZlQ21kLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgdmlld01vZGVsLm1ldGFkYXRhLmNoYW5nZWQgPSBEYXRlLm5vdygpO1xuICAgICAgaWYgKHR5cGVvZiB2aWV3TW9kZWwubWV0YWRhdGEua2V5ID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBmaW5kIGtldCBpbiBtZXRhZGF0YSBvYmplY3QuLi5cIiwgdmlld01vZGVsLm1ldGFkYXRhKTtcbiAgICAgICAgdmlld01vZGVsLm1ldGFkYXRhLmtleSA9IG1ka2V5O1xuICAgICAgfVxuICAgICAgZ2xvYmFsLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibWV0YWRhdGEtXCIgKyBtZGtleSwgdmlld01vZGVsLmV4cG9ydE1ldGFkYXRhKCkpO1xuICAgICAgZ2xvYmFsLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVtcGxhdGUtXCIgKyBtZGtleSwgdmlld01vZGVsLmV4cG9ydEpTT04oKSk7XG4gICAgICBzYXZlQ21kLmVuYWJsZWQodHJ1ZSk7XG4gICAgfTtcbiAgICB2YXIgdGVzdENtZCA9IHtcbiAgICAgIG5hbWU6ICdUZXN0JywgLy8gbDEwbiBoYXBwZW5zIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgZW5hYmxlZDoga28ub2JzZXJ2YWJsZSh0cnVlKVxuICAgIH07XG4gICAgdmFyIGRvd25sb2FkQ21kID0ge1xuICAgICAgbmFtZTogJ0Rvd25sb2FkJywgLy8gbDEwbiBoYXBwZW5zIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgZW5hYmxlZDoga28ub2JzZXJ2YWJsZSh0cnVlKVxuICAgIH07XG4gICAgdGVzdENtZC5leGVjdXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB0ZXN0Q21kLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgdmFyIGVtYWlsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGVzdGVtYWlsXCIpO1xuICAgICAgaWYgKGVtYWlsID09PSBudWxsIHx8IGVtYWlsID09ICdudWxsJykgZW1haWwgPSB2aWV3TW9kZWwudCgnSW5zZXJ0IGhlcmUgdGhlIHJlY2lwaWVudCBlbWFpbCBhZGRyZXNzJyk7XG4gICAgICBlbWFpbCA9IGdsb2JhbC5wcm9tcHQodmlld01vZGVsLnQoXCJUZXN0IGVtYWlsIGFkZHJlc3NcIiksIGVtYWlsKTtcbiAgICAgIGlmIChlbWFpbC5tYXRjaCgvQC8pKSB7XG4gICAgICAgIGdsb2JhbC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRlc3RlbWFpbFwiLCBlbWFpbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVE9ETyB0ZXN0aW5nLi4uXCIsIGVtYWlsKTtcbiAgICAgICAgdmFyIHBvc3RVcmwgPSBlbWFpbFByb2Nlc3NvckJhY2tlbmQgPyBlbWFpbFByb2Nlc3NvckJhY2tlbmQgOiAnL2RsLyc7XG4gICAgICAgIHZhciBwb3N0ID0gJC5wb3N0KHBvc3RVcmwsIHtcbiAgICAgICAgICBhY3Rpb246ICdlbWFpbCcsXG4gICAgICAgICAgcmNwdDogZW1haWwsXG4gICAgICAgICAgc3ViamVjdDogXCJbdGVzdF0gXCIgKyBtZGtleSArIFwiIC0gXCIgKyBtZG5hbWUsXG4gICAgICAgICAgaHRtbDogdmlld01vZGVsLmV4cG9ydEhUTUwoKVxuICAgICAgICB9LCBudWxsLCAnaHRtbCcpO1xuICAgICAgICBwb3N0LmZhaWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJmYWlsXCIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgdmlld01vZGVsLm5vdGlmaWVyLmVycm9yKHZpZXdNb2RlbC50KCdVbmV4cGVjdGVkIGVycm9yIHRhbGtpbmcgdG8gc2VydmVyOiBjb250YWN0IHVzIScpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBvc3Quc3VjY2VzcyhmdW5jdGlvbigpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgYXJndW1lbnRzKTtcbiAgICAgICAgICB2aWV3TW9kZWwubm90aWZpZXIuc3VjY2Vzcyh2aWV3TW9kZWwudChcIlRlc3QgZW1haWwgc2VudC4uLlwiKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBwb3N0LmFsd2F5cyhmdW5jdGlvbigpIHtcbiAgICAgICAgICB0ZXN0Q21kLmVuYWJsZWQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsLmFsZXJ0KHZpZXdNb2RlbC50KCdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnKSk7XG4gICAgICAgIHRlc3RDbWQuZW5hYmxlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGRvd25sb2FkQ21kLmV4ZWN1dGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGRvd25sb2FkQ21kLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgdmlld01vZGVsLm5vdGlmaWVyLmluZm8odmlld01vZGVsLnQoXCJEb3dubG9hZGluZy4uLlwiKSk7XG4gICAgICB2aWV3TW9kZWwuZXhwb3J0SFRNTHRvVGV4dGFyZWEoJyNkb3dubG9hZEh0bWxUZXh0YXJlYScpO1xuICAgICAgdmFyIHBvc3RVcmwgPSBlbWFpbFByb2Nlc3NvckJhY2tlbmQgPyBlbWFpbFByb2Nlc3NvckJhY2tlbmQgOiAnL2RsLyc7XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rvd25sb2FkRm9ybScpLnNldEF0dHJpYnV0ZShcImFjdGlvblwiLCBwb3N0VXJsKTtcbiAgICAgIGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG93bmxvYWRGb3JtJykuc3VibWl0KCk7XG4gICAgICBkb3dubG9hZENtZC5lbmFibGVkKHRydWUpO1xuICAgIH07XG5cbiAgICB2aWV3TW9kZWwuc2F2ZSA9IHNhdmVDbWQ7XG4gICAgdmlld01vZGVsLnRlc3QgPSB0ZXN0Q21kO1xuICAgIHZpZXdNb2RlbC5kb3dubG9hZCA9IGRvd25sb2FkQ21kO1xuICB9LmJpbmQodW5kZWZpbmVkLCBtZC5rZXksIG1kLm5hbWUpO1xuXG4gIHJldHVybiBjb21tYW5kc1BsdWdpbjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbHNMb2FkZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnJlcXVpcmUoXCJrbm9ja291dC1zb3J0YWJsZVwiKTtcblxucmVxdWlyZShcIi4vYmluZGluZ3MvanF1ZXJ5dWktc3Bpbm5lci5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2pxdWVyeXVpLXRhYnMuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9jb2xvcnBpY2tlci5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2Jsb2Nrcy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2Nzc3RleHQuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy9iaW5kLWlmcmFtZS5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2Ryb3BwYWJsZS5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2ZpbGV1cGxvYWQuanNcIik7XG5yZXF1aXJlKFwiLi9iaW5kaW5ncy92aXJ0dWFscy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3d5c2l3eWdzLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3Mvc2Nyb2xsZml4LmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvaWYtc3Vicy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2V4dHNvcnRhYmxlcy5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL2V2ZW50YWJsZS5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3Rvb2x0aXBzLmpzXCIpO1xucmVxdWlyZShcIi4vYmluZGluZ3MvZXh0ZW5kZXItcGFnaW5hdGlvbi5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3ZhbGlkYXRlZC12YWx1ZS5qc1wiKTtcbnJlcXVpcmUoXCIuL2JpbmRpbmdzL3Njcm9sbGludG92aWV3LmpzXCIpOyIsIlwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGdsb2JhbDogZmFsc2UgKi9cblxudmFyICQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xudmFyIGtvID0gcmVxdWlyZShcImtub2Nrb3V0XCIpO1xudmFyIGtvanF1aSA9IHJlcXVpcmUoXCJrbm9ja291dC1qcXVlcnl1aVwiKTsgLy8ganVzdCBmb3IgdGhlIHdpZGdldCBwbHVnaW5zXG52YXIgdGVtcGxhdGVDb252ZXJ0ZXIgPSByZXF1aXJlKFwiLi9jb252ZXJ0ZXIvbWFpbi5qc1wiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG52YXIgaW5pdGlhbGl6ZVZpZXdtb2RlbCA9IHJlcXVpcmUoXCIuL3ZpZXdtb2RlbC5qc1wiKTtcbnZhciB0ZW1wbGF0ZVN5c3RlbSA9IHJlcXVpcmUoJy4vYmluZGluZ3MvY2hvb3NlLXRlbXBsYXRlLmpzJyk7XG5cbi8vIGNhbGwgYSBnaXZlbiBtZXRob2Qgb24gZXZlcnkgcGx1Z2luIGltcGxlbWVudGluZyBpdC5cbi8vIHN1cHBvcnRzIGEgXCJyZXZlcnNlXCIgcGFyYW1ldGVyIHRvIGNhbGwgdGhlIG1ldGhvZHMgZnJvbSB0aGUgbGFzdCBvbmUgdG8gdGhlIGZpcnN0IG9uZS5cbnZhciBwbHVnaW5zQ2FsbCA9IGZ1bmN0aW9uKHBsdWdpbnMsIG1ldGhvZE5hbWUsIGFyZ3MsIHJldmVyc2UpIHtcbiAgdmFyIHN0YXJ0LCBlbmQsIGRpZmYsIHJlcywgcmVzdWx0cztcbiAgcmVzdWx0cyA9IFtdO1xuICBpZiAodHlwZW9mIHJldmVyc2UgIT09ICd1bmRlZmluZWQnICYmIHJldmVyc2UpIHtcbiAgICBzdGFydCA9IHBsdWdpbnMubGVuZ3RoIC0gMTtcbiAgICBlbmQgPSAwO1xuICAgIGRpZmYgPSAtMTtcbiAgfSBlbHNlIHtcbiAgICBzdGFydCA9IDA7XG4gICAgZW5kID0gcGx1Z2lucy5sZW5ndGggLSAxO1xuICAgIGRpZmYgPSAxO1xuICB9XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSAhPSBlbmQgKyBkaWZmOyBpICs9IGRpZmYpIHtcbiAgICBpZiAodHlwZW9mIHBsdWdpbnNbaV1bbWV0aG9kTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXMgPSBwbHVnaW5zW2ldW21ldGhvZE5hbWVdLmFwcGx5KHBsdWdpbnNbaV0sIGFyZ3MpO1xuICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICd1bmRlZmluZWQnKSByZXN1bHRzLnB1c2gocmVzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyB3b3JrYXJvdW5kIGZvciBrbm9ja291dC1qcXVlcnl1aSdzIGJ1dHRvbnNldC9idXR0b24gZGlzcG9zYWw6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ3Zhcy9rbm9ja291dC1qcXVlcnl1aS9pc3N1ZXMvMjVcbnZhciBvcmlnRGlzcG9zZUNhbGxiYWNrID0ga28udXRpbHMuZG9tTm9kZURpc3Bvc2FsLmFkZERpc3Bvc2VDYWxsYmFjaztcbmtvLnV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2sgPSBmdW5jdGlvbihub2RlLCBjYWxsYmFjaykge1xuICB2YXIgbmV3Q2FsbGJhY2sgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNhbGxiYWNrKG5vZGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhdWdodCB1bmV4cGVjdGVkIGRpc3Bvc2UgY2FsbGJhY2sgZXhjZXB0aW9uXCIsIGUpO1xuICAgIH1cbiAgfTtcbiAgb3JpZ0Rpc3Bvc2VDYWxsYmFjayhub2RlLCBuZXdDYWxsYmFjayk7XG59O1xuXG52YXIgYmluZGluZ1BsdWdpbk1ha2VyID0gZnVuY3Rpb24ocGVyZm9ybWFuY2VBd2FyZUNhbGxlcikge1xuICByZXR1cm4ge1xuICAgIHZpZXdNb2RlbDogZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdhcHBseUJpbmRpbmdzJywga28uYXBwbHlCaW5kaW5ncy5iaW5kKHVuZGVmaW5lZCwgdmlld01vZGVsKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGVyciwgZXJyLnN0YWNrKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCd1bmFwcGx5QmluZGluZ3MnLCBrby5jbGVhbk5vZGUuYmluZCh0aGlzLCBnbG9iYWwuZG9jdW1lbnQuYm9keSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihlcnIsIGVyci5zdGFjayk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG52YXIgdGVtcGxhdGVDcmVhdG9yID0gZnVuY3Rpb24odGVtcGxhdGVQbHVnaW4sIGh0bWxPckVsZW1lbnQsIG9wdGlvbmFsTmFtZSwgdGVtcGxhdGVNb2RlKSB7XG4gIHZhciB0bXBOYW1lID0gb3B0aW9uYWxOYW1lO1xuICBpZiAodHlwZW9mIG9wdGlvbmFsTmFtZSAhPSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGVtcGxhdGVNb2RlICE9ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBodG1sT3JFbGVtZW50ICE9ICdvYmplY3QnIHx8IGh0bWxPckVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdyZXBsYWNlZGh0bWwnKSB0bXBOYW1lICs9ICctJyArIHRlbXBsYXRlTW9kZTtcbiAgfVxuXG4gIHdoaWxlICh0eXBlb2YgdG1wTmFtZSA9PSAndW5kZWZpbmVkJyB8fCB0bXBOYW1lID09PSBudWxsIHx8IHRlbXBsYXRlUGx1Z2luLmV4aXN0cyh0bXBOYW1lKSkge1xuICAgIHRtcE5hbWUgPSAnYW5vbnltb3VzLScgKyBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTAwMDAwKSArIDEpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBodG1sT3JFbGVtZW50ID09ICdvYmplY3QnICYmIGh0bWxPckVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdyZXBsYWNlZGh0bWwnKSB7XG4gICAgdmFyICRlbCA9ICQoaHRtbE9yRWxlbWVudCk7XG4gICAgdmFyICRoZWFkID0gJCgncmVwbGFjZWRoZWFkJywgJGVsKTtcbiAgICB2YXIgJGJvZHkgPSAkKCdyZXBsYWNlZGJvZHknLCAkZWwpO1xuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUgKyAnLWhlYWQnLCAkaGVhZC5odG1sKCkgfHwgJycpO1xuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUgKyAnLXNob3cnLCAkYm9keS5odG1sKCkgfHwgJycpO1xuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUgKyAnLXByZXZpZXcnLCAkZWwuaHRtbCgpKTtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lICsgJy13eXNpd3lnJywgJGVsLmh0bWwoKSk7XG5cbiAgICAvLyAkaGVhZC5hdHRyKCdkYXRhLWJpbmQnLCAnYmxvY2s6IGNvbnRlbnQnKTtcbiAgICAkaGVhZC5jaGlsZHJlbigpLmRldGFjaCgpO1xuICAgICRoZWFkLmh0bWwoXCI8IS0tIGtvIGJsb2NrOiBjb250ZW50IC0tPjwhLS0gL2tvIC0tPlwiKTtcbiAgICAkaGVhZC5iZWZvcmUoJzwhLS0ga28gd2l0aFByb3BlcnRpZXM6IHsgdGVtcGxhdGVNb2RlOiBcXCdoZWFkXFwnIH0gLS0+Jyk7XG4gICAgJGhlYWQuYWZ0ZXIoJzwhLS0gL2tvIC0tPicpO1xuICAgICRib2R5Lmh0bWwoXCI8IS0tIGtvIGJsb2NrOiBjb250ZW50IC0tPjwhLS0gL2tvIC0tPlwiKTtcblxuICAgIHRlbXBsYXRlUGx1Z2luLmFkZGVyKHRtcE5hbWUgKyAnLWlmcmFtZScsICRlbFswXS5vdXRlckhUTUwpO1xuXG4gIH0gZWxzZSBpZiAodHlwZW9mIGh0bWxPckVsZW1lbnQgPT0gJ29iamVjdCcpIHtcbiAgICB0ZW1wbGF0ZVBsdWdpbi5hZGRlcih0bXBOYW1lLCBodG1sT3JFbGVtZW50Lm91dGVySFRNTCk7XG4gIH0gZWxzZSB7XG4gICAgdGVtcGxhdGVQbHVnaW4uYWRkZXIodG1wTmFtZSwgaHRtbE9yRWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gdG1wTmFtZTtcbn07XG5cbi8vIEFkYXB0ZXIgdG8gdHJhbnNmb3JtIFwidmlld01vZGVsIHBsdWdpbnNcIiBpbnRvIG1vcmUgZ2VuZXJpYyBwbHVnaW5zLlxuZnVuY3Rpb24gX3ZpZXdNb2RlbFBsdWdpbkluc3RhbmNlKHBsdWdpbkZ1bmN0aW9uKSB7XG4gIHZhciBpbnN0YW5jZTtcbiAgcmV0dXJuIHtcbiAgICB2aWV3TW9kZWw6IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgaW5zdGFuY2UgPSBwbHVnaW5GdW5jdGlvbih2aWV3TW9kZWwpO1xuICAgIH0sXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodHlwZW9mIGluc3RhbmNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW5zdGFuY2UuaW5pdCAhPT0gJ3VuZGVmaW5lZCcpIGluc3RhbmNlLmluaXQoKTtcbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGluc3RhbmNlLmRpc3Bvc2UgIT09ICd1bmRlZmluZWQnKSBpbnN0YW5jZS5kaXNwb3NlKCk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgX3RlbXBsYXRlVXJsQ29udmVydGVyID0gZnVuY3Rpb24oYmFzZVBhdGgsIHVybCkge1xuICBpZiAoIXVybC5tYXRjaCgvXlteXFwvXSo6LykgJiYgIXVybC5tYXRjaCgvXlxcLy8pICYmICF1cmwubWF0Y2goL15cXFsvKSAmJiAhdXJsLm1hdGNoKC9eIz8kLykpIHtcbiAgICAvLyBUT0RPIHRoaXMgY291bGQgYmUgc21hcnRlciBqb2luaW5nIHRoZSB1cmxzLi4uXG4gICAgcmV0dXJuIGJhc2VQYXRoICsgdXJsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG52YXIgdGVtcGxhdGVMb2FkZXIgPSBmdW5jdGlvbihwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLCB0ZW1wbGF0ZUZpbGVOYW1lLCB0ZW1wbGF0ZU1ldGFkYXRhLCBqc29yanNvbiwgZXh0ZW5zaW9ucywgZ2FsbGVyeVVybCkge1xuICB2YXIgdGVtcGxhdGVGaWxlID0gdHlwZW9mIHRlbXBsYXRlRmlsZU5hbWUgPT0gJ3N0cmluZycgPyB0ZW1wbGF0ZUZpbGVOYW1lIDogdGVtcGxhdGVNZXRhZGF0YS50ZW1wbGF0ZTtcbiAgdmFyIHRlbXBsYXRlUGF0aCA9IFwiLi9cIjtcbiAgdmFyIHAgPSB0ZW1wbGF0ZUZpbGUubGFzdEluZGV4T2YoJy8nKTtcbiAgaWYgKHAgIT0gLTEpIHtcbiAgICB0ZW1wbGF0ZVBhdGggPSB0ZW1wbGF0ZUZpbGUuc3Vic3RyKDAsIHAgKyAxKTtcbiAgfVxuXG4gIHZhciB0ZW1wbGF0ZVVybENvbnZlcnRlciA9IF90ZW1wbGF0ZVVybENvbnZlcnRlci5iaW5kKHVuZGVmaW5lZCwgdGVtcGxhdGVQYXRoKTtcblxuICB2YXIgbWV0YWRhdGE7XG4gIGlmICh0eXBlb2YgdGVtcGxhdGVNZXRhZGF0YSA9PSAndW5kZWZpbmVkJykge1xuICAgIG1ldGFkYXRhID0ge1xuICAgICAgdGVtcGxhdGU6IHRlbXBsYXRlRmlsZSxcbiAgICAgIC8vIFRPRE8gbDEwbj9cbiAgICAgIG5hbWU6ICdObyBuYW1lJyxcbiAgICAgIGNyZWF0ZWQ6IERhdGUubm93KClcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG1ldGFkYXRhID0gdGVtcGxhdGVNZXRhZGF0YTtcbiAgfVxuXG4gICQuZ2V0KHRlbXBsYXRlRmlsZSwgZnVuY3Rpb24odGVtcGxhdGVjb2RlKSB7XG4gICAgdmFyIHJlcyA9IHRlbXBsYXRlQ29tcGlsZXIocGVyZm9ybWFuY2VBd2FyZUNhbGxlciwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIFwidGVtcGxhdGVcIiwgdGVtcGxhdGVjb2RlLCBqc29yanNvbiwgbWV0YWRhdGEsIGV4dGVuc2lvbnMsIGdhbGxlcnlVcmwpO1xuICAgIHJlcy5pbml0KCk7XG4gIH0pO1xufTtcblxudmFyIHRlbXBsYXRlQ29tcGlsZXIgPSBmdW5jdGlvbihwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgdGVtcGxhdGVOYW1lLCB0ZW1wbGF0ZWNvZGUsIGpzb3Jqc29uLCBtZXRhZGF0YSwgZXh0ZW5zaW9ucywgZ2FsbGVyeVVybCkge1xuICAvLyB3ZSBzdHJpcCBjb250ZW50IGJlZm9yZSA8aHRtbD4gdGFnIGFuZCBhZnRlciA8L2h0bWw+IGJlY2F1c2UganF1ZXJ5IGRvZXNuJ3QgcGFyc2UgaXQuXG4gIC8vIHdlJ2xsIGtlZXAgaXQgXCJyYXdcIiBhbmQgdXNlIGl0IGluIHRoZSBwcmV2aWV3L291dHB1dCBtZXRob2RzLlxuICB2YXIgcmVzID0gdGVtcGxhdGVjb2RlLm1hdGNoKC9eKFtcXFNcXHNdKikoWzxdaHRtbFtePl0qPltcXFNcXHNdKjxcXC9odG1sPikoW1xcU1xcc10qKSQvaSk7XG4gIGlmIChyZXMgPT09IG51bGwpIHRocm93IFwiVW5hYmxlIHRvIGZpbmQgPGh0bWw+IG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncyBpbiB0aGUgdGVtcGxhdGVcIjtcbiAgdmFyIHByZWZpeCA9IHJlc1sxXTtcbiAgLy8gd2UgcGFyc2UgdGhlIGh0bWwgY29udGVudCBhZnRlciByZXBsYWNpbmcgdGhlIHRhZyBuYW1lIGZvciBodG1sL2hlYWQvYm9keSBzbyB0byBhdm9pZCBqcXVlcnkgaXNzdWVzIGluIHBhcnNpbmcuXG4gIHZhciBiYXNpY1N0cnVjdHVyZSA9IHsgJzxodG1sJzogMCwgJzxoZWFkJzogMCwgJzxib2R5JzogMCwgJzwvaHRtbCc6IDAsICc8L2JvZHknOiAwLCAnPC9oZWFkJzogMCB9O1xuICB2YXIgaHRtbCA9IHJlc1syXS5yZXBsYWNlKC8oPFxcLz8pKGh0bWx8aGVhZHxib2R5KShbXj5dKj4pL2dpLCBmdW5jdGlvbihtYXRjaCwgcDEsIHAyLCBwMykge1xuICAgIGJhc2ljU3RydWN0dXJlWyhwMStwMikudG9Mb3dlckNhc2UoKV0gKz0gMTtcbiAgICByZXR1cm4gcDEgKyAncmVwbGFjZWQnICsgcDIgKyBwMztcbiAgfSk7XG4gIGZvciAodmFyIGVsZSBpbiBiYXNpY1N0cnVjdHVyZSkgaWYgKGJhc2ljU3RydWN0dXJlLmhhc093blByb3BlcnR5KGVsZSkpIGlmIChiYXNpY1N0cnVjdHVyZVtlbGVdICE9IDEpIHtcbiAgICBpZiAoYmFzaWNTdHJ1Y3R1cmVbZWxlXSA9PT0gMCkgdGhyb3cgXCJFUlJPUjogbWlzc2luZyBtYW5kYXRvcnkgZWxlbWVudCBcIitlbGUrXCI+XCI7XG4gICAgaWYgKGJhc2ljU3RydWN0dXJlW2VsZV0gPiAxKSB0aHJvdyBcIkVSUk9SOiBtdWx0aXBsZSBlbGVtZW50IFwiK2VsZStcIj4gb2Njb3VyZW5jZXMgYXJlIG5vdCBzdXBwb3J0ZWQgKGZvdW5kIFwiK2Jhc2ljU3RydWN0dXJlW2VsZV0rXCIgb2Njb3VyZW5jZXMpXCI7XG4gIH1cbiAgdmFyIHBvc3RmaXggPSByZXNbM107XG4gIHZhciBibG9ja0RlZnMgPSBbXTtcbiAgdmFyIGVuYWJsZVVuZG8gPSB0cnVlO1xuICB2YXIgZW5hYmxlUmVjb3JkZXIgPSB0cnVlO1xuICB2YXIgYmFzZVRocmVzaG9sZCA9ICcrJHJvb3QuY29udGVudExpc3RlbmVycygpJztcblxuICB2YXIgcGx1Z2lucyA9IFtdO1xuXG4gIGlmICh0eXBlb2YgZXh0ZW5zaW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4dGVuc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uc1tpXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBsdWdpbnMucHVzaChfdmlld01vZGVsUGx1Z2luSW5zdGFuY2UoZXh0ZW5zaW9uc1tpXSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGx1Z2lucy5wdXNoKGV4dGVuc2lvbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBjcmVhdGVkVGVtcGxhdGVzID0gW107XG4gIHZhciB0ZW1wbGF0ZXNQbHVnaW4gPSB7XG4gICAgYWRkZXI6IGZ1bmN0aW9uKGlkLCBodG1sKSB7XG4gICAgICBpZiAodHlwZW9mIGh0bWwgIT09ICdzdHJpbmcnKSB0aHJvdyBcIlRlbXBsYXRlIHN5c3RlbTogY2Fubm90IGNyZWF0ZSBuZXcgdGVtcGxhdGUgXCIgKyBpZDtcbiAgICAgIHZhciB0cmFzaCA9IGh0bWwubWF0Y2goLyhkYXRhKT8ta28tW14gPTpdKi9nKTtcbiAgICAgIGlmICh0cmFzaCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRVJST1I6IGZvdW5kIHVuZXhwZWN0ZWQgLWtvLSBhdHRyaWJ1dGUgaW4gY29tcGlsZWQgdGVtcGxhdGVcIiwgaWQsIFwiLCB5b3UgcHJvYmFibHkgbWlzcGVsbGVkIGl0OlwiLCB0cmFzaCk7XG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZVN5c3RlbS5hZGRUZW1wbGF0ZShpZCwgaHRtbCk7XG4gICAgICBjcmVhdGVkVGVtcGxhdGVzLnB1c2goaWQpO1xuICAgIH0sXG4gICAgZXhpc3RzOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGVsID0gdGVtcGxhdGVTeXN0ZW0uZ2V0VGVtcGxhdGVDb250ZW50KGlkKTtcbiAgICAgIGlmICh0eXBlb2YgZWwgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBpID0gY3JlYXRlZFRlbXBsYXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB0ZW1wbGF0ZVN5c3RlbS5yZW1vdmVUZW1wbGF0ZShjcmVhdGVkVGVtcGxhdGVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAga28uYmluZGluZ0hhbmRsZXJzWydibG9jayddLnRlbXBsYXRlRXhpc3RzID0gdGVtcGxhdGVzUGx1Z2luLmV4aXN0cztcblxuICAvLyB0ZW1wbGF0ZWNyZWF0b3IgdHJhY2tzIGNyZWF0ZWQgdGVtcGxhdGUgKHZpYSB0ZW1wbGF0ZUFkZGVyKSBzbyB0byBiZSBhYmxlIHRvIGRpc3Bvc2UgdGhlbSBsYXRlclxuICB2YXIgbXlUZW1wbGF0ZUNyZWF0b3IgPSB0ZW1wbGF0ZUNyZWF0b3IuYmluZCh1bmRlZmluZWQsIHRlbXBsYXRlc1BsdWdpbik7XG5cbiAgLy8gZmlyc3QgcGFzczogd2UgXCJjb21waWxlXCIgdGhlIHRlbXBsYXRlIGludG8gYSB0ZXJtcGxhdGVEZWYgb2JqZWN0XG4gIHZhciB0ZW1wbGF0ZURlZiA9IHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ3RyYW5zbGF0ZVRlbXBsYXRlJywgdGVtcGxhdGVDb252ZXJ0ZXIudHJhbnNsYXRlVGVtcGxhdGUuYmluZCh1bmRlZmluZWQsIHRlbXBsYXRlTmFtZSwgaHRtbCwgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG15VGVtcGxhdGVDcmVhdG9yKSk7XG5cbiAgLy8gc2Vjb25kIHBhc3M6IGdpdmVuIHRoZSB0ZW1wbGF0ZURlZiB3ZSBjcmVhdGUgYSBiYXNlIGNvbnRlbnQgbW9kZWwgb2JqZWN0IGZvciB0aGlzIHRlbXBsYXRlLlxuICB2YXIgY29udGVudCA9IHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ2dlbmVyYXRlTW9kZWwnLCB0ZW1wbGF0ZUNvbnZlcnRlci53cmFwcGVkUmVzdWx0TW9kZWwuYmluZCh1bmRlZmluZWQsIHRlbXBsYXRlRGVmKSk7XG5cbiAgLy8gdGhpcmQgcGFzczogd2UgY3JlYXRlIFwic3R5bGUvY29udGVudCBlZGl0b3JzXCIgZm9yIGV2ZXJ5IGJsb2NrXG4gIHZhciB3aWRnZXRzID0ge307XG4gIHZhciB3aWRnZXRQbHVnaW5zID0gcGx1Z2luc0NhbGwocGx1Z2lucywgJ3dpZGdldCcsIFskLCBrbywga29qcXVpXSk7XG4gIGZvciAodmFyIHdpID0gMDsgd2kgPCB3aWRnZXRQbHVnaW5zLmxlbmd0aDsgd2krKykge1xuICAgIHdpZGdldHNbd2lkZ2V0UGx1Z2luc1t3aV0ud2lkZ2V0XSA9IHdpZGdldFBsdWdpbnNbd2ldO1xuICB9XG4gIGJsb2NrRGVmcy5wdXNoLmFwcGx5KGJsb2NrRGVmcywgcGVyZm9ybWFuY2VBd2FyZUNhbGxlcignZ2VuZXJhdGVFZGl0b3JzJywgdGVtcGxhdGVDb252ZXJ0ZXIuZ2VuZXJhdGVFZGl0b3JzLmJpbmQodW5kZWZpbmVkLCB0ZW1wbGF0ZURlZiwgd2lkZ2V0cywgdGVtcGxhdGVVcmxDb252ZXJ0ZXIsIG15VGVtcGxhdGVDcmVhdG9yLCBiYXNlVGhyZXNob2xkKSkpO1xuXG4gIHZhciBpbmNvbXBhdGlibGVUZW1wbGF0ZSA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGpzb3Jqc29uICE9PSAndW5kZWZpbmVkJyAmJiBqc29yanNvbiAhPT0gbnVsbCkge1xuICAgIHZhciB1bndyYXBwZWQ7XG4gICAgaWYgKHR5cGVvZiBqc29yanNvbiA9PSAnc3RyaW5nJykge1xuICAgICAgdW53cmFwcGVkID0ga28udXRpbHMucGFyc2VKc29uKGpzb3Jqc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdW53cmFwcGVkID0ganNvcmpzb247XG4gICAgfVxuXG4gICAgLy8gd2UgcnVuIGEgYmFzaWMgY29tcGF0aWJpbGl0eSBjaGVjayBiZXR3ZWVuIHRoZSBjb250ZW50LW1vZGVsIHdlIGV4cGVjdCBhbmQgdGhlIGluaXRpYWxpemF0aW9uIG1vZGVsXG4gICAgdmFyIGNoZWNrTW9kZWxSZXMgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdjaGVja01vZGVsJywgdGVtcGxhdGVDb252ZXJ0ZXIuY2hlY2tNb2RlbC5iaW5kKHVuZGVmaW5lZCwgY29udGVudC5fdW53cmFwKCksIGJsb2NrRGVmcywgdW53cmFwcGVkKSk7XG4gICAgLy8gaWYgY2hlY2tNb2RlbFJlcyBpcyAxIHRoZW4gdGhlIG1vZGVsIGlzIG5vdCBmdWxseSBjb21wYXRpYmxlIGJ1dCB3ZSBmaXhlZCBpdFxuICAgIGlmIChjaGVja01vZGVsUmVzID09IDIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJUcnlpbmcgdG8gY29tcGlsZSBhbiBpbmNvbXBhdGlibGUgdGVtcGxhdGUgdmVyc2lvbiFcIiwgY29udGVudC5fdW53cmFwKCksIGJsb2NrRGVmcywgdW53cmFwcGVkKTtcbiAgICAgIGluY29tcGF0aWJsZVRlbXBsYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29udGVudC5fd3JhcCh1bndyYXBwZWQpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGluamVjdCBtb2RlbCBjb250ZW50IVwiLCBleCk7XG4gICAgICBpbmNvbXBhdGlibGVUZW1wbGF0ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gVGhpcyBidWlsZCB0aGUgdGVtcGxhdGUgZm9yIHRoZSBwcmV2aWV3L291dHB1dCwgYnV0IGNvbmNhdGVuYXRpbmcgcHJlZml4LCB0ZW1wbGF0ZSBhbmQgY29udGVudCBhbmQgc3RyaXBwaW5nIHRoZSBcInJlcGxhY2VkXCIgcHJlZml4IGFkZGVkIHRvIFwicHJvYmxlbWF0aWNcIiB0YWcgKGh0bWwvaGVhZC9ib2R5KVxuICB2YXIgaWZyYW1lVHBsID0gcHJlZml4ICsgdGVtcGxhdGVTeXN0ZW0uZ2V0VGVtcGxhdGVDb250ZW50KHRlbXBsYXRlTmFtZSArICctaWZyYW1lJykucmVwbGFjZSgvKDxcXC8/KXJlcGxhY2VkKGh0bWx8aGVhZHxib2R5KShbXj5dKj4pL2dpLCBmdW5jdGlvbihtYXRjaCwgcDEsIHAyLCBwMykge1xuICAgIHJldHVybiBwMSArIHAyICsgcDM7XG4gIH0pICsgcG9zdGZpeDtcblxuICAvLyBzdG9yZSB0aGlzIHNvIHRvIHJlc3RvcmUgaXQgb24gZGlzcG9zYWxlXG4gIHZhciBvcmlnaUZyYW1lVHBsID0ga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsO1xuICBrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGwgPSBpZnJhbWVUcGw7XG4gIHZhciBpRnJhbWVQbHVnaW4gPSB7XG4gICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICBrby5iaW5kaW5nSGFuZGxlcnMuYmluZElmcmFtZS50cGwgPSBvcmlnaUZyYW1lVHBsO1xuICAgIH1cbiAgfTtcblxuICBwbHVnaW5zLnB1c2goaUZyYW1lUGx1Z2luKTtcbiAgcGx1Z2lucy5wdXNoKHRlbXBsYXRlc1BsdWdpbik7XG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgdmlld01vZGVsIG9iamVjdCBiYXNlZCBvbiB0aGUgY29udGVudCBtb2RlbC5cbiAgdmFyIHZpZXdNb2RlbCA9IHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoJ2luaXRpYWxpemVWaWV3bW9kZWwnLCBpbml0aWFsaXplVmlld21vZGVsLmJpbmQodGhpcywgY29udGVudCwgYmxvY2tEZWZzLCB0ZW1wbGF0ZVVybENvbnZlcnRlciwgZ2FsbGVyeVVybCkpO1xuXG4gIHZpZXdNb2RlbC5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAvLyBsZXQncyBydW4gc29tZSB2ZXJzaW9uIGNoZWNrIG9uIHRlbXBsYXRlIGFuZCBlZGl0b3IgdXNlZCB0byBidWlsZCB0aGUgbW9kZWwgYmVpbmcgbG9hZGVkLlxuICB2YXIgZWRpdHZlciA9ICcwLjE2LjAnO1xuICBpZiAodHlwZW9mIHZpZXdNb2RlbC5tZXRhZGF0YS5lZGl0b3J2ZXJzaW9uICE9PSAndW5kZWZpbmVkJyAmJiB2aWV3TW9kZWwubWV0YWRhdGEuZWRpdG9ydmVyc2lvbiAhPT0gZWRpdHZlcikge1xuICAgIGNvbnNvbGUud2FybihcIlRoZSBtb2RlbCBiZWluZyBsb2FkZWQgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGFuIG9sZGVyIGVkaXRvciB2ZXJzaW9uXCIsIHZpZXdNb2RlbC5tZXRhZGF0YS5lZGl0b3J2ZXJzaW9uLCBcInZzXCIsIGVkaXR2ZXIpO1xuICB9XG4gIHZpZXdNb2RlbC5tZXRhZGF0YS5lZGl0b3J2ZXJzaW9uID0gZWRpdHZlcjtcblxuICBpZiAodHlwZW9mIHRlbXBsYXRlRGVmLnZlcnNpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB2aWV3TW9kZWwubWV0YWRhdGEudGVtcGxhdGV2ZXJzaW9uICE9PSAndW5kZWZpbmVkJyAmJiB2aWV3TW9kZWwubWV0YWRhdGEudGVtcGxhdGV2ZXJzaW9uICE9PSB0ZW1wbGF0ZURlZi52ZXJzaW9uKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhlIG1vZGVsIGJlaW5nIGxvYWRlZCBoYXMgYmVlbiBjcmVhdGVkIHdpdGggYSBkaWZmZXJlbnQgdGVtcGxhdGUgdmVyc2lvblwiLCB0ZW1wbGF0ZURlZi52ZXJzaW9uLCBcInZzXCIsIHZpZXdNb2RlbC5tZXRhZGF0YS50ZW1wbGF0ZXZlcnNpb24pO1xuICAgIH1cbiAgICB2aWV3TW9kZWwubWV0YWRhdGEudGVtcGxhdGV2ZXJzaW9uID0gdGVtcGxhdGVEZWYudmVyc2lvbjtcbiAgfVxuXG4gIHRlbXBsYXRlU3lzdGVtLmluaXQoKTtcblxuICAvLyBldmVyeXRoaW5nJ3MgcmVhZHksIHN0YXJ0IGtub2Nrb3V0IGJpbmRpbmdzLlxuICBwbHVnaW5zLnB1c2goYmluZGluZ1BsdWdpbk1ha2VyKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpKTtcblxuICBwbHVnaW5zQ2FsbChwbHVnaW5zLCAndmlld01vZGVsJywgW3ZpZXdNb2RlbF0pO1xuXG4gIGlmIChpbmNvbXBhdGlibGVUZW1wbGF0ZSkge1xuICAgICQoJyNpbmNvbXBhdGlibGUtdGVtcGxhdGUnKS5kaWFsb2coe1xuICAgICAgbW9kYWw6IHRydWUsXG4gICAgICBhcHBlbmRUbzogJyNtby1ib2R5JyxcbiAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgT2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQodGhpcykuZGlhbG9nKFwiY2xvc2VcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbW9kZWw6IHZpZXdNb2RlbCxcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgIHBsdWdpbnNDYWxsKHBsdWdpbnMsICdpbml0JywgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9LFxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcGx1Z2luc0NhbGwocGx1Z2lucywgJ2Rpc3Bvc2UnLCB1bmRlZmluZWQsIHRydWUpO1xuICAgIH1cbiAgfTtcblxufTtcblxuXG52YXIgY2hlY2tGZWF0dXJlID0gZnVuY3Rpb24oZmVhdHVyZSwgZnVuYykge1xuICBpZiAoIWZ1bmMoKSkge1xuICAgIGNvbnNvbGUud2FybihcIk1pc3NpbmcgZmVhdHVyZVwiLCBmZWF0dXJlKTtcbiAgICB0aHJvdyBcIk1pc3NpbmcgZmVhdHVyZSBcIiArIGZlYXR1cmU7XG4gIH1cbn07XG5cbnZhciBpc0NvbXBhdGlibGUgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyB3aW5kb3cubXNNYXRjaE1lZGlhIHdvdWxkIG1hdGNoIGFsc28gSUU5XG4gICAgLy8gSUU5IHdvdWxkbid0IGJlIHNvIGhhcmQgdG8gc3VwcG9ydCwgYnV0IGl0IGRvZXNuJ3Qgd29ydGggaXQuIChwcmV2aWV3IGlmcmFtZSBhbmQgYXV0b21hdGljIHNjcm9sbCBhcmUgMiB0aGluZ3Mgbm90IHdvcmtpbmcgaW4gSUU5KVxuICAgIGNoZWNrRmVhdHVyZSgnbWF0Y2hNZWRpYScsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwubWF0Y2hNZWRpYSAhPSAndW5kZWZpbmVkJztcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ1hNTEh0dHBSZXF1ZXN0IDInLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnWE1MSHR0cFJlcXVlc3QnIGluIGdsb2JhbCAmJiAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgZ2xvYmFsLlhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdFUzUgc3RyaWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7IC8qIFwidXNlIHN0cmljdFwiOyovXG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAndW5kZWZpbmVkJztcbiAgICAgIH0oKTtcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ0NTUyBib3JkZXJSYWRpdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZ2xvYmFsLmRvY3VtZW50LmJvZHkuc3R5bGVbJ2JvcmRlclJhZGl1cyddICE9ICd1bmRlZmluZWQnO1xuICAgIH0pO1xuICAgIGNoZWNrRmVhdHVyZSgnQ1NTIGJveFNoYWRvdycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYm94U2hhZG93J10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tGZWF0dXJlKCdDU1MgYm94U2l6aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGdsb2JhbC5kb2N1bWVudC5ib2R5LnN0eWxlWydib3hTaXppbmcnXSAhPSAndW5kZWZpbmVkJztcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ0NTUyBiYWNrZ3JvdW5kU2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuZG9jdW1lbnQuYm9keS5zdHlsZVsnYmFja2dyb3VuZFNpemUnXSAhPSAndW5kZWZpbmVkJztcbiAgICB9KTtcbiAgICBjaGVja0ZlYXR1cmUoJ0NTUyBiYWNrZ3JvdW5kT3JpZ2luJywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGdsb2JhbC5kb2N1bWVudC5ib2R5LnN0eWxlWydiYWNrZ3JvdW5kT3JpZ2luJ10gIT0gJ3VuZGVmaW5lZCc7XG4gICAgfSk7XG4gICAgY2hlY2tCYWRCcm93c2VyRXh0ZW5zaW9ucygpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbnZhciBjaGVja0JhZEJyb3dzZXJFeHRlbnNpb25zID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpZCA9ICdjaGVja2JhZGJyb3dzZXJzZnJhbWUnO1xuICB2YXIgb3JpZ1RwbCA9IGtvLmJpbmRpbmdIYW5kbGVycy5iaW5kSWZyYW1lLnRwbDtcbiAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gXCI8IURPQ1RZUEUgaHRtbD5cXHJcXG48aHRtbD5cXHJcXG48aGVhZD48dGl0bGU+QTwvdGl0bGU+XFxyXFxuPC9oZWFkPlxcclxcbjxib2R5PjxwIHN0eWxlPVxcXCJjb2xvcjogYmx1ZVxcXCIgYWxpZ249XFxcInJpZ2h0XFxcIiBkYXRhLWJpbmQ9XFxcInN0eWxlOiB7IGNvbG9yOiAncmVkJyB9XFxcIj5CPC9wPjxkaXYgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb250ZW50XFxcIj48L2Rpdj48L2JvZHk+XFxyXFxuPC9odG1sPlxcclxcblwiO1xuICAkKCdib2R5JykuYXBwZW5kKCc8aWZyYW1lIGlkPVwiJyArIGlkICsgJ1wiIGRhdGEtYmluZD1cImJpbmRJZnJhbWU6ICRkYXRhXCI+PC9pZnJhbWU+Jyk7XG4gIHZhciBmcmFtZUVsID0gZ2xvYmFsLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAga28uYXBwbHlCaW5kaW5ncyh7IGNvbnRlbnQ6IFwiZHVtbXkgY29udGVudFwiIH0sIGZyYW1lRWwpO1xuICAvLyBPYnNvbGV0ZSBtZXRob2QgZGlkbid0IHdvcmsgb24gSUUxMSB3aGVuIHVzaW5nIFwiSFRNTDUgZG9jdHlwZVwiOlxuICAvLyB2YXIgZG9jVHlwZSA9IG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoZ2xvYmFsLmRvY3VtZW50LmRvY3R5cGUpO1xuICB2YXIgbm9kZSA9IGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N0eXBlO1xuICB2YXIgZG9jVHlwZSA9IFwiPCFET0NUWVBFIFwiICsgbm9kZS5uYW1lICtcbiAgICAobm9kZS5wdWJsaWNJZCA/ICcgUFVCTElDIFwiJyArIG5vZGUucHVibGljSWQgKyAnXCInIDogJycpICtcbiAgICAoIW5vZGUucHVibGljSWQgJiYgbm9kZS5zeXN0ZW1JZCA/ICcgU1lTVEVNJyA6ICcnKSArXG4gICAgKG5vZGUuc3lzdGVtSWQgPyAnIFwiJyArIG5vZGUuc3lzdGVtSWQgKyAnXCInIDogJycpICsgJz4nO1xuICB2YXIgY29udGVudCA9IGRvY1R5cGUgKyBcIlxcblwiICsgZnJhbWVFbC5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7XG4gIGtvLmNsZWFuTm9kZShmcmFtZUVsKTtcbiAga28ucmVtb3ZlTm9kZShmcmFtZUVsKTtcbiAga28uYmluZGluZ0hhbmRsZXJzLmJpbmRJZnJhbWUudHBsID0gb3JpZ1RwbDtcblxuICB2YXIgZXhwZWN0ZWQgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPjxoZWFkPjx0aXRsZT5BPC90aXRsZT5cXG48L2hlYWQ+XFxuPGJvZHk+PHAgYWxpZ249XFxcInJpZ2h0XFxcIiBzdHlsZT1cXFwiY29sb3I6IHJlZDtcXFwiIGRhdGEtYmluZD1cXFwic3R5bGU6IHsgY29sb3I6ICdyZWQnIH1cXFwiPkI8L3A+PGRpdiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvbnRlbnRcXFwiPmR1bW15IGNvbnRlbnQ8L2Rpdj5cXG5cXG48L2JvZHk+PC9odG1sPlwiO1xuICB2YXIgZXhwZWN0ZWQyID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD48aGVhZD48dGl0bGU+QTwvdGl0bGU+XFxuPC9oZWFkPlxcbjxib2R5PjxwIHN0eWxlPVxcXCJjb2xvcjogcmVkO1xcXCIgZGF0YS1iaW5kPVxcXCJzdHlsZTogeyBjb2xvcjogJ3JlZCcgfVxcXCIgYWxpZ249XFxcInJpZ2h0XFxcIj5CPC9wPjxkaXYgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb250ZW50XFxcIj5kdW1teSBjb250ZW50PC9kaXY+XFxuXFxuPC9ib2R5PjwvaHRtbD5cIjtcbiAgdmFyIGV4cGVjdGVkMyA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+PGhlYWQ+PHRpdGxlPkE8L3RpdGxlPlxcbjwvaGVhZD5cXG48Ym9keT48cCBzdHlsZT1cXFwiY29sb3I6IHJlZDtcXFwiIGFsaWduPVxcXCJyaWdodFxcXCIgZGF0YS1iaW5kPVxcXCJzdHlsZTogeyBjb2xvcjogJ3JlZCcgfVxcXCI+QjwvcD48ZGl2IGRhdGEtYmluZD1cXFwidGV4dDogY29udGVudFxcXCI+ZHVtbXkgY29udGVudDwvZGl2PlxcblxcbjwvYm9keT48L2h0bWw+XCI7XG4gIGlmIChleHBlY3RlZCAhPT0gY29udGVudCAmJiBleHBlY3RlZDIgIT09IGNvbnRlbnQgJiYgZXhwZWN0ZWQzICE9PSBjb250ZW50KSB7XG4gICAgY29uc29sZS5pbmZvKFwiQmFkQnJvd3Nlci5GcmFtZUNvbnRlbnRDaGVja1wiLCBjb250ZW50Lmxlbmd0aCwgZXhwZWN0ZWQubGVuZ3RoLCBleHBlY3RlZDIubGVuZ3RoLCBleHBlY3RlZDMubGVuZ3RoLCBjb250ZW50ID09IGV4cGVjdGVkLCBjb250ZW50ID09IGV4cGVjdGVkMiwgY29udGVudCA9PSBleHBlY3RlZDMpO1xuICAgIGNvbnNvbGUuaW5mbyhjb250ZW50KTtcbiAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgZnJhbWUgY29udGVudC4gTWlzYmVoYXZpbmcgYnJvd3NlcjogXCIrY29udGVudC5sZW5ndGgrXCIvXCIrZXhwZWN0ZWQubGVuZ3RoK1wiL1wiK2V4cGVjdGVkMi5sZW5ndGgrXCIvXCIrZXhwZWN0ZWQzLmxlbmd0aDtcbiAgfVxufTtcblxudmFyIGZpeFBhZ2VFdmVudHMgPSBmdW5jdGlvbigpIHtcbiAgLy8gVGhpcyBpcyBnbG9iYWwgY29kZSB0byBwcmV2ZW50IGRyYWdnaW5nL2Ryb3BwaW5nIGluIHRoZSBwYWdlIHdoZXJlIHdlIGRvbid0IGRlYWwgd2l0aCBpdC5cbiAgLy8gSUU4IGRvZXNuJ3QgaGF2ZSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciwgYnV0IGRvZXNuJ3Qgc3VwcG9ydCBkcmFnJmRyb3AgdG9vLlxuICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAvLyBwcmV2ZW50IGdlbmVyaWMgZmlsZSBkcm9wcHBpbmcgaW4gdGhlIHBhZ2VcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGlzIHVzaW5nIGRyYWcgbGlzdGVuZXIgb24gd2luZG93XCIpO1xuICAgICAgZSA9IGUgfHwgZ2xvYmFsLmV2ZW50O1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sIGZhbHNlKTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgdXNpbmcgZHJhZ3N0YXJ0IGxpc3RlbmVyIG9uIHdpbmRvd1wiKTtcbiAgICAgIGUgPSBlIHx8IGdsb2JhbC5ldmVudDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyB0aGlzIGlzIGNhbGxlZCBvbiBtb3VzZSBtb3ZlIG9uIGV2ZXJ5IHN1cHBvcnRlZCBicm93c2VyLlxuICAgICAgLy8gY29uc29sZS5sb2coXCJicm93c2VyIGlzIHVzaW5nIGRyYWdvdmVyIGxpc3RlbmVyIG9uIHdpbmRvd1wiKTtcbiAgICAgIGUgPSBlIHx8IGdsb2JhbC5ldmVudDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcm9wIGxpc3RlbmVyIG9uIHdpbmRvd1wiKTtcbiAgICAgIGUgPSBlIHx8IGdsb2JhbC5ldmVudDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIEkgYnJvd3NlciBzdXBwb3J0YXRpIGVudHJhdG8gdHV0dGkgcXVpIHF1YW5kbyBzaSBkcm9wcGEgcXVhbGNvc2Egc3VsIGJvZHlcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiYnJvd3NlciBpcyB1c2luZyBkcm9wIGxpc3RlbmVyIG9uIGJvZHkgdGFnXCIpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxuICBpZiAoZ2xvYmFsLmRvY3VtZW50Lm9uZHJhZ3N0YXJ0KSB7XG4gICAgZ2xvYmFsLmRvY3VtZW50Lm9uZHJhZ3N0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcImJyb3dzZXIgY2FsbGVkIG9uZHJhZ3N0YXJ0LiByZXR1cm4gZmFsc2UhXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb21waWxlOiB0ZW1wbGF0ZUNvbXBpbGVyLFxuICBsb2FkOiB0ZW1wbGF0ZUxvYWRlcixcbiAgaXNDb21wYXRpYmxlOiBpc0NvbXBhdGlibGUsXG4gIGZpeFBhZ2VFdmVudHM6IGZpeFBhZ2VFdmVudHNcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG5cbnZhciBfY2FsbCA9IGZ1bmN0aW9uKHdoYXRUb0NhbGwpIHtcbiAgcmV0dXJuIHdoYXRUb0NhbGwoKTtcbn07XG5cbnZhciBsb2dzID0gW107XG5cbnZhciBfdGltZWRDYWxsID0gZnVuY3Rpb24obmFtZSwgd2hhdFRvQ2FsbCkge1xuICB2YXIgcmVzO1xuICB2YXIgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKHR5cGVvZiBjb25zb2xlID09ICdvYmplY3QnICYmIGNvbnNvbGUudGltZSkgY29uc29sZS50aW1lKG5hbWUpO1xuICByZXMgPSBfY2FsbCh3aGF0VG9DYWxsKTtcbiAgaWYgKHR5cGVvZiBjb25zb2xlID09ICdvYmplY3QnICYmIGNvbnNvbGUudGltZSkgY29uc29sZS50aW1lRW5kKG5hbWUpO1xuICB2YXIgZGlmZiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnQ7XG4gIGlmICh0eXBlb2YgY29uc29sZSA9PSAnb2JqZWN0JyAmJiAhY29uc29sZS50aW1lKSBjb25zb2xlLmxvZyhuYW1lLCBcInRvb2tcIiwgZGlmZiwgXCJtc1wiKTtcbiAgbG9ncy5wdXNoKHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIHRpbWU6IGRpZmZcbiAgfSk7XG4gIC8vIG1heCBsb2dzXG4gIGlmIChsb2dzLmxlbmd0aCA+IDEwMCkgbG9ncy51bnNoaWZ0KCk7XG4gIHJldHVybiByZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdGltZWRDYWxsOiBfdGltZWRDYWxsLFxuICBsb2dzOiBsb2dzXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgdW5kb01hbmFnZXIgPSByZXF1aXJlKCdrbm9ja291dC11bmRvbWFuYWdlcicpO1xudmFyIHVuZG9zZXJpYWxpemVyID0gcmVxdWlyZShcIi4vdW5kb3NlcmlhbGl6ZXIuanNcIik7XG5cbnZhciBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlciA9IGZ1bmN0aW9uKHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuXG4gICAgdmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnModmlld01vZGVsLmNvbnRlbnRMaXN0ZW5lcnMoKSArIDIpO1xuXG4gICAgLy8gVE9ETyB0aGUgbGFiZWxzIHNob3VsZCBiZSBjb21wdXRlZCBvYnNlcnZhYmxlcyAobmVlZHMgY2hhbmdlcyBpbiB1bmRvbWFuYWdlciBwcm9qZWN0cylcbiAgICB2YXIgdW5kb1JlZG9TdGFjayA9IHVuZG9NYW5hZ2VyKHZpZXdNb2RlbC5jb250ZW50LCB7XG4gICAgICBsZXZlbHM6IDEwMCxcbiAgICAgIHVuZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlVuZG8gKCNDT1VOVCMpXCIpOyB9KSxcbiAgICAgIHJlZG9MYWJlbDoga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7IHJldHVybiB2aWV3TW9kZWwudChcIlJlZG9cIik7IH0pXG4gICAgfSk7XG4gICAgdmlld01vZGVsLnVuZG8gPSB1bmRvUmVkb1N0YWNrLnVuZG9Db21tYW5kO1xuICAgIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUgPSBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyLmJpbmQodmlld01vZGVsLCAndW5kbycsIHZpZXdNb2RlbC51bmRvLmV4ZWN1dGUpO1xuICAgIHZpZXdNb2RlbC5yZWRvID0gdW5kb1JlZG9TdGFjay5yZWRvQ29tbWFuZDtcbiAgICB2aWV3TW9kZWwucmVkby5leGVjdXRlID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3JlZG8nLCB2aWV3TW9kZWwucmVkby5leGVjdXRlKTtcbiAgICB2aWV3TW9kZWwudW5kb1Jlc2V0ID0gcGVyZm9ybWFuY2VBd2FyZUNhbGxlci5iaW5kKHZpZXdNb2RlbCwgJ3VuZG9SZXNldCcsIHVuZG9SZWRvU3RhY2sucmVzZXQpO1xuICAgIHZpZXdNb2RlbC5zZXRVbmRvTW9kZU1lcmdlID0gdW5kb1JlZG9TdGFjay5zZXRNb2RlTWVyZ2U7XG4gICAgdmlld01vZGVsLnNldFVuZG9Nb2RlT25jZSA9IHVuZG9SZWRvU3RhY2suc2V0TW9kZU9uY2U7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgdW5kb1JlZG9TdGFjay5zZXRVbmRvQWN0aW9uTWFrZXIodW5kb3NlcmlhbGl6ZXIubWFrZVVuZG9BY3Rpb24uYmluZCh1bmRlZmluZWQsIHZpZXdNb2RlbC5jb250ZW50KSk7XG4gICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKHRydWUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlSWdub3JlKCk7XG4gICAgICB9LFxuICAgICAgcnVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5zZXRNb2RlT25jZSgpO1xuICAgICAgfSxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmRvUmVkb1N0YWNrLnNldE1vZGVPbmNlKCk7XG4gICAgICB9LFxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKHZpZXdNb2RlbC5jb250ZW50TGlzdGVuZXJzKCkgLSAyKTtcbiAgICAgICAgdW5kb3NlcmlhbGl6ZXIud2F0Y2hFbmFibGVkKGZhbHNlKTtcbiAgICAgICAgdW5kb1JlZG9TdGFjay5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhZGRVbmRvU3RhY2tFeHRlbnNpb25NYWtlcjsiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBrbyA9IHJlcXVpcmUoXCJrbm9ja291dFwiKTtcbnZhciBjb25zb2xlID0gcmVxdWlyZShcImNvbnNvbGVcIik7XG4vLyBUaGlzIG1vZHVsZSBkZWFscyB3aXRoIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uIG9mIGEgXCJ0cmVlLXBhdGhcIiByZXByZXNlbnRpbmcgdGhlIHBhdGggdG8gcmVhY2ggdGhlIGdpdmVuIGxlYWYuXG4vLyBJbiBvcmRlciB0byBiZSBjb3JyZWN0bHkgc2VyaWFsaXplZCB3ZSBoYXZlIHRvIG1vdmUgZnJvbSBcInJlZmVyZW5jZVwiIHRvIFwic3RyaW5nXCIgYW5kIHZpY2V2ZXJzYS5cblxudmFyIF9yZWZlcmVuY2UgPSBmdW5jdGlvbihtb2RlbCwgcGF0aCkge1xuICB2YXIgcCA9IDA7XG4gIHZhciBwMSwgcDI7XG4gIHZhciBtID0gbW9kZWw7XG4gIHdoaWxlIChwIDwgcGF0aC5sZW5ndGgpIHtcbiAgICBzd2l0Y2ggKHBhdGguY2hhckF0KHApKSB7XG4gICAgICBjYXNlICcoJzpcbiAgICAgICAgaWYgKHBhdGguY2hhckF0KHAgKyAxKSA9PSAnKScpIHtcbiAgICAgICAgICBtID0gbSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRPRE8gZXJyb3JcbiAgICAgICAgfVxuICAgICAgICBwICs9IDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIHAyID0gcGF0aC5pbmRleE9mKCddJywgcCk7XG4gICAgICAgIG0gPSBtW3BhdGguc3Vic3RyaW5nKHAgKyAxLCBwMildO1xuICAgICAgICBwID0gcDIgKyAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJy4nOlxuICAgICAgICBwMSA9IHBhdGguaW5kZXhPZignKCcsIHApO1xuICAgICAgICBpZiAocDEgPT0gLTEpIHAxID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIHAyID0gcGF0aC5pbmRleE9mKCdbJywgcCk7XG4gICAgICAgIGlmIChwMiA9PSAtMSkgcDIgPSBwYXRoLmxlbmd0aDtcbiAgICAgICAgcDIgPSBNYXRoLm1pbihwMSwgcDIpO1xuICAgICAgICBtID0gbVtwYXRoLnN1YnN0cmluZyhwICsgMSwgcDIpXTtcbiAgICAgICAgcCA9IHAyO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIFRPRE8gZXJyb3JcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG07XG59O1xuXG52YXIgX2dldFBhdGggPSBmdW5jdGlvbihwYXJlbnRzLCBjaGlsZCkge1xuICB2YXIgcGF0aCA9IFwiXCI7XG4gIHZhciBwO1xuICBmb3IgKHZhciBrID0gMDsgayA8PSBwYXJlbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgcCA9IGsgPCBwYXJlbnRzLmxlbmd0aCA/IHBhcmVudHNba10gOiBjaGlsZDtcbiAgICBpZiAoa28uaXNPYnNlcnZhYmxlKHApKSBwYXRoICs9ICcoKSc7XG4gICAgaWYgKHR5cGVvZiBwLl9maWVsZE5hbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXRoICs9IFwiLlwiICsgcC5fZmllbGROYW1lO1xuICAgIH0gZWxzZSBpZiAoayA+IDAgJiYgdHlwZW9mIHBhcmVudHNbayAtIDFdLnBvcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgcGFyZW50QXJyYXkgPSBrby5pc09ic2VydmFibGUocGFyZW50c1trIC0gMV0pID8ga28udXRpbHMucGVla09ic2VydmFibGUocGFyZW50c1trIC0gMV0pIDogcGFyZW50c1trIC0gMV07XG4gICAgICB2YXIgcG9zID0ga28udXRpbHMuYXJyYXlJbmRleE9mKHBhcmVudEFycmF5LCBwKTtcbiAgICAgIGlmIChwb3MgIT0gLTEpIHtcbiAgICAgICAgcGF0aCArPSBcIltcIiArIHBvcyArIFwiXVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTk9URSB0aGlzIGhhcHBlbiwgc29tZXRpbWVzIHdoZW4gVGlueU1DRSBzZW5kcyB1cGRhdGVzIGZvciBvYmplY3RzIGFscmVhZHkgcmVtb3ZlZC5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgb2JqZWN0IG5vdCBmb3VuZCBpbiBwYXJlbnQgYXJyYXlcIiwgcGFyZW50QXJyYXksIHAsIGssIHBhcmVudHMubGVuZ3RoLCBrby50b0pTKHBhcmVudEFycmF5KSwga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShwKSk7XG4gICAgICAgIHRocm93IFwiVW5leHBlY3RlZCBvYmplY3Qgbm90IGZvdW5kIGluIHBhcmVudCBhcnJheVwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBwYXJlbnQgd2l0aCBubyBfZmllbGROYW1lIGFuZCBubyBwYXJlbnQgYXJyYXlcIiwgaywgcGFyZW50cyk7XG4gICAgICB0aHJvdyBcIlVuZXhwZWN0ZWQgcGFyZW50IHdpdGggbm8gX2ZpZWxkTmFtZSBhbmQgbm8gcGFyZW50IGFycmF5XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoO1xufTtcblxudmFyIG1ha2VEZXJlZmVyZW5jZWRVbmRvQWN0aW9uID0gZnVuY3Rpb24odW5kb0Z1bmMsIG1vZGVsLCBwYXRoLCB2YWx1ZSwgaXRlbSkge1xuICB2YXIgY2hpbGQgPSBfcmVmZXJlbmNlKG1vZGVsLCBwYXRoKTtcbiAgdW5kb0Z1bmMoY2hpbGQsIHZhbHVlLCBpdGVtKTtcbn07XG5cbnZhciBsaXN0ZW5lcjtcblxudmFyIF9zZXRMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmZ1bmMpIHtcbiAgbGlzdGVuZXIgPSBsaXN0ZW5mdW5jO1xufTtcblxuLyogZGVyZWZlcmVuY2luZyBwYXRoIGFuZCBjaGFuZ2luZyB2YWx1ZSB3aXRoIFwidG9KU1wiICovXG52YXIgbWFrZVVuZG9BY3Rpb25EZXJlZmVyZW5jZWQgPSBmdW5jdGlvbihtb2RlbCwgdW5kb0Z1bmMsIHBhcmVudHMsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pIHtcbiAgdHJ5IHtcbiAgICB2YXIgcGF0aCA9IF9nZXRQYXRoKHBhcmVudHMsIGNoaWxkKTtcblxuICAgIC8vIFRyYW5zZm9ybSBhY3Rpb25zIGluIHNpbXBsZSBKUyBvYmplY3RzLlxuICAgIGlmICh0eXBlb2Ygb2xkVmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2xkVmFsID09PSAnZnVuY3Rpb24nKSBvbGRWYWwgPSBrby50b0pTKG9sZFZhbCk7XG4gICAgaWYgKHR5cGVvZiBpdGVtICE9PSAndW5kZWZpbmVkJyAmJiAodHlwZW9mIGl0ZW0udmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBpdGVtLnZhbHVlID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgdmFyIG5ld0l0ZW0gPSBrby50b0pTKGl0ZW0pO1xuICAgICAgaXRlbSA9IG5ld0l0ZW07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3RlbmVyKHBhdGgsIGNoaWxkLCBvbGRWYWwsIGl0ZW0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlVuZG9zZXJpYWxpemVyIGlnbm9yaW5nIGV4Y2VwdGlvbiBpbiBsaXN0ZW5lciBjYWxsYmFja1wiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWFrZURlcmVmZXJlbmNlZFVuZG9BY3Rpb24uYmluZCh1bmRlZmluZWQsIHVuZG9GdW5jLCBtb2RlbCwgcGF0aCwgb2xkVmFsLCBpdGVtKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIE5PVEUgdGhpcyBoYXBwZW5zLCBmcm9tIHRpbWUgdG8gdGltZSwgd2hlbiBUaW55TUNFIHNlbmRzIHVwZGF0ZXMgZm9yIGRlbGV0ZWQgY29udGVudC5cbiAgICBjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIHByb2Nlc3NpbmcgdW5kb1wiLCBlLCBwYXJlbnRzLCBjaGlsZCwgaXRlbSk7XG4gIH1cbn07XG5cbnZhciB3YXRjaEVuYWJsZWQ7XG52YXIgX3dhdGNoRW5hYmxlZCA9IGZ1bmN0aW9uKG5ld1ZhbCkge1xuICBpZiAodHlwZW9mIG5ld1ZhbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgd2F0Y2hFbmFibGVkID0gbmV3VmFsO1xuICBlbHNlXG4gICAgcmV0dXJuIHdhdGNoRW5hYmxlZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXJlZmVyZW5jZTogX2dldFBhdGgsXG4gIHJlZmVyZW5jZTogX3JlZmVyZW5jZSxcbiAgbWFrZVVuZG9BY3Rpb246IG1ha2VVbmRvQWN0aW9uRGVyZWZlcmVuY2VkLFxuICBzZXRMaXN0ZW5lcjogX3NldExpc3RlbmVyLFxuICB3YXRjaEVuYWJsZWQ6IF93YXRjaEVuYWJsZWRcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgZ2xvYmFsOiBmYWxzZSAqL1xuXG52YXIgJCA9IHJlcXVpcmUoXCJqcXVlcnlcIik7XG52YXIga28gPSByZXF1aXJlKFwia25vY2tvdXRcIik7XG52YXIgY29uc29sZSA9IHJlcXVpcmUoXCJjb25zb2xlXCIpO1xudmFyIHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIgPSByZXF1aXJlKFwiLi90aW1lZC1jYWxsLmpzXCIpLnRpbWVkQ2FsbDtcblxudmFyIHRvYXN0ciA9IHJlcXVpcmUoXCJ0b2FzdHJcIik7XG50b2FzdHIub3B0aW9ucyA9IHtcbiAgXCJjbG9zZUJ1dHRvblwiOiBmYWxzZSxcbiAgXCJkZWJ1Z1wiOiBmYWxzZSxcbiAgXCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtYm90dG9tLWZ1bGwtd2lkdGhcIixcbiAgXCJ0YXJnZXRcIjogXCIjbW8tYm9keVwiLFxuICBcIm9uY2xpY2tcIjogbnVsbCxcbiAgXCJzaG93RHVyYXRpb25cIjogXCIzMDBcIixcbiAgXCJoaWRlRHVyYXRpb25cIjogXCIxMDAwXCIsXG4gIFwidGltZU91dFwiOiBcIjUwMDBcIixcbiAgXCJleHRlbmRlZFRpbWVPdXRcIjogXCIxMDAwXCIsXG4gIFwic2hvd0Vhc2luZ1wiOiBcInN3aW5nXCIsXG4gIFwiaGlkZUVhc2luZ1wiOiBcImxpbmVhclwiLFxuICBcInNob3dNZXRob2RcIjogXCJmYWRlSW5cIixcbiAgXCJoaWRlTWV0aG9kXCI6IFwiZmFkZU91dFwiXG59O1xuXG4vKiBOT1RFOiB0cmFuc2xhdGlvbnMgbW92ZWQgdG8gXCJwbHVnaW5cIlxudmFyIHN0cmluZ3MgPSB7XG4gICdzaG93IHByZXZpZXcgYW5kIHNlbmQgdGVzdCc6ICdWaXN1YWxpenphIHVuYSBhbnRlcHJpbWEgZSBmYWkgdW4gaW52aW8gZGkgdGVzdCcsXG4gIC8vIFN0cmluZ3MgZm9yIGFwcC5qc1xuICAnRG93bmxvYWQnOiAnRG93bmxvYWQnLFxuICAnVGVzdCc6ICdUZXN0JyxcbiAgJ1NhdmUnOiAnU2FsdmEnLFxuICAnRG93bmxvYWRpbmcuLi4nOiBcIkRvd25sb2FkIGluIGNvcnNvLi4uXCIsXG4gICdJbnZhbGlkIGVtYWlsIGFkZHJlc3MnOiBcIkluZGlyaXp6byBlbWFpbCBpbnZhbGlkb1wiLFxuICBcIlRlc3QgZW1haWwgc2VudC4uLlwiOiBcIkVtYWlsIGRpIHRlc3QgaW52aWF0YS4uLlwiLFxuICAnVW5leHBlY3RlZCBlcnJvciB0YWxraW5nIHRvIHNlcnZlcjogY29udGFjdCB1cyEnOiAnRXJyb3JlIGRpIGNvbXVuaWNhemlvbmUgY29uIGlsIHNlcnZlcjogY29udGF0dGFjaSEnLFxuICAnSW5zZXJ0IGhlcmUgdGhlIHJlY2lwaWVudCBlbWFpbCBhZGRyZXNzJzogJ0luc2VyaXNjaSBxdWkgbFxcJ2luZGlyaXp6byBlbWFpbCBhIGN1aSBzcGVkaXJlJyxcbiAgXCJUZXN0IGVtYWlsIGFkZHJlc3NcIjogXCJJbmRpcml6em8gZW1haWwgZGkgdGVzdFwiLFxuICAvLyB2aWV3TW9kZWxcbiAgJ0Jsb2NrIHJlbW92ZWQ6IHVzZSB1bmRvIGJ1dHRvbiB0byByZXN0b3JlIGl0Li4uJzogJ0Jsb2NjbyBlbGltaW5hdG86IHVzYSBpbCBwdWxzYW50ZSBhbm51bGxhIHBlciByZWN1cGVyYXJsby4uLicsXG4gICdOZXcgYmxvY2sgYWRkZWQgYWZ0ZXIgdGhlIHNlbGVjdGVkIG9uZSAoX19wb3NfXyknOiAnTnVvdm8gYmxvY2NvIGFnZ2l1bnRvIHNvdHRvIGEgcXVlbGxvIHNlbGV6aW9uYXRvIChfX3Bvc19fKScsXG4gICdOZXcgYmxvY2sgYWRkZWQgYXQgdGhlIG1vZGVsIGJvdHRvbSAoX19wb3NfXyknOiAnTnVvdm8gYmxvY2NvIGFnZ2l1bnRvIGluIGZvbmRvIGFsIG1vZGVsbG8gKF9fcG9zX18pJyxcbiAgLy8gdW5kb21haW4uanNcbiAgJ1VuZG8gKCNDT1VOVCMpJzogJ0FubnVsbGEgKCNDT1VOVCMpJyxcbiAgJ1JlZG8nOiAnUmlwcmlzdGluYScsXG4gIC8vIGVkaXRvci5qc1xuICAnU2VsZWN0ZWQgZWxlbWVudCBoYXMgbm8gZWRpdGFibGUgcHJvcGVydGllcyc6ICdMXFwnZWxlbWVudG8gc2VsZXppb25hdG8gbm9uIGZvcm5pc2NlIHByb3ByaWV0w6AgZWRpdGFiaWxpJyxcbiAgJ1RoaXMgc3R5bGUgaXMgc3BlY2lmaWMgZm9yIHRoaXMgYmxvY2s6IGNsaWNrIGhlcmUgdG8gcmVtb3ZlIHRoZSBjdXN0b20gc3R5bGUgYW5kIHJldmVydCB0byB0aGUgdGhlbWUgdmFsdWUnOiAnUXVlc3RvIHN0aWxlIMOoIHNwZWNpZmljbyBkaSBxdWVzdG8gYmxvY2NvOiBjbGljY2EgcXVpIHBlciBhbm51bGxhcmUgbG8gc3RpbGUgcGVyc29uYWxpenphdG8nLFxuICAnU3dpdGNoIGJldHdlZW4gZ2xvYmFsIGFuZCBibG9jayBsZXZlbCBzdHlsZXMgZWRpdGluZyc6ICdQZXJtZXR0ZSBkaSBzcGVjaWZpY2FyZSBzZSBzaSB2dW9sZSBtb2RpZmljYXJlIGxvIHN0aWxlIGdlbmVyYWxlIG8gc29sYW1lbnRlIHF1ZWxsbyBzcGVjaWZpY28gZGVsIGJsb2NjbyBzZWxlemlvbmF0bycsXG4gIC8vIG1haW4udHBsLmh0bWxcbiAgJ1VuZG8gbGFzdCBvcGVyYXRpb24nOiAnQW5udWxsYSB1bHRpbWEgb3BlcmF6aW9uZScsXG4gICdSZWRvIGxhc3Qgb3BlcmF0aW9uJzogJ1JpcGV0aSBvcGVyYXppb25lIGFubnVsbGF0YScsXG4gICdTaG93IGltYWdlIGdhbGxlcnknOiAnVmlzdWFsaXp6YSBnYWxsZXJpYSBpbW1hZ2luaScsXG4gICdHYWxsZXJ5JzogJ0dhbGxlcmlhJyxcbiAgJ1ByZXZpZXcnOiAnQW50ZXByaW1hJyxcbiAgJ1Nob3cgbGl2ZSBwcmV2aWV3JzogJ01vc3RyYSBhbnRlcHJpbWEgbGl2ZScsXG4gICdMYXJnZSBzY3JlZW4nOiAnU2NoZXJtbyBncmFuZGUnLFxuICAnVGFibGV0JzogJ1RhYmxldCcsXG4gICdTbWFydHBob25lJzogJ1NtYXJ0cGhvbmUnLFxuICAnU2hvdyBwcmV2aWV3IGFuZCBzZW5kIHRlc3QnOiAnVmlzdWFsaXp6YSB1bmEgYW50ZXByaW1hIGUgZmFpIHVuIGludmlvIGRpIHRlc3QnLFxuICAnRG93bmxvYWQgdGVtcGxhdGUnOiAnU2NhcmljYSBpbCB0ZW1wbGF0ZScsXG4gICdTYXZlIHRlbXBsYXRlJzogJ1NhbHZhIGlsIHRlbXBsYXRlJyxcbiAgJ1NhdmVkIG1vZGVsIGlzIG9ic29sZXRlJzogJ01vZGVsbG8gc2FsdmF0byBvYnNvbGV0bycsXG4gICc8cD5UaGUgc2F2ZWQgbW9kZWwgaGFzIGJlZW4gY3JlYXRlZCB3aXRoIGEgcHJldmlvdXMsIG5vbiBjb21wbGV0ZWx5IGNvbXBhdGlibGUgdmVyc2lvbiwgb2YgdGhlIHRlbXBsYXRlPC9wPjxwPlNvbWUgY29udGVudCBvciBzdHlsZSBpbiB0aGUgbW9kZWwgPGI+Q09VTEQgQkUgTE9TVDwvYj4gaWYgeW91IHdpbGwgPGI+c2F2ZTwvYj48L3A+PHA+Q29udGFjdCB1cyBmb3IgbW9yZSBpbmZvcm1hdGlvbnMhPC9wPic6ICc8cD5JbCBtb2RlbGxvIHNhbHZhdG8gw6ggc3RhdG8gY3JlYXRvIGNvbiB1bmEgdmVyc2lvbmUgcHJlY2VkZW50ZSBkZWwgdGVtcGxhdGUgbm9uIGRlbCB0dXR0byBjb21wYXRpYmlsZTwvcD48cD5BbGN1bmkgY29udGVudXRpIG8gc3RpbGkgZGVsIG1vZGVsbG8gPGI+UE9UUkVCQkVSTyBFU1NFUkUgUEVSU0k8L2I+IHNlIHByb2NlZGVyYWkgZSBkZWNpZGVyYWkgZGkgPGI+c2FsdmFyZTwvYj48L3A+PHA+Q29udGF0dGFjaSBzZSBoYWkgZGVpIGR1YmJpITwvcD4nLFxuXG4gIC8vIFRPRE8gdGhpcyBjYW5ub3QgYmUgZG9uZSBpbiBrbm9ja291dCBhcyB3aXRoIHVuY29tcGF0aWJsZSBicm93c2VycyB3ZSBkb24ndCBpbml0aWFsaXplXG4gIC8vICdVc3VwcG9ydGVkIGJyb3dzZXInOiAnQnJvd3NlciBub24gY29tcGF0aWJpbGUnLCBcbiAgLy8gJzxwPllvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLjwvcD48cD5Vc2UgYSBkaWZmZXJlbnQgYnJvd3NlciBvciB0cnkgdXBkYXJpbmcgeW91ciBicm93c2VyLjwvcD48cD5TdXBwb3J0ZWQgYnJvd3NlcnM6IDx1bD48bGk+SW50ZXJuZXQgRXhwbG9yZXIgJmd0Oz0gMTA8L2xpPjxsaT5Hb29nbGUgQ2hyb21lICZndDs9IDMwPC9saT48bGk+QXBwbGUgU2FmYXJpICZndDs9IDU8L2xpPjxsaT5Nb3ppbGxhIEZpcmVmaXggJmd0Oz0gMjA8L2xpPjwvdWw+PC9wPic6ICc8cD5JbCB0dW8gYnJvd3NlciBub24gw6ggc3VwcG9ydGF0by48L3A+PHA+QWNjZWRpIGNvbiB1biBicm93c2VyIGRpZmZlcmVudGUgbyBwcm92YSBhZCBhZ2dpb3JuYXJlIGlsIHR1byBicm93c2VyLjwvcD48cD5Ccm93c2VyIHN1cHBvcnRhdGk6IDx1bD48bGk+SW50ZXJuZXQgRXhwbG9yZXIgJmd0Oz0gMTA8L2xpPjxsaT5Hb29nbGUgQ2hyb21lICZndDs9IDMwPC9saT48bGk+QXBwbGUgU2FmYXJpICZndDs9IDU8L2xpPjxsaT5Nb3ppbGxhIEZpcmVmaXggJmd0Oz0gMjA8L2xpPjwvdWw+PC9wPicsXG5cbiAgLy8gdG9vbGJveFxuICAnQmxvY2tzJzogJ0Jsb2NjaGknLFxuICAnQmxvY2tzIHJlYWR5IHRvIGJlIGFkZGVkIHRvIHRoZSB0ZW1wbGF0ZSc6ICdFbGVuY28gY29udGVudXRpIGFnZ2l1bmdpYmlsaSBhbCBtZXNzYWdnaW8nLFxuICAnQ29udGVudCc6ICdDb250ZW51dG8nLFxuICAnRWRpdCBjb250ZW50IG9wdGlvbnMnOiAnTW9kaWZpY2Egb3B6aW9uaSBjb250ZW51dGknLFxuICAnU3R5bGUnOiAnU3RpbGUnLFxuICAnRWRpdCBzdHlsZSBvcHRpb25zJzogJ01vZGlmaWNhIG9wemlvbmkgZ3JhZmljaGUnLFxuICAnQmxvY2sgX19uYW1lX18nOiAnQmxvY2NvIF9fbmFtZV9fJyxcbiAgJ0NsaWNrIG9yIGRyYWcgdG8gYWRkIHRoaXMgYmxvY2sgdG8gdGhlIHRlbXBsYXRlJzogJ0NsaWNjYSBvIHRyYXNjaW5hIHBlciBhZ2dpdW5nZXJlIGFsIG1lc3NhZ2dpbycsXG4gICdBZGQnOiAnQWdnaXVuZ2knLFxuICAnQnkgY2xpY2tpbmcgb24gbWVzc2FnZSBwYXJ0cyB5b3Ugd2lsbCBzZWxlY3QgYSBibG9jayBhbmQgY29udGVudCBvcHRpb25zLCBpZiBhbnksIHdpbGwgc2hvdyBoZXJlJzogJ0NsaWNjYW5kbyBzdSBhbGN1bmUgcGFydGkgZGVsIG1lc3NhZ2dpbyBzZWxlemlvbmVyYWkgdW4gYmxvY2NvIGUgbGUgb3B6aW9uaSBjb250ZW51dGlzdGljaGUsIHNlIGRpc3BvbmliaWxpLCBjb21wYXJpcmFubm8gcXVpJyxcbiAgJ0J5IGNsaWNraW5nIG9uIG1lc3NhZ2UgcGFydHMgeW91IHdpbGwgc2VsZWN0IGEgYmxvY2sgYW5kIHN0eWxlIG9wdGlvbnMsIGlmIGF2YWlsYWJsZSwgd2lsbCBzaG93IGhlcmUnOiAnQ2xpY2NhbmRvIHN1IGFsY3VuZSBwYXJ0aSBkZWwgbWVzc2FnZ2lvIHNlbGV6aW9uZXJhaSB1biBibG9jY28gZSBsZSBvcHppb25pIGRpIHN0aWxlLCBzZSBkaXNwb25pYmlsaSwgY29tcGFyaXJhbm5vIHF1aScsXG4gICdDbGljayBvciBkcmFnIGZpbGVzIGhlcmUnOiAnQ2xpY2NhIG8gdHJhc2NpbmEgaSBmaWxlIHF1aSEnLFxuICAnTm8gaW1hZ2VzIHVwbG9hZGVkLCB5ZXQnOiAnTm9uIGhhaSBhbmNvcmEgY2FyaWNhdG8gaW1tYWdpbmknLFxuICAnU2hvdyBpbWFnZXMgZnJvbSB0aGUgZ2FsbGVyeSc6ICdWaXN1YWxpenphIGxlIGltbWFnaW5pIGNhcmljYXRlIG5lbGxhIHR1YSBhcmVhJyxcbiAgJ0xvYWRpbmcuLi4nOiAnQ2FyaWNhbWVudG8uLi4nLFxuICAnTG9hZCBnYWxsZXJ5JzogJ0NhcmljYSBnYWxsZXJpYScsXG4gICdMb2FkaW5nIGdhbGxlcnkuLi4nOiAnQ2FyaWNhbWVudG8gaW4gY29yc28uLi4nLFxuICAnVGhlIGdhbGxlcnkgaXMgZW1wdHknOiAnTmVzc3VuYSBpbW1hZ2luZSBuZWxsYSBnYWxsZXJpYScsXG4gIC8vIGltZy13eXNpd3lnLnRtbHBcbiAgJ1JlbW92ZSBpbWFnZSc6ICdSaW11b3ZpIGltbWFnaW5lJyxcbiAgJ09wZW4gdGhlIGltYWdlIGVkaXRpbmcgdG9vbCc6ICdBdnZpYSBzdHJ1bWVudG8gbW9kaWZpY2EgaW1tYWdpbmUnLFxuICAnVXBsb2FkIGEgbmV3IGltYWdlJzogJ0NhcmljYSB1bmEgbnVvdmEgaW1tYWdpbmUnLFxuICAnRHJvcCBhbiBpbWFnZSBoZXJlJzogJ1RyYXNjaW5hIHVuYSBpbW1hZ2luZSBxdWknLFxuICAnRHJvcCBhbiBpbWFnZSBoZXJlIG9yIGNsaWNrIHRoZSB1cGxvYWQgYnV0dG9uJzogJ1RyYXNjaW5hIHVuYSBpbW1hZ2luZSBxdWkgbyBjbGljY2Egc3VsIHB1bHNhbnRlIGRpIGNhcmljYW1lbnRvJyxcbiAgLy8gZ2FsbGVyeVxuICAnRHJhZyB0aGlzIGltYWdlIGFuZCBkcm9wIGl0IG9uIGFueSB0ZW1wbGF0ZSBpbWFnZSBwbGFjZWhvbGRlcic6ICdUcmFzY2luYSBxdWVzdGEgaW1tYWdpbmUgc3VsbGEgcG9zaXppb25lIGluIGN1aSB2dW9pIGluc2VyaXJsYScsXG4gICdHYWxsZXJ5Oic6ICdHYWxsZXJpYTonLFxuICAnU2Vzc2lvbiBpbWFnZXMnOiAnSW1tYWdpbmkgZGkgc2Vzc2lvbmUnLFxuICAnUmVjZW50cyc6ICdSZWNlbnRpJyxcbiAgJ1JlbW90ZSBnYWxsZXJ5JzogJ0dhbGxlcmlhIHJlbW90YScsXG5cbiAgLy8gY3VzdG9tc3R5bGVcbiAgJ0N1c3RvbWl6ZWQgYmxvY2suPHVsPjxsaT5JbiB0aGlzIHN0YXR1cyBjaGFuZ2VzIHRvIHByb3BlcnRpZXMgd2lsbCBiZSBzcGVjaWZpYyB0byB0aGUgY3VycmVudCBibG9jayAoaW5zdGVhZCBvZiBiZWluZyBnbG9iYWwgdG8gYWxsIGJsb2NrcyBpbiB0aGUgc2FtZSBzZWN0aW9uKTwvbGk+PGxpPkEgPHNwYW4gY2xhc3M9XCJjdXN0b21TdHlsZWRcIj48c3Bhbj5cInNtYWxsIGN1YmVcIiA8L3NwYW4+PC9zcGFuPiBpY29uIGJlc2lkZSB0aGUgcHJvcGVydHkgd2lsbCBtYXJrIHRoZSBjdXN0b21pemF0aW9uLiBCeSBjbGlja2luZyB0aGlzIGljb24gdGhlIHByb3BlcnR5IHZhbHVlIHdpbGwgYmUgcmV2ZXJ0ZWQgdG8gdGhlIHZhbHVlIGRlZmluZWQgZm9yIHRoZSBzZWN0aW9uLjwvbGk+PC91bD4nOiAnQmxvY2NvIHBlcnNvbmFsaXp6YXRvLjx1bD48bGk+SW4gcXVlc3RhIG1vZGFsaXTDoCBzZSBjYW1iaSB1bmEgcHJvcHJpZXTDoCB2ZXJyw6AgbW9kaWZpY2F0YSBzb2xhbWVudGUgcGVyIHF1ZXN0byBzcGVjaWZpY28gYmxvY2NvIChpbnZlY2UgY2hlIHBlciB0dXR0aSBpIGJsb2NjaGkgZGVsbGEgc3Rlc3NhIHNlemlvbmUpLjwvbGk+PGxpPlBlciBzZWduYWxhcmUgbGEgcGVyc29uYWxpenphemlvbmUgYXBwYXJpcsOgIGxcXCdpY29uYSA8c3BhbiBjbGFzcz1cImN1c3RvbVN0eWxlZFwiPjxzcGFuPiBkZWwgXCJjdWJldHRvXCI8L3NwYW4+PC9zcGFuPiBhIGZpYW5jbyBkZWxsZSBwcm9wcmlldMOgLiBDbGljY2FuZG8gcXVlc3RhIGljb25hIHRvcm5lcmFpIGFsIHZhbG9yZSBjb211bmUuPC9saT48L3VsPicsXG4gIC8vIGJsb2Nrcy13eXNpd3lnXG4gICdEcm9wIGhlcmUgYmxvY2tzIGZyb20gdGhlIFwiQmxvY2tzXCIgdGFiJzogJ1RyYXNjaW5hIHF1aSBpIGJsb2NjaGkgZGFsbGEgc2NoZWRhIFxcJ0Jsb2NjaGlcXCcnLFxuICAvLyBibG9jay13eXNpd3lnXG4gICdEcmFnIHRoaXMgaGFuZGxlIHRvIG1vdmUgdGhlIGJsb2NrJzogJ1RyYXNjaW5hIHBlciBzcG9zdGFyZSBpbCBibG9jY28gYWx0cm92ZScsXG4gICdNb3ZlIHRoaXMgYmxvY2sgdXBzaWRlJzogJ1Nwb3N0YSBpbCBibG9jY28gaW4gc3UnLFxuICAnTW92ZSB0aGlzIGJsb2NrIGRvd25zaWRlJzogJ1Nwb3N0YSBpbCBibG9jY28gaW4gZ2l1JyxcbiAgJ0RlbGV0ZSBibG9jayc6ICdFbGltaW5hIGJsb2NjbycsXG4gICdEdXBsaWNhdGUgYmxvY2snOiAnRHVwbGljYSBibG9jY28nLFxuICAnU3dpdGNoIGJsb2NrIHZhcmlhbnQnOiAnQ2FtYmlhIHZhcmlhbnRlIGJsb2NjbycsXG4gIC8vIGNvbG9ycGlja2VyXG4gICdUaGVtZSBDb2xvcnMsU3RhbmRhcmQgQ29sb3JzLFdlYiBDb2xvcnMsVGhlbWUgQ29sb3JzLEJhY2sgdG8gUGFsZXR0ZSxIaXN0b3J5LE5vIGhpc3RvcnkgeWV0Lic6ICdDb2xvcmkgVGVtYSxDb2xvcmkgU3RhbmRhcmQsQ29sb3JpIFdlYixDb2xvcmkgVGVtYSxUb3JuYSBhbGxhIHRhdm9sb3p6YSxTdG9yaWNvLHN0b3JpY28gY29sb3JpIHZ1b3RvJyxcblxuICAnRHJvcCBoZXJlJzogJ1JpbGFzY2lhIHF1aScsXG5cbn07XG4qL1xuXG5mdW5jdGlvbiBpbml0aWFsaXplRWRpdG9yKGNvbnRlbnQsIGJsb2NrRGVmcywgdGh1bWJQYXRoQ29udmVydGVyLCBnYWxsZXJ5VXJsKSB7XG5cbiAgdmFyIHZpZXdNb2RlbCA9IHtcbiAgICBnYWxsZXJ5UmVjZW50OiBrby5vYnNlcnZhYmxlQXJyYXkoW10pLmV4dGVuZCh7XG4gICAgICBwYWdpbmc6IDE2XG4gICAgfSksXG4gICAgZ2FsbGVyeVJlbW90ZToga28ub2JzZXJ2YWJsZUFycmF5KFtdKS5leHRlbmQoe1xuICAgICAgcGFnaW5nOiAxNlxuICAgIH0pLFxuICAgIHNlbGVjdGVkQmxvY2s6IGtvLm9ic2VydmFibGUobnVsbCksXG4gICAgc2VsZWN0ZWRJdGVtOiBrby5vYnNlcnZhYmxlKG51bGwpLFxuICAgIHNlbGVjdGVkVG9vbDoga28ub2JzZXJ2YWJsZSgwKSxcbiAgICBzZWxlY3RlZEltYWdlVGFiOiBrby5vYnNlcnZhYmxlKDApLFxuICAgIGRyYWdnaW5nOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBkcmFnZ2luZ0ltYWdlOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBnYWxsZXJ5TG9hZGVkOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBzaG93UHJldmlld0ZyYW1lOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBwcmV2aWV3TW9kZToga28ub2JzZXJ2YWJsZSgnbW9iaWxlJyksXG4gICAgc2hvd1Rvb2xib3g6IGtvLm9ic2VydmFibGUodHJ1ZSksXG4gICAgc2hvd1RoZW1lOiBrby5vYnNlcnZhYmxlKGZhbHNlKSxcbiAgICBzaG93R2FsbGVyeToga28ub2JzZXJ2YWJsZShmYWxzZSksXG4gICAgZGVidWc6IGtvLm9ic2VydmFibGUoZmFsc2UpLFxuICAgIGNvbnRlbnRMaXN0ZW5lcnM6IGtvLm9ic2VydmFibGUoMCksXG4gICAgXG4gICAgbG9nb1BhdGg6ICdkaXN0L2ltZy9tb3NhaWNvMzIucG5nJyxcbiAgICBsb2dvVXJsOiAnLicsXG4gICAgbG9nb0FsdDogJ21vc2FpY28nXG4gIH07XG5cbiAgLy8gdmlld01vZGVsLmNvbnRlbnQgPSBjb250ZW50Ll9pbnN0cnVtZW50KGtvLCBjb250ZW50LCB1bmRlZmluZWQsIHRydWUpO1xuICB2aWV3TW9kZWwuY29udGVudCA9IGNvbnRlbnQ7XG4gIHZpZXdNb2RlbC5ibG9ja0RlZnMgPSBibG9ja0RlZnM7XG5cbiAgdmlld01vZGVsLm5vdGlmaWVyID0gdG9hc3RyO1xuXG4gIC8vIERvZXMgdG9rZW4gc3Vic3RpdHV0aW9uIGluIGkxOG5leHQgc3R5bGVcbiAgdmlld01vZGVsLnR0ID0gZnVuY3Rpb24oa2V5LCBwYXJhbU9iaikge1xuICAgIGlmICh0eXBlb2YgcGFyYW1PYmogIT09ICd1bmRlZmluZWQnKVxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBwYXJhbU9iailcbiAgICAgICAgaWYgKHBhcmFtT2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UobmV3IFJlZ0V4cCgnX18nICsgcHJvcCArICdfXycsICdnJyksIHBhcmFtT2JqW3Byb3BdKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH07XG5cbiAgLy8gU2ltcGx5IG1hcHMgdG8gdHQ6IGxhbmd1YWdlIHBsdWdpbnMgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGRlZmluZSB0aGVpciBvd24gbGFuZ3VhZ2VcbiAgLy8gaGFuZGxpbmcuXG4gIC8vIElmIHRoaXMgbWV0aG9kIGludm9rZXMgYW4gb2JzZXJ2YWJsZSAoZS5nOiB2aWV3TW9kZWwubGFuZygpKSB0aGVuIHRoZSBVSSBsYW5ndWFnZSB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgLy8gdXBkYXRlIHdoZW4gdGhlIFwibGFuZ1wiIG9ic2VydmFibGUgY2hhbmdlcy5cbiAgdmlld01vZGVsLnQgPSB2aWV3TW9kZWwudHQ7XG5cbiAgLy8gY3VycmVudGx5IGNhbGxlZCBieSBlZGl0b3IuaHRtbCB0byB0cmFuc2xhdGUgdGVtcGxhdGUtZGVmaW5lZCBrZXlzIChsYWJlbCwgaGVscCwgZGVzY3JpcHRpb25zKVxuICAvLyB0aGUgZWRpdG9yIGFsd2F5cyB1c2VzIHRoZSBcInRlbXBsYXRlXCIgY2F0ZWdvcnkgZm9yIHRoYXQgc3RyaW5ncy5cbiAgLy8geW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCBhcyB5b3UgbGlrZSBpbiBvcmRlciB0byBwcm92aWRlIHRyYW5zbGF0aW9uIG9yIGNoYW5nZSB0aGUgc3RyaW5ncyBpbiBhbnkgd2F5LlxuICB2aWV3TW9kZWwudXQgPSBmdW5jdGlvbihjYXRlZ29yeSwga2V5KSB7XG4gICAgcmV0dXJuIGtleTtcbiAgfTtcblxuICB2aWV3TW9kZWwudGVtcGxhdGVQYXRoID0gdGh1bWJQYXRoQ29udmVydGVyO1xuXG4gIHZpZXdNb2RlbC5yZW1vdGVVcmxQcm9jZXNzb3IgPSBmdW5jdGlvbih1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5yZW1vdGVGaWxlUHJvY2Vzc29yID0gZnVuY3Rpb24oZmlsZU9iaikge1xuICAgIGlmICh0eXBlb2YgZmlsZU9iai51cmwgIT09ICd1bmRlZmluZWQnKSBmaWxlT2JqLnVybCA9IHZpZXdNb2RlbC5yZW1vdGVVcmxQcm9jZXNzb3IoZmlsZU9iai51cmwpO1xuICAgIGlmICh0eXBlb2YgZmlsZU9iai50aHVtYm5haWxVcmwgIT09ICd1bmRlZmluZWQnKSBmaWxlT2JqLnRodW1ibmFpbFVybCA9IHZpZXdNb2RlbC5yZW1vdGVVcmxQcm9jZXNzb3IoZmlsZU9iai50aHVtYm5haWxVcmwpO1xuICAgIC8vIGRlbGV0ZVVybD9cbiAgICByZXR1cm4gZmlsZU9iajtcbiAgfTtcblxuICAvLyB0b29sYm94LnRtcGwuaHRtbFxuICB2aWV3TW9kZWwubG9hZEdhbGxlcnkgPSBmdW5jdGlvbigpIHtcbiAgICB2aWV3TW9kZWwuZ2FsbGVyeUxvYWRlZCgnbG9hZGluZycpO1xuICAgIHZhciB1cmwgPSBnYWxsZXJ5VXJsID8gZ2FsbGVyeVVybCA6ICcvdXBsb2FkLyc7XG4gICAgLy8gcmV0cmlldmUgdGhlIGZ1bGwgbGlzdCBvZiByZW1vdGUgZmlsZXNcbiAgICAkLmdldEpTT04odXJsLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZmlsZXMubGVuZ3RoOyBpKyspIGRhdGEuZmlsZXNbaV0gPSB2aWV3TW9kZWwucmVtb3RlRmlsZVByb2Nlc3NvcihkYXRhLmZpbGVzW2ldKTtcbiAgICAgIHZpZXdNb2RlbC5nYWxsZXJ5TG9hZGVkKGRhdGEuZmlsZXMubGVuZ3RoKTtcbiAgICAgIC8vIFRPRE8gZG8gSSB3YW50IHRoaXMgY2FsbCB0byByZXR1cm4gcmVsYXRpdmUgcGF0aHM/IE9yIGp1c3QgYWJzb2x1dGUgcGF0aHM/XG4gICAgICB2aWV3TW9kZWwuZ2FsbGVyeVJlbW90ZShkYXRhLmZpbGVzLnJldmVyc2UoKSk7XG4gICAgfSkuZmFpbChmdW5jdGlvbigpIHtcbiAgICAgIHZpZXdNb2RlbC5nYWxsZXJ5TG9hZGVkKGZhbHNlKTtcbiAgICAgIHZpZXdNb2RlbC5ub3RpZmllci5lcnJvcih2aWV3TW9kZWwudCgnVW5leHBlY3RlZCBlcnJvciBsaXN0aW5nIGZpbGVzJykpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIGltZy13eXNpd3lnLnRtcGwuaHRtbFxuICB2aWV3TW9kZWwuZmlsZVRvSW1hZ2UgPSBmdW5jdGlvbihvYmosIGV2ZW50LCB1aSkge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiZmlsZVRvSW1hZ2VcIiwgb2JqKTtcbiAgICByZXR1cm4gb2JqLnVybDtcbiAgfTtcblxuICAvLyBibG9jay13eXNpd3lnLnRtcGwuaHRtbFxuICB2aWV3TW9kZWwucmVtb3ZlQmxvY2sgPSBmdW5jdGlvbihkYXRhLCBwYXJlbnQpIHtcbiAgICAvLyBsZXQncyB1bnNlbGVjdCB0aGUgYmxvY2tcbiAgICBpZiAoa28udXRpbHMudW53cmFwT2JzZXJ2YWJsZSh2aWV3TW9kZWwuc2VsZWN0ZWRCbG9jaykgPT0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShkYXRhKSkge1xuICAgICAgdmlld01vZGVsLnNlbGVjdEJsb2NrKG51bGwsIHRydWUpO1xuICAgIH1cbiAgICB2YXIgcmVzID0gcGFyZW50LmJsb2Nrcy5yZW1vdmUoZGF0YSk7XG4gICAgLy8gVE9ETyBUaGlzIG1lc3NhZ2Ugc2hvdWxkIGJlIGRpZmZlcmVudCBkZXBlbmRpbmcgb24gdW5kbyBwbHVnaW4gcHJlc2VuY2UuXG4gICAgdmlld01vZGVsLm5vdGlmaWVyLmluZm8odmlld01vZGVsLnQoJ0Jsb2NrIHJlbW92ZWQ6IHVzZSB1bmRvIGJ1dHRvbiB0byByZXN0b3JlIGl0Li4uJykpO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgLy8gYmxvY2std3lzaXd5Zy50bXBsLmh0bWxcbiAgdmlld01vZGVsLmR1cGxpY2F0ZUJsb2NrID0gZnVuY3Rpb24oaW5kZXgsIHBhcmVudCkge1xuICAgIHZhciBpZHggPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGluZGV4KTtcbiAgICAvLyBEZWluc3RydW1lbnQvZGVvYnNlcnZlIHRoZSBvYmplY3RcbiAgICB2YXIgdW53cmFwcGVkID0ga28udG9KUyhrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHBhcmVudC5ibG9ja3MpW2lkeF0pO1xuICAgIC8vIFdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBpZCBzbyB0aGF0IGEgbmV3IG9uZSB3aWxsIGJlIGFzc2lnbmVkIHRvIHRoZSBjbG9uZVxuICAgIGlmICh0eXBlb2YgdW53cmFwcGVkLmlkICE9PSAndW5kZWZpbmVkJykgdW53cmFwcGVkLmlkID0gJyc7XG4gICAgLy8gaW5zZXJ0IHRoZSBjbG9uZWQgYmxvY2tcbiAgICBwYXJlbnQuYmxvY2tzLnNwbGljZShpZHggKyAxLCAwLCB1bndyYXBwZWQpO1xuICB9O1xuXG4gIC8vIGJsb2NrLXd5c2l3eWcudG1wbC5odG1sXG4gIHZpZXdNb2RlbC5tb3ZlQmxvY2sgPSBmdW5jdGlvbihpbmRleCwgcGFyZW50LCB1cCkge1xuICAgIHZhciBpZHggPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGluZGV4KTtcbiAgICB2YXIgcGFyZW50QmxvY2tzID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShwYXJlbnQuYmxvY2tzKTtcbiAgICBpZiAoKHVwICYmIGlkeCA+IDApIHx8ICghdXAgJiYgaWR4IDwgcGFyZW50QmxvY2tzLmxlbmd0aCAtIDEpKSB7XG4gICAgICB2YXIgZGVzdEluZGV4ID0gaWR4ICsgKHVwID8gLTEgOiAxKTtcbiAgICAgIHZhciBkZXN0QmxvY2sgPSBwYXJlbnRCbG9ja3NbZGVzdEluZGV4XTtcbiAgICAgIHZpZXdNb2RlbC5zdGFydE11bHRpcGxlKCk7XG4gICAgICBwYXJlbnQuYmxvY2tzLnNwbGljZShkZXN0SW5kZXgsIDEpO1xuICAgICAgcGFyZW50LmJsb2Nrcy5zcGxpY2UoaWR4LCAwLCBkZXN0QmxvY2spO1xuICAgICAgdmlld01vZGVsLnN0b3BNdWx0aXBsZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyB0ZXN0IG1ldGhvZCwgY29tbWFuZCBsaW5lIHVzZSBvbmx5XG4gIHZpZXdNb2RlbC5sb2FkRGVmYXVsdEJsb2NrcyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGNsb25pbmcgdGhlIHdob2xlIFwibWFpbkJsb2Nrc1wiIG9iamVjdCBzbyB0aGF0IHVuZG9tYW5hZ2VyIHdpbGxcbiAgICAvLyBzZWUgaXQgYXMgYSBzaW5nbGUgb3BlcmF0aW9uIChtYXliZSBJIGNvdWxkIHVzZSBcInN0YXJ0TXVsdGlwbGVcIi9cInN0b3BNdWx0aXBsZVwiLlxuICAgIHZhciByZXMgPSBrby50b0pTKHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2Nrcyk7XG4gICAgcmVzLmJsb2NrcyA9IFtdO1xuICAgIHZhciBpbnB1dCA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmlld01vZGVsLmJsb2NrRGVmcyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9iaiA9IGtvLnRvSlMoaW5wdXRbaV0pO1xuICAgICAgLy8gZ2VuZXJhdGluZyBpZHMgZm9yIGJsb2NrcywgbWF5YmUgdGhpcyB3b3VsZCB3b3JrIGFsc28gbGVhdmluZyBpdCBlbXB0eS5cbiAgICAgIG9iai5pZCA9ICdibG9ja18nICsgaTtcbiAgICAgIHJlcy5ibG9ja3MucHVzaChvYmopO1xuICAgIH1cbiAgICBwZXJmb3JtYW5jZUF3YXJlQ2FsbGVyKCdzZXRNYWluQmxvY2tzJywgdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzLl93cmFwLmJpbmQodmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzLCByZXMpKTtcbiAgfTtcblxuICAvLyBnYWxsZXJ5LWltYWdlcy50bXBsLmh0bWxcbiAgdmlld01vZGVsLmFkZEltYWdlID0gZnVuY3Rpb24oaW1nKSB7XG4gICAgdmFyIHNlbGVjdGVkSW1nID0gJCgnI21haW4td3lzaXd5Zy1hcmVhIC5zZWxlY3RhYmxlLWltZy5zZWxlY3RlZGl0ZW0nKTtcbiAgICBpZiAoc2VsZWN0ZWRJbWcubGVuZ3RoID09IDEgJiYgdHlwZW9mIGltZyA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgaW1nLnVybCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGtvLmNvbnRleHRGb3Ioc2VsZWN0ZWRJbWdbMF0pLl9zcmMoaW1nLnVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvLyB0b29sYm94LnRtcGwuaHRtbFxuICB2aWV3TW9kZWwuYWRkQmxvY2sgPSBmdW5jdGlvbihvYmosIGV2ZW50KSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBzZWxlY3RlZCBibG9jayB3ZSB0cnkgdG8gYWRkIHRoZSBibG9jayBqdXN0IGFmdGVyIHRoZSBzZWxlY3RlZCBvbmUuXG4gICAgdmFyIHNlbGVjdGVkID0gdmlld01vZGVsLnNlbGVjdGVkQmxvY2soKTtcbiAgICAvLyBzZWFyY2ggdGhlIHNlbGVjdGVkIGJsb2NrIHBvc2l0aW9uLlxuICAgIHZhciBmb3VuZDtcbiAgICBpZiAoc2VsZWN0ZWQgIT09IG51bGwpIHtcbiAgICAgIC8vIFRPRE8gXCJtYWluQmxvY2tzXCIgaXMgYW4gaGFyZGNvZGVkIHRoaW5nLlxuICAgICAgZm9yICh2YXIgaSA9IHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2NrcygpLmJsb2NrcygpLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmICh2aWV3TW9kZWwuY29udGVudCgpLm1haW5CbG9ja3MoKS5ibG9ja3MoKVtpXSgpID09IHNlbGVjdGVkKSB7XG4gICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBwb3M7XG4gICAgaWYgKHR5cGVvZiBmb3VuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBvcyA9IGZvdW5kICsgMTtcbiAgICAgIHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2NrcygpLmJsb2Nrcy5zcGxpY2UocG9zLCAwLCBvYmopO1xuICAgICAgdmlld01vZGVsLm5vdGlmaWVyLmluZm8odmlld01vZGVsLnQoJ05ldyBibG9jayBhZGRlZCBhZnRlciB0aGUgc2VsZWN0ZWQgb25lIChfX3Bvc19fKScsIHtcbiAgICAgICAgcG9zOiBwb3NcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlld01vZGVsLmNvbnRlbnQoKS5tYWluQmxvY2tzKCkuYmxvY2tzLnB1c2gob2JqKTtcbiAgICAgIHBvcyA9IHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2NrcygpLmJsb2NrcygpLmxlbmd0aCAtIDE7XG4gICAgICB2aWV3TW9kZWwubm90aWZpZXIuaW5mbyh2aWV3TW9kZWwudCgnTmV3IGJsb2NrIGFkZGVkIGF0IHRoZSBtb2RlbCBib3R0b20gKF9fcG9zX18pJywge1xuICAgICAgICBwb3M6IHBvc1xuICAgICAgfSkpO1xuICAgIH1cbiAgICAvLyBmaW5kIHRoZSBuZXdseSBhZGRlZCBibG9jayBhbmQgc2VsZWN0IGl0IVxuICAgIHZhciBhZGRlZCA9IHZpZXdNb2RlbC5jb250ZW50KCkubWFpbkJsb2NrcygpLmJsb2NrcygpW3Bvc10oKTtcbiAgICB2aWV3TW9kZWwuc2VsZWN0QmxvY2soYWRkZWQsIHRydWUpO1xuICAgIC8vIHByZXZlbnQgY2xpY2sgcHJvcGFnYXRpb24gKGxvc2luZyB1cmwgaGFzaCAtIHNlZSAjNDMpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIFVzZWQgYnkgc3R5bGVzaGVldC5qcyB0byBjcmVhdGUgbXVsdGlwbGUgc3R5bGVzXG4gIHZpZXdNb2RlbC5maW5kT2JqZWN0c09mVHlwZSA9IGZ1bmN0aW9uKGRhdGEsIHR5cGUpIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIG9iaiA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoZGF0YSk7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopXG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIHZhciB2YWwgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKG9ialtwcm9wXSk7XG4gICAgICAgIC8vIFRPRE8gdGhpcyBpcyBub3QgdGhlIHJpZ2h0IHdheSB0byBkZWFsIHdpdGggXCJibG9jayBsaXN0XCIgb2JqZWN0cy5cbiAgICAgICAgaWYgKHByb3AubWF0Y2goL0Jsb2NrcyQvKSkge1xuICAgICAgICAgIHZhciBjb250ZW50cyA9IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUodmFsLmJsb2Nrcyk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGMgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGNvbnRlbnRzW2ldKTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBudWxsIHx8IGtvLnV0aWxzLnVud3JhcE9ic2VydmFibGUoYy50eXBlKSA9PSB0eXBlKSByZXMucHVzaChjKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVE9ETyBpbnZlc3RpZ2F0ZSB3aGljaCBjb25kaXRpb24gcHJvdmlkZSBhIG51bGwgdmFsdWUuXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbC50eXBlKSA9PSB0eXBlKSByZXMucHVzaCh2YWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICAvKlxuICB2aWV3TW9kZWwucGxhY2Vob2xkZXJIZWxwZXIgPSAnc29ydGFibGUtcGxhY2Vob2xkZXInO1xuICBpZiAoZmFsc2UpIHtcbiAgICB2aWV3TW9kZWwucGxhY2Vob2xkZXJIZWxwZXIgPSB7XG4gICAgICBlbGVtZW50OiBmdW5jdGlvbihjdXJyZW50SXRlbSkge1xuICAgICAgICByZXR1cm4gJCgnPGRpdiAvPicpLnJlbW92ZUNsYXNzKCd1aS1kcmFnZ2FibGUnKS5hZGRDbGFzcygnc29ydGFibGUtcGxhY2Vob2xkZXInKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJykuY3NzKCd3aWR0aCcsICcxMDAlJykuY3NzKCdoZWlnaHQnLCBjdXJyZW50SXRlbS5jc3MoJ2hlaWdodCcpKS5jc3MoJ29wYWNpdHknLCAnLjgnKVswXTtcbiAgICAgIH0sXG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uKGNvbnRhaW5lciwgcCkge1xuICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gICovXG5cbiAgLy8gQXR0ZW1wdCB0byBpbnNlcnQgdGhlIGJsb2NrIGluIHRoZSBkZXN0aW5hdGlvbiBsYXlvdXQgZHVyaW5nIGRyYWdnaW5nXG4gIHZpZXdNb2RlbC5wbGFjZWhvbGRlckhlbHBlciA9IHtcbiAgICBlbGVtZW50OiBmdW5jdGlvbihjdXJyZW50SXRlbSkge1xuICAgICAgcmV0dXJuICQoY3VycmVudEl0ZW1bMF0ub3V0ZXJIVE1MKS5yZW1vdmVDbGFzcygndWktZHJhZ2dhYmxlJykuYWRkQ2xhc3MoJ3NvcnRhYmxlLXBsYWNlaG9sZGVyJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpLmNzcygnd2lkdGgnLCAnMTAwJScpLmNzcygnaGVpZ2h0JywgJ2F1dG8nKS5jc3MoJ29wYWNpdHknLCAnLjgnKVswXTtcbiAgICB9LFxuICAgIHVwZGF0ZTogZnVuY3Rpb24oY29udGFpbmVyLCBwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIC8vIFRPRE8gdGhlIHVuZHVtYW5hZ2VyIHNob3VsZCBiZSBwbHVnZ2FibGUuXG4gIC8vIFVzZWQgYnkgXCJtb3ZlQmxvY2tcIiBhbmQgYmxvY2tzLXd5c2l3eWcudG1wbC5odG1sIHRvIFwibWVyZ2VcIiBkcmFnL2Ryb3Agb3BlcmF0aW9ucyBpbnRvIGEgc2luZ2xlIHVuZG8vcmVkbyBvcC5cbiAgdmlld01vZGVsLnN0YXJ0TXVsdGlwbGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIHZpZXdNb2RlbC5zZXRVbmRvTW9kZU1lcmdlICE9PSAndW5kZWZpbmVkJykgdmlld01vZGVsLnNldFVuZG9Nb2RlTWVyZ2UoKTtcbiAgfTtcbiAgdmlld01vZGVsLnN0b3BNdWx0aXBsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2Ygdmlld01vZGVsLnNldFVuZG9Nb2RlT25jZSAhPT0gJ3VuZGVmaW5lZCcpIHZpZXdNb2RlbC5zZXRVbmRvTW9kZU9uY2UoKTtcbiAgfTtcblxuICAvLyBVc2VkIGJ5IGNvZGUgZ2VuZXJhdGVkIGJ5IGVkaXRvci5qcyBcbiAgdmlld01vZGVsLmxvY2FsR2xvYmFsU3dpdGNoID0gZnVuY3Rpb24ocHJvcCwgZ2xvYmFsUHJvcCkge1xuICAgIHZhciBjdXJyZW50ID0gcHJvcCgpO1xuICAgIGlmIChjdXJyZW50ID09PSBudWxsKSBwcm9wKGdsb2JhbFByb3AoKSk7XG4gICAgZWxzZSBwcm9wKG51bGwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBVc2VkIGJ5IGVkaXRvciBhbmQgbWFpbiBcImNvbnZlcnRlclwiIHRvIHN1cHBvcnQgaXRlbSBzZWxlY3Rpb25cbiAgdmlld01vZGVsLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbih2YWx1ZUFjY2Vzc29yLCBpdGVtLCBibG9jaykge1xuICAgIHZhciB2YWwgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKTtcbiAgICBpZiAodHlwZW9mIGJsb2NrICE9PSAndW5kZWZpbmVkJykgdmlld01vZGVsLnNlbGVjdEJsb2NrKGJsb2NrLCBmYWxzZSwgdHJ1ZSk7XG4gICAgaWYgKHZhbCAhPSBpdGVtKSB7XG4gICAgICB2YWx1ZUFjY2Vzc29yKGl0ZW0pO1xuICAgICAgLy8gT24gc2VsZWN0SXRlbSBpZiB3ZSB3ZXJlIG9uIFwiQmxvY2tzXCIgdG9vbGJveCB0YWIgd2UgbW92ZSB0byBcIkNvbnRlbnRcIiB0b29sYm94IHRhYi5cbiAgICAgIGlmIChpdGVtICE9PSBudWxsICYmIHZpZXdNb2RlbC5zZWxlY3RlZFRvb2woKSA9PT0gMCkgdmlld01vZGVsLnNlbGVjdGVkVG9vbCgxKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LmJpbmQodmlld01vZGVsLCB2aWV3TW9kZWwuc2VsZWN0ZWRJdGVtKTtcblxuICB2aWV3TW9kZWwuaXNTZWxlY3RlZEl0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIHZpZXdNb2RlbC5zZWxlY3RlZEl0ZW0oKSA9PSBpdGVtO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5zZWxlY3RCbG9jayA9IGZ1bmN0aW9uKHZhbHVlQWNjZXNzb3IsIGl0ZW0sIGRvTm90U2VsZWN0LCBkb05vdFVuc2VsZWN0SXRlbSkge1xuICAgIHZhciB2YWwgPSBrby51dGlscy5wZWVrT2JzZXJ2YWJsZSh2YWx1ZUFjY2Vzc29yKTtcbiAgICBpZiAoIWRvTm90VW5zZWxlY3RJdGVtKSB2aWV3TW9kZWwuc2VsZWN0SXRlbShudWxsKTtcbiAgICBpZiAodmFsICE9IGl0ZW0pIHtcbiAgICAgIHZhbHVlQWNjZXNzb3IoaXRlbSk7XG4gICAgICAvLyBoaWRlIGdhbGxlcnkgb24gYmxvY2sgc2VsZWN0aW9uXG4gICAgICB2aWV3TW9kZWwuc2hvd0dhbGxlcnkoZmFsc2UpO1xuICAgICAgaWYgKGl0ZW0gIT09IG51bGwgJiYgIWRvTm90U2VsZWN0ICYmIHZpZXdNb2RlbC5zZWxlY3RlZFRvb2woKSA9PT0gMCkgdmlld01vZGVsLnNlbGVjdGVkVG9vbCgxKTtcbiAgICB9XG4gIH0uYmluZCh2aWV3TW9kZWwsIHZpZXdNb2RlbC5zZWxlY3RlZEJsb2NrKTtcblxuICAvLyBERUJVR1xuICB2aWV3TW9kZWwuY291bnRTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24obW9kZWwsIGRlYnVnKSB7XG4gICAgdmFyIHJlcyA9IDA7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBtb2RlbClcbiAgICAgIGlmIChtb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICB2YXIgcCA9IG1vZGVsW3Byb3BdO1xuICAgICAgICBpZiAoa28uaXNPYnNlcnZhYmxlKHApKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwLl9kZWZhdWx0Q29tcHV0ZWQgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVidWcgIT0gJ3VuZGVmaW5lZCcpIGNvbnNvbGUubG9nKGRlYnVnICsgXCIvXCIgKyBwcm9wICsgXCIvX1wiLCBwLl9kZWZhdWx0Q29tcHV0ZWQuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCkpO1xuICAgICAgICAgICAgcmVzICs9IHAuX2RlZmF1bHRDb21wdXRlZC5nZXRTdWJzY3JpcHRpb25zQ291bnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBkZWJ1ZyAhPSAndW5kZWZpbmVkJykgY29uc29sZS5sb2coZGVidWcgKyBcIi9cIiArIHByb3AgKyBcIi8tXCIsIHAuZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCkpO1xuICAgICAgICAgIHJlcyArPSBwLmdldFN1YnNjcmlwdGlvbnNDb3VudCgpO1xuICAgICAgICAgIHAgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcCA9PSAnb2JqZWN0JyAmJiBwICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIHRvdCA9IHZpZXdNb2RlbC5jb3VudFN1YnNjcmlwdGlvbnMocCwgdHlwZW9mIGRlYnVnICE9ICd1bmRlZmluZWQnID8gZGVidWcgKyAnLycgKyBwcm9wICsgXCJAXCIgOiB1bmRlZmluZWQpO1xuICAgICAgICAgIGlmICh0eXBlb2YgZGVidWcgIT0gJ3VuZGVmaW5lZCcpIGNvbnNvbGUubG9nKGRlYnVnICsgXCIvXCIgKyBwcm9wICsgXCJAXCIsIHRvdCk7XG4gICAgICAgICAgcmVzICs9IHRvdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgLy8gREVCVUdcbiAgdmlld01vZGVsLmxvb3BTdWJzY3JpcHRpb25zQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY291bnQgPSB2aWV3TW9kZWwuY291bnRTdWJzY3JpcHRpb25zKHZpZXdNb2RlbC5jb250ZW50KCkpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Vic2NyaXB0aW9uc0NvdW50JykuaW5uZXJIVE1MID0gY291bnQ7XG4gICAgZ2xvYmFsLnNldFRpbWVvdXQodmlld01vZGVsLmxvb3BTdWJzY3JpcHRpb25zQ291bnQsIDEwMDApO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5leHBvcnQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29udGVudCA9IHBlcmZvcm1hbmNlQXdhcmVDYWxsZXIoXCJleHBvcnRIVE1MXCIsIHZpZXdNb2RlbC5leHBvcnRIVE1MKTtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICBmdW5jdGlvbiBjb25kaXRpb25hbF9yZXN0b3JlKGh0bWwpIHtcbiAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88cmVwbGFjZWRjY1tePl0qIGNvbmRpdGlvbj1cIihbXlwiXSopXCJbXj5dKj4oW1xcc1xcU10qPyk8XFwvcmVwbGFjZWRjYz4vZywgZnVuY3Rpb24obWF0Y2gsIGNvbmRpdGlvbiwgYm9keSkge1xuICAgICAgdmFyIGRkID0gJzwhLS1baWYgJytjb25kaXRpb24ucmVwbGFjZSgvJmFtcDsvLCAnJicpKyddPic7XG4gICAgICBkZCArPSBib2R5LnJlcGxhY2UoLzwhLS0gY2M6YmM6KFtBLVphLXo6XSopIC0tPig8XFwvY2M+KT88IS0tIGNjOmFjOlxcMSAtLT4vZywgJzwvJDE+JykgLy8gcmVzdG9yZSBjbG9zaW5nIHRhZ3MgKGluY2x1ZGluZyBsb3N0IHRhZ3MpXG4gICAgICAgICAgICAucmVwbGFjZSgvPjxcXC9jYz48IS0tIGNjOnNjIC0tPi9nLCAnLz4nKSAvLyByZXN0b3JlIHNlbGZjbG9zaW5nIHRhZ3NcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IS0tIGNjOmJvOihbQS1aYS16Ol0qKSAtLT48Y2MvZywgJzwkMScpIC8vIHJlc3RvcmUgb3BlbiB0YWdzXG4gICAgICAgICAgICAucmVwbGFjZSgvXi4qPCEtLSBjYzpzdGFydCAtLT4vLCcnKSAvLyByZW1vdmUgY29udGVudCBiZWZvcmUgc3RhcnRcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IS0tIGNjOmVuZCAtLT4uKiQvLCcnKTsgLy8gcmVtb3ZlIGNvbnRlbnQgYWZ0ZXIgZW5kXG4gICAgICBkZCArPSAnPCFbZW5kaWZdLS0+JztcbiAgICAgIHJldHVybiBkZDtcbiAgICB9KTtcbiAgfVxuXG4gIHZpZXdNb2RlbC5leHBvcnRIVE1MID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkID0gJ2V4cG9ydGZyYW1lJztcbiAgICAkKCdib2R5JykuYXBwZW5kKCc8aWZyYW1lIGlkPVwiJyArIGlkICsgJ1wiIGRhdGEtYmluZD1cImJpbmRJZnJhbWU6ICRkYXRhXCI+PC9pZnJhbWU+Jyk7XG4gICAgdmFyIGZyYW1lRWwgPSBnbG9iYWwuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGtvLmFwcGx5QmluZGluZ3Modmlld01vZGVsLCBmcmFtZUVsKTtcblxuICAgIGtvLmNsZWFuTm9kZShmcmFtZUVsKTtcblxuICAgIGlmICh2aWV3TW9kZWwuaW5saW5lKSB2aWV3TW9kZWwuaW5saW5lKGZyYW1lRWwuY29udGVudFdpbmRvdy5kb2N1bWVudCk7XG5cbiAgICAvLyBPYnNvbGV0ZSBtZXRob2QgZGlkbid0IHdvcmsgb24gSUUxMSB3aGVuIHVzaW5nIFwiSFRNTDUgZG9jdHlwZVwiOlxuICAgIC8vIHZhciBkb2NUeXBlID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhnbG9iYWwuZG9jdW1lbnQuZG9jdHlwZSk7XG4gICAgdmFyIG5vZGUgPSBmcmFtZUVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdHlwZTtcbiAgICB2YXIgZG9jVHlwZSA9IFwiPCFET0NUWVBFIFwiICsgbm9kZS5uYW1lICtcbiAgICAgIChub2RlLnB1YmxpY0lkID8gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJsaWNJZCArICdcIicgOiAnJykgK1xuICAgICAgKCFub2RlLnB1YmxpY0lkICYmIG5vZGUuc3lzdGVtSWQgPyAnIFNZU1RFTScgOiAnJykgK1xuICAgICAgKG5vZGUuc3lzdGVtSWQgPyAnIFwiJyArIG5vZGUuc3lzdGVtSWQgKyAnXCInIDogJycpICsgJz4nO1xuICAgIHZhciBjb250ZW50ID0gZG9jVHlwZSArIFwiXFxuXCIgKyBmcmFtZUVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICBrby5yZW1vdmVOb2RlKGZyYW1lRWwpO1xuXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPHNjcmlwdCAoW14+XSogKT90eXBlPVwidGV4dFxcL2h0bWxcIltePl0qPltcXHNcXFNdKj88XFwvc2NyaXB0Pi9nbSwgJycpO1xuICAgIC8vIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLzwhLS0ga28gLio/IC0tPi9nLCAnJyk7IC8vIHNvbWV0aW1lcyB3ZSBoYXZlIGV4cHJlc3Npb25zIGxpa2UgKDwhLS0ga28gdmFyID4gMiAtLT4pXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBrbyAoKD8hLS0pLikqPyAtLT4vZywgJycpOyAvLyB0aGlzIHJlcGxhY2VzIHRoZSBhYm92ZSB3aXRoIGEgbW9yZSBmb3JtYWwgKGJ1dCBzbG93ZXIpIHNvbHV0aW9uXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvPCEtLSBcXC9rbyAtLT4vZywgJycpO1xuICAgIC8vIFJlbW92ZSBkYXRhLWJpbmQvZGF0YS1ibG9jayBhdHRyaWJ1dGVzXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIGRhdGEtYmluZD1cIlteXCJdKlwiL2dtLCAnJyk7XG4gICAgLy8gUmVtb3ZlIHRyYXNoIGxlZnRvdmVyIGJ5IFRpbnlNQ0VcbiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8gZGF0YS1tY2UtKGhyZWZ8c3JjfHN0eWxlKT1cIlteXCJdKlwiL2dtLCAnJyk7XG5cbiAgICAvLyBSZXBsYWNlIFwicmVwbGFjZWRzdHlsZVwiIHRvIFwic3R5bGVcIiBhdHRyaWJ1dGVzIChjaHJvbWUgcHV0cyByZXBsYWNlZHN0eWxlIGFmdGVyIHN0eWxlKVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyBzdHlsZT1cIlteXCJdKlwiKFtePl0qKSByZXBsYWNlZChzdHlsZT1cIlteXCJdKlwiKS9nbSwgJyQxICQyJyk7XG4gICAgLy8gUmVwbGFjZSBcInJlcGxhY2Vkc3R5bGVcIiB0byBcInN0eWxlXCIgYXR0cmlidXRlcyAoaWUvZmYgaGF2ZSByZXZlcnNlIG9yZGVyKVxuICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyByZXBsYWNlZChzdHlsZT1cIlteXCJdKlwiKShbXj5dKikgc3R5bGU9XCJbXlwiXSpcIi9nbSwgJyAkMSQyJyk7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHJlcGxhY2VkKHN0eWxlPVwiW15cIl0qXCIpL2dtLCAnICQxJyk7XG5cbiAgICAvLyBzYW1lIGFzIHN0eWxlLCBidXQgZm9yIGh0dHAtZXF1aXYgKHNvbWUgYnJvd3NlciBicmVhayBpdCBpZiB3ZSBkb24ndCByZXBsYWNlLCBidXQgdGhlbiB3ZSBmaW5kIGl0IGR1cGxpY2F0ZWQpXG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIGh0dHAtZXF1aXY9XCJbXlwiXSpcIihbXj5dKikgcmVwbGFjZWQoaHR0cC1lcXVpdj1cIlteXCJdKlwiKS9nbSwgJyQxICQyJyk7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHJlcGxhY2VkKGh0dHAtZXF1aXY9XCJbXlwiXSpcIikoW14+XSopIGh0dHAtZXF1aXY9XCJbXlwiXSpcIi9nbSwgJyAkMSQyJyk7XG4gICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvIHJlcGxhY2VkKGh0dHAtZXF1aXY9XCJbXlwiXSpcIikvZ20sICcgJDEnKTtcblxuICAgIC8vIFdlIGFscmVhZHkgcmVwbGFjZSBzdHlsZSBhbmQgaHR0cC1lcXVpdiBhbmQgd2UgZG9uJ3QgbmVlZCB0aGlzLlxuICAgIC8vIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoLyByZXBsYWNlZChbXj0gXSo9KS9nbSwgJyAkMScpO1xuICAgIC8vIFJlc3RvcmUgY29uZGl0aW9uYWwgY29tbWVudHNcbiAgICBjb250ZW50ID0gY29uZGl0aW9uYWxfcmVzdG9yZShjb250ZW50KTtcbiAgICB2YXIgdHJhc2ggPSBjb250ZW50Lm1hdGNoKC8gZGF0YS1bXiA9XSsoPVwiW15cIl0rXCIpPyAvKSB8fCBjb250ZW50Lm1hdGNoKC8gcmVwbGFjZWQoW149IF0qPSkvKTtcbiAgICBpZiAodHJhc2gpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIk91dHB1dCBIVE1MIGNvbnRhaW5zIHVuZXhwZWN0ZWQgZGF0YS0gYXR0cmlidXRlcyBvciByZXBsYWNlZCBhdHRyaWJ1dGVzXCIsIHRyYXNoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGVudDtcbiAgfTtcblxuICB2aWV3TW9kZWwuZXhwb3J0SFRNTHRvVGV4dGFyZWEgPSBmdW5jdGlvbih0ZXh0YXJlYWlkKSB7XG4gICAgJCh0ZXh0YXJlYWlkKS52YWwodmlld01vZGVsLmV4cG9ydEhUTUwoKSk7XG4gIH07XG5cbiAgdmlld01vZGVsLmV4cG9ydEpTT050b1RleHRhcmVhID0gZnVuY3Rpb24odGV4dGFyZWFpZCkge1xuICAgICQodGV4dGFyZWFpZCkudmFsKHZpZXdNb2RlbC5leHBvcnRKU09OKCkpO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5pbXBvcnRKU09OZnJvbVRleHRhcmVhID0gZnVuY3Rpb24odGV4dGFyZWFpZCkge1xuICAgIHZpZXdNb2RlbC5pbXBvcnRKU09OKCQodGV4dGFyZWFpZCkudmFsKCkpO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5leHBvcnRNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBqc29uID0ga28udG9KU09OKHZpZXdNb2RlbC5tZXRhZGF0YSk7XG4gICAgcmV0dXJuIGpzb247XG4gIH07XG5cbiAgdmlld01vZGVsLmV4cG9ydEpTT04gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIganNvbiA9IGtvLnRvSlNPTih2aWV3TW9kZWwuY29udGVudCk7XG4gICAgcmV0dXJuIGpzb247XG4gIH07XG5cbiAgdmlld01vZGVsLmV4cG9ydEpTID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtvLnRvSlModmlld01vZGVsLmNvbnRlbnQpO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5pbXBvcnRKU09OID0gZnVuY3Rpb24oanNvbikge1xuICAgIHZhciB1bndyYXBwZWQgPSBrby51dGlscy5wYXJzZUpzb24oanNvbik7XG4gICAgdmlld01vZGVsLmNvbnRlbnQuX3dyYXAodW53cmFwcGVkKTtcbiAgfTtcblxuICB2aWV3TW9kZWwuZXhwb3J0VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmxhdCA9IHt9O1xuICAgIHZhciBtb2QgPSB2aWV3TW9kZWwuY29udGVudCgpLnRoZW1lKCk7XG5cbiAgICB2YXIgX2V4cG9ydCA9IGZ1bmN0aW9uKHByZWZpeCwgZmxhdCwgbW9kKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIG1vZClcbiAgICAgICAgaWYgKG1vZC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICAgIHZhciBhID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShtb2RbcHJvcF0pO1xuICAgICAgICAgIGlmIChhICE9PSBudWxsICYmIHR5cGVvZiBhID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBfZXhwb3J0KHByb3AgKyAnLicsIGZsYXQsIGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmbGF0W3ByZWZpeCArIHByb3BdID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgX2V4cG9ydCgnJywgZmxhdCwgbW9kKTtcblxuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICBmb3IgKHZhciBwcm9wIGluIGZsYXQpXG4gICAgICBpZiAoZmxhdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBwcm9wICE9ICd0eXBlJykge1xuICAgICAgICBvdXRwdXQgKz0gcHJvcCArIFwiOiBcIiArIGZsYXRbcHJvcF0gKyBcIjtcIiArIFwiXFxuXCI7XG4gICAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIG1veGllbWFuYWdlciAob3IgZmlsZSBicm93c2VyL2ltYWdlZWRpdG9yKSBleHRlbnNpb24gcG9pbnRzLlxuICAvLyBKdXN0IGltcGxlbWVudCBlZGl0SW1hZ2Ugb3IgbGlua0RpYWxvZyBtZXRob2RzXG4gIC8vIHZpZXdNb2RlbC5lZGl0SW1hZ2UgPSBmdW5jdGlvbihzcmMsIGRvbmUpIHt9IDogaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIGVuYWJsZSBpbWFnZSBlZGl0aW5nIChzcmMgaXMgYSB3aXJ0YWJsZU9ic2VydmFibGUpLlxuICAvLyB2aWV3TW9kZWwubGlua0RpYWxvZyA9IGZ1bmN0aW9uKCkge306IGltcGxlbWVudCB0aGlzIG1ldGhvZCB1c2luZyBcInRoaXNcIiB0byBmaW5kIHRoZSBpbnB1dCBlbGVtZW50ICQodGhpcykudmFsIGlzIGEgd3JpdGFibGVPYnNlcnZhYmxlLlxuXG4gIHZpZXdNb2RlbC5sb2FkSW1hZ2UgPSBmdW5jdGlvbihpbWcpIHtcbiAgICAvLyBwdXNoIGltYWdlIGF0IHRvcCBvZiBcInJlY2VudFwiIGdhbGxlcnlcbiAgICB2aWV3TW9kZWwuZ2FsbGVyeVJlY2VudC51bnNoaWZ0KGltZyk7XG4gICAgLy8gc2VsZWN0IHJlY2VudCBnYWxsZXJ5IHRhYlxuICAgIHZpZXdNb2RlbC5zZWxlY3RlZEltYWdlVGFiKDApO1xuICB9O1xuXG4gIHZpZXdNb2RlbC5kaWFsb2cgPSBmdW5jdGlvbihzZWxlY3Rvciwgb3B0aW9ucykge1xuICAgICQoc2VsZWN0b3IpLmRpYWxvZyhvcHRpb25zKTtcbiAgfTtcblxuICAvLyBEdW1teSBsb2cgbWV0aG9kIG92ZXJyaWRkZW4gYnkgZXh0ZW5zaW9uc1xuICB2aWV3TW9kZWwubG9nID0gZnVuY3Rpb24oY2F0ZWdvcnksIG1zZykge1xuICAgIC8vIGNvbnNvbGUubG9nKFwidmlld01vZGVsLmxvZ1wiLCBjYXRlZ29yeSwgbXNnKTtcbiAgfTtcblxuICAvLyBhdXRvbWF0aWNhbGx5IGxvYWQgdGhlIGdhbGxlcnkgd2hlbiB0aGUgZ2FsbGVyeSB0YWIgaXMgc2VsZWN0ZWRcbiAgdmlld01vZGVsLnNlbGVjdGVkSW1hZ2VUYWIuc3Vic2NyaWJlKGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgaWYgKG5ld1ZhbHVlID09IDEgJiYgdmlld01vZGVsLmdhbGxlcnlMb2FkZWQoKSA9PT0gZmFsc2UpIHtcbiAgICAgIHZpZXdNb2RlbC5sb2FkR2FsbGVyeSgpO1xuICAgIH1cbiAgfSwgdmlld01vZGVsLCAnY2hhbmdlJyk7XG5cbiAgcmV0dXJuIHZpZXdNb2RlbDtcblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluaXRpYWxpemVFZGl0b3I7Il19
